import{_,u as w,r as c,o as v,t as b,a as i,b as k,c as y,d as m,e as r,w as t,f as g}from"./index-262c4740.js";import{r as q}from"./index-a912b6e3.js";const B={setup(){const s={required:!0,message:"Plase input required field",trigger:"blur"},e=w(),n=c({params:{username:null,password:null},logining:!1}),o=async()=>{if(!n.params.username||!n.params.password)return $message.error("Password or username is false");n.logining=!0;let a=await q.login(n.params);console.log(a),a.success&&(localStorage.setItem("token",a.token),e.push("/")),n.logining=!1};return v(()=>{window.addEventListener("keydown",a=>{a.key==="Enter"&&o()})}),{required:s,router:e,...b(n),login:o}}},C={class:"login"},E={class:"login_box"};function N(s,e,n,o,a,O){const u=i("n-input"),d=i("n-form-item"),f=i("n-form"),p=i("n-button");return k(),y("div",C,[m("div",E,[e[5]||(e[5]=m("h1",null," FOOOF ",-1)),r(f,{model:s.params},{default:t(()=>[r(d,{label:"Username",rule:[o.required],path:"username"},{default:t(()=>[r(u,{value:s.params.username,"onUpdate:value":e[0]||(e[0]=l=>s.params.username=l)},null,8,["value"])]),_:1},8,["rule"]),r(d,{label:"Password",rule:[o.required],path:"password"},{default:t(()=>[r(u,{value:s.params.password,"onUpdate:value":e[1]||(e[1]=l=>s.params.password=l),type:"password"},null,8,["value"])]),_:1},8,["rule"])]),_:1},8,["model"]),r(p,{type:"primary",onClick:o.login,disabled:s.logining},{default:t(()=>e[3]||(e[3]=[g("Login")])),_:1},8,["onClick","disabled"]),r(p,{type:"success",style:{"margin-top":"20px"},onClick:e[2]||(e[2]=l=>o.router.push("/")),disabled:s.logining},{default:t(()=>e[4]||(e[4]=[g("Back Browsing")])),_:1},8,["disabled"])])])}const V=_(B,[["render",N]]);export{V as default};
