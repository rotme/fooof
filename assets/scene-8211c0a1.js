var Xtt=Object.defineProperty;var jtt=(Do,tn,cn)=>tn in Do?Xtt(Do,tn,{enumerable:!0,configurable:!0,writable:!0,value:cn}):Do[tn]=cn;var SG=(Do,tn,cn)=>(jtt(Do,typeof tn!="symbol"?tn+"":tn,cn),cn);import{k as qtt,r as $tt,u as tet,q as eet,g as UK,a as NK,b as Ev,c as gT,d as yl,e as hP,w as mT,h as net,j as iet,m as xf,F as set,f as yT}from"./index-e2d13786.js";import{r as ret}from"./index-a912b6e3.js";var TG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DG={exports:{}},At={};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */var GK;function oet(){if(GK)return At;GK=1;const Do="170",tn={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},cn={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},D=0,yi=1,vn=2,Cr=3,xl=0,pd=1,mc=2,Cl=3,PA=0,Ro=1,gs=2,qn=0,El=1,Cf=2,Il=3,Ef=4,oE=5,ch=100,uo=101,Sw=102,If=103,gd=104,IT=200,wT=201,Tw=202,_T=203,aE=204,lE=205,BT=206,Vi=207,vT=208,bT=209,MT=210,ST=211,TT=212,DT=213,RT=214,Dw=0,Rw=1,Qw=2,Ap=3,kw=4,Lw=5,Pw=6,Fw=7,AE=0,QT=1,kT=2,nu=0,LT=1,PT=2,FT=3,UT=4,NT=5,GT=6,_v=7,Bv="attached",OT="detached",wl=300,sA=301,md=302,Bm=303,cp=304,wf=306,yc=1e3,xc=1001,cE=1002,va=1003,vv=1004,hp=1004,rA=1005,uP=1005,Qo=1006,up=1007,bv=1007,iu=1008,dP=1008,hh=1009,oA=1010,_f=1011,vm=1012,hE=1013,su=1014,aA=1015,dp=1016,uE=1017,dE=1018,fp=1020,Mv=35902,fE=1021,zs=1022,to=1023,pp=1024,gp=1025,Bf=1026,mp=1027,Uw=1028,yp=1029,FA=1030,bm=1031,fP=1032,Nw=1033,_l=33776,pE=33777,gE=33778,mE=33779,Gw=35840,yE=35841,Ow=35842,Vw=35843,Hw=36196,Bi=37492,Er=37496,sa=37808,zw=37809,Ww=37810,Jw=37811,Yw=37812,Zw=37813,Kw=37814,xE=37815,CE=37816,EE=37817,Xw=37818,jw=37819,xp=37820,Mm=37821,ru=36492,IE=36494,Cp=36495,wE=36283,_E=36284,qw=36285,$w=36286,VT=2200,HT=2201,Sv=2202,Sm=2300,Tm=2301,BE=2302,vf=2400,ra=2401,bf=2402,t3=2500,Tv=2501,pP=0,gP=1,vE=2,e3=3200,Dv=3201,zT=3202,WT=3203,yd=0,Dm=1,Cc="",Na="srgb",Mf="srgb-linear",Rm="linear",hs="srgb",JT=0,xd=7680,Sf=7681,mP=7682,bE=7683,YT=34055,Rv=34056,ZT=5386,n3=512,KT=513,yP=514,ko=515,lA=516,Ec=517,Qv=518,i3=519,s3=512,kv=513,Lv=514,r3=515,Pv=516,o3=517,XT=518,jT=519,ME=35044,xP=35048,CP=35040,EP=35045,IP=35049,wP=35041,_P=35046,BP=35050,vP=35042,bP="100",Fv="300 es",uh=2e3,SE=2001;class dh{addEventListener(i,a){this._listeners===void 0&&(this._listeners={});const u=this._listeners;u[i]===void 0&&(u[i]=[]),u[i].indexOf(a)===-1&&u[i].push(a)}hasEventListener(i,a){if(this._listeners===void 0)return!1;const u=this._listeners;return u[i]!==void 0&&u[i].indexOf(a)!==-1}removeEventListener(i,a){if(this._listeners===void 0)return;const d=this._listeners[i];if(d!==void 0){const E=d.indexOf(a);E!==-1&&d.splice(E,1)}}dispatchEvent(i){if(this._listeners===void 0)return;const u=this._listeners[i.type];if(u!==void 0){i.target=this;const d=u.slice(0);for(let E=0,B=d.length;E<B;E++)d[E].call(this,i);i.target=null}}}const Ga=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fh=1234567;const Ep=Math.PI/180,Qm=180/Math.PI;function UA(){const C=Math.random()*4294967295|0,i=Math.random()*4294967295|0,a=Math.random()*4294967295|0,u=Math.random()*4294967295|0;return(Ga[C&255]+Ga[C>>8&255]+Ga[C>>16&255]+Ga[C>>24&255]+"-"+Ga[i&255]+Ga[i>>8&255]+"-"+Ga[i>>16&15|64]+Ga[i>>24&255]+"-"+Ga[a&63|128]+Ga[a>>8&255]+"-"+Ga[a>>16&255]+Ga[a>>24&255]+Ga[u&255]+Ga[u>>8&255]+Ga[u>>16&255]+Ga[u>>24&255]).toLowerCase()}function Ws(C,i,a){return Math.max(i,Math.min(a,C))}function a3(C,i){return(C%i+i)%i}function qT(C,i,a,u,d){return u+(C-i)*(d-u)/(a-i)}function $T(C,i,a){return C!==i?(a-C)/(i-C):0}function km(C,i,a){return(1-a)*C+a*i}function MP(C,i,a,u){return km(C,i,1-Math.exp(-a*u))}function SP(C,i=1){return i-Math.abs(a3(C,i*2)-i)}function Ip(C,i,a){return C<=i?0:C>=a?1:(C=(C-i)/(a-i),C*C*(3-2*C))}function t6(C,i,a){return C<=i?0:C>=a?1:(C=(C-i)/(a-i),C*C*C*(C*(C*6-15)+10))}function wp(C,i){return C+Math.floor(Math.random()*(i-C+1))}function Oa(C,i){return C+Math.random()*(i-C)}function Tf(C){return C*(.5-Math.random())}function Ir(C){C!==void 0&&(fh=C);let i=fh+=1831565813;return i=Math.imul(i^i>>>15,i|1),i^=i+Math.imul(i^i>>>7,i|61),((i^i>>>14)>>>0)/4294967296}function e6(C){return C*Ep}function Uv(C){return C*Qm}function n6(C){return(C&C-1)===0&&C!==0}function i6(C){return Math.pow(2,Math.ceil(Math.log(C)/Math.LN2))}function s6(C){return Math.pow(2,Math.floor(Math.log(C)/Math.LN2))}function TP(C,i,a,u,d){const E=Math.cos,B=Math.sin,M=E(a/2),Q=B(a/2),P=E((i+u)/2),O=B((i+u)/2),H=E((i-u)/2),z=B((i-u)/2),J=E((u-i)/2),j=B((u-i)/2);switch(d){case"XYX":C.set(M*O,Q*H,Q*z,M*P);break;case"YZY":C.set(Q*z,M*O,Q*H,M*P);break;case"ZXZ":C.set(Q*H,Q*z,M*O,M*P);break;case"XZX":C.set(M*O,Q*j,Q*J,M*P);break;case"YXY":C.set(Q*J,M*O,Q*j,M*P);break;case"ZYZ":C.set(Q*j,Q*J,M*O,M*P);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+d)}}function Bl(C,i){switch(i.constructor){case Float32Array:return C;case Uint32Array:return C/4294967295;case Uint16Array:return C/65535;case Uint8Array:return C/255;case Int32Array:return Math.max(C/2147483647,-1);case Int16Array:return Math.max(C/32767,-1);case Int8Array:return Math.max(C/127,-1);default:throw new Error("Invalid component type.")}}function vi(C,i){switch(i.constructor){case Float32Array:return C;case Uint32Array:return Math.round(C*4294967295);case Uint16Array:return Math.round(C*65535);case Uint8Array:return Math.round(C*255);case Int32Array:return Math.round(C*2147483647);case Int16Array:return Math.round(C*32767);case Int8Array:return Math.round(C*127);default:throw new Error("Invalid component type.")}}const DP={DEG2RAD:Ep,RAD2DEG:Qm,generateUUID:UA,clamp:Ws,euclideanModulo:a3,mapLinear:qT,inverseLerp:$T,lerp:km,damp:MP,pingpong:SP,smoothstep:Ip,smootherstep:t6,randInt:wp,randFloat:Oa,randFloatSpread:Tf,seededRandom:Ir,degToRad:e6,radToDeg:Uv,isPowerOfTwo:n6,ceilPowerOfTwo:i6,floorPowerOfTwo:s6,setQuaternionFromProperEuler:TP,normalize:vi,denormalize:Bl};class Le{constructor(i=0,a=0){Le.prototype.isVector2=!0,this.x=i,this.y=a}get width(){return this.x}set width(i){this.x=i}get height(){return this.y}set height(i){this.y=i}set(i,a){return this.x=i,this.y=a,this}setScalar(i){return this.x=i,this.y=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setComponent(i,a){switch(i){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y)}copy(i){return this.x=i.x,this.y=i.y,this}add(i){return this.x+=i.x,this.y+=i.y,this}addScalar(i){return this.x+=i,this.y+=i,this}addVectors(i,a){return this.x=i.x+a.x,this.y=i.y+a.y,this}addScaledVector(i,a){return this.x+=i.x*a,this.y+=i.y*a,this}sub(i){return this.x-=i.x,this.y-=i.y,this}subScalar(i){return this.x-=i,this.y-=i,this}subVectors(i,a){return this.x=i.x-a.x,this.y=i.y-a.y,this}multiply(i){return this.x*=i.x,this.y*=i.y,this}multiplyScalar(i){return this.x*=i,this.y*=i,this}divide(i){return this.x/=i.x,this.y/=i.y,this}divideScalar(i){return this.multiplyScalar(1/i)}applyMatrix3(i){const a=this.x,u=this.y,d=i.elements;return this.x=d[0]*a+d[3]*u+d[6],this.y=d[1]*a+d[4]*u+d[7],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this}clamp(i,a){return this.x=Math.max(i.x,Math.min(a.x,this.x)),this.y=Math.max(i.y,Math.min(a.y,this.y)),this}clampScalar(i,a){return this.x=Math.max(i,Math.min(a,this.x)),this.y=Math.max(i,Math.min(a,this.y)),this}clampLength(i,a){const u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(i,Math.min(a,u)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(i){return this.x*i.x+this.y*i.y}cross(i){return this.x*i.y-this.y*i.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(i){const a=Math.sqrt(this.lengthSq()*i.lengthSq());if(a===0)return Math.PI/2;const u=this.dot(i)/a;return Math.acos(Ws(u,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const a=this.x-i.x,u=this.y-i.y;return a*a+u*u}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,a){return this.x+=(i.x-this.x)*a,this.y+=(i.y-this.y)*a,this}lerpVectors(i,a,u){return this.x=i.x+(a.x-i.x)*u,this.y=i.y+(a.y-i.y)*u,this}equals(i){return i.x===this.x&&i.y===this.y}fromArray(i,a=0){return this.x=i[a],this.y=i[a+1],this}toArray(i=[],a=0){return i[a]=this.x,i[a+1]=this.y,i}fromBufferAttribute(i,a){return this.x=i.getX(a),this.y=i.getY(a),this}rotateAround(i,a){const u=Math.cos(a),d=Math.sin(a),E=this.x-i.x,B=this.y-i.y;return this.x=E*u-B*d+i.x,this.y=E*d+B*u+i.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ii{constructor(i,a,u,d,E,B,M,Q,P){Ii.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],i!==void 0&&this.set(i,a,u,d,E,B,M,Q,P)}set(i,a,u,d,E,B,M,Q,P){const O=this.elements;return O[0]=i,O[1]=d,O[2]=M,O[3]=a,O[4]=E,O[5]=Q,O[6]=u,O[7]=B,O[8]=P,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(i){const a=this.elements,u=i.elements;return a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3],a[4]=u[4],a[5]=u[5],a[6]=u[6],a[7]=u[7],a[8]=u[8],this}extractBasis(i,a,u){return i.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),u.setFromMatrix3Column(this,2),this}setFromMatrix4(i){const a=i.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,a){const u=i.elements,d=a.elements,E=this.elements,B=u[0],M=u[3],Q=u[6],P=u[1],O=u[4],H=u[7],z=u[2],J=u[5],j=u[8],nt=d[0],q=d[3],Z=d[6],ut=d[1],ct=d[4],lt=d[7],Vt=d[2],Tt=d[5],Qt=d[8];return E[0]=B*nt+M*ut+Q*Vt,E[3]=B*q+M*ct+Q*Tt,E[6]=B*Z+M*lt+Q*Qt,E[1]=P*nt+O*ut+H*Vt,E[4]=P*q+O*ct+H*Tt,E[7]=P*Z+O*lt+H*Qt,E[2]=z*nt+J*ut+j*Vt,E[5]=z*q+J*ct+j*Tt,E[8]=z*Z+J*lt+j*Qt,this}multiplyScalar(i){const a=this.elements;return a[0]*=i,a[3]*=i,a[6]*=i,a[1]*=i,a[4]*=i,a[7]*=i,a[2]*=i,a[5]*=i,a[8]*=i,this}determinant(){const i=this.elements,a=i[0],u=i[1],d=i[2],E=i[3],B=i[4],M=i[5],Q=i[6],P=i[7],O=i[8];return a*B*O-a*M*P-u*E*O+u*M*Q+d*E*P-d*B*Q}invert(){const i=this.elements,a=i[0],u=i[1],d=i[2],E=i[3],B=i[4],M=i[5],Q=i[6],P=i[7],O=i[8],H=O*B-M*P,z=M*Q-O*E,J=P*E-B*Q,j=a*H+u*z+d*J;if(j===0)return this.set(0,0,0,0,0,0,0,0,0);const nt=1/j;return i[0]=H*nt,i[1]=(d*P-O*u)*nt,i[2]=(M*u-d*B)*nt,i[3]=z*nt,i[4]=(O*a-d*Q)*nt,i[5]=(d*E-M*a)*nt,i[6]=J*nt,i[7]=(u*Q-P*a)*nt,i[8]=(B*a-u*E)*nt,this}transpose(){let i;const a=this.elements;return i=a[1],a[1]=a[3],a[3]=i,i=a[2],a[2]=a[6],a[6]=i,i=a[5],a[5]=a[7],a[7]=i,this}getNormalMatrix(i){return this.setFromMatrix4(i).invert().transpose()}transposeIntoArray(i){const a=this.elements;return i[0]=a[0],i[1]=a[3],i[2]=a[6],i[3]=a[1],i[4]=a[4],i[5]=a[7],i[6]=a[2],i[7]=a[5],i[8]=a[8],this}setUvTransform(i,a,u,d,E,B,M){const Q=Math.cos(E),P=Math.sin(E);return this.set(u*Q,u*P,-u*(Q*B+P*M)+B+i,-d*P,d*Q,-d*(-P*B+Q*M)+M+a,0,0,1),this}scale(i,a){return this.premultiply(TE.makeScale(i,a)),this}rotate(i){return this.premultiply(TE.makeRotation(-i)),this}translate(i,a){return this.premultiply(TE.makeTranslation(i,a)),this}makeTranslation(i,a){return i.isVector2?this.set(1,0,i.x,0,1,i.y,0,0,1):this.set(1,0,i,0,1,a,0,0,1),this}makeRotation(i){const a=Math.cos(i),u=Math.sin(i);return this.set(a,-u,0,u,a,0,0,0,1),this}makeScale(i,a){return this.set(i,0,0,0,a,0,0,0,1),this}equals(i){const a=this.elements,u=i.elements;for(let d=0;d<9;d++)if(a[d]!==u[d])return!1;return!0}fromArray(i,a=0){for(let u=0;u<9;u++)this.elements[u]=i[u+a];return this}toArray(i=[],a=0){const u=this.elements;return i[a]=u[0],i[a+1]=u[1],i[a+2]=u[2],i[a+3]=u[3],i[a+4]=u[4],i[a+5]=u[5],i[a+6]=u[6],i[a+7]=u[7],i[a+8]=u[8],i}clone(){return new this.constructor().fromArray(this.elements)}}const TE=new Ii;function DE(C){for(let i=C.length-1;i>=0;--i)if(C[i]>=65535)return!0;return!1}const Js={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _p(C,i){return new Js[C](i)}function Lm(C){return document.createElementNS("http://www.w3.org/1999/xhtml",C)}function RE(){const C=Lm("canvas");return C.style.display="block",C}const QE={};function AA(C){C in QE||(QE[C]=!0,console.warn(C))}function r6(C,i,a){return new Promise(function(u,d){function E(){switch(C.clientWaitSync(i,C.SYNC_FLUSH_COMMANDS_BIT,0)){case C.WAIT_FAILED:d();break;case C.TIMEOUT_EXPIRED:setTimeout(E,a);break;default:u()}}setTimeout(E,a)})}function kE(C){const i=C.elements;i[2]=.5*i[2]+.5*i[3],i[6]=.5*i[6]+.5*i[7],i[10]=.5*i[10]+.5*i[11],i[14]=.5*i[14]+.5*i[15]}function Bp(C){const i=C.elements;i[11]===-1?(i[10]=-i[10]-1,i[14]=-i[14]):(i[10]=-i[10],i[14]=-i[14]+1)}const Ui={enabled:!0,workingColorSpace:Mf,spaces:{},convert:function(C,i,a){return this.enabled===!1||i===a||!i||!a||(this.spaces[i].transfer===hs&&(C.r=Ic(C.r),C.g=Ic(C.g),C.b=Ic(C.b)),this.spaces[i].primaries!==this.spaces[a].primaries&&(C.applyMatrix3(this.spaces[i].toXYZ),C.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===hs&&(C.r=ou(C.r),C.g=ou(C.g),C.b=ou(C.b))),C},fromWorkingColorSpace:function(C,i){return this.convert(C,this.workingColorSpace,i)},toWorkingColorSpace:function(C,i){return this.convert(C,i,this.workingColorSpace)},getPrimaries:function(C){return this.spaces[C].primaries},getTransfer:function(C){return C===Cc?Rm:this.spaces[C].transfer},getLuminanceCoefficients:function(C,i=this.workingColorSpace){return C.fromArray(this.spaces[i].luminanceCoefficients)},define:function(C){Object.assign(this.spaces,C)},_getMatrix:function(C,i,a){return C.copy(this.spaces[i].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(C){return this.spaces[C].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(C=this.workingColorSpace){return this.spaces[C].workingColorSpaceConfig.unpackColorSpace}};function Ic(C){return C<.04045?C*.0773993808:Math.pow(C*.9478672986+.0521327014,2.4)}function ou(C){return C<.0031308?C*12.92:1.055*Math.pow(C,.41666)-.055}const Pm=[.64,.33,.3,.6,.15,.06],o6=[.2126,.7152,.0722],a6=[.3127,.329],l6=new Ii().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Nv=new Ii().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Ui.define({[Mf]:{primaries:Pm,whitePoint:a6,transfer:Rm,toXYZ:l6,fromXYZ:Nv,luminanceCoefficients:o6,workingColorSpaceConfig:{unpackColorSpace:Na},outputColorSpaceConfig:{drawingBufferColorSpace:Na}},[Na]:{primaries:Pm,whitePoint:a6,transfer:hs,toXYZ:l6,fromXYZ:Nv,luminanceCoefficients:o6,outputColorSpaceConfig:{drawingBufferColorSpace:Na}}});let vp;class LE{static getDataURL(i){if(/^data:/i.test(i.src)||typeof HTMLCanvasElement>"u")return i.src;let a;if(i instanceof HTMLCanvasElement)a=i;else{vp===void 0&&(vp=Lm("canvas")),vp.width=i.width,vp.height=i.height;const u=vp.getContext("2d");i instanceof ImageData?u.putImageData(i,0,0):u.drawImage(i,0,0,i.width,i.height),a=vp}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",i),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(i){if(typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap){const a=Lm("canvas");a.width=i.width,a.height=i.height;const u=a.getContext("2d");u.drawImage(i,0,0,i.width,i.height);const d=u.getImageData(0,0,i.width,i.height),E=d.data;for(let B=0;B<E.length;B++)E[B]=Ic(E[B]/255)*255;return u.putImageData(d,0,0),a}else if(i.data){const a=i.data.slice(0);for(let u=0;u<a.length;u++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[u]=Math.floor(Ic(a[u]/255)*255):a[u]=Ic(a[u]);return{data:a,width:i.width,height:i.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),i}}let A6=0;class Df{constructor(i=null){this.isSource=!0,Object.defineProperty(this,"id",{value:A6++}),this.uuid=UA(),this.data=i,this.dataReady=!0,this.version=0}set needsUpdate(i){i===!0&&this.version++}toJSON(i){const a=i===void 0||typeof i=="string";if(!a&&i.images[this.uuid]!==void 0)return i.images[this.uuid];const u={uuid:this.uuid,url:""},d=this.data;if(d!==null){let E;if(Array.isArray(d)){E=[];for(let B=0,M=d.length;B<M;B++)d[B].isDataTexture?E.push(l3(d[B].image)):E.push(l3(d[B]))}else E=l3(d);u.url=E}return a||(i.images[this.uuid]=u),u}}function l3(C){return typeof HTMLImageElement<"u"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&C instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&C instanceof ImageBitmap?LE.getDataURL(C):C.data?{data:Array.from(C.data),width:C.width,height:C.height,type:C.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let c6=0;class Dr extends dh{constructor(i=Dr.DEFAULT_IMAGE,a=Dr.DEFAULT_MAPPING,u=xc,d=xc,E=Qo,B=iu,M=to,Q=hh,P=Dr.DEFAULT_ANISOTROPY,O=Cc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:c6++}),this.uuid=UA(),this.name="",this.source=new Df(i),this.mipmaps=[],this.mapping=a,this.channel=0,this.wrapS=u,this.wrapT=d,this.magFilter=E,this.minFilter=B,this.anisotropy=P,this.format=M,this.internalFormat=null,this.type=Q,this.offset=new Le(0,0),this.repeat=new Le(1,1),this.center=new Le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ii,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=O,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(i=null){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.channel=i.channel,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.colorSpace=i.colorSpace,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const a=i===void 0||typeof i=="string";if(!a&&i.textures[this.uuid]!==void 0)return i.textures[this.uuid];const u={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(u.userData=this.userData),a||(i.textures[this.uuid]=u),u}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(this.mapping!==wl)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case yc:i.x=i.x-Math.floor(i.x);break;case xc:i.x=i.x<0?0:1;break;case cE:Math.abs(Math.floor(i.x)%2)===1?i.x=Math.ceil(i.x)-i.x:i.x=i.x-Math.floor(i.x);break}if(i.y<0||i.y>1)switch(this.wrapT){case yc:i.y=i.y-Math.floor(i.y);break;case xc:i.y=i.y<0?0:1;break;case cE:Math.abs(Math.floor(i.y)%2)===1?i.y=Math.ceil(i.y)-i.y:i.y=i.y-Math.floor(i.y);break}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){i===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(i){i===!0&&this.pmremVersion++}}Dr.DEFAULT_IMAGE=null,Dr.DEFAULT_MAPPING=wl,Dr.DEFAULT_ANISOTROPY=1;class qi{constructor(i=0,a=0,u=0,d=1){qi.prototype.isVector4=!0,this.x=i,this.y=a,this.z=u,this.w=d}get width(){return this.z}set width(i){this.z=i}get height(){return this.w}set height(i){this.w=i}set(i,a,u,d){return this.x=i,this.y=a,this.z=u,this.w=d,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this.w=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setW(i){return this.w=i,this}setComponent(i,a){switch(i){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w!==void 0?i.w:1,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this.w+=i.w,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this.w+=i,this}addVectors(i,a){return this.x=i.x+a.x,this.y=i.y+a.y,this.z=i.z+a.z,this.w=i.w+a.w,this}addScaledVector(i,a){return this.x+=i.x*a,this.y+=i.y*a,this.z+=i.z*a,this.w+=i.w*a,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this.w-=i.w,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this.w-=i,this}subVectors(i,a){return this.x=i.x-a.x,this.y=i.y-a.y,this.z=i.z-a.z,this.w=i.w-a.w,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this.w*=i.w,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this.w*=i,this}applyMatrix4(i){const a=this.x,u=this.y,d=this.z,E=this.w,B=i.elements;return this.x=B[0]*a+B[4]*u+B[8]*d+B[12]*E,this.y=B[1]*a+B[5]*u+B[9]*d+B[13]*E,this.z=B[2]*a+B[6]*u+B[10]*d+B[14]*E,this.w=B[3]*a+B[7]*u+B[11]*d+B[15]*E,this}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this.w/=i.w,this}divideScalar(i){return this.multiplyScalar(1/i)}setAxisAngleFromQuaternion(i){this.w=2*Math.acos(i.w);const a=Math.sqrt(1-i.w*i.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=i.x/a,this.y=i.y/a,this.z=i.z/a),this}setAxisAngleFromRotationMatrix(i){let a,u,d,E;const Q=i.elements,P=Q[0],O=Q[4],H=Q[8],z=Q[1],J=Q[5],j=Q[9],nt=Q[2],q=Q[6],Z=Q[10];if(Math.abs(O-z)<.01&&Math.abs(H-nt)<.01&&Math.abs(j-q)<.01){if(Math.abs(O+z)<.1&&Math.abs(H+nt)<.1&&Math.abs(j+q)<.1&&Math.abs(P+J+Z-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const ct=(P+1)/2,lt=(J+1)/2,Vt=(Z+1)/2,Tt=(O+z)/4,Qt=(H+nt)/4,Ut=(j+q)/4;return ct>lt&&ct>Vt?ct<.01?(u=0,d=.707106781,E=.707106781):(u=Math.sqrt(ct),d=Tt/u,E=Qt/u):lt>Vt?lt<.01?(u=.707106781,d=0,E=.707106781):(d=Math.sqrt(lt),u=Tt/d,E=Ut/d):Vt<.01?(u=.707106781,d=.707106781,E=0):(E=Math.sqrt(Vt),u=Qt/E,d=Ut/E),this.set(u,d,E,a),this}let ut=Math.sqrt((q-j)*(q-j)+(H-nt)*(H-nt)+(z-O)*(z-O));return Math.abs(ut)<.001&&(ut=1),this.x=(q-j)/ut,this.y=(H-nt)/ut,this.z=(z-O)/ut,this.w=Math.acos((P+J+Z-1)/2),this}setFromMatrixPosition(i){const a=i.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this.w=a[15],this}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this.w=Math.min(this.w,i.w),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this.w=Math.max(this.w,i.w),this}clamp(i,a){return this.x=Math.max(i.x,Math.min(a.x,this.x)),this.y=Math.max(i.y,Math.min(a.y,this.y)),this.z=Math.max(i.z,Math.min(a.z,this.z)),this.w=Math.max(i.w,Math.min(a.w,this.w)),this}clampScalar(i,a){return this.x=Math.max(i,Math.min(a,this.x)),this.y=Math.max(i,Math.min(a,this.y)),this.z=Math.max(i,Math.min(a,this.z)),this.w=Math.max(i,Math.min(a,this.w)),this}clampLength(i,a){const u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(i,Math.min(a,u)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z+this.w*i.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,a){return this.x+=(i.x-this.x)*a,this.y+=(i.y-this.y)*a,this.z+=(i.z-this.z)*a,this.w+=(i.w-this.w)*a,this}lerpVectors(i,a,u){return this.x=i.x+(a.x-i.x)*u,this.y=i.y+(a.y-i.y)*u,this.z=i.z+(a.z-i.z)*u,this.w=i.w+(a.w-i.w)*u,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z&&i.w===this.w}fromArray(i,a=0){return this.x=i[a],this.y=i[a+1],this.z=i[a+2],this.w=i[a+3],this}toArray(i=[],a=0){return i[a]=this.x,i[a+1]=this.y,i[a+2]=this.z,i[a+3]=this.w,i}fromBufferAttribute(i,a){return this.x=i.getX(a),this.y=i.getY(a),this.z=i.getZ(a),this.w=i.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Gv extends dh{constructor(i=1,a=1,u={}){super(),this.isRenderTarget=!0,this.width=i,this.height=a,this.depth=1,this.scissor=new qi(0,0,i,a),this.scissorTest=!1,this.viewport=new qi(0,0,i,a);const d={width:i,height:a,depth:1};u=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qo,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},u);const E=new Dr(d,u.mapping,u.wrapS,u.wrapT,u.magFilter,u.minFilter,u.format,u.type,u.anisotropy,u.colorSpace);E.flipY=!1,E.generateMipmaps=u.generateMipmaps,E.internalFormat=u.internalFormat,this.textures=[];const B=u.count;for(let M=0;M<B;M++)this.textures[M]=E.clone(),this.textures[M].isRenderTargetTexture=!0;this.depthBuffer=u.depthBuffer,this.stencilBuffer=u.stencilBuffer,this.resolveDepthBuffer=u.resolveDepthBuffer,this.resolveStencilBuffer=u.resolveStencilBuffer,this.depthTexture=u.depthTexture,this.samples=u.samples}get texture(){return this.textures[0]}set texture(i){this.textures[0]=i}setSize(i,a,u=1){if(this.width!==i||this.height!==a||this.depth!==u){this.width=i,this.height=a,this.depth=u;for(let d=0,E=this.textures.length;d<E;d++)this.textures[d].image.width=i,this.textures[d].image.height=a,this.textures[d].image.depth=u;this.dispose()}this.viewport.set(0,0,i,a),this.scissor.set(0,0,i,a)}clone(){return new this.constructor().copy(this)}copy(i){this.width=i.width,this.height=i.height,this.depth=i.depth,this.scissor.copy(i.scissor),this.scissorTest=i.scissorTest,this.viewport.copy(i.viewport),this.textures.length=0;for(let u=0,d=i.textures.length;u<d;u++)this.textures[u]=i.textures[u].clone(),this.textures[u].isRenderTargetTexture=!0;const a=Object.assign({},i.texture.image);return this.texture.source=new Df(a),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,i.depthTexture!==null&&(this.depthTexture=i.depthTexture.clone()),this.samples=i.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wc extends Gv{constructor(i=1,a=1,u={}){super(i,a,u),this.isWebGLRenderTarget=!0}}class PE extends Dr{constructor(i=null,a=1,u=1,d=1){super(null),this.isDataArrayTexture=!0,this.image={data:i,width:a,height:u,depth:d},this.magFilter=va,this.minFilter=va,this.wrapR=xc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(i){this.layerUpdates.add(i)}clearLayerUpdates(){this.layerUpdates.clear()}}class h6 extends wc{constructor(i=1,a=1,u=1,d={}){super(i,a,d),this.isWebGLArrayRenderTarget=!0,this.depth=u,this.texture=new PE(null,i,a,u),this.texture.isRenderTargetTexture=!0}}class A3 extends Dr{constructor(i=null,a=1,u=1,d=1){super(null),this.isData3DTexture=!0,this.image={data:i,width:a,height:u,depth:d},this.magFilter=va,this.minFilter=va,this.wrapR=xc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class u6 extends wc{constructor(i=1,a=1,u=1,d={}){super(i,a,d),this.isWebGL3DRenderTarget=!0,this.depth=u,this.texture=new A3(null,i,a,u),this.texture.isRenderTargetTexture=!0}}class vl{constructor(i=0,a=0,u=0,d=1){this.isQuaternion=!0,this._x=i,this._y=a,this._z=u,this._w=d}static slerpFlat(i,a,u,d,E,B,M){let Q=u[d+0],P=u[d+1],O=u[d+2],H=u[d+3];const z=E[B+0],J=E[B+1],j=E[B+2],nt=E[B+3];if(M===0){i[a+0]=Q,i[a+1]=P,i[a+2]=O,i[a+3]=H;return}if(M===1){i[a+0]=z,i[a+1]=J,i[a+2]=j,i[a+3]=nt;return}if(H!==nt||Q!==z||P!==J||O!==j){let q=1-M;const Z=Q*z+P*J+O*j+H*nt,ut=Z>=0?1:-1,ct=1-Z*Z;if(ct>Number.EPSILON){const Vt=Math.sqrt(ct),Tt=Math.atan2(Vt,Z*ut);q=Math.sin(q*Tt)/Vt,M=Math.sin(M*Tt)/Vt}const lt=M*ut;if(Q=Q*q+z*lt,P=P*q+J*lt,O=O*q+j*lt,H=H*q+nt*lt,q===1-M){const Vt=1/Math.sqrt(Q*Q+P*P+O*O+H*H);Q*=Vt,P*=Vt,O*=Vt,H*=Vt}}i[a]=Q,i[a+1]=P,i[a+2]=O,i[a+3]=H}static multiplyQuaternionsFlat(i,a,u,d,E,B){const M=u[d],Q=u[d+1],P=u[d+2],O=u[d+3],H=E[B],z=E[B+1],J=E[B+2],j=E[B+3];return i[a]=M*j+O*H+Q*J-P*z,i[a+1]=Q*j+O*z+P*H-M*J,i[a+2]=P*j+O*J+M*z-Q*H,i[a+3]=O*j-M*H-Q*z-P*J,i}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get w(){return this._w}set w(i){this._w=i,this._onChangeCallback()}set(i,a,u,d){return this._x=i,this._y=a,this._z=u,this._w=d,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(i){return this._x=i.x,this._y=i.y,this._z=i.z,this._w=i.w,this._onChangeCallback(),this}setFromEuler(i,a=!0){const u=i._x,d=i._y,E=i._z,B=i._order,M=Math.cos,Q=Math.sin,P=M(u/2),O=M(d/2),H=M(E/2),z=Q(u/2),J=Q(d/2),j=Q(E/2);switch(B){case"XYZ":this._x=z*O*H+P*J*j,this._y=P*J*H-z*O*j,this._z=P*O*j+z*J*H,this._w=P*O*H-z*J*j;break;case"YXZ":this._x=z*O*H+P*J*j,this._y=P*J*H-z*O*j,this._z=P*O*j-z*J*H,this._w=P*O*H+z*J*j;break;case"ZXY":this._x=z*O*H-P*J*j,this._y=P*J*H+z*O*j,this._z=P*O*j+z*J*H,this._w=P*O*H-z*J*j;break;case"ZYX":this._x=z*O*H-P*J*j,this._y=P*J*H+z*O*j,this._z=P*O*j-z*J*H,this._w=P*O*H+z*J*j;break;case"YZX":this._x=z*O*H+P*J*j,this._y=P*J*H+z*O*j,this._z=P*O*j-z*J*H,this._w=P*O*H-z*J*j;break;case"XZY":this._x=z*O*H-P*J*j,this._y=P*J*H-z*O*j,this._z=P*O*j+z*J*H,this._w=P*O*H+z*J*j;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+B)}return a===!0&&this._onChangeCallback(),this}setFromAxisAngle(i,a){const u=a/2,d=Math.sin(u);return this._x=i.x*d,this._y=i.y*d,this._z=i.z*d,this._w=Math.cos(u),this._onChangeCallback(),this}setFromRotationMatrix(i){const a=i.elements,u=a[0],d=a[4],E=a[8],B=a[1],M=a[5],Q=a[9],P=a[2],O=a[6],H=a[10],z=u+M+H;if(z>0){const J=.5/Math.sqrt(z+1);this._w=.25/J,this._x=(O-Q)*J,this._y=(E-P)*J,this._z=(B-d)*J}else if(u>M&&u>H){const J=2*Math.sqrt(1+u-M-H);this._w=(O-Q)/J,this._x=.25*J,this._y=(d+B)/J,this._z=(E+P)/J}else if(M>H){const J=2*Math.sqrt(1+M-u-H);this._w=(E-P)/J,this._x=(d+B)/J,this._y=.25*J,this._z=(Q+O)/J}else{const J=2*Math.sqrt(1+H-u-M);this._w=(B-d)/J,this._x=(E+P)/J,this._y=(Q+O)/J,this._z=.25*J}return this._onChangeCallback(),this}setFromUnitVectors(i,a){let u=i.dot(a)+1;return u<Number.EPSILON?(u=0,Math.abs(i.x)>Math.abs(i.z)?(this._x=-i.y,this._y=i.x,this._z=0,this._w=u):(this._x=0,this._y=-i.z,this._z=i.y,this._w=u)):(this._x=i.y*a.z-i.z*a.y,this._y=i.z*a.x-i.x*a.z,this._z=i.x*a.y-i.y*a.x,this._w=u),this.normalize()}angleTo(i){return 2*Math.acos(Math.abs(Ws(this.dot(i),-1,1)))}rotateTowards(i,a){const u=this.angleTo(i);if(u===0)return this;const d=Math.min(1,a/u);return this.slerp(i,d),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(i){return this._x*i._x+this._y*i._y+this._z*i._z+this._w*i._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let i=this.length();return i===0?(this._x=0,this._y=0,this._z=0,this._w=1):(i=1/i,this._x=this._x*i,this._y=this._y*i,this._z=this._z*i,this._w=this._w*i),this._onChangeCallback(),this}multiply(i){return this.multiplyQuaternions(this,i)}premultiply(i){return this.multiplyQuaternions(i,this)}multiplyQuaternions(i,a){const u=i._x,d=i._y,E=i._z,B=i._w,M=a._x,Q=a._y,P=a._z,O=a._w;return this._x=u*O+B*M+d*P-E*Q,this._y=d*O+B*Q+E*M-u*P,this._z=E*O+B*P+u*Q-d*M,this._w=B*O-u*M-d*Q-E*P,this._onChangeCallback(),this}slerp(i,a){if(a===0)return this;if(a===1)return this.copy(i);const u=this._x,d=this._y,E=this._z,B=this._w;let M=B*i._w+u*i._x+d*i._y+E*i._z;if(M<0?(this._w=-i._w,this._x=-i._x,this._y=-i._y,this._z=-i._z,M=-M):this.copy(i),M>=1)return this._w=B,this._x=u,this._y=d,this._z=E,this;const Q=1-M*M;if(Q<=Number.EPSILON){const J=1-a;return this._w=J*B+a*this._w,this._x=J*u+a*this._x,this._y=J*d+a*this._y,this._z=J*E+a*this._z,this.normalize(),this}const P=Math.sqrt(Q),O=Math.atan2(P,M),H=Math.sin((1-a)*O)/P,z=Math.sin(a*O)/P;return this._w=B*H+this._w*z,this._x=u*H+this._x*z,this._y=d*H+this._y*z,this._z=E*H+this._z*z,this._onChangeCallback(),this}slerpQuaternions(i,a,u){return this.copy(i).slerp(a,u)}random(){const i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random(),u=Math.random(),d=Math.sqrt(1-u),E=Math.sqrt(u);return this.set(d*Math.sin(i),d*Math.cos(i),E*Math.sin(a),E*Math.cos(a))}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._w===this._w}fromArray(i,a=0){return this._x=i[a],this._y=i[a+1],this._z=i[a+2],this._w=i[a+3],this._onChangeCallback(),this}toArray(i=[],a=0){return i[a]=this._x,i[a+1]=this._y,i[a+2]=this._z,i[a+3]=this._w,i}fromBufferAttribute(i,a){return this._x=i.getX(a),this._y=i.getY(a),this._z=i.getZ(a),this._w=i.getW(a),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Dt{constructor(i=0,a=0,u=0){Dt.prototype.isVector3=!0,this.x=i,this.y=a,this.z=u}set(i,a,u){return u===void 0&&(u=this.z),this.x=i,this.y=a,this.z=u,this}setScalar(i){return this.x=i,this.y=i,this.z=i,this}setX(i){return this.x=i,this}setY(i){return this.y=i,this}setZ(i){return this.z=i,this}setComponent(i,a){switch(i){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+i)}return this}getComponent(i){switch(i){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+i)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(i){return this.x=i.x,this.y=i.y,this.z=i.z,this}add(i){return this.x+=i.x,this.y+=i.y,this.z+=i.z,this}addScalar(i){return this.x+=i,this.y+=i,this.z+=i,this}addVectors(i,a){return this.x=i.x+a.x,this.y=i.y+a.y,this.z=i.z+a.z,this}addScaledVector(i,a){return this.x+=i.x*a,this.y+=i.y*a,this.z+=i.z*a,this}sub(i){return this.x-=i.x,this.y-=i.y,this.z-=i.z,this}subScalar(i){return this.x-=i,this.y-=i,this.z-=i,this}subVectors(i,a){return this.x=i.x-a.x,this.y=i.y-a.y,this.z=i.z-a.z,this}multiply(i){return this.x*=i.x,this.y*=i.y,this.z*=i.z,this}multiplyScalar(i){return this.x*=i,this.y*=i,this.z*=i,this}multiplyVectors(i,a){return this.x=i.x*a.x,this.y=i.y*a.y,this.z=i.z*a.z,this}applyEuler(i){return this.applyQuaternion(Ov.setFromEuler(i))}applyAxisAngle(i,a){return this.applyQuaternion(Ov.setFromAxisAngle(i,a))}applyMatrix3(i){const a=this.x,u=this.y,d=this.z,E=i.elements;return this.x=E[0]*a+E[3]*u+E[6]*d,this.y=E[1]*a+E[4]*u+E[7]*d,this.z=E[2]*a+E[5]*u+E[8]*d,this}applyNormalMatrix(i){return this.applyMatrix3(i).normalize()}applyMatrix4(i){const a=this.x,u=this.y,d=this.z,E=i.elements,B=1/(E[3]*a+E[7]*u+E[11]*d+E[15]);return this.x=(E[0]*a+E[4]*u+E[8]*d+E[12])*B,this.y=(E[1]*a+E[5]*u+E[9]*d+E[13])*B,this.z=(E[2]*a+E[6]*u+E[10]*d+E[14])*B,this}applyQuaternion(i){const a=this.x,u=this.y,d=this.z,E=i.x,B=i.y,M=i.z,Q=i.w,P=2*(B*d-M*u),O=2*(M*a-E*d),H=2*(E*u-B*a);return this.x=a+Q*P+B*H-M*O,this.y=u+Q*O+M*P-E*H,this.z=d+Q*H+E*O-B*P,this}project(i){return this.applyMatrix4(i.matrixWorldInverse).applyMatrix4(i.projectionMatrix)}unproject(i){return this.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld)}transformDirection(i){const a=this.x,u=this.y,d=this.z,E=i.elements;return this.x=E[0]*a+E[4]*u+E[8]*d,this.y=E[1]*a+E[5]*u+E[9]*d,this.z=E[2]*a+E[6]*u+E[10]*d,this.normalize()}divide(i){return this.x/=i.x,this.y/=i.y,this.z/=i.z,this}divideScalar(i){return this.multiplyScalar(1/i)}min(i){return this.x=Math.min(this.x,i.x),this.y=Math.min(this.y,i.y),this.z=Math.min(this.z,i.z),this}max(i){return this.x=Math.max(this.x,i.x),this.y=Math.max(this.y,i.y),this.z=Math.max(this.z,i.z),this}clamp(i,a){return this.x=Math.max(i.x,Math.min(a.x,this.x)),this.y=Math.max(i.y,Math.min(a.y,this.y)),this.z=Math.max(i.z,Math.min(a.z,this.z)),this}clampScalar(i,a){return this.x=Math.max(i,Math.min(a,this.x)),this.y=Math.max(i,Math.min(a,this.y)),this.z=Math.max(i,Math.min(a,this.z)),this}clampLength(i,a){const u=this.length();return this.divideScalar(u||1).multiplyScalar(Math.max(i,Math.min(a,u)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(i){return this.x*i.x+this.y*i.y+this.z*i.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(i){return this.normalize().multiplyScalar(i)}lerp(i,a){return this.x+=(i.x-this.x)*a,this.y+=(i.y-this.y)*a,this.z+=(i.z-this.z)*a,this}lerpVectors(i,a,u){return this.x=i.x+(a.x-i.x)*u,this.y=i.y+(a.y-i.y)*u,this.z=i.z+(a.z-i.z)*u,this}cross(i){return this.crossVectors(this,i)}crossVectors(i,a){const u=i.x,d=i.y,E=i.z,B=a.x,M=a.y,Q=a.z;return this.x=d*Q-E*M,this.y=E*B-u*Q,this.z=u*M-d*B,this}projectOnVector(i){const a=i.lengthSq();if(a===0)return this.set(0,0,0);const u=i.dot(this)/a;return this.copy(i).multiplyScalar(u)}projectOnPlane(i){return c3.copy(this).projectOnVector(i),this.sub(c3)}reflect(i){return this.sub(c3.copy(i).multiplyScalar(2*this.dot(i)))}angleTo(i){const a=Math.sqrt(this.lengthSq()*i.lengthSq());if(a===0)return Math.PI/2;const u=this.dot(i)/a;return Math.acos(Ws(u,-1,1))}distanceTo(i){return Math.sqrt(this.distanceToSquared(i))}distanceToSquared(i){const a=this.x-i.x,u=this.y-i.y,d=this.z-i.z;return a*a+u*u+d*d}manhattanDistanceTo(i){return Math.abs(this.x-i.x)+Math.abs(this.y-i.y)+Math.abs(this.z-i.z)}setFromSpherical(i){return this.setFromSphericalCoords(i.radius,i.phi,i.theta)}setFromSphericalCoords(i,a,u){const d=Math.sin(a)*i;return this.x=d*Math.sin(u),this.y=Math.cos(a)*i,this.z=d*Math.cos(u),this}setFromCylindrical(i){return this.setFromCylindricalCoords(i.radius,i.theta,i.y)}setFromCylindricalCoords(i,a,u){return this.x=i*Math.sin(a),this.y=u,this.z=i*Math.cos(a),this}setFromMatrixPosition(i){const a=i.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(i){const a=this.setFromMatrixColumn(i,0).length(),u=this.setFromMatrixColumn(i,1).length(),d=this.setFromMatrixColumn(i,2).length();return this.x=a,this.y=u,this.z=d,this}setFromMatrixColumn(i,a){return this.fromArray(i.elements,a*4)}setFromMatrix3Column(i,a){return this.fromArray(i.elements,a*3)}setFromEuler(i){return this.x=i._x,this.y=i._y,this.z=i._z,this}setFromColor(i){return this.x=i.r,this.y=i.g,this.z=i.b,this}equals(i){return i.x===this.x&&i.y===this.y&&i.z===this.z}fromArray(i,a=0){return this.x=i[a],this.y=i[a+1],this.z=i[a+2],this}toArray(i=[],a=0){return i[a]=this.x,i[a+1]=this.y,i[a+2]=this.z,i}fromBufferAttribute(i,a){return this.x=i.getX(a),this.y=i.getY(a),this.z=i.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const i=Math.random()*Math.PI*2,a=Math.random()*2-1,u=Math.sqrt(1-a*a);return this.x=u*Math.cos(i),this.y=a,this.z=u*Math.sin(i),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const c3=new Dt,Ov=new vl;class ba{constructor(i=new Dt(1/0,1/0,1/0),a=new Dt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=i,this.max=a}set(i,a){return this.min.copy(i),this.max.copy(a),this}setFromArray(i){this.makeEmpty();for(let a=0,u=i.length;a<u;a+=3)this.expandByPoint(bl.fromArray(i,a));return this}setFromBufferAttribute(i){this.makeEmpty();for(let a=0,u=i.count;a<u;a++)this.expandByPoint(bl.fromBufferAttribute(i,a));return this}setFromPoints(i){this.makeEmpty();for(let a=0,u=i.length;a<u;a++)this.expandByPoint(i[a]);return this}setFromCenterAndSize(i,a){const u=bl.copy(a).multiplyScalar(.5);return this.min.copy(i).sub(u),this.max.copy(i).add(u),this}setFromObject(i,a=!1){return this.makeEmpty(),this.expandByObject(i,a)}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(i){return this.isEmpty()?i.set(0,0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}expandByObject(i,a=!1){i.updateWorldMatrix(!1,!1);const u=i.geometry;if(u!==void 0){const E=u.getAttribute("position");if(a===!0&&E!==void 0&&i.isInstancedMesh!==!0)for(let B=0,M=E.count;B<M;B++)i.isMesh===!0?i.getVertexPosition(B,bl):bl.fromBufferAttribute(E,B),bl.applyMatrix4(i.matrixWorld),this.expandByPoint(bl);else i.boundingBox!==void 0?(i.boundingBox===null&&i.computeBoundingBox(),oa.copy(i.boundingBox)):(u.boundingBox===null&&u.computeBoundingBox(),oa.copy(u.boundingBox)),oa.applyMatrix4(i.matrixWorld),this.union(oa)}const d=i.children;for(let E=0,B=d.length;E<B;E++)this.expandByObject(d[E],a);return this}containsPoint(i){return i.x>=this.min.x&&i.x<=this.max.x&&i.y>=this.min.y&&i.y<=this.max.y&&i.z>=this.min.z&&i.z<=this.max.z}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y&&this.min.z<=i.min.z&&i.max.z<=this.max.z}getParameter(i,a){return a.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y),(i.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(i){return i.max.x>=this.min.x&&i.min.x<=this.max.x&&i.max.y>=this.min.y&&i.min.y<=this.max.y&&i.max.z>=this.min.z&&i.min.z<=this.max.z}intersectsSphere(i){return this.clampPoint(i.center,bl),bl.distanceToSquared(i.center)<=i.radius*i.radius}intersectsPlane(i){let a,u;return i.normal.x>0?(a=i.normal.x*this.min.x,u=i.normal.x*this.max.x):(a=i.normal.x*this.max.x,u=i.normal.x*this.min.x),i.normal.y>0?(a+=i.normal.y*this.min.y,u+=i.normal.y*this.max.y):(a+=i.normal.y*this.max.y,u+=i.normal.y*this.min.y),i.normal.z>0?(a+=i.normal.z*this.min.z,u+=i.normal.z*this.max.z):(a+=i.normal.z*this.max.z,u+=i.normal.z*this.min.z),a<=-i.constant&&u>=-i.constant}intersectsTriangle(i){if(this.isEmpty())return!1;this.getCenter(eo),fo.subVectors(this.max,eo),bp.subVectors(i.a,eo),Fm.subVectors(i.b,eo),Rf.subVectors(i.c,eo),au.subVectors(Fm,bp),Ed.subVectors(Rf,Fm),Qf.subVectors(bp,Rf);let a=[0,-au.z,au.y,0,-Ed.z,Ed.y,0,-Qf.z,Qf.y,au.z,0,-au.x,Ed.z,0,-Ed.x,Qf.z,0,-Qf.x,-au.y,au.x,0,-Ed.y,Ed.x,0,-Qf.y,Qf.x,0];return!FE(a,bp,Fm,Rf,fo)||(a=[1,0,0,0,1,0,0,0,1],!FE(a,bp,Fm,Rf,fo))?!1:(NA.crossVectors(au,Ed),a=[NA.x,NA.y,NA.z],FE(a,bp,Fm,Rf,fo))}clampPoint(i,a){return a.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return this.clampPoint(i,bl).distanceTo(i)}getBoundingSphere(i){return this.isEmpty()?i.makeEmpty():(this.getCenter(i.center),i.radius=this.getSize(bl).length()*.5),i}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}applyMatrix4(i){return this.isEmpty()?this:(Cd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),Cd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),Cd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),Cd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),Cd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),Cd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),Cd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),Cd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(Cd),this)}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}}const Cd=[new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt,new Dt],bl=new Dt,oa=new ba,bp=new Dt,Fm=new Dt,Rf=new Dt,au=new Dt,Ed=new Dt,Qf=new Dt,eo=new Dt,fo=new Dt,NA=new Dt,Id=new Dt;function FE(C,i,a,u,d){for(let E=0,B=C.length-3;E<=B;E+=3){Id.fromArray(C,E);const M=d.x*Math.abs(Id.x)+d.y*Math.abs(Id.y)+d.z*Math.abs(Id.z),Q=i.dot(Id),P=a.dot(Id),O=u.dot(Id);if(Math.max(-Math.max(Q,P,O),Math.min(Q,P,O))>M)return!1}return!0}const Ma=new ba,Um=new Dt,Nm=new Dt;class Lo{constructor(i=new Dt,a=-1){this.isSphere=!0,this.center=i,this.radius=a}set(i,a){return this.center.copy(i),this.radius=a,this}setFromPoints(i,a){const u=this.center;a!==void 0?u.copy(a):Ma.setFromPoints(i).getCenter(u);let d=0;for(let E=0,B=i.length;E<B;E++)d=Math.max(d,u.distanceToSquared(i[E]));return this.radius=Math.sqrt(d),this}copy(i){return this.center.copy(i.center),this.radius=i.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(i){return i.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(i){return i.distanceTo(this.center)-this.radius}intersectsSphere(i){const a=this.radius+i.radius;return i.center.distanceToSquared(this.center)<=a*a}intersectsBox(i){return i.intersectsSphere(this)}intersectsPlane(i){return Math.abs(i.distanceToPoint(this.center))<=this.radius}clampPoint(i,a){const u=this.center.distanceToSquared(i);return a.copy(i),u>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(i){return this.isEmpty()?(i.makeEmpty(),i):(i.set(this.center,this.center),i.expandByScalar(this.radius),i)}applyMatrix4(i){return this.center.applyMatrix4(i),this.radius=this.radius*i.getMaxScaleOnAxis(),this}translate(i){return this.center.add(i),this}expandByPoint(i){if(this.isEmpty())return this.center.copy(i),this.radius=0,this;Um.subVectors(i,this.center);const a=Um.lengthSq();if(a>this.radius*this.radius){const u=Math.sqrt(a),d=(u-this.radius)*.5;this.center.addScaledVector(Um,d/u),this.radius+=d}return this}union(i){return i.isEmpty()?this:this.isEmpty()?(this.copy(i),this):(this.center.equals(i.center)===!0?this.radius=Math.max(this.radius,i.radius):(Nm.subVectors(i.center,this.center).setLength(i.radius),this.expandByPoint(Um.copy(i.center).add(Nm)),this.expandByPoint(Um.copy(i.center).sub(Nm))),this)}equals(i){return i.center.equals(this.center)&&i.radius===this.radius}clone(){return new this.constructor().copy(this)}}const aa=new Dt,_c=new Dt,lu=new Dt,wd=new Dt,Vv=new Dt,h3=new Dt,UE=new Dt;class Gm{constructor(i=new Dt,a=new Dt(0,0,-1)){this.origin=i,this.direction=a}set(i,a){return this.origin.copy(i),this.direction.copy(a),this}copy(i){return this.origin.copy(i.origin),this.direction.copy(i.direction),this}at(i,a){return a.copy(this.origin).addScaledVector(this.direction,i)}lookAt(i){return this.direction.copy(i).sub(this.origin).normalize(),this}recast(i){return this.origin.copy(this.at(i,aa)),this}closestPointToPoint(i,a){a.subVectors(i,this.origin);const u=a.dot(this.direction);return u<0?a.copy(this.origin):a.copy(this.origin).addScaledVector(this.direction,u)}distanceToPoint(i){return Math.sqrt(this.distanceSqToPoint(i))}distanceSqToPoint(i){const a=aa.subVectors(i,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(i):(aa.copy(this.origin).addScaledVector(this.direction,a),aa.distanceToSquared(i))}distanceSqToSegment(i,a,u,d){_c.copy(i).add(a).multiplyScalar(.5),lu.copy(a).sub(i).normalize(),wd.copy(this.origin).sub(_c);const E=i.distanceTo(a)*.5,B=-this.direction.dot(lu),M=wd.dot(this.direction),Q=-wd.dot(lu),P=wd.lengthSq(),O=Math.abs(1-B*B);let H,z,J,j;if(O>0)if(H=B*Q-M,z=B*M-Q,j=E*O,H>=0)if(z>=-j)if(z<=j){const nt=1/O;H*=nt,z*=nt,J=H*(H+B*z+2*M)+z*(B*H+z+2*Q)+P}else z=E,H=Math.max(0,-(B*z+M)),J=-H*H+z*(z+2*Q)+P;else z=-E,H=Math.max(0,-(B*z+M)),J=-H*H+z*(z+2*Q)+P;else z<=-j?(H=Math.max(0,-(-B*E+M)),z=H>0?-E:Math.min(Math.max(-E,-Q),E),J=-H*H+z*(z+2*Q)+P):z<=j?(H=0,z=Math.min(Math.max(-E,-Q),E),J=z*(z+2*Q)+P):(H=Math.max(0,-(B*E+M)),z=H>0?E:Math.min(Math.max(-E,-Q),E),J=-H*H+z*(z+2*Q)+P);else z=B>0?-E:E,H=Math.max(0,-(B*z+M)),J=-H*H+z*(z+2*Q)+P;return u&&u.copy(this.origin).addScaledVector(this.direction,H),d&&d.copy(_c).addScaledVector(lu,z),J}intersectSphere(i,a){aa.subVectors(i.center,this.origin);const u=aa.dot(this.direction),d=aa.dot(aa)-u*u,E=i.radius*i.radius;if(d>E)return null;const B=Math.sqrt(E-d),M=u-B,Q=u+B;return Q<0?null:M<0?this.at(Q,a):this.at(M,a)}intersectsSphere(i){return this.distanceSqToPoint(i.center)<=i.radius*i.radius}distanceToPlane(i){const a=i.normal.dot(this.direction);if(a===0)return i.distanceToPoint(this.origin)===0?0:null;const u=-(this.origin.dot(i.normal)+i.constant)/a;return u>=0?u:null}intersectPlane(i,a){const u=this.distanceToPlane(i);return u===null?null:this.at(u,a)}intersectsPlane(i){const a=i.distanceToPoint(this.origin);return a===0||i.normal.dot(this.direction)*a<0}intersectBox(i,a){let u,d,E,B,M,Q;const P=1/this.direction.x,O=1/this.direction.y,H=1/this.direction.z,z=this.origin;return P>=0?(u=(i.min.x-z.x)*P,d=(i.max.x-z.x)*P):(u=(i.max.x-z.x)*P,d=(i.min.x-z.x)*P),O>=0?(E=(i.min.y-z.y)*O,B=(i.max.y-z.y)*O):(E=(i.max.y-z.y)*O,B=(i.min.y-z.y)*O),u>B||E>d||((E>u||isNaN(u))&&(u=E),(B<d||isNaN(d))&&(d=B),H>=0?(M=(i.min.z-z.z)*H,Q=(i.max.z-z.z)*H):(M=(i.max.z-z.z)*H,Q=(i.min.z-z.z)*H),u>Q||M>d)||((M>u||u!==u)&&(u=M),(Q<d||d!==d)&&(d=Q),d<0)?null:this.at(u>=0?u:d,a)}intersectsBox(i){return this.intersectBox(i,aa)!==null}intersectTriangle(i,a,u,d,E){Vv.subVectors(a,i),h3.subVectors(u,i),UE.crossVectors(Vv,h3);let B=this.direction.dot(UE),M;if(B>0){if(d)return null;M=1}else if(B<0)M=-1,B=-B;else return null;wd.subVectors(this.origin,i);const Q=M*this.direction.dot(h3.crossVectors(wd,h3));if(Q<0)return null;const P=M*this.direction.dot(Vv.cross(wd));if(P<0||Q+P>B)return null;const O=-M*wd.dot(UE);return O<0?null:this.at(O/B,E)}applyMatrix4(i){return this.origin.applyMatrix4(i),this.direction.transformDirection(i),this}equals(i){return i.origin.equals(this.origin)&&i.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ui{constructor(i,a,u,d,E,B,M,Q,P,O,H,z,J,j,nt,q){ui.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i!==void 0&&this.set(i,a,u,d,E,B,M,Q,P,O,H,z,J,j,nt,q)}set(i,a,u,d,E,B,M,Q,P,O,H,z,J,j,nt,q){const Z=this.elements;return Z[0]=i,Z[4]=a,Z[8]=u,Z[12]=d,Z[1]=E,Z[5]=B,Z[9]=M,Z[13]=Q,Z[2]=P,Z[6]=O,Z[10]=H,Z[14]=z,Z[3]=J,Z[7]=j,Z[11]=nt,Z[15]=q,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ui().fromArray(this.elements)}copy(i){const a=this.elements,u=i.elements;return a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3],a[4]=u[4],a[5]=u[5],a[6]=u[6],a[7]=u[7],a[8]=u[8],a[9]=u[9],a[10]=u[10],a[11]=u[11],a[12]=u[12],a[13]=u[13],a[14]=u[14],a[15]=u[15],this}copyPosition(i){const a=this.elements,u=i.elements;return a[12]=u[12],a[13]=u[13],a[14]=u[14],this}setFromMatrix3(i){const a=i.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(i,a,u){return i.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),u.setFromMatrixColumn(this,2),this}makeBasis(i,a,u){return this.set(i.x,a.x,u.x,0,i.y,a.y,u.y,0,i.z,a.z,u.z,0,0,0,0,1),this}extractRotation(i){const a=this.elements,u=i.elements,d=1/Om.setFromMatrixColumn(i,0).length(),E=1/Om.setFromMatrixColumn(i,1).length(),B=1/Om.setFromMatrixColumn(i,2).length();return a[0]=u[0]*d,a[1]=u[1]*d,a[2]=u[2]*d,a[3]=0,a[4]=u[4]*E,a[5]=u[5]*E,a[6]=u[6]*E,a[7]=0,a[8]=u[8]*B,a[9]=u[9]*B,a[10]=u[10]*B,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(i){const a=this.elements,u=i.x,d=i.y,E=i.z,B=Math.cos(u),M=Math.sin(u),Q=Math.cos(d),P=Math.sin(d),O=Math.cos(E),H=Math.sin(E);if(i.order==="XYZ"){const z=B*O,J=B*H,j=M*O,nt=M*H;a[0]=Q*O,a[4]=-Q*H,a[8]=P,a[1]=J+j*P,a[5]=z-nt*P,a[9]=-M*Q,a[2]=nt-z*P,a[6]=j+J*P,a[10]=B*Q}else if(i.order==="YXZ"){const z=Q*O,J=Q*H,j=P*O,nt=P*H;a[0]=z+nt*M,a[4]=j*M-J,a[8]=B*P,a[1]=B*H,a[5]=B*O,a[9]=-M,a[2]=J*M-j,a[6]=nt+z*M,a[10]=B*Q}else if(i.order==="ZXY"){const z=Q*O,J=Q*H,j=P*O,nt=P*H;a[0]=z-nt*M,a[4]=-B*H,a[8]=j+J*M,a[1]=J+j*M,a[5]=B*O,a[9]=nt-z*M,a[2]=-B*P,a[6]=M,a[10]=B*Q}else if(i.order==="ZYX"){const z=B*O,J=B*H,j=M*O,nt=M*H;a[0]=Q*O,a[4]=j*P-J,a[8]=z*P+nt,a[1]=Q*H,a[5]=nt*P+z,a[9]=J*P-j,a[2]=-P,a[6]=M*Q,a[10]=B*Q}else if(i.order==="YZX"){const z=B*Q,J=B*P,j=M*Q,nt=M*P;a[0]=Q*O,a[4]=nt-z*H,a[8]=j*H+J,a[1]=H,a[5]=B*O,a[9]=-M*O,a[2]=-P*O,a[6]=J*H+j,a[10]=z-nt*H}else if(i.order==="XZY"){const z=B*Q,J=B*P,j=M*Q,nt=M*P;a[0]=Q*O,a[4]=-H,a[8]=P*O,a[1]=z*H+nt,a[5]=B*O,a[9]=J*H-j,a[2]=j*H-J,a[6]=M*O,a[10]=nt*H+z}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(i){return this.compose(RP,i,QP)}lookAt(i,a,u){const d=this.elements;return Ml.subVectors(i,a),Ml.lengthSq()===0&&(Ml.z=1),Ml.normalize(),Au.crossVectors(u,Ml),Au.lengthSq()===0&&(Math.abs(u.z)===1?Ml.x+=1e-4:Ml.z+=1e-4,Ml.normalize(),Au.crossVectors(u,Ml)),Au.normalize(),Bc.crossVectors(Ml,Au),d[0]=Au.x,d[4]=Bc.x,d[8]=Ml.x,d[1]=Au.y,d[5]=Bc.y,d[9]=Ml.y,d[2]=Au.z,d[6]=Bc.z,d[10]=Ml.z,this}multiply(i){return this.multiplyMatrices(this,i)}premultiply(i){return this.multiplyMatrices(i,this)}multiplyMatrices(i,a){const u=i.elements,d=a.elements,E=this.elements,B=u[0],M=u[4],Q=u[8],P=u[12],O=u[1],H=u[5],z=u[9],J=u[13],j=u[2],nt=u[6],q=u[10],Z=u[14],ut=u[3],ct=u[7],lt=u[11],Vt=u[15],Tt=d[0],Qt=d[4],Ut=d[8],xt=d[12],pt=d[1],Ht=d[5],le=d[9],re=d[13],Ae=d[2],Pe=d[6],he=d[10],Xe=d[14],fe=d[3],an=d[7],hn=d[11],kn=d[15];return E[0]=B*Tt+M*pt+Q*Ae+P*fe,E[4]=B*Qt+M*Ht+Q*Pe+P*an,E[8]=B*Ut+M*le+Q*he+P*hn,E[12]=B*xt+M*re+Q*Xe+P*kn,E[1]=O*Tt+H*pt+z*Ae+J*fe,E[5]=O*Qt+H*Ht+z*Pe+J*an,E[9]=O*Ut+H*le+z*he+J*hn,E[13]=O*xt+H*re+z*Xe+J*kn,E[2]=j*Tt+nt*pt+q*Ae+Z*fe,E[6]=j*Qt+nt*Ht+q*Pe+Z*an,E[10]=j*Ut+nt*le+q*he+Z*hn,E[14]=j*xt+nt*re+q*Xe+Z*kn,E[3]=ut*Tt+ct*pt+lt*Ae+Vt*fe,E[7]=ut*Qt+ct*Ht+lt*Pe+Vt*an,E[11]=ut*Ut+ct*le+lt*he+Vt*hn,E[15]=ut*xt+ct*re+lt*Xe+Vt*kn,this}multiplyScalar(i){const a=this.elements;return a[0]*=i,a[4]*=i,a[8]*=i,a[12]*=i,a[1]*=i,a[5]*=i,a[9]*=i,a[13]*=i,a[2]*=i,a[6]*=i,a[10]*=i,a[14]*=i,a[3]*=i,a[7]*=i,a[11]*=i,a[15]*=i,this}determinant(){const i=this.elements,a=i[0],u=i[4],d=i[8],E=i[12],B=i[1],M=i[5],Q=i[9],P=i[13],O=i[2],H=i[6],z=i[10],J=i[14],j=i[3],nt=i[7],q=i[11],Z=i[15];return j*(+E*Q*H-d*P*H-E*M*z+u*P*z+d*M*J-u*Q*J)+nt*(+a*Q*J-a*P*z+E*B*z-d*B*J+d*P*O-E*Q*O)+q*(+a*P*H-a*M*J-E*B*H+u*B*J+E*M*O-u*P*O)+Z*(-d*M*O-a*Q*H+a*M*z+d*B*H-u*B*z+u*Q*O)}transpose(){const i=this.elements;let a;return a=i[1],i[1]=i[4],i[4]=a,a=i[2],i[2]=i[8],i[8]=a,a=i[6],i[6]=i[9],i[9]=a,a=i[3],i[3]=i[12],i[12]=a,a=i[7],i[7]=i[13],i[13]=a,a=i[11],i[11]=i[14],i[14]=a,this}setPosition(i,a,u){const d=this.elements;return i.isVector3?(d[12]=i.x,d[13]=i.y,d[14]=i.z):(d[12]=i,d[13]=a,d[14]=u),this}invert(){const i=this.elements,a=i[0],u=i[1],d=i[2],E=i[3],B=i[4],M=i[5],Q=i[6],P=i[7],O=i[8],H=i[9],z=i[10],J=i[11],j=i[12],nt=i[13],q=i[14],Z=i[15],ut=H*q*P-nt*z*P+nt*Q*J-M*q*J-H*Q*Z+M*z*Z,ct=j*z*P-O*q*P-j*Q*J+B*q*J+O*Q*Z-B*z*Z,lt=O*nt*P-j*H*P+j*M*J-B*nt*J-O*M*Z+B*H*Z,Vt=j*H*Q-O*nt*Q-j*M*z+B*nt*z+O*M*q-B*H*q,Tt=a*ut+u*ct+d*lt+E*Vt;if(Tt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Qt=1/Tt;return i[0]=ut*Qt,i[1]=(nt*z*E-H*q*E-nt*d*J+u*q*J+H*d*Z-u*z*Z)*Qt,i[2]=(M*q*E-nt*Q*E+nt*d*P-u*q*P-M*d*Z+u*Q*Z)*Qt,i[3]=(H*Q*E-M*z*E-H*d*P+u*z*P+M*d*J-u*Q*J)*Qt,i[4]=ct*Qt,i[5]=(O*q*E-j*z*E+j*d*J-a*q*J-O*d*Z+a*z*Z)*Qt,i[6]=(j*Q*E-B*q*E-j*d*P+a*q*P+B*d*Z-a*Q*Z)*Qt,i[7]=(B*z*E-O*Q*E+O*d*P-a*z*P-B*d*J+a*Q*J)*Qt,i[8]=lt*Qt,i[9]=(j*H*E-O*nt*E-j*u*J+a*nt*J+O*u*Z-a*H*Z)*Qt,i[10]=(B*nt*E-j*M*E+j*u*P-a*nt*P-B*u*Z+a*M*Z)*Qt,i[11]=(O*M*E-B*H*E-O*u*P+a*H*P+B*u*J-a*M*J)*Qt,i[12]=Vt*Qt,i[13]=(O*nt*d-j*H*d+j*u*z-a*nt*z-O*u*q+a*H*q)*Qt,i[14]=(j*M*d-B*nt*d-j*u*Q+a*nt*Q+B*u*q-a*M*q)*Qt,i[15]=(B*H*d-O*M*d+O*u*Q-a*H*Q-B*u*z+a*M*z)*Qt,this}scale(i){const a=this.elements,u=i.x,d=i.y,E=i.z;return a[0]*=u,a[4]*=d,a[8]*=E,a[1]*=u,a[5]*=d,a[9]*=E,a[2]*=u,a[6]*=d,a[10]*=E,a[3]*=u,a[7]*=d,a[11]*=E,this}getMaxScaleOnAxis(){const i=this.elements,a=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],u=i[4]*i[4]+i[5]*i[5]+i[6]*i[6],d=i[8]*i[8]+i[9]*i[9]+i[10]*i[10];return Math.sqrt(Math.max(a,u,d))}makeTranslation(i,a,u){return i.isVector3?this.set(1,0,0,i.x,0,1,0,i.y,0,0,1,i.z,0,0,0,1):this.set(1,0,0,i,0,1,0,a,0,0,1,u,0,0,0,1),this}makeRotationX(i){const a=Math.cos(i),u=Math.sin(i);return this.set(1,0,0,0,0,a,-u,0,0,u,a,0,0,0,0,1),this}makeRotationY(i){const a=Math.cos(i),u=Math.sin(i);return this.set(a,0,u,0,0,1,0,0,-u,0,a,0,0,0,0,1),this}makeRotationZ(i){const a=Math.cos(i),u=Math.sin(i);return this.set(a,-u,0,0,u,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(i,a){const u=Math.cos(a),d=Math.sin(a),E=1-u,B=i.x,M=i.y,Q=i.z,P=E*B,O=E*M;return this.set(P*B+u,P*M-d*Q,P*Q+d*M,0,P*M+d*Q,O*M+u,O*Q-d*B,0,P*Q-d*M,O*Q+d*B,E*Q*Q+u,0,0,0,0,1),this}makeScale(i,a,u){return this.set(i,0,0,0,0,a,0,0,0,0,u,0,0,0,0,1),this}makeShear(i,a,u,d,E,B){return this.set(1,u,E,0,i,1,B,0,a,d,1,0,0,0,0,1),this}compose(i,a,u){const d=this.elements,E=a._x,B=a._y,M=a._z,Q=a._w,P=E+E,O=B+B,H=M+M,z=E*P,J=E*O,j=E*H,nt=B*O,q=B*H,Z=M*H,ut=Q*P,ct=Q*O,lt=Q*H,Vt=u.x,Tt=u.y,Qt=u.z;return d[0]=(1-(nt+Z))*Vt,d[1]=(J+lt)*Vt,d[2]=(j-ct)*Vt,d[3]=0,d[4]=(J-lt)*Tt,d[5]=(1-(z+Z))*Tt,d[6]=(q+ut)*Tt,d[7]=0,d[8]=(j+ct)*Qt,d[9]=(q-ut)*Qt,d[10]=(1-(z+nt))*Qt,d[11]=0,d[12]=i.x,d[13]=i.y,d[14]=i.z,d[15]=1,this}decompose(i,a,u){const d=this.elements;let E=Om.set(d[0],d[1],d[2]).length();const B=Om.set(d[4],d[5],d[6]).length(),M=Om.set(d[8],d[9],d[10]).length();this.determinant()<0&&(E=-E),i.x=d[12],i.y=d[13],i.z=d[14],ph.copy(this);const P=1/E,O=1/B,H=1/M;return ph.elements[0]*=P,ph.elements[1]*=P,ph.elements[2]*=P,ph.elements[4]*=O,ph.elements[5]*=O,ph.elements[6]*=O,ph.elements[8]*=H,ph.elements[9]*=H,ph.elements[10]*=H,a.setFromRotationMatrix(ph),u.x=E,u.y=B,u.z=M,this}makePerspective(i,a,u,d,E,B,M=uh){const Q=this.elements,P=2*E/(a-i),O=2*E/(u-d),H=(a+i)/(a-i),z=(u+d)/(u-d);let J,j;if(M===uh)J=-(B+E)/(B-E),j=-2*B*E/(B-E);else if(M===SE)J=-B/(B-E),j=-B*E/(B-E);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+M);return Q[0]=P,Q[4]=0,Q[8]=H,Q[12]=0,Q[1]=0,Q[5]=O,Q[9]=z,Q[13]=0,Q[2]=0,Q[6]=0,Q[10]=J,Q[14]=j,Q[3]=0,Q[7]=0,Q[11]=-1,Q[15]=0,this}makeOrthographic(i,a,u,d,E,B,M=uh){const Q=this.elements,P=1/(a-i),O=1/(u-d),H=1/(B-E),z=(a+i)*P,J=(u+d)*O;let j,nt;if(M===uh)j=(B+E)*H,nt=-2*H;else if(M===SE)j=E*H,nt=-1*H;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+M);return Q[0]=2*P,Q[4]=0,Q[8]=0,Q[12]=-z,Q[1]=0,Q[5]=2*O,Q[9]=0,Q[13]=-J,Q[2]=0,Q[6]=0,Q[10]=nt,Q[14]=-j,Q[3]=0,Q[7]=0,Q[11]=0,Q[15]=1,this}equals(i){const a=this.elements,u=i.elements;for(let d=0;d<16;d++)if(a[d]!==u[d])return!1;return!0}fromArray(i,a=0){for(let u=0;u<16;u++)this.elements[u]=i[u+a];return this}toArray(i=[],a=0){const u=this.elements;return i[a]=u[0],i[a+1]=u[1],i[a+2]=u[2],i[a+3]=u[3],i[a+4]=u[4],i[a+5]=u[5],i[a+6]=u[6],i[a+7]=u[7],i[a+8]=u[8],i[a+9]=u[9],i[a+10]=u[10],i[a+11]=u[11],i[a+12]=u[12],i[a+13]=u[13],i[a+14]=u[14],i[a+15]=u[15],i}}const Om=new Dt,ph=new ui,RP=new Dt(0,0,0),QP=new Dt(1,1,1),Au=new Dt,Bc=new Dt,Ml=new Dt,u3=new ui,d6=new vl;class cA{constructor(i=0,a=0,u=0,d=cA.DEFAULT_ORDER){this.isEuler=!0,this._x=i,this._y=a,this._z=u,this._order=d}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,a,u,d=this._order){return this._x=i,this._y=a,this._z=u,this._order=d,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,a=this._order,u=!0){const d=i.elements,E=d[0],B=d[4],M=d[8],Q=d[1],P=d[5],O=d[9],H=d[2],z=d[6],J=d[10];switch(a){case"XYZ":this._y=Math.asin(Ws(M,-1,1)),Math.abs(M)<.9999999?(this._x=Math.atan2(-O,J),this._z=Math.atan2(-B,E)):(this._x=Math.atan2(z,P),this._z=0);break;case"YXZ":this._x=Math.asin(-Ws(O,-1,1)),Math.abs(O)<.9999999?(this._y=Math.atan2(M,J),this._z=Math.atan2(Q,P)):(this._y=Math.atan2(-H,E),this._z=0);break;case"ZXY":this._x=Math.asin(Ws(z,-1,1)),Math.abs(z)<.9999999?(this._y=Math.atan2(-H,J),this._z=Math.atan2(-B,P)):(this._y=0,this._z=Math.atan2(Q,E));break;case"ZYX":this._y=Math.asin(-Ws(H,-1,1)),Math.abs(H)<.9999999?(this._x=Math.atan2(z,J),this._z=Math.atan2(Q,E)):(this._x=0,this._z=Math.atan2(-B,P));break;case"YZX":this._z=Math.asin(Ws(Q,-1,1)),Math.abs(Q)<.9999999?(this._x=Math.atan2(-O,P),this._y=Math.atan2(-H,E)):(this._x=0,this._y=Math.atan2(M,J));break;case"XZY":this._z=Math.asin(-Ws(B,-1,1)),Math.abs(B)<.9999999?(this._x=Math.atan2(z,P),this._y=Math.atan2(M,E)):(this._x=Math.atan2(-O,J),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,u===!0&&this._onChangeCallback(),this}setFromQuaternion(i,a,u){return u3.makeRotationFromQuaternion(i),this.setFromRotationMatrix(u3,a,u)}setFromVector3(i,a=this._order){return this.set(i.x,i.y,i.z,a)}reorder(i){return d6.setFromEuler(this),this.setFromQuaternion(d6,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],i[3]!==void 0&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],a=0){return i[a]=this._x,i[a+1]=this._y,i[a+2]=this._z,i[a+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cA.DEFAULT_ORDER="XYZ";class Vm{constructor(){this.mask=1}set(i){this.mask=(1<<i|0)>>>0}enable(i){this.mask|=1<<i|0}enableAll(){this.mask=-1}toggle(i){this.mask^=1<<i|0}disable(i){this.mask&=~(1<<i|0)}disableAll(){this.mask=0}test(i){return(this.mask&i.mask)!==0}isEnabled(i){return(this.mask&(1<<i|0))!==0}}let Hv=0;const d3=new Dt,Sa=new vl,_d=new ui,Hm=new Dt,Mp=new Dt,f6=new Dt,zv=new vl,Va=new Dt(1,0,0),p6=new Dt(0,1,0),g6=new Dt(0,0,1),m6={type:"added"},kP={type:"removed"},zm={type:"childadded",child:null},Po={type:"childremoved",child:null};class os extends dh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Hv++}),this.uuid=UA(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=os.DEFAULT_UP.clone();const i=new Dt,a=new cA,u=new vl,d=new Dt(1,1,1);function E(){u.setFromEuler(a,!1)}function B(){a.setFromQuaternion(u,void 0,!1)}a._onChange(E),u._onChange(B),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:u},scale:{configurable:!0,enumerable:!0,value:d},modelViewMatrix:{value:new ui},normalMatrix:{value:new Ii}}),this.matrix=new ui,this.matrixWorld=new ui,this.matrixAutoUpdate=os.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=os.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Vm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,a){this.quaternion.setFromAxisAngle(i,a)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,a){return Sa.setFromAxisAngle(i,a),this.quaternion.multiply(Sa),this}rotateOnWorldAxis(i,a){return Sa.setFromAxisAngle(i,a),this.quaternion.premultiply(Sa),this}rotateX(i){return this.rotateOnAxis(Va,i)}rotateY(i){return this.rotateOnAxis(p6,i)}rotateZ(i){return this.rotateOnAxis(g6,i)}translateOnAxis(i,a){return d3.copy(i).applyQuaternion(this.quaternion),this.position.add(d3.multiplyScalar(a)),this}translateX(i){return this.translateOnAxis(Va,i)}translateY(i){return this.translateOnAxis(p6,i)}translateZ(i){return this.translateOnAxis(g6,i)}localToWorld(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(_d.copy(this.matrixWorld).invert())}lookAt(i,a,u){i.isVector3?Hm.copy(i):Hm.set(i,a,u);const d=this.parent;this.updateWorldMatrix(!0,!1),Mp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_d.lookAt(Mp,Hm,this.up):_d.lookAt(Hm,Mp,this.up),this.quaternion.setFromRotationMatrix(_d),d&&(_d.extractRotation(d.matrixWorld),Sa.setFromRotationMatrix(_d),this.quaternion.premultiply(Sa.invert()))}add(i){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.removeFromParent(),i.parent=this,this.children.push(i),i.dispatchEvent(m6),zm.child=i,this.dispatchEvent(zm),zm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let u=0;u<arguments.length;u++)this.remove(arguments[u]);return this}const a=this.children.indexOf(i);return a!==-1&&(i.parent=null,this.children.splice(a,1),i.dispatchEvent(kP),Po.child=i,this.dispatchEvent(Po),Po.child=null),this}removeFromParent(){const i=this.parent;return i!==null&&i.remove(this),this}clear(){return this.remove(...this.children)}attach(i){return this.updateWorldMatrix(!0,!1),_d.copy(this.matrixWorld).invert(),i.parent!==null&&(i.parent.updateWorldMatrix(!0,!1),_d.multiply(i.parent.matrixWorld)),i.applyMatrix4(_d),i.removeFromParent(),i.parent=this,this.children.push(i),i.updateWorldMatrix(!1,!0),i.dispatchEvent(m6),zm.child=i,this.dispatchEvent(zm),zm.child=null,this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,a){if(this[i]===a)return this;for(let u=0,d=this.children.length;u<d;u++){const B=this.children[u].getObjectByProperty(i,a);if(B!==void 0)return B}}getObjectsByProperty(i,a,u=[]){this[i]===a&&u.push(this);const d=this.children;for(let E=0,B=d.length;E<B;E++)d[E].getObjectsByProperty(i,a,u);return u}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mp,i,f6),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mp,zv,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return i.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(i){i(this);const a=this.children;for(let u=0,d=a.length;u<d;u++)a[u].traverse(i)}traverseVisible(i){if(this.visible===!1)return;i(this);const a=this.children;for(let u=0,d=a.length;u<d;u++)a[u].traverseVisible(i)}traverseAncestors(i){const a=this.parent;a!==null&&(i(a),a.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,i=!0);const a=this.children;for(let u=0,d=a.length;u<d;u++)a[u].updateMatrixWorld(i)}updateWorldMatrix(i,a){const u=this.parent;if(i===!0&&u!==null&&u.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),a===!0){const d=this.children;for(let E=0,B=d.length;E<B;E++)d[E].updateWorldMatrix(!1,!0)}}toJSON(i){const a=i===void 0||typeof i=="string",u={};a&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},u.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const d={};d.uuid=this.uuid,d.type=this.type,this.name!==""&&(d.name=this.name),this.castShadow===!0&&(d.castShadow=!0),this.receiveShadow===!0&&(d.receiveShadow=!0),this.visible===!1&&(d.visible=!1),this.frustumCulled===!1&&(d.frustumCulled=!1),this.renderOrder!==0&&(d.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(d.userData=this.userData),d.layers=this.layers.mask,d.matrix=this.matrix.toArray(),d.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(d.matrixAutoUpdate=!1),this.isInstancedMesh&&(d.type="InstancedMesh",d.count=this.count,d.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(d.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(d.type="BatchedMesh",d.perObjectFrustumCulled=this.perObjectFrustumCulled,d.sortObjects=this.sortObjects,d.drawRanges=this._drawRanges,d.reservedRanges=this._reservedRanges,d.visibility=this._visibility,d.active=this._active,d.bounds=this._bounds.map(M=>({boxInitialized:M.boxInitialized,boxMin:M.box.min.toArray(),boxMax:M.box.max.toArray(),sphereInitialized:M.sphereInitialized,sphereRadius:M.sphere.radius,sphereCenter:M.sphere.center.toArray()})),d.maxInstanceCount=this._maxInstanceCount,d.maxVertexCount=this._maxVertexCount,d.maxIndexCount=this._maxIndexCount,d.geometryInitialized=this._geometryInitialized,d.geometryCount=this._geometryCount,d.matricesTexture=this._matricesTexture.toJSON(i),this._colorsTexture!==null&&(d.colorsTexture=this._colorsTexture.toJSON(i)),this.boundingSphere!==null&&(d.boundingSphere={center:d.boundingSphere.center.toArray(),radius:d.boundingSphere.radius}),this.boundingBox!==null&&(d.boundingBox={min:d.boundingBox.min.toArray(),max:d.boundingBox.max.toArray()}));function E(M,Q){return M[Q.uuid]===void 0&&(M[Q.uuid]=Q.toJSON(i)),Q.uuid}if(this.isScene)this.background&&(this.background.isColor?d.background=this.background.toJSON():this.background.isTexture&&(d.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(d.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){d.geometry=E(i.geometries,this.geometry);const M=this.geometry.parameters;if(M!==void 0&&M.shapes!==void 0){const Q=M.shapes;if(Array.isArray(Q))for(let P=0,O=Q.length;P<O;P++){const H=Q[P];E(i.shapes,H)}else E(i.shapes,Q)}}if(this.isSkinnedMesh&&(d.bindMode=this.bindMode,d.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(E(i.skeletons,this.skeleton),d.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const M=[];for(let Q=0,P=this.material.length;Q<P;Q++)M.push(E(i.materials,this.material[Q]));d.material=M}else d.material=E(i.materials,this.material);if(this.children.length>0){d.children=[];for(let M=0;M<this.children.length;M++)d.children.push(this.children[M].toJSON(i).object)}if(this.animations.length>0){d.animations=[];for(let M=0;M<this.animations.length;M++){const Q=this.animations[M];d.animations.push(E(i.animations,Q))}}if(a){const M=B(i.geometries),Q=B(i.materials),P=B(i.textures),O=B(i.images),H=B(i.shapes),z=B(i.skeletons),J=B(i.animations),j=B(i.nodes);M.length>0&&(u.geometries=M),Q.length>0&&(u.materials=Q),P.length>0&&(u.textures=P),O.length>0&&(u.images=O),H.length>0&&(u.shapes=H),z.length>0&&(u.skeletons=z),J.length>0&&(u.animations=J),j.length>0&&(u.nodes=j)}return u.object=d,u;function B(M){const Q=[];for(const P in M){const O=M[P];delete O.metadata,Q.push(O)}return Q}}clone(i){return new this.constructor().copy(this,i)}copy(i,a=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.animations=i.animations.slice(),this.userData=JSON.parse(JSON.stringify(i.userData)),a===!0)for(let u=0;u<i.children.length;u++){const d=i.children[u];this.add(d.clone())}return this}}os.DEFAULT_UP=new Dt(0,1,0),os.DEFAULT_MATRIX_AUTO_UPDATE=!0,os.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const vc=new Dt,cu=new Dt,Wv=new Dt,Bd=new Dt,Sp=new Dt,Wm=new Dt,ce=new Dt,Tp=new Dt,ar=new Dt,Jm=new Dt,f3=new qi,Jv=new qi,p3=new qi;class hA{constructor(i=new Dt,a=new Dt,u=new Dt){this.a=i,this.b=a,this.c=u}static getNormal(i,a,u,d){d.subVectors(u,a),vc.subVectors(i,a),d.cross(vc);const E=d.lengthSq();return E>0?d.multiplyScalar(1/Math.sqrt(E)):d.set(0,0,0)}static getBarycoord(i,a,u,d,E){vc.subVectors(d,a),cu.subVectors(u,a),Wv.subVectors(i,a);const B=vc.dot(vc),M=vc.dot(cu),Q=vc.dot(Wv),P=cu.dot(cu),O=cu.dot(Wv),H=B*P-M*M;if(H===0)return E.set(0,0,0),null;const z=1/H,J=(P*Q-M*O)*z,j=(B*O-M*Q)*z;return E.set(1-J-j,j,J)}static containsPoint(i,a,u,d){return this.getBarycoord(i,a,u,d,Bd)===null?!1:Bd.x>=0&&Bd.y>=0&&Bd.x+Bd.y<=1}static getInterpolation(i,a,u,d,E,B,M,Q){return this.getBarycoord(i,a,u,d,Bd)===null?(Q.x=0,Q.y=0,"z"in Q&&(Q.z=0),"w"in Q&&(Q.w=0),null):(Q.setScalar(0),Q.addScaledVector(E,Bd.x),Q.addScaledVector(B,Bd.y),Q.addScaledVector(M,Bd.z),Q)}static getInterpolatedAttribute(i,a,u,d,E,B){return f3.setScalar(0),Jv.setScalar(0),p3.setScalar(0),f3.fromBufferAttribute(i,a),Jv.fromBufferAttribute(i,u),p3.fromBufferAttribute(i,d),B.setScalar(0),B.addScaledVector(f3,E.x),B.addScaledVector(Jv,E.y),B.addScaledVector(p3,E.z),B}static isFrontFacing(i,a,u,d){return vc.subVectors(u,a),cu.subVectors(i,a),vc.cross(cu).dot(d)<0}set(i,a,u){return this.a.copy(i),this.b.copy(a),this.c.copy(u),this}setFromPointsAndIndices(i,a,u,d){return this.a.copy(i[a]),this.b.copy(i[u]),this.c.copy(i[d]),this}setFromAttributeAndIndices(i,a,u,d){return this.a.fromBufferAttribute(i,a),this.b.fromBufferAttribute(i,u),this.c.fromBufferAttribute(i,d),this}clone(){return new this.constructor().copy(this)}copy(i){return this.a.copy(i.a),this.b.copy(i.b),this.c.copy(i.c),this}getArea(){return vc.subVectors(this.c,this.b),cu.subVectors(this.a,this.b),vc.cross(cu).length()*.5}getMidpoint(i){return i.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(i){return hA.getNormal(this.a,this.b,this.c,i)}getPlane(i){return i.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(i,a){return hA.getBarycoord(i,this.a,this.b,this.c,a)}getInterpolation(i,a,u,d,E){return hA.getInterpolation(i,this.a,this.b,this.c,a,u,d,E)}containsPoint(i){return hA.containsPoint(i,this.a,this.b,this.c)}isFrontFacing(i){return hA.isFrontFacing(this.a,this.b,this.c,i)}intersectsBox(i){return i.intersectsTriangle(this)}closestPointToPoint(i,a){const u=this.a,d=this.b,E=this.c;let B,M;Sp.subVectors(d,u),Wm.subVectors(E,u),Tp.subVectors(i,u);const Q=Sp.dot(Tp),P=Wm.dot(Tp);if(Q<=0&&P<=0)return a.copy(u);ar.subVectors(i,d);const O=Sp.dot(ar),H=Wm.dot(ar);if(O>=0&&H<=O)return a.copy(d);const z=Q*H-O*P;if(z<=0&&Q>=0&&O<=0)return B=Q/(Q-O),a.copy(u).addScaledVector(Sp,B);Jm.subVectors(i,E);const J=Sp.dot(Jm),j=Wm.dot(Jm);if(j>=0&&J<=j)return a.copy(E);const nt=J*P-Q*j;if(nt<=0&&P>=0&&j<=0)return M=P/(P-j),a.copy(u).addScaledVector(Wm,M);const q=O*j-J*H;if(q<=0&&H-O>=0&&J-j>=0)return ce.subVectors(E,d),M=(H-O)/(H-O+(J-j)),a.copy(d).addScaledVector(ce,M);const Z=1/(q+nt+z);return B=nt*Z,M=z*Z,a.copy(u).addScaledVector(Sp,B).addScaledVector(Wm,M)}equals(i){return i.a.equals(this.a)&&i.b.equals(this.b)&&i.c.equals(this.c)}}const hu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ta={h:0,s:0,l:0},Ym={h:0,s:0,l:0};function Yv(C,i,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?C+(i-C)*6*a:a<1/2?i:a<2/3?C+(i-C)*6*(2/3-a):C}class gn{constructor(i,a,u){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(i,a,u)}set(i,a,u){if(a===void 0&&u===void 0){const d=i;d&&d.isColor?this.copy(d):typeof d=="number"?this.setHex(d):typeof d=="string"&&this.setStyle(d)}else this.setRGB(i,a,u);return this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,a=Na){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(i&255)/255,Ui.toWorkingColorSpace(this,a),this}setRGB(i,a,u,d=Ui.workingColorSpace){return this.r=i,this.g=a,this.b=u,Ui.toWorkingColorSpace(this,d),this}setHSL(i,a,u,d=Ui.workingColorSpace){if(i=a3(i,1),a=Ws(a,0,1),u=Ws(u,0,1),a===0)this.r=this.g=this.b=u;else{const E=u<=.5?u*(1+a):u+a-u*a,B=2*u-E;this.r=Yv(B,E,i+1/3),this.g=Yv(B,E,i),this.b=Yv(B,E,i-1/3)}return Ui.toWorkingColorSpace(this,d),this}setStyle(i,a=Na){function u(E){E!==void 0&&parseFloat(E)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let d;if(d=/^(\w+)\(([^\)]*)\)/.exec(i)){let E;const B=d[1],M=d[2];switch(B){case"rgb":case"rgba":if(E=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(M))return u(E[4]),this.setRGB(Math.min(255,parseInt(E[1],10))/255,Math.min(255,parseInt(E[2],10))/255,Math.min(255,parseInt(E[3],10))/255,a);if(E=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(M))return u(E[4]),this.setRGB(Math.min(100,parseInt(E[1],10))/100,Math.min(100,parseInt(E[2],10))/100,Math.min(100,parseInt(E[3],10))/100,a);break;case"hsl":case"hsla":if(E=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(M))return u(E[4]),this.setHSL(parseFloat(E[1])/360,parseFloat(E[2])/100,parseFloat(E[3])/100,a);break;default:console.warn("THREE.Color: Unknown color model "+i)}}else if(d=/^\#([A-Fa-f\d]+)$/.exec(i)){const E=d[1],B=E.length;if(B===3)return this.setRGB(parseInt(E.charAt(0),16)/15,parseInt(E.charAt(1),16)/15,parseInt(E.charAt(2),16)/15,a);if(B===6)return this.setHex(parseInt(E,16),a);console.warn("THREE.Color: Invalid hex color "+i)}else if(i&&i.length>0)return this.setColorName(i,a);return this}setColorName(i,a=Na){const u=hu[i.toLowerCase()];return u!==void 0?this.setHex(u,a):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=Ic(i.r),this.g=Ic(i.g),this.b=Ic(i.b),this}copyLinearToSRGB(i){return this.r=ou(i.r),this.g=ou(i.g),this.b=ou(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=Na){return Ui.fromWorkingColorSpace(Ha.copy(this),i),Math.round(Ws(Ha.r*255,0,255))*65536+Math.round(Ws(Ha.g*255,0,255))*256+Math.round(Ws(Ha.b*255,0,255))}getHexString(i=Na){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,a=Ui.workingColorSpace){Ui.fromWorkingColorSpace(Ha.copy(this),a);const u=Ha.r,d=Ha.g,E=Ha.b,B=Math.max(u,d,E),M=Math.min(u,d,E);let Q,P;const O=(M+B)/2;if(M===B)Q=0,P=0;else{const H=B-M;switch(P=O<=.5?H/(B+M):H/(2-B-M),B){case u:Q=(d-E)/H+(d<E?6:0);break;case d:Q=(E-u)/H+2;break;case E:Q=(u-d)/H+4;break}Q/=6}return i.h=Q,i.s=P,i.l=O,i}getRGB(i,a=Ui.workingColorSpace){return Ui.fromWorkingColorSpace(Ha.copy(this),a),i.r=Ha.r,i.g=Ha.g,i.b=Ha.b,i}getStyle(i=Na){Ui.fromWorkingColorSpace(Ha.copy(this),i);const a=Ha.r,u=Ha.g,d=Ha.b;return i!==Na?`color(${i} ${a.toFixed(3)} ${u.toFixed(3)} ${d.toFixed(3)})`:`rgb(${Math.round(a*255)},${Math.round(u*255)},${Math.round(d*255)})`}offsetHSL(i,a,u){return this.getHSL(Ta),this.setHSL(Ta.h+i,Ta.s+a,Ta.l+u)}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,a){return this.r=i.r+a.r,this.g=i.g+a.g,this.b=i.b+a.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,a){return this.r+=(i.r-this.r)*a,this.g+=(i.g-this.g)*a,this.b+=(i.b-this.b)*a,this}lerpColors(i,a,u){return this.r=i.r+(a.r-i.r)*u,this.g=i.g+(a.g-i.g)*u,this.b=i.b+(a.b-i.b)*u,this}lerpHSL(i,a){this.getHSL(Ta),i.getHSL(Ym);const u=km(Ta.h,Ym.h,a),d=km(Ta.s,Ym.s,a),E=km(Ta.l,Ym.l,a);return this.setHSL(u,d,E),this}setFromVector3(i){return this.r=i.x,this.g=i.y,this.b=i.z,this}applyMatrix3(i){const a=this.r,u=this.g,d=this.b,E=i.elements;return this.r=E[0]*a+E[3]*u+E[6]*d,this.g=E[1]*a+E[4]*u+E[7]*d,this.b=E[2]*a+E[5]*u+E[8]*d,this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,a=0){return this.r=i[a],this.g=i[a+1],this.b=i[a+2],this}toArray(i=[],a=0){return i[a]=this.r,i[a+1]=this.g,i[a+2]=this.b,i}fromBufferAttribute(i,a){return this.r=i.getX(a),this.g=i.getY(a),this.b=i.getZ(a),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ha=new gn;gn.NAMES=hu;let Zv=0;class la extends dh{static get type(){return"Material"}get type(){return this.constructor.type}set type(i){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Zv++}),this.uuid=UA(),this.name="",this.blending=El,this.side=PA,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=aE,this.blendDst=lE,this.blendEquation=ch,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gn(0,0,0),this.blendAlpha=0,this.depthFunc=Ap,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=i3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xd,this.stencilZFail=xd,this.stencilZPass=xd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(i){this._alphaTest>0!=i>0&&this.version++,this._alphaTest=i}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(i){if(i!==void 0)for(const a in i){const u=i[a];if(u===void 0){console.warn(`THREE.Material: parameter '${a}' has value of undefined.`);continue}const d=this[a];if(d===void 0){console.warn(`THREE.Material: '${a}' is not a property of THREE.${this.type}.`);continue}d&&d.isColor?d.set(u):d&&d.isVector3&&u&&u.isVector3?d.copy(u):this[a]=u}}toJSON(i){const a=i===void 0||typeof i=="string";a&&(i={textures:{},images:{}});const u={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};u.uuid=this.uuid,u.type=this.type,this.name!==""&&(u.name=this.name),this.color&&this.color.isColor&&(u.color=this.color.getHex()),this.roughness!==void 0&&(u.roughness=this.roughness),this.metalness!==void 0&&(u.metalness=this.metalness),this.sheen!==void 0&&(u.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(u.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(u.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(u.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(u.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(u.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(u.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(u.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(u.shininess=this.shininess),this.clearcoat!==void 0&&(u.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(u.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(u.clearcoatMap=this.clearcoatMap.toJSON(i).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(u.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(i).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(u.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(i).uuid,u.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(u.dispersion=this.dispersion),this.iridescence!==void 0&&(u.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(u.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(u.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(u.iridescenceMap=this.iridescenceMap.toJSON(i).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(u.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(i).uuid),this.anisotropy!==void 0&&(u.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(u.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(u.anisotropyMap=this.anisotropyMap.toJSON(i).uuid),this.map&&this.map.isTexture&&(u.map=this.map.toJSON(i).uuid),this.matcap&&this.matcap.isTexture&&(u.matcap=this.matcap.toJSON(i).uuid),this.alphaMap&&this.alphaMap.isTexture&&(u.alphaMap=this.alphaMap.toJSON(i).uuid),this.lightMap&&this.lightMap.isTexture&&(u.lightMap=this.lightMap.toJSON(i).uuid,u.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(u.aoMap=this.aoMap.toJSON(i).uuid,u.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(u.bumpMap=this.bumpMap.toJSON(i).uuid,u.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(u.normalMap=this.normalMap.toJSON(i).uuid,u.normalMapType=this.normalMapType,u.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(u.displacementMap=this.displacementMap.toJSON(i).uuid,u.displacementScale=this.displacementScale,u.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(u.roughnessMap=this.roughnessMap.toJSON(i).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(u.metalnessMap=this.metalnessMap.toJSON(i).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(u.emissiveMap=this.emissiveMap.toJSON(i).uuid),this.specularMap&&this.specularMap.isTexture&&(u.specularMap=this.specularMap.toJSON(i).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(u.specularIntensityMap=this.specularIntensityMap.toJSON(i).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(u.specularColorMap=this.specularColorMap.toJSON(i).uuid),this.envMap&&this.envMap.isTexture&&(u.envMap=this.envMap.toJSON(i).uuid,this.combine!==void 0&&(u.combine=this.combine)),this.envMapRotation!==void 0&&(u.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(u.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(u.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(u.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(u.gradientMap=this.gradientMap.toJSON(i).uuid),this.transmission!==void 0&&(u.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(u.transmissionMap=this.transmissionMap.toJSON(i).uuid),this.thickness!==void 0&&(u.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(u.thicknessMap=this.thicknessMap.toJSON(i).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(u.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(u.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(u.size=this.size),this.shadowSide!==null&&(u.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(u.sizeAttenuation=this.sizeAttenuation),this.blending!==El&&(u.blending=this.blending),this.side!==PA&&(u.side=this.side),this.vertexColors===!0&&(u.vertexColors=!0),this.opacity<1&&(u.opacity=this.opacity),this.transparent===!0&&(u.transparent=!0),this.blendSrc!==aE&&(u.blendSrc=this.blendSrc),this.blendDst!==lE&&(u.blendDst=this.blendDst),this.blendEquation!==ch&&(u.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(u.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(u.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(u.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(u.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(u.blendAlpha=this.blendAlpha),this.depthFunc!==Ap&&(u.depthFunc=this.depthFunc),this.depthTest===!1&&(u.depthTest=this.depthTest),this.depthWrite===!1&&(u.depthWrite=this.depthWrite),this.colorWrite===!1&&(u.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(u.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==i3&&(u.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(u.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(u.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xd&&(u.stencilFail=this.stencilFail),this.stencilZFail!==xd&&(u.stencilZFail=this.stencilZFail),this.stencilZPass!==xd&&(u.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(u.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(u.rotation=this.rotation),this.polygonOffset===!0&&(u.polygonOffset=!0),this.polygonOffsetFactor!==0&&(u.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(u.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(u.linewidth=this.linewidth),this.dashSize!==void 0&&(u.dashSize=this.dashSize),this.gapSize!==void 0&&(u.gapSize=this.gapSize),this.scale!==void 0&&(u.scale=this.scale),this.dithering===!0&&(u.dithering=!0),this.alphaTest>0&&(u.alphaTest=this.alphaTest),this.alphaHash===!0&&(u.alphaHash=!0),this.alphaToCoverage===!0&&(u.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(u.premultipliedAlpha=!0),this.forceSinglePass===!0&&(u.forceSinglePass=!0),this.wireframe===!0&&(u.wireframe=!0),this.wireframeLinewidth>1&&(u.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(u.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(u.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(u.flatShading=!0),this.visible===!1&&(u.visible=!1),this.toneMapped===!1&&(u.toneMapped=!1),this.fog===!1&&(u.fog=!1),Object.keys(this.userData).length>0&&(u.userData=this.userData);function d(E){const B=[];for(const M in E){const Q=E[M];delete Q.metadata,B.push(Q)}return B}if(a){const E=d(i.textures),B=d(i.images);E.length>0&&(u.textures=E),B.length>0&&(u.images=B)}return u}clone(){return new this.constructor().copy(this)}copy(i){this.name=i.name,this.blending=i.blending,this.side=i.side,this.vertexColors=i.vertexColors,this.opacity=i.opacity,this.transparent=i.transparent,this.blendSrc=i.blendSrc,this.blendDst=i.blendDst,this.blendEquation=i.blendEquation,this.blendSrcAlpha=i.blendSrcAlpha,this.blendDstAlpha=i.blendDstAlpha,this.blendEquationAlpha=i.blendEquationAlpha,this.blendColor.copy(i.blendColor),this.blendAlpha=i.blendAlpha,this.depthFunc=i.depthFunc,this.depthTest=i.depthTest,this.depthWrite=i.depthWrite,this.stencilWriteMask=i.stencilWriteMask,this.stencilFunc=i.stencilFunc,this.stencilRef=i.stencilRef,this.stencilFuncMask=i.stencilFuncMask,this.stencilFail=i.stencilFail,this.stencilZFail=i.stencilZFail,this.stencilZPass=i.stencilZPass,this.stencilWrite=i.stencilWrite;const a=i.clippingPlanes;let u=null;if(a!==null){const d=a.length;u=new Array(d);for(let E=0;E!==d;++E)u[E]=a[E].clone()}return this.clippingPlanes=u,this.clipIntersection=i.clipIntersection,this.clipShadows=i.clipShadows,this.shadowSide=i.shadowSide,this.colorWrite=i.colorWrite,this.precision=i.precision,this.polygonOffset=i.polygonOffset,this.polygonOffsetFactor=i.polygonOffsetFactor,this.polygonOffsetUnits=i.polygonOffsetUnits,this.dithering=i.dithering,this.alphaTest=i.alphaTest,this.alphaHash=i.alphaHash,this.alphaToCoverage=i.alphaToCoverage,this.premultipliedAlpha=i.premultipliedAlpha,this.forceSinglePass=i.forceSinglePass,this.visible=i.visible,this.toneMapped=i.toneMapped,this.userData=JSON.parse(JSON.stringify(i.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(i){i===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class kf extends la{static get type(){return"MeshBasicMaterial"}constructor(i){super(),this.isMeshBasicMaterial=!0,this.color=new gn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cA,this.combine=AE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapRotation.copy(i.envMapRotation),this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.fog=i.fog,this}}const uu=y6();function y6(){const C=new ArrayBuffer(4),i=new Float32Array(C),a=new Uint32Array(C),u=new Uint32Array(512),d=new Uint32Array(512);for(let Q=0;Q<256;++Q){const P=Q-127;P<-27?(u[Q]=0,u[Q|256]=32768,d[Q]=24,d[Q|256]=24):P<-14?(u[Q]=1024>>-P-14,u[Q|256]=1024>>-P-14|32768,d[Q]=-P-1,d[Q|256]=-P-1):P<=15?(u[Q]=P+15<<10,u[Q|256]=P+15<<10|32768,d[Q]=13,d[Q|256]=13):P<128?(u[Q]=31744,u[Q|256]=64512,d[Q]=24,d[Q|256]=24):(u[Q]=31744,u[Q|256]=64512,d[Q]=13,d[Q|256]=13)}const E=new Uint32Array(2048),B=new Uint32Array(64),M=new Uint32Array(64);for(let Q=1;Q<1024;++Q){let P=Q<<13,O=0;for(;!(P&8388608);)P<<=1,O-=8388608;P&=-8388609,O+=947912704,E[Q]=P|O}for(let Q=1024;Q<2048;++Q)E[Q]=939524096+(Q-1024<<13);for(let Q=1;Q<31;++Q)B[Q]=Q<<23;B[31]=1199570944,B[32]=2147483648;for(let Q=33;Q<63;++Q)B[Q]=2147483648+(Q-32<<23);B[63]=3347054592;for(let Q=1;Q<64;++Q)Q!==32&&(M[Q]=1024);return{floatView:i,uint32View:a,baseTable:u,shiftTable:d,mantissaTable:E,exponentTable:B,offsetTable:M}}function Sl(C){Math.abs(C)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),C=Ws(C,-65504,65504),uu.floatView[0]=C;const i=uu.uint32View[0],a=i>>23&511;return uu.baseTable[a]+((i&8388607)>>uu.shiftTable[a])}function Dp(C){const i=C>>10;return uu.uint32View[0]=uu.mantissaTable[uu.offsetTable[i]+(C&1023)]+uu.exponentTable[i],uu.floatView[0]}const Kv={toHalfFloat:Sl,fromHalfFloat:Dp},po=new Dt,g3=new Le;class Bs{constructor(i,a,u=!1){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=i,this.itemSize=a,this.count=i!==void 0?i.length/a:0,this.normalized=u,this.usage=ME,this.updateRanges=[],this.gpuType=aA,this.version=0}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}addUpdateRange(i,a){this.updateRanges.push({start:i,count:a})}clearUpdateRanges(){this.updateRanges.length=0}copy(i){return this.name=i.name,this.array=new i.array.constructor(i.array),this.itemSize=i.itemSize,this.count=i.count,this.normalized=i.normalized,this.usage=i.usage,this.gpuType=i.gpuType,this}copyAt(i,a,u){i*=this.itemSize,u*=a.itemSize;for(let d=0,E=this.itemSize;d<E;d++)this.array[i+d]=a.array[u+d];return this}copyArray(i){return this.array.set(i),this}applyMatrix3(i){if(this.itemSize===2)for(let a=0,u=this.count;a<u;a++)g3.fromBufferAttribute(this,a),g3.applyMatrix3(i),this.setXY(a,g3.x,g3.y);else if(this.itemSize===3)for(let a=0,u=this.count;a<u;a++)po.fromBufferAttribute(this,a),po.applyMatrix3(i),this.setXYZ(a,po.x,po.y,po.z);return this}applyMatrix4(i){for(let a=0,u=this.count;a<u;a++)po.fromBufferAttribute(this,a),po.applyMatrix4(i),this.setXYZ(a,po.x,po.y,po.z);return this}applyNormalMatrix(i){for(let a=0,u=this.count;a<u;a++)po.fromBufferAttribute(this,a),po.applyNormalMatrix(i),this.setXYZ(a,po.x,po.y,po.z);return this}transformDirection(i){for(let a=0,u=this.count;a<u;a++)po.fromBufferAttribute(this,a),po.transformDirection(i),this.setXYZ(a,po.x,po.y,po.z);return this}set(i,a=0){return this.array.set(i,a),this}getComponent(i,a){let u=this.array[i*this.itemSize+a];return this.normalized&&(u=Bl(u,this.array)),u}setComponent(i,a,u){return this.normalized&&(u=vi(u,this.array)),this.array[i*this.itemSize+a]=u,this}getX(i){let a=this.array[i*this.itemSize];return this.normalized&&(a=Bl(a,this.array)),a}setX(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize]=a,this}getY(i){let a=this.array[i*this.itemSize+1];return this.normalized&&(a=Bl(a,this.array)),a}setY(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+1]=a,this}getZ(i){let a=this.array[i*this.itemSize+2];return this.normalized&&(a=Bl(a,this.array)),a}setZ(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+2]=a,this}getW(i){let a=this.array[i*this.itemSize+3];return this.normalized&&(a=Bl(a,this.array)),a}setW(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+3]=a,this}setXY(i,a,u){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array)),this.array[i+0]=a,this.array[i+1]=u,this}setXYZ(i,a,u,d){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array)),this.array[i+0]=a,this.array[i+1]=u,this.array[i+2]=d,this}setXYZW(i,a,u,d,E){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array),E=vi(E,this.array)),this.array[i+0]=a,this.array[i+1]=u,this.array[i+2]=d,this.array[i+3]=E,this}onUpload(i){return this.onUploadCallback=i,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const i={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(i.name=this.name),this.usage!==ME&&(i.usage=this.usage),i}}class LP extends Bs{constructor(i,a,u){super(new Int8Array(i),a,u)}}class Xv extends Bs{constructor(i,a,u){super(new Uint8Array(i),a,u)}}class Rp extends Bs{constructor(i,a,u){super(new Uint8ClampedArray(i),a,u)}}class PP extends Bs{constructor(i,a,u){super(new Int16Array(i),a,u)}}class jv extends Bs{constructor(i,a,u){super(new Uint16Array(i),a,u)}}class x6 extends Bs{constructor(i,a,u){super(new Int32Array(i),a,u)}}class qv extends Bs{constructor(i,a,u){super(new Uint32Array(i),a,u)}}class FP extends Bs{constructor(i,a,u){super(new Uint16Array(i),a,u),this.isFloat16BufferAttribute=!0}getX(i){let a=Dp(this.array[i*this.itemSize]);return this.normalized&&(a=Bl(a,this.array)),a}setX(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize]=Sl(a),this}getY(i){let a=Dp(this.array[i*this.itemSize+1]);return this.normalized&&(a=Bl(a,this.array)),a}setY(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+1]=Sl(a),this}getZ(i){let a=Dp(this.array[i*this.itemSize+2]);return this.normalized&&(a=Bl(a,this.array)),a}setZ(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+2]=Sl(a),this}getW(i){let a=Dp(this.array[i*this.itemSize+3]);return this.normalized&&(a=Bl(a,this.array)),a}setW(i,a){return this.normalized&&(a=vi(a,this.array)),this.array[i*this.itemSize+3]=Sl(a),this}setXY(i,a,u){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array)),this.array[i+0]=Sl(a),this.array[i+1]=Sl(u),this}setXYZ(i,a,u,d){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array)),this.array[i+0]=Sl(a),this.array[i+1]=Sl(u),this.array[i+2]=Sl(d),this}setXYZW(i,a,u,d,E){return i*=this.itemSize,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array),E=vi(E,this.array)),this.array[i+0]=Sl(a),this.array[i+1]=Sl(u),this.array[i+2]=Sl(d),this.array[i+3]=Sl(E),this}}class Sn extends Bs{constructor(i,a,u){super(new Float32Array(i),a,u)}}let NE=0;const bc=new ui,m3=new os,Qp=new Dt,uA=new ba,Zm=new ba,Fo=new Dt;class Ri extends dh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:NE++}),this.uuid=UA(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(i){return Array.isArray(i)?this.index=new(DE(i)?qv:jv)(i,1):this.index=i,this}setIndirect(i){return this.indirect=i,this}getIndirect(){return this.indirect}getAttribute(i){return this.attributes[i]}setAttribute(i,a){return this.attributes[i]=a,this}deleteAttribute(i){return delete this.attributes[i],this}hasAttribute(i){return this.attributes[i]!==void 0}addGroup(i,a,u=0){this.groups.push({start:i,count:a,materialIndex:u})}clearGroups(){this.groups=[]}setDrawRange(i,a){this.drawRange.start=i,this.drawRange.count=a}applyMatrix4(i){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(i),a.needsUpdate=!0);const u=this.attributes.normal;if(u!==void 0){const E=new Ii().getNormalMatrix(i);u.applyNormalMatrix(E),u.needsUpdate=!0}const d=this.attributes.tangent;return d!==void 0&&(d.transformDirection(i),d.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(i){return bc.makeRotationFromQuaternion(i),this.applyMatrix4(bc),this}rotateX(i){return bc.makeRotationX(i),this.applyMatrix4(bc),this}rotateY(i){return bc.makeRotationY(i),this.applyMatrix4(bc),this}rotateZ(i){return bc.makeRotationZ(i),this.applyMatrix4(bc),this}translate(i,a,u){return bc.makeTranslation(i,a,u),this.applyMatrix4(bc),this}scale(i,a,u){return bc.makeScale(i,a,u),this.applyMatrix4(bc),this}lookAt(i){return m3.lookAt(i),m3.updateMatrix(),this.applyMatrix4(m3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qp).negate(),this.translate(Qp.x,Qp.y,Qp.z),this}setFromPoints(i){const a=this.getAttribute("position");if(a===void 0){const u=[];for(let d=0,E=i.length;d<E;d++){const B=i[d];u.push(B.x,B.y,B.z||0)}this.setAttribute("position",new Sn(u,3))}else{for(let u=0,d=a.count;u<d;u++){const E=i[u];a.setXYZ(u,E.x,E.y,E.z||0)}i.length>a.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),a.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ba);const i=this.attributes.position,a=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Dt(-1/0,-1/0,-1/0),new Dt(1/0,1/0,1/0));return}if(i!==void 0){if(this.boundingBox.setFromBufferAttribute(i),a)for(let u=0,d=a.length;u<d;u++){const E=a[u];uA.setFromBufferAttribute(E),this.morphTargetsRelative?(Fo.addVectors(this.boundingBox.min,uA.min),this.boundingBox.expandByPoint(Fo),Fo.addVectors(this.boundingBox.max,uA.max),this.boundingBox.expandByPoint(Fo)):(this.boundingBox.expandByPoint(uA.min),this.boundingBox.expandByPoint(uA.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lo);const i=this.attributes.position,a=this.morphAttributes.position;if(i&&i.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Dt,1/0);return}if(i){const u=this.boundingSphere.center;if(uA.setFromBufferAttribute(i),a)for(let E=0,B=a.length;E<B;E++){const M=a[E];Zm.setFromBufferAttribute(M),this.morphTargetsRelative?(Fo.addVectors(uA.min,Zm.min),uA.expandByPoint(Fo),Fo.addVectors(uA.max,Zm.max),uA.expandByPoint(Fo)):(uA.expandByPoint(Zm.min),uA.expandByPoint(Zm.max))}uA.getCenter(u);let d=0;for(let E=0,B=i.count;E<B;E++)Fo.fromBufferAttribute(i,E),d=Math.max(d,u.distanceToSquared(Fo));if(a)for(let E=0,B=a.length;E<B;E++){const M=a[E],Q=this.morphTargetsRelative;for(let P=0,O=M.count;P<O;P++)Fo.fromBufferAttribute(M,P),Q&&(Qp.fromBufferAttribute(i,P),Fo.add(Qp)),d=Math.max(d,u.distanceToSquared(Fo))}this.boundingSphere.radius=Math.sqrt(d),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const i=this.index,a=this.attributes;if(i===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const u=a.position,d=a.normal,E=a.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Bs(new Float32Array(4*u.count),4));const B=this.getAttribute("tangent"),M=[],Q=[];for(let Ut=0;Ut<u.count;Ut++)M[Ut]=new Dt,Q[Ut]=new Dt;const P=new Dt,O=new Dt,H=new Dt,z=new Le,J=new Le,j=new Le,nt=new Dt,q=new Dt;function Z(Ut,xt,pt){P.fromBufferAttribute(u,Ut),O.fromBufferAttribute(u,xt),H.fromBufferAttribute(u,pt),z.fromBufferAttribute(E,Ut),J.fromBufferAttribute(E,xt),j.fromBufferAttribute(E,pt),O.sub(P),H.sub(P),J.sub(z),j.sub(z);const Ht=1/(J.x*j.y-j.x*J.y);isFinite(Ht)&&(nt.copy(O).multiplyScalar(j.y).addScaledVector(H,-J.y).multiplyScalar(Ht),q.copy(H).multiplyScalar(J.x).addScaledVector(O,-j.x).multiplyScalar(Ht),M[Ut].add(nt),M[xt].add(nt),M[pt].add(nt),Q[Ut].add(q),Q[xt].add(q),Q[pt].add(q))}let ut=this.groups;ut.length===0&&(ut=[{start:0,count:i.count}]);for(let Ut=0,xt=ut.length;Ut<xt;++Ut){const pt=ut[Ut],Ht=pt.start,le=pt.count;for(let re=Ht,Ae=Ht+le;re<Ae;re+=3)Z(i.getX(re+0),i.getX(re+1),i.getX(re+2))}const ct=new Dt,lt=new Dt,Vt=new Dt,Tt=new Dt;function Qt(Ut){Vt.fromBufferAttribute(d,Ut),Tt.copy(Vt);const xt=M[Ut];ct.copy(xt),ct.sub(Vt.multiplyScalar(Vt.dot(xt))).normalize(),lt.crossVectors(Tt,xt);const Ht=lt.dot(Q[Ut])<0?-1:1;B.setXYZW(Ut,ct.x,ct.y,ct.z,Ht)}for(let Ut=0,xt=ut.length;Ut<xt;++Ut){const pt=ut[Ut],Ht=pt.start,le=pt.count;for(let re=Ht,Ae=Ht+le;re<Ae;re+=3)Qt(i.getX(re+0)),Qt(i.getX(re+1)),Qt(i.getX(re+2))}}computeVertexNormals(){const i=this.index,a=this.getAttribute("position");if(a!==void 0){let u=this.getAttribute("normal");if(u===void 0)u=new Bs(new Float32Array(a.count*3),3),this.setAttribute("normal",u);else for(let z=0,J=u.count;z<J;z++)u.setXYZ(z,0,0,0);const d=new Dt,E=new Dt,B=new Dt,M=new Dt,Q=new Dt,P=new Dt,O=new Dt,H=new Dt;if(i)for(let z=0,J=i.count;z<J;z+=3){const j=i.getX(z+0),nt=i.getX(z+1),q=i.getX(z+2);d.fromBufferAttribute(a,j),E.fromBufferAttribute(a,nt),B.fromBufferAttribute(a,q),O.subVectors(B,E),H.subVectors(d,E),O.cross(H),M.fromBufferAttribute(u,j),Q.fromBufferAttribute(u,nt),P.fromBufferAttribute(u,q),M.add(O),Q.add(O),P.add(O),u.setXYZ(j,M.x,M.y,M.z),u.setXYZ(nt,Q.x,Q.y,Q.z),u.setXYZ(q,P.x,P.y,P.z)}else for(let z=0,J=a.count;z<J;z+=3)d.fromBufferAttribute(a,z+0),E.fromBufferAttribute(a,z+1),B.fromBufferAttribute(a,z+2),O.subVectors(B,E),H.subVectors(d,E),O.cross(H),u.setXYZ(z+0,O.x,O.y,O.z),u.setXYZ(z+1,O.x,O.y,O.z),u.setXYZ(z+2,O.x,O.y,O.z);this.normalizeNormals(),u.needsUpdate=!0}}normalizeNormals(){const i=this.attributes.normal;for(let a=0,u=i.count;a<u;a++)Fo.fromBufferAttribute(i,a),Fo.normalize(),i.setXYZ(a,Fo.x,Fo.y,Fo.z)}toNonIndexed(){function i(M,Q){const P=M.array,O=M.itemSize,H=M.normalized,z=new P.constructor(Q.length*O);let J=0,j=0;for(let nt=0,q=Q.length;nt<q;nt++){M.isInterleavedBufferAttribute?J=Q[nt]*M.data.stride+M.offset:J=Q[nt]*O;for(let Z=0;Z<O;Z++)z[j++]=P[J++]}return new Bs(z,O,H)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new Ri,u=this.index.array,d=this.attributes;for(const M in d){const Q=d[M],P=i(Q,u);a.setAttribute(M,P)}const E=this.morphAttributes;for(const M in E){const Q=[],P=E[M];for(let O=0,H=P.length;O<H;O++){const z=P[O],J=i(z,u);Q.push(J)}a.morphAttributes[M]=Q}a.morphTargetsRelative=this.morphTargetsRelative;const B=this.groups;for(let M=0,Q=B.length;M<Q;M++){const P=B[M];a.addGroup(P.start,P.count,P.materialIndex)}return a}toJSON(){const i={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),Object.keys(this.userData).length>0&&(i.userData=this.userData),this.parameters!==void 0){const Q=this.parameters;for(const P in Q)Q[P]!==void 0&&(i[P]=Q[P]);return i}i.data={attributes:{}};const a=this.index;a!==null&&(i.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const u=this.attributes;for(const Q in u){const P=u[Q];i.data.attributes[Q]=P.toJSON(i.data)}const d={};let E=!1;for(const Q in this.morphAttributes){const P=this.morphAttributes[Q],O=[];for(let H=0,z=P.length;H<z;H++){const J=P[H];O.push(J.toJSON(i.data))}O.length>0&&(d[Q]=O,E=!0)}E&&(i.data.morphAttributes=d,i.data.morphTargetsRelative=this.morphTargetsRelative);const B=this.groups;B.length>0&&(i.data.groups=JSON.parse(JSON.stringify(B)));const M=this.boundingSphere;return M!==null&&(i.data.boundingSphere={center:M.center.toArray(),radius:M.radius}),i}clone(){return new this.constructor().copy(this)}copy(i){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=i.name;const u=i.index;u!==null&&this.setIndex(u.clone(a));const d=i.attributes;for(const P in d){const O=d[P];this.setAttribute(P,O.clone(a))}const E=i.morphAttributes;for(const P in E){const O=[],H=E[P];for(let z=0,J=H.length;z<J;z++)O.push(H[z].clone(a));this.morphAttributes[P]=O}this.morphTargetsRelative=i.morphTargetsRelative;const B=i.groups;for(let P=0,O=B.length;P<O;P++){const H=B[P];this.addGroup(H.start,H.count,H.materialIndex)}const M=i.boundingBox;M!==null&&(this.boundingBox=M.clone());const Q=i.boundingSphere;return Q!==null&&(this.boundingSphere=Q.clone()),this.drawRange.start=i.drawRange.start,this.drawRange.count=i.drawRange.count,this.userData=i.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $v=new ui,Lf=new Gm,y3=new Lo,Km=new Dt,Xm=new Dt,Pf=new Dt,Ff=new Dt,x3=new Dt,du=new Dt,Uf=new Dt,GE=new Dt;class go extends os{constructor(i=new Ri,a=new kf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=i,this.material=a,this.updateMorphTargets()}copy(i,a){return super.copy(i,a),i.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=i.morphTargetInfluences.slice()),i.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},i.morphTargetDictionary)),this.material=Array.isArray(i.material)?i.material.slice():i.material,this.geometry=i.geometry,this}updateMorphTargets(){const a=this.geometry.morphAttributes,u=Object.keys(a);if(u.length>0){const d=a[u[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let E=0,B=d.length;E<B;E++){const M=d[E].name||String(E);this.morphTargetInfluences.push(0),this.morphTargetDictionary[M]=E}}}}getVertexPosition(i,a){const u=this.geometry,d=u.attributes.position,E=u.morphAttributes.position,B=u.morphTargetsRelative;a.fromBufferAttribute(d,i);const M=this.morphTargetInfluences;if(E&&M){du.set(0,0,0);for(let Q=0,P=E.length;Q<P;Q++){const O=M[Q],H=E[Q];O!==0&&(x3.fromBufferAttribute(H,i),B?du.addScaledVector(x3,O):du.addScaledVector(x3.sub(a),O))}a.add(du)}return a}raycast(i,a){const u=this.geometry,d=this.material,E=this.matrixWorld;d!==void 0&&(u.boundingSphere===null&&u.computeBoundingSphere(),y3.copy(u.boundingSphere),y3.applyMatrix4(E),Lf.copy(i.ray).recast(i.near),!(y3.containsPoint(Lf.origin)===!1&&(Lf.intersectSphere(y3,Km)===null||Lf.origin.distanceToSquared(Km)>(i.far-i.near)**2))&&($v.copy(E).invert(),Lf.copy(i.ray).applyMatrix4($v),!(u.boundingBox!==null&&Lf.intersectsBox(u.boundingBox)===!1)&&this._computeIntersections(i,a,Lf)))}_computeIntersections(i,a,u){let d;const E=this.geometry,B=this.material,M=E.index,Q=E.attributes.position,P=E.attributes.uv,O=E.attributes.uv1,H=E.attributes.normal,z=E.groups,J=E.drawRange;if(M!==null)if(Array.isArray(B))for(let j=0,nt=z.length;j<nt;j++){const q=z[j],Z=B[q.materialIndex],ut=Math.max(q.start,J.start),ct=Math.min(M.count,Math.min(q.start+q.count,J.start+J.count));for(let lt=ut,Vt=ct;lt<Vt;lt+=3){const Tt=M.getX(lt),Qt=M.getX(lt+1),Ut=M.getX(lt+2);d=OE(this,Z,i,u,P,O,H,Tt,Qt,Ut),d&&(d.faceIndex=Math.floor(lt/3),d.face.materialIndex=q.materialIndex,a.push(d))}}else{const j=Math.max(0,J.start),nt=Math.min(M.count,J.start+J.count);for(let q=j,Z=nt;q<Z;q+=3){const ut=M.getX(q),ct=M.getX(q+1),lt=M.getX(q+2);d=OE(this,B,i,u,P,O,H,ut,ct,lt),d&&(d.faceIndex=Math.floor(q/3),a.push(d))}}else if(Q!==void 0)if(Array.isArray(B))for(let j=0,nt=z.length;j<nt;j++){const q=z[j],Z=B[q.materialIndex],ut=Math.max(q.start,J.start),ct=Math.min(Q.count,Math.min(q.start+q.count,J.start+J.count));for(let lt=ut,Vt=ct;lt<Vt;lt+=3){const Tt=lt,Qt=lt+1,Ut=lt+2;d=OE(this,Z,i,u,P,O,H,Tt,Qt,Ut),d&&(d.faceIndex=Math.floor(lt/3),d.face.materialIndex=q.materialIndex,a.push(d))}}else{const j=Math.max(0,J.start),nt=Math.min(Q.count,J.start+J.count);for(let q=j,Z=nt;q<Z;q+=3){const ut=q,ct=q+1,lt=q+2;d=OE(this,B,i,u,P,O,H,ut,ct,lt),d&&(d.faceIndex=Math.floor(q/3),a.push(d))}}}}function UP(C,i,a,u,d,E,B,M){let Q;if(i.side===Ro?Q=u.intersectTriangle(B,E,d,!0,M):Q=u.intersectTriangle(d,E,B,i.side===PA,M),Q===null)return null;GE.copy(M),GE.applyMatrix4(C.matrixWorld);const P=a.ray.origin.distanceTo(GE);return P<a.near||P>a.far?null:{distance:P,point:GE.clone(),object:C}}function OE(C,i,a,u,d,E,B,M,Q,P){C.getVertexPosition(M,Xm),C.getVertexPosition(Q,Pf),C.getVertexPosition(P,Ff);const O=UP(C,i,a,u,Xm,Pf,Ff,Uf);if(O){const H=new Dt;hA.getBarycoord(Uf,Xm,Pf,Ff,H),d&&(O.uv=hA.getInterpolatedAttribute(d,M,Q,P,H,new Le)),E&&(O.uv1=hA.getInterpolatedAttribute(E,M,Q,P,H,new Le)),B&&(O.normal=hA.getInterpolatedAttribute(B,M,Q,P,H,new Dt),O.normal.dot(u.direction)>0&&O.normal.multiplyScalar(-1));const z={a:M,b:Q,c:P,normal:new Dt,materialIndex:0};hA.getNormal(Xm,Pf,Ff,z.normal),O.face=z,O.barycoord=H}return O}class Nf extends Ri{constructor(i=1,a=1,u=1,d=1,E=1,B=1){super(),this.type="BoxGeometry",this.parameters={width:i,height:a,depth:u,widthSegments:d,heightSegments:E,depthSegments:B};const M=this;d=Math.floor(d),E=Math.floor(E),B=Math.floor(B);const Q=[],P=[],O=[],H=[];let z=0,J=0;j("z","y","x",-1,-1,u,a,i,B,E,0),j("z","y","x",1,-1,u,a,-i,B,E,1),j("x","z","y",1,1,i,u,a,d,B,2),j("x","z","y",1,-1,i,u,-a,d,B,3),j("x","y","z",1,-1,i,a,u,d,E,4),j("x","y","z",-1,-1,i,a,-u,d,E,5),this.setIndex(Q),this.setAttribute("position",new Sn(P,3)),this.setAttribute("normal",new Sn(O,3)),this.setAttribute("uv",new Sn(H,2));function j(nt,q,Z,ut,ct,lt,Vt,Tt,Qt,Ut,xt){const pt=lt/Qt,Ht=Vt/Ut,le=lt/2,re=Vt/2,Ae=Tt/2,Pe=Qt+1,he=Ut+1;let Xe=0,fe=0;const an=new Dt;for(let hn=0;hn<he;hn++){const kn=hn*Ht-re;for(let bi=0;bi<Pe;bi++){const vs=bi*pt-le;an[nt]=vs*ut,an[q]=kn*ct,an[Z]=Ae,P.push(an.x,an.y,an.z),an[nt]=0,an[q]=0,an[Z]=Tt>0?1:-1,O.push(an.x,an.y,an.z),H.push(bi/Qt),H.push(1-hn/Ut),Xe+=1}}for(let hn=0;hn<Ut;hn++)for(let kn=0;kn<Qt;kn++){const bi=z+kn+Pe*hn,vs=z+kn+Pe*(hn+1),Se=z+(kn+1)+Pe*(hn+1),qe=z+(kn+1)+Pe*hn;Q.push(bi,vs,qe),Q.push(vs,Se,qe),fe+=6}M.addGroup(J,fe,xt),J+=fe,z+=Xe}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new Nf(i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments)}}function Gf(C){const i={};for(const a in C){i[a]={};for(const u in C[a]){const d=C[a][u];d&&(d.isColor||d.isMatrix3||d.isMatrix4||d.isVector2||d.isVector3||d.isVector4||d.isTexture||d.isQuaternion)?d.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),i[a][u]=null):i[a][u]=d.clone():Array.isArray(d)?i[a][u]=d.slice():i[a][u]=d}}return i}function Aa(C){const i={};for(let a=0;a<C.length;a++){const u=Gf(C[a]);for(const d in u)i[d]=u[d]}return i}function tb(C){const i=[];for(let a=0;a<C.length;a++)i.push(C[a].clone());return i}function eb(C){const i=C.getRenderTarget();return i===null?C.outputColorSpace:i.isXRRenderTarget===!0?i.texture.colorSpace:Ui.workingColorSpace}const jm={clone:Gf,merge:Aa};var nb=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,C3=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class GA extends la{static get type(){return"ShaderMaterial"}constructor(i){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nb,this.fragmentShader=C3,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,i!==void 0&&this.setValues(i)}copy(i){return super.copy(i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=Gf(i.uniforms),this.uniformsGroups=tb(i.uniformsGroups),this.defines=Object.assign({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.fog=i.fog,this.lights=i.lights,this.clipping=i.clipping,this.extensions=Object.assign({},i.extensions),this.glslVersion=i.glslVersion,this}toJSON(i){const a=super.toJSON(i);a.glslVersion=this.glslVersion,a.uniforms={};for(const d in this.uniforms){const B=this.uniforms[d].value;B&&B.isTexture?a.uniforms[d]={type:"t",value:B.toJSON(i).uuid}:B&&B.isColor?a.uniforms[d]={type:"c",value:B.getHex()}:B&&B.isVector2?a.uniforms[d]={type:"v2",value:B.toArray()}:B&&B.isVector3?a.uniforms[d]={type:"v3",value:B.toArray()}:B&&B.isVector4?a.uniforms[d]={type:"v4",value:B.toArray()}:B&&B.isMatrix3?a.uniforms[d]={type:"m3",value:B.toArray()}:B&&B.isMatrix4?a.uniforms[d]={type:"m4",value:B.toArray()}:a.uniforms[d]={value:B}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader,a.lights=this.lights,a.clipping=this.clipping;const u={};for(const d in this.extensions)this.extensions[d]===!0&&(u[d]=!0);return Object.keys(u).length>0&&(a.extensions=u),a}}class VE extends os{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ui,this.projectionMatrix=new ui,this.projectionMatrixInverse=new ui,this.coordinateSystem=uh}copy(i,a){return super.copy(i,a),this.matrixWorldInverse.copy(i.matrixWorldInverse),this.projectionMatrix.copy(i.projectionMatrix),this.projectionMatrixInverse.copy(i.projectionMatrixInverse),this.coordinateSystem=i.coordinateSystem,this}getWorldDirection(i){return super.getWorldDirection(i).negate()}updateMatrixWorld(i){super.updateMatrixWorld(i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(i,a){super.updateWorldMatrix(i,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Of=new Dt,HE=new Le,ib=new Le;class Uo extends VE{constructor(i=50,a=1,u=.1,d=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=i,this.zoom=1,this.near=u,this.far=d,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(i,a){return super.copy(i,a),this.fov=i.fov,this.zoom=i.zoom,this.near=i.near,this.far=i.far,this.focus=i.focus,this.aspect=i.aspect,this.view=i.view===null?null:Object.assign({},i.view),this.filmGauge=i.filmGauge,this.filmOffset=i.filmOffset,this}setFocalLength(i){const a=.5*this.getFilmHeight()/i;this.fov=Qm*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const i=Math.tan(Ep*.5*this.fov);return .5*this.getFilmHeight()/i}getEffectiveFOV(){return Qm*2*Math.atan(Math.tan(Ep*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(i,a,u){Of.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),a.set(Of.x,Of.y).multiplyScalar(-i/Of.z),Of.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),u.set(Of.x,Of.y).multiplyScalar(-i/Of.z)}getViewSize(i,a){return this.getViewBounds(i,HE,ib),a.subVectors(ib,HE)}setViewOffset(i,a,u,d,E,B){this.aspect=i/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=a,this.view.offsetX=u,this.view.offsetY=d,this.view.width=E,this.view.height=B,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=this.near;let a=i*Math.tan(Ep*.5*this.fov)/this.zoom,u=2*a,d=this.aspect*u,E=-.5*d;const B=this.view;if(this.view!==null&&this.view.enabled){const Q=B.fullWidth,P=B.fullHeight;E+=B.offsetX*d/Q,a-=B.offsetY*u/P,d*=B.width/Q,u*=B.height/P}const M=this.filmOffset;M!==0&&(E+=i*M/this.getFilmWidth()),this.projectionMatrix.makePerspective(E,E+d,a,a-u,i,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const a=super.toJSON(i);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const gh=-90,mh=1;class C6 extends os{constructor(i,a,u){super(),this.type="CubeCamera",this.renderTarget=u,this.coordinateSystem=null,this.activeMipmapLevel=0;const d=new Uo(gh,mh,i,a);d.layers=this.layers,this.add(d);const E=new Uo(gh,mh,i,a);E.layers=this.layers,this.add(E);const B=new Uo(gh,mh,i,a);B.layers=this.layers,this.add(B);const M=new Uo(gh,mh,i,a);M.layers=this.layers,this.add(M);const Q=new Uo(gh,mh,i,a);Q.layers=this.layers,this.add(Q);const P=new Uo(gh,mh,i,a);P.layers=this.layers,this.add(P)}updateCoordinateSystem(){const i=this.coordinateSystem,a=this.children.concat(),[u,d,E,B,M,Q]=a;for(const P of a)this.remove(P);if(i===uh)u.up.set(0,1,0),u.lookAt(1,0,0),d.up.set(0,1,0),d.lookAt(-1,0,0),E.up.set(0,0,-1),E.lookAt(0,1,0),B.up.set(0,0,1),B.lookAt(0,-1,0),M.up.set(0,1,0),M.lookAt(0,0,1),Q.up.set(0,1,0),Q.lookAt(0,0,-1);else if(i===SE)u.up.set(0,-1,0),u.lookAt(-1,0,0),d.up.set(0,-1,0),d.lookAt(1,0,0),E.up.set(0,0,1),E.lookAt(0,1,0),B.up.set(0,0,-1),B.lookAt(0,-1,0),M.up.set(0,-1,0),M.lookAt(0,0,1),Q.up.set(0,-1,0),Q.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+i);for(const P of a)this.add(P),P.updateMatrixWorld()}update(i,a){this.parent===null&&this.updateMatrixWorld();const{renderTarget:u,activeMipmapLevel:d}=this;this.coordinateSystem!==i.coordinateSystem&&(this.coordinateSystem=i.coordinateSystem,this.updateCoordinateSystem());const[E,B,M,Q,P,O]=this.children,H=i.getRenderTarget(),z=i.getActiveCubeFace(),J=i.getActiveMipmapLevel(),j=i.xr.enabled;i.xr.enabled=!1;const nt=u.texture.generateMipmaps;u.texture.generateMipmaps=!1,i.setRenderTarget(u,0,d),i.render(a,E),i.setRenderTarget(u,1,d),i.render(a,B),i.setRenderTarget(u,2,d),i.render(a,M),i.setRenderTarget(u,3,d),i.render(a,Q),i.setRenderTarget(u,4,d),i.render(a,P),u.texture.generateMipmaps=nt,i.setRenderTarget(u,5,d),i.render(a,O),i.setRenderTarget(H,z,J),i.xr.enabled=j,u.texture.needsPMREMUpdate=!0}}class fu extends Dr{constructor(i,a,u,d,E,B,M,Q,P,O){i=i!==void 0?i:[],a=a!==void 0?a:sA,super(i,a,u,d,E,B,M,Q,P,O),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(i){this.image=i}}class sb extends wc{constructor(i=1,a={}){super(i,i,a),this.isWebGLCubeRenderTarget=!0;const u={width:i,height:i,depth:1},d=[u,u,u,u,u,u];this.texture=new fu(d,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:Qo}fromEquirectangularTexture(i,a){this.texture.type=a.type,this.texture.colorSpace=a.colorSpace,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const u={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},d=new Nf(5,5,5),E=new GA({name:"CubemapFromEquirect",uniforms:Gf(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,side:Ro,blending:qn});E.uniforms.tEquirect.value=a;const B=new go(d,E),M=a.minFilter;return a.minFilter===iu&&(a.minFilter=Qo),new C6(1,10,this).update(i,B),a.minFilter=M,B.geometry.dispose(),B.material.dispose(),this}clear(i,a,u,d){const E=i.getRenderTarget();for(let B=0;B<6;B++)i.setRenderTarget(this,B),i.clear(a,u,d);i.setRenderTarget(E)}}const E3=new Dt,I3=new Dt,E6=new Ii;class vd{constructor(i=new Dt(1,0,0),a=0){this.isPlane=!0,this.normal=i,this.constant=a}set(i,a){return this.normal.copy(i),this.constant=a,this}setComponents(i,a,u,d){return this.normal.set(i,a,u),this.constant=d,this}setFromNormalAndCoplanarPoint(i,a){return this.normal.copy(i),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(i,a,u){const d=E3.subVectors(u,a).cross(I3.subVectors(i,a)).normalize();return this.setFromNormalAndCoplanarPoint(d,i),this}copy(i){return this.normal.copy(i.normal),this.constant=i.constant,this}normalize(){const i=1/this.normal.length();return this.normal.multiplyScalar(i),this.constant*=i,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(i){return this.normal.dot(i)+this.constant}distanceToSphere(i){return this.distanceToPoint(i.center)-i.radius}projectPoint(i,a){return a.copy(i).addScaledVector(this.normal,-this.distanceToPoint(i))}intersectLine(i,a){const u=i.delta(E3),d=this.normal.dot(u);if(d===0)return this.distanceToPoint(i.start)===0?a.copy(i.start):null;const E=-(i.start.dot(this.normal)+this.constant)/d;return E<0||E>1?null:a.copy(i.start).addScaledVector(u,E)}intersectsLine(i){const a=this.distanceToPoint(i.start),u=this.distanceToPoint(i.end);return a<0&&u>0||u<0&&a>0}intersectsBox(i){return i.intersectsPlane(this)}intersectsSphere(i){return i.intersectsPlane(this)}coplanarPoint(i){return i.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(i,a){const u=a||E6.getNormalMatrix(i),d=this.coplanarPoint(E3).applyMatrix4(i),E=this.normal.applyMatrix3(u).normalize();return this.constant=-d.dot(E),this}translate(i){return this.constant-=i.dot(this.normal),this}equals(i){return i.normal.equals(this.normal)&&i.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kp=new Lo,zE=new Dt;class qm{constructor(i=new vd,a=new vd,u=new vd,d=new vd,E=new vd,B=new vd){this.planes=[i,a,u,d,E,B]}set(i,a,u,d,E,B){const M=this.planes;return M[0].copy(i),M[1].copy(a),M[2].copy(u),M[3].copy(d),M[4].copy(E),M[5].copy(B),this}copy(i){const a=this.planes;for(let u=0;u<6;u++)a[u].copy(i.planes[u]);return this}setFromProjectionMatrix(i,a=uh){const u=this.planes,d=i.elements,E=d[0],B=d[1],M=d[2],Q=d[3],P=d[4],O=d[5],H=d[6],z=d[7],J=d[8],j=d[9],nt=d[10],q=d[11],Z=d[12],ut=d[13],ct=d[14],lt=d[15];if(u[0].setComponents(Q-E,z-P,q-J,lt-Z).normalize(),u[1].setComponents(Q+E,z+P,q+J,lt+Z).normalize(),u[2].setComponents(Q+B,z+O,q+j,lt+ut).normalize(),u[3].setComponents(Q-B,z-O,q-j,lt-ut).normalize(),u[4].setComponents(Q-M,z-H,q-nt,lt-ct).normalize(),a===uh)u[5].setComponents(Q+M,z+H,q+nt,lt+ct).normalize();else if(a===SE)u[5].setComponents(M,H,nt,ct).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+a);return this}intersectsObject(i){if(i.boundingSphere!==void 0)i.boundingSphere===null&&i.computeBoundingSphere(),kp.copy(i.boundingSphere).applyMatrix4(i.matrixWorld);else{const a=i.geometry;a.boundingSphere===null&&a.computeBoundingSphere(),kp.copy(a.boundingSphere).applyMatrix4(i.matrixWorld)}return this.intersectsSphere(kp)}intersectsSprite(i){return kp.center.set(0,0,0),kp.radius=.7071067811865476,kp.applyMatrix4(i.matrixWorld),this.intersectsSphere(kp)}intersectsSphere(i){const a=this.planes,u=i.center,d=-i.radius;for(let E=0;E<6;E++)if(a[E].distanceToPoint(u)<d)return!1;return!0}intersectsBox(i){const a=this.planes;for(let u=0;u<6;u++){const d=a[u];if(zE.x=d.normal.x>0?i.max.x:i.min.x,zE.y=d.normal.y>0?i.max.y:i.min.y,zE.z=d.normal.z>0?i.max.z:i.min.z,d.distanceToPoint(zE)<0)return!1}return!0}containsPoint(i){const a=this.planes;for(let u=0;u<6;u++)if(a[u].distanceToPoint(i)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function I6(){let C=null,i=!1,a=null,u=null;function d(E,B){a(E,B),u=C.requestAnimationFrame(d)}return{start:function(){i!==!0&&a!==null&&(u=C.requestAnimationFrame(d),i=!0)},stop:function(){C.cancelAnimationFrame(u),i=!1},setAnimationLoop:function(E){a=E},setContext:function(E){C=E}}}function w6(C){const i=new WeakMap;function a(M,Q){const P=M.array,O=M.usage,H=P.byteLength,z=C.createBuffer();C.bindBuffer(Q,z),C.bufferData(Q,P,O),M.onUploadCallback();let J;if(P instanceof Float32Array)J=C.FLOAT;else if(P instanceof Uint16Array)M.isFloat16BufferAttribute?J=C.HALF_FLOAT:J=C.UNSIGNED_SHORT;else if(P instanceof Int16Array)J=C.SHORT;else if(P instanceof Uint32Array)J=C.UNSIGNED_INT;else if(P instanceof Int32Array)J=C.INT;else if(P instanceof Int8Array)J=C.BYTE;else if(P instanceof Uint8Array)J=C.UNSIGNED_BYTE;else if(P instanceof Uint8ClampedArray)J=C.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+P);return{buffer:z,type:J,bytesPerElement:P.BYTES_PER_ELEMENT,version:M.version,size:H}}function u(M,Q,P){const O=Q.array,H=Q.updateRanges;if(C.bindBuffer(P,M),H.length===0)C.bufferSubData(P,0,O);else{H.sort((J,j)=>J.start-j.start);let z=0;for(let J=1;J<H.length;J++){const j=H[z],nt=H[J];nt.start<=j.start+j.count+1?j.count=Math.max(j.count,nt.start+nt.count-j.start):(++z,H[z]=nt)}H.length=z+1;for(let J=0,j=H.length;J<j;J++){const nt=H[J];C.bufferSubData(P,nt.start*O.BYTES_PER_ELEMENT,O,nt.start,nt.count)}Q.clearUpdateRanges()}Q.onUploadCallback()}function d(M){return M.isInterleavedBufferAttribute&&(M=M.data),i.get(M)}function E(M){M.isInterleavedBufferAttribute&&(M=M.data);const Q=i.get(M);Q&&(C.deleteBuffer(Q.buffer),i.delete(M))}function B(M,Q){if(M.isInterleavedBufferAttribute&&(M=M.data),M.isGLBufferAttribute){const O=i.get(M);(!O||O.version<M.version)&&i.set(M,{buffer:M.buffer,type:M.type,bytesPerElement:M.elementSize,version:M.version});return}const P=i.get(M);if(P===void 0)i.set(M,a(M,Q));else if(P.version<M.version){if(P.size!==M.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");u(P.buffer,M,Q),P.version=M.version}}return{get:d,remove:E,update:B}}class $m extends Ri{constructor(i=1,a=1,u=1,d=1){super(),this.type="PlaneGeometry",this.parameters={width:i,height:a,widthSegments:u,heightSegments:d};const E=i/2,B=a/2,M=Math.floor(u),Q=Math.floor(d),P=M+1,O=Q+1,H=i/M,z=a/Q,J=[],j=[],nt=[],q=[];for(let Z=0;Z<O;Z++){const ut=Z*z-B;for(let ct=0;ct<P;ct++){const lt=ct*H-E;j.push(lt,-ut,0),nt.push(0,0,1),q.push(ct/M),q.push(1-Z/Q)}}for(let Z=0;Z<Q;Z++)for(let ut=0;ut<M;ut++){const ct=ut+P*Z,lt=ut+P*(Z+1),Vt=ut+1+P*(Z+1),Tt=ut+1+P*Z;J.push(ct,lt,Tt),J.push(lt,Vt,Tt)}this.setIndex(J),this.setAttribute("position",new Sn(j,3)),this.setAttribute("normal",new Sn(nt,3)),this.setAttribute("uv",new Sn(q,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new $m(i.width,i.height,i.widthSegments,i.heightSegments)}}var _6=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,B6=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,NP=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,v6=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GP=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,b6=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rb=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,M6=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,OP=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,VP=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,HP=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,S6=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,T6=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,D6=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ob=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,zP=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,R6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Q6=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ab=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,WP=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,k6=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JP=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,L6=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,YP=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,P6=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZP=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,lb=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,KP=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ty=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,XP=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jP="gl_FragColor = linearToOutputTexel( gl_FragColor );",No=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,qP=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Lp=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,$P=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tF=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,yh=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Vf=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ab=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,cb=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ms=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,WE=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lr=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hb=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,JE=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,xh=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,F6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,U6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,N6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,G6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,O6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,w3=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,V6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,H6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,z6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ub=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,_3=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,db=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,W6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,J6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,eF=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,fb=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,B3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,v3=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ie=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,nF=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Y6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Z6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,K6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pb=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,iF=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,b3=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zr=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,M3=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,X6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sF=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,rF=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,gb=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,oF=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,aF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,mb=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,yb=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,lF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,S3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,T3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ys=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,j6=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,q6=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,$6=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,t4=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,AF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,hF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,dF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,fF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,pF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mF=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xF=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,D3=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,YE=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,CF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,li=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,R3=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,EF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qi={alphahash_fragment:_6,alphahash_pars_fragment:B6,alphamap_fragment:NP,alphamap_pars_fragment:v6,alphatest_fragment:GP,alphatest_pars_fragment:b6,aomap_fragment:rb,aomap_pars_fragment:M6,batching_pars_vertex:OP,batching_vertex:VP,begin_vertex:HP,beginnormal_vertex:S6,bsdfs:T6,iridescence_fragment:D6,bumpmap_pars_fragment:ob,clipping_planes_fragment:zP,clipping_planes_pars_fragment:R6,clipping_planes_pars_vertex:Q6,clipping_planes_vertex:ab,color_fragment:WP,color_pars_fragment:k6,color_pars_vertex:JP,color_vertex:L6,common:YP,cube_uv_reflection_fragment:P6,defaultnormal_vertex:ZP,displacementmap_pars_vertex:lb,displacementmap_vertex:KP,emissivemap_fragment:ty,emissivemap_pars_fragment:XP,colorspace_fragment:jP,colorspace_pars_fragment:No,envmap_fragment:qP,envmap_common_pars_fragment:Lp,envmap_pars_fragment:$P,envmap_pars_vertex:tF,envmap_physical_pars_fragment:F6,envmap_vertex:yh,fog_vertex:Vf,fog_pars_vertex:Ab,fog_fragment:cb,fog_pars_fragment:ms,gradientmap_pars_fragment:WE,lightmap_pars_fragment:lr,lights_lambert_fragment:hb,lights_lambert_pars_fragment:JE,lights_pars_begin:xh,lights_toon_fragment:U6,lights_toon_pars_fragment:N6,lights_phong_fragment:G6,lights_phong_pars_fragment:O6,lights_physical_fragment:w3,lights_physical_pars_fragment:V6,lights_fragment_begin:H6,lights_fragment_maps:z6,lights_fragment_end:ub,logdepthbuf_fragment:_3,logdepthbuf_pars_fragment:db,logdepthbuf_pars_vertex:W6,logdepthbuf_vertex:J6,map_fragment:eF,map_pars_fragment:fb,map_particle_fragment:B3,map_particle_pars_fragment:v3,metalnessmap_fragment:ie,metalnessmap_pars_fragment:nF,morphinstance_vertex:Y6,morphcolor_vertex:Z6,morphnormal_vertex:K6,morphtarget_pars_vertex:pb,morphtarget_vertex:iF,normal_fragment_begin:b3,normal_fragment_maps:zr,normal_pars_fragment:M3,normal_pars_vertex:X6,normal_vertex:sF,normalmap_pars_fragment:rF,clearcoat_normal_fragment_begin:gb,clearcoat_normal_fragment_maps:oF,clearcoat_pars_fragment:aF,iridescence_pars_fragment:mb,opaque_fragment:yb,packing:lF,premultiplied_alpha_fragment:S3,project_vertex:T3,dithering_fragment:Ys,dithering_pars_fragment:j6,roughnessmap_fragment:q6,roughnessmap_pars_fragment:$6,shadowmap_pars_fragment:t4,shadowmap_pars_vertex:AF,shadowmap_vertex:cF,shadowmask_pars_fragment:hF,skinbase_vertex:uF,skinning_pars_vertex:dF,skinning_vertex:fF,skinnormal_vertex:pF,specularmap_fragment:gF,specularmap_pars_fragment:mF,tonemapping_fragment:yF,tonemapping_pars_fragment:xF,transmission_fragment:D3,transmission_pars_fragment:YE,uv_pars_fragment:CF,uv_pars_vertex:li,uv_vertex:R3,worldpos_vertex:EF,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},on={common:{diffuse:{value:new gn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ii},alphaMap:{value:null},alphaMapTransform:{value:new Ii},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ii}},envmap:{envMap:{value:null},envMapRotation:{value:new Ii},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ii}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ii}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ii},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ii},normalScale:{value:new Le(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ii},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ii}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ii}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ii}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ii},alphaTest:{value:0},uvTransform:{value:new Ii}},sprite:{diffuse:{value:new gn(16777215)},opacity:{value:1},center:{value:new Le(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ii},alphaMap:{value:null},alphaMapTransform:{value:new Ii},alphaTest:{value:0}}},Ch={basic:{uniforms:Aa([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.fog]),vertexShader:Qi.meshbasic_vert,fragmentShader:Qi.meshbasic_frag},lambert:{uniforms:Aa([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.fog,on.lights,{emissive:{value:new gn(0)}}]),vertexShader:Qi.meshlambert_vert,fragmentShader:Qi.meshlambert_frag},phong:{uniforms:Aa([on.common,on.specularmap,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.fog,on.lights,{emissive:{value:new gn(0)},specular:{value:new gn(1118481)},shininess:{value:30}}]),vertexShader:Qi.meshphong_vert,fragmentShader:Qi.meshphong_frag},standard:{uniforms:Aa([on.common,on.envmap,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.roughnessmap,on.metalnessmap,on.fog,on.lights,{emissive:{value:new gn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Qi.meshphysical_vert,fragmentShader:Qi.meshphysical_frag},toon:{uniforms:Aa([on.common,on.aomap,on.lightmap,on.emissivemap,on.bumpmap,on.normalmap,on.displacementmap,on.gradientmap,on.fog,on.lights,{emissive:{value:new gn(0)}}]),vertexShader:Qi.meshtoon_vert,fragmentShader:Qi.meshtoon_frag},matcap:{uniforms:Aa([on.common,on.bumpmap,on.normalmap,on.displacementmap,on.fog,{matcap:{value:null}}]),vertexShader:Qi.meshmatcap_vert,fragmentShader:Qi.meshmatcap_frag},points:{uniforms:Aa([on.points,on.fog]),vertexShader:Qi.points_vert,fragmentShader:Qi.points_frag},dashed:{uniforms:Aa([on.common,on.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Qi.linedashed_vert,fragmentShader:Qi.linedashed_frag},depth:{uniforms:Aa([on.common,on.displacementmap]),vertexShader:Qi.depth_vert,fragmentShader:Qi.depth_frag},normal:{uniforms:Aa([on.common,on.bumpmap,on.normalmap,on.displacementmap,{opacity:{value:1}}]),vertexShader:Qi.meshnormal_vert,fragmentShader:Qi.meshnormal_frag},sprite:{uniforms:Aa([on.sprite,on.fog]),vertexShader:Qi.sprite_vert,fragmentShader:Qi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ii},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Qi.background_vert,fragmentShader:Qi.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ii}},vertexShader:Qi.backgroundCube_vert,fragmentShader:Qi.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Qi.cube_vert,fragmentShader:Qi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Qi.equirect_vert,fragmentShader:Qi.equirect_frag},distanceRGBA:{uniforms:Aa([on.common,on.displacementmap,{referencePosition:{value:new Dt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Qi.distanceRGBA_vert,fragmentShader:Qi.distanceRGBA_frag},shadow:{uniforms:Aa([on.lights,on.fog,{color:{value:new gn(0)},opacity:{value:1}}]),vertexShader:Qi.shadow_vert,fragmentShader:Qi.shadow_frag}};Ch.physical={uniforms:Aa([Ch.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ii},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ii},clearcoatNormalScale:{value:new Le(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ii},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ii},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ii},sheen:{value:0},sheenColor:{value:new gn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ii},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ii},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ii},transmissionSamplerSize:{value:new Le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ii},attenuationDistance:{value:0},attenuationColor:{value:new gn(0)},specularColor:{value:new gn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ii},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ii},anisotropyVector:{value:new Le},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ii}}]),vertexShader:Qi.meshphysical_vert,fragmentShader:Qi.meshphysical_frag};const F3={r:0,b:0,g:0},Pp=new cA,vF=new ui;function bF(C,i,a,u,d,E,B){const M=new gn(0);let Q=E===!0?0:1,P,O,H=null,z=0,J=null;function j(ut){let ct=ut.isScene===!0?ut.background:null;return ct&&ct.isTexture&&(ct=(ut.backgroundBlurriness>0?a:i).get(ct)),ct}function nt(ut){let ct=!1;const lt=j(ut);lt===null?Z(M,Q):lt&&lt.isColor&&(Z(lt,1),ct=!0);const Vt=C.xr.getEnvironmentBlendMode();Vt==="additive"?u.buffers.color.setClear(0,0,0,1,B):Vt==="alpha-blend"&&u.buffers.color.setClear(0,0,0,0,B),(C.autoClear||ct)&&(u.buffers.depth.setTest(!0),u.buffers.depth.setMask(!0),u.buffers.color.setMask(!0),C.clear(C.autoClearColor,C.autoClearDepth,C.autoClearStencil))}function q(ut,ct){const lt=j(ct);lt&&(lt.isCubeTexture||lt.mapping===wf)?(O===void 0&&(O=new go(new Nf(1,1,1),new GA({name:"BackgroundCubeMaterial",uniforms:Gf(Ch.backgroundCube.uniforms),vertexShader:Ch.backgroundCube.vertexShader,fragmentShader:Ch.backgroundCube.fragmentShader,side:Ro,depthTest:!1,depthWrite:!1,fog:!1})),O.geometry.deleteAttribute("normal"),O.geometry.deleteAttribute("uv"),O.onBeforeRender=function(Vt,Tt,Qt){this.matrixWorld.copyPosition(Qt.matrixWorld)},Object.defineProperty(O.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(O)),Pp.copy(ct.backgroundRotation),Pp.x*=-1,Pp.y*=-1,Pp.z*=-1,lt.isCubeTexture&&lt.isRenderTargetTexture===!1&&(Pp.y*=-1,Pp.z*=-1),O.material.uniforms.envMap.value=lt,O.material.uniforms.flipEnvMap.value=lt.isCubeTexture&&lt.isRenderTargetTexture===!1?-1:1,O.material.uniforms.backgroundBlurriness.value=ct.backgroundBlurriness,O.material.uniforms.backgroundIntensity.value=ct.backgroundIntensity,O.material.uniforms.backgroundRotation.value.setFromMatrix4(vF.makeRotationFromEuler(Pp)),O.material.toneMapped=Ui.getTransfer(lt.colorSpace)!==hs,(H!==lt||z!==lt.version||J!==C.toneMapping)&&(O.material.needsUpdate=!0,H=lt,z=lt.version,J=C.toneMapping),O.layers.enableAll(),ut.unshift(O,O.geometry,O.material,0,0,null)):lt&&lt.isTexture&&(P===void 0&&(P=new go(new $m(2,2),new GA({name:"BackgroundMaterial",uniforms:Gf(Ch.background.uniforms),vertexShader:Ch.background.vertexShader,fragmentShader:Ch.background.fragmentShader,side:PA,depthTest:!1,depthWrite:!1,fog:!1})),P.geometry.deleteAttribute("normal"),Object.defineProperty(P.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(P)),P.material.uniforms.t2D.value=lt,P.material.uniforms.backgroundIntensity.value=ct.backgroundIntensity,P.material.toneMapped=Ui.getTransfer(lt.colorSpace)!==hs,lt.matrixAutoUpdate===!0&&lt.updateMatrix(),P.material.uniforms.uvTransform.value.copy(lt.matrix),(H!==lt||z!==lt.version||J!==C.toneMapping)&&(P.material.needsUpdate=!0,H=lt,z=lt.version,J=C.toneMapping),P.layers.enableAll(),ut.unshift(P,P.geometry,P.material,0,0,null))}function Z(ut,ct){ut.getRGB(F3,eb(C)),u.buffers.color.setClear(F3.r,F3.g,F3.b,ct,B)}return{getClearColor:function(){return M},setClearColor:function(ut,ct=1){M.set(ut),Q=ct,Z(M,Q)},getClearAlpha:function(){return Q},setClearAlpha:function(ut){Q=ut,Z(M,Q)},render:nt,addToRenderList:q}}function _b(C,i){const a=C.getParameter(C.MAX_VERTEX_ATTRIBS),u={},d=z(null);let E=d,B=!1;function M(pt,Ht,le,re,Ae){let Pe=!1;const he=H(re,le,Ht);E!==he&&(E=he,P(E.object)),Pe=J(pt,re,le,Ae),Pe&&j(pt,re,le,Ae),Ae!==null&&i.update(Ae,C.ELEMENT_ARRAY_BUFFER),(Pe||B)&&(B=!1,lt(pt,Ht,le,re),Ae!==null&&C.bindBuffer(C.ELEMENT_ARRAY_BUFFER,i.get(Ae).buffer))}function Q(){return C.createVertexArray()}function P(pt){return C.bindVertexArray(pt)}function O(pt){return C.deleteVertexArray(pt)}function H(pt,Ht,le){const re=le.wireframe===!0;let Ae=u[pt.id];Ae===void 0&&(Ae={},u[pt.id]=Ae);let Pe=Ae[Ht.id];Pe===void 0&&(Pe={},Ae[Ht.id]=Pe);let he=Pe[re];return he===void 0&&(he=z(Q()),Pe[re]=he),he}function z(pt){const Ht=[],le=[],re=[];for(let Ae=0;Ae<a;Ae++)Ht[Ae]=0,le[Ae]=0,re[Ae]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Ht,enabledAttributes:le,attributeDivisors:re,object:pt,attributes:{},index:null}}function J(pt,Ht,le,re){const Ae=E.attributes,Pe=Ht.attributes;let he=0;const Xe=le.getAttributes();for(const fe in Xe)if(Xe[fe].location>=0){const hn=Ae[fe];let kn=Pe[fe];if(kn===void 0&&(fe==="instanceMatrix"&&pt.instanceMatrix&&(kn=pt.instanceMatrix),fe==="instanceColor"&&pt.instanceColor&&(kn=pt.instanceColor)),hn===void 0||hn.attribute!==kn||kn&&hn.data!==kn.data)return!0;he++}return E.attributesNum!==he||E.index!==re}function j(pt,Ht,le,re){const Ae={},Pe=Ht.attributes;let he=0;const Xe=le.getAttributes();for(const fe in Xe)if(Xe[fe].location>=0){let hn=Pe[fe];hn===void 0&&(fe==="instanceMatrix"&&pt.instanceMatrix&&(hn=pt.instanceMatrix),fe==="instanceColor"&&pt.instanceColor&&(hn=pt.instanceColor));const kn={};kn.attribute=hn,hn&&hn.data&&(kn.data=hn.data),Ae[fe]=kn,he++}E.attributes=Ae,E.attributesNum=he,E.index=re}function nt(){const pt=E.newAttributes;for(let Ht=0,le=pt.length;Ht<le;Ht++)pt[Ht]=0}function q(pt){Z(pt,0)}function Z(pt,Ht){const le=E.newAttributes,re=E.enabledAttributes,Ae=E.attributeDivisors;le[pt]=1,re[pt]===0&&(C.enableVertexAttribArray(pt),re[pt]=1),Ae[pt]!==Ht&&(C.vertexAttribDivisor(pt,Ht),Ae[pt]=Ht)}function ut(){const pt=E.newAttributes,Ht=E.enabledAttributes;for(let le=0,re=Ht.length;le<re;le++)Ht[le]!==pt[le]&&(C.disableVertexAttribArray(le),Ht[le]=0)}function ct(pt,Ht,le,re,Ae,Pe,he){he===!0?C.vertexAttribIPointer(pt,Ht,le,Ae,Pe):C.vertexAttribPointer(pt,Ht,le,re,Ae,Pe)}function lt(pt,Ht,le,re){nt();const Ae=re.attributes,Pe=le.getAttributes(),he=Ht.defaultAttributeValues;for(const Xe in Pe){const fe=Pe[Xe];if(fe.location>=0){let an=Ae[Xe];if(an===void 0&&(Xe==="instanceMatrix"&&pt.instanceMatrix&&(an=pt.instanceMatrix),Xe==="instanceColor"&&pt.instanceColor&&(an=pt.instanceColor)),an!==void 0){const hn=an.normalized,kn=an.itemSize,bi=i.get(an);if(bi===void 0)continue;const vs=bi.buffer,Se=bi.type,qe=bi.bytesPerElement,Ln=Se===C.INT||Se===C.UNSIGNED_INT||an.gpuType===hE;if(an.isInterleavedBufferAttribute){const Ye=an.data,Kn=Ye.stride,mi=an.offset;if(Ye.isInstancedInterleavedBuffer){for(let ii=0;ii<fe.locationSize;ii++)Z(fe.location+ii,Ye.meshPerAttribute);pt.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=Ye.meshPerAttribute*Ye.count)}else for(let ii=0;ii<fe.locationSize;ii++)q(fe.location+ii);C.bindBuffer(C.ARRAY_BUFFER,vs);for(let ii=0;ii<fe.locationSize;ii++)ct(fe.location+ii,kn/fe.locationSize,Se,hn,Kn*qe,(mi+kn/fe.locationSize*ii)*qe,Ln)}else{if(an.isInstancedBufferAttribute){for(let Ye=0;Ye<fe.locationSize;Ye++)Z(fe.location+Ye,an.meshPerAttribute);pt.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=an.meshPerAttribute*an.count)}else for(let Ye=0;Ye<fe.locationSize;Ye++)q(fe.location+Ye);C.bindBuffer(C.ARRAY_BUFFER,vs);for(let Ye=0;Ye<fe.locationSize;Ye++)ct(fe.location+Ye,kn/fe.locationSize,Se,hn,kn*qe,kn/fe.locationSize*Ye*qe,Ln)}}else if(he!==void 0){const hn=he[Xe];if(hn!==void 0)switch(hn.length){case 2:C.vertexAttrib2fv(fe.location,hn);break;case 3:C.vertexAttrib3fv(fe.location,hn);break;case 4:C.vertexAttrib4fv(fe.location,hn);break;default:C.vertexAttrib1fv(fe.location,hn)}}}}ut()}function Vt(){Ut();for(const pt in u){const Ht=u[pt];for(const le in Ht){const re=Ht[le];for(const Ae in re)O(re[Ae].object),delete re[Ae];delete Ht[le]}delete u[pt]}}function Tt(pt){if(u[pt.id]===void 0)return;const Ht=u[pt.id];for(const le in Ht){const re=Ht[le];for(const Ae in re)O(re[Ae].object),delete re[Ae];delete Ht[le]}delete u[pt.id]}function Qt(pt){for(const Ht in u){const le=u[Ht];if(le[pt.id]===void 0)continue;const re=le[pt.id];for(const Ae in re)O(re[Ae].object),delete re[Ae];delete le[pt.id]}}function Ut(){xt(),B=!0,E!==d&&(E=d,P(E.object))}function xt(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:M,reset:Ut,resetDefaultState:xt,dispose:Vt,releaseStatesOfGeometry:Tt,releaseStatesOfProgram:Qt,initAttributes:nt,enableAttribute:q,disableUnusedAttributes:ut}}function s4(C,i,a){let u;function d(P){u=P}function E(P,O){C.drawArrays(u,P,O),a.update(O,u,1)}function B(P,O,H){H!==0&&(C.drawArraysInstanced(u,P,O,H),a.update(O,u,H))}function M(P,O,H){if(H===0)return;i.get("WEBGL_multi_draw").multiDrawArraysWEBGL(u,P,0,O,0,H);let J=0;for(let j=0;j<H;j++)J+=O[j];a.update(J,u,1)}function Q(P,O,H,z){if(H===0)return;const J=i.get("WEBGL_multi_draw");if(J===null)for(let j=0;j<P.length;j++)B(P[j],O[j],z[j]);else{J.multiDrawArraysInstancedWEBGL(u,P,0,O,0,z,0,H);let j=0;for(let nt=0;nt<H;nt++)j+=O[nt]*z[nt];a.update(j,u,1)}}this.setMode=d,this.render=E,this.renderInstances=B,this.renderMultiDraw=M,this.renderMultiDrawInstances=Q}function r4(C,i,a,u){let d;function E(){if(d!==void 0)return d;if(i.has("EXT_texture_filter_anisotropic")===!0){const Qt=i.get("EXT_texture_filter_anisotropic");d=C.getParameter(Qt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else d=0;return d}function B(Qt){return!(Qt!==to&&u.convert(Qt)!==C.getParameter(C.IMPLEMENTATION_COLOR_READ_FORMAT))}function M(Qt){const Ut=Qt===dp&&(i.has("EXT_color_buffer_half_float")||i.has("EXT_color_buffer_float"));return!(Qt!==hh&&u.convert(Qt)!==C.getParameter(C.IMPLEMENTATION_COLOR_READ_TYPE)&&Qt!==aA&&!Ut)}function Q(Qt){if(Qt==="highp"){if(C.getShaderPrecisionFormat(C.VERTEX_SHADER,C.HIGH_FLOAT).precision>0&&C.getShaderPrecisionFormat(C.FRAGMENT_SHADER,C.HIGH_FLOAT).precision>0)return"highp";Qt="mediump"}return Qt==="mediump"&&C.getShaderPrecisionFormat(C.VERTEX_SHADER,C.MEDIUM_FLOAT).precision>0&&C.getShaderPrecisionFormat(C.FRAGMENT_SHADER,C.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let P=a.precision!==void 0?a.precision:"highp";const O=Q(P);O!==P&&(console.warn("THREE.WebGLRenderer:",P,"not supported, using",O,"instead."),P=O);const H=a.logarithmicDepthBuffer===!0,z=a.reverseDepthBuffer===!0&&i.has("EXT_clip_control"),J=C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS),j=C.getParameter(C.MAX_VERTEX_TEXTURE_IMAGE_UNITS),nt=C.getParameter(C.MAX_TEXTURE_SIZE),q=C.getParameter(C.MAX_CUBE_MAP_TEXTURE_SIZE),Z=C.getParameter(C.MAX_VERTEX_ATTRIBS),ut=C.getParameter(C.MAX_VERTEX_UNIFORM_VECTORS),ct=C.getParameter(C.MAX_VARYING_VECTORS),lt=C.getParameter(C.MAX_FRAGMENT_UNIFORM_VECTORS),Vt=j>0,Tt=C.getParameter(C.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:E,getMaxPrecision:Q,textureFormatReadable:B,textureTypeReadable:M,precision:P,logarithmicDepthBuffer:H,reverseDepthBuffer:z,maxTextures:J,maxVertexTextures:j,maxTextureSize:nt,maxCubemapSize:q,maxAttributes:Z,maxVertexUniforms:ut,maxVaryings:ct,maxFragmentUniforms:lt,vertexTextures:Vt,maxSamples:Tt}}function ca(C){const i=this;let a=null,u=0,d=!1,E=!1;const B=new vd,M=new Ii,Q={value:null,needsUpdate:!1};this.uniform=Q,this.numPlanes=0,this.numIntersection=0,this.init=function(H,z){const J=H.length!==0||z||u!==0||d;return d=z,u=H.length,J},this.beginShadows=function(){E=!0,O(null)},this.endShadows=function(){E=!1},this.setGlobalState=function(H,z){a=O(H,z,0)},this.setState=function(H,z,J){const j=H.clippingPlanes,nt=H.clipIntersection,q=H.clipShadows,Z=C.get(H);if(!d||j===null||j.length===0||E&&!q)E?O(null):P();else{const ut=E?0:u,ct=ut*4;let lt=Z.clippingState||null;Q.value=lt,lt=O(j,z,ct,J);for(let Vt=0;Vt!==ct;++Vt)lt[Vt]=a[Vt];Z.clippingState=lt,this.numIntersection=nt?this.numPlanes:0,this.numPlanes+=ut}};function P(){Q.value!==a&&(Q.value=a,Q.needsUpdate=u>0),i.numPlanes=u,i.numIntersection=0}function O(H,z,J,j){const nt=H!==null?H.length:0;let q=null;if(nt!==0){if(q=Q.value,j!==!0||q===null){const Z=J+nt*4,ut=z.matrixWorldInverse;M.getNormalMatrix(ut),(q===null||q.length<Z)&&(q=new Float32Array(Z));for(let ct=0,lt=J;ct!==nt;++ct,lt+=4)B.copy(H[ct]).applyMatrix4(ut,M),B.normal.toArray(q,lt),q[lt+3]=B.constant}Q.value=q,Q.needsUpdate=!0}return i.numPlanes=nt,i.numIntersection=0,q}}function o4(C){let i=new WeakMap;function a(B,M){return M===Bm?B.mapping=sA:M===cp&&(B.mapping=md),B}function u(B){if(B&&B.isTexture){const M=B.mapping;if(M===Bm||M===cp)if(i.has(B)){const Q=i.get(B).texture;return a(Q,B.mapping)}else{const Q=B.image;if(Q&&Q.height>0){const P=new sb(Q.height);return P.fromEquirectangularTexture(C,B),i.set(B,P),B.addEventListener("dispose",d),a(P.texture,B.mapping)}else return null}}return B}function d(B){const M=B.target;M.removeEventListener("dispose",d);const Q=i.get(M);Q!==void 0&&(i.delete(M),Q.dispose())}function E(){i=new WeakMap}return{get:u,dispose:E}}class KE extends VE{constructor(i=-1,a=1,u=1,d=-1,E=.1,B=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i,this.right=a,this.top=u,this.bottom=d,this.near=E,this.far=B,this.updateProjectionMatrix()}copy(i,a){return super.copy(i,a),this.left=i.left,this.right=i.right,this.top=i.top,this.bottom=i.bottom,this.near=i.near,this.far=i.far,this.zoom=i.zoom,this.view=i.view===null?null:Object.assign({},i.view),this}setViewOffset(i,a,u,d,E,B){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=i,this.view.fullHeight=a,this.view.offsetX=u,this.view.offsetY=d,this.view.width=E,this.view.height=B,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const i=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),u=(this.right+this.left)/2,d=(this.top+this.bottom)/2;let E=u-i,B=u+i,M=d+a,Q=d-a;if(this.view!==null&&this.view.enabled){const P=(this.right-this.left)/this.view.fullWidth/this.zoom,O=(this.top-this.bottom)/this.view.fullHeight/this.zoom;E+=P*this.view.offsetX,B=E+P*this.view.width,M-=O*this.view.offsetY,Q=M-O*this.view.height}this.projectionMatrix.makeOrthographic(E,B,M,Q,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(i){const a=super.toJSON(i);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}const ey=4,gu=[.125,.215,.35,.446,.526,.582],Fp=20,Bb=new KE,a4=new gn;let vb=null,bb=0,Mb=0,Sb=!1;const za=(1+Math.sqrt(5))/2,ny=1/za,l4=[new Dt(-za,ny,0),new Dt(za,ny,0),new Dt(-ny,0,za),new Dt(ny,0,za),new Dt(0,za,-ny),new Dt(0,za,ny),new Dt(-1,1,-1),new Dt(1,1,-1),new Dt(-1,1,1),new Dt(1,1,1)];class iy{constructor(i){this._renderer=i,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(i,a=0,u=.1,d=100){vb=this._renderer.getRenderTarget(),bb=this._renderer.getActiveCubeFace(),Mb=this._renderer.getActiveMipmapLevel(),Sb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const E=this._allocateTargets();return E.depthBuffer=!0,this._sceneToCubeUV(i,u,d,E),a>0&&this._blur(E,0,0,a),this._applyPMREM(E),this._cleanup(E),E}fromEquirectangular(i,a=null){return this._fromTexture(i,a)}fromCubemap(i,a=null){return this._fromTexture(i,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=u4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=h4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(i){this._lodMax=Math.floor(Math.log2(i)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(i){this._renderer.setRenderTarget(vb,bb,Mb),this._renderer.xr.enabled=Sb,i.scissorTest=!1,sy(i,0,0,i.width,i.height)}_fromTexture(i,a){i.mapping===sA||i.mapping===md?this._setSize(i.image.length===0?16:i.image[0].width||i.image[0].image.width):this._setSize(i.image.width/4),vb=this._renderer.getRenderTarget(),bb=this._renderer.getActiveCubeFace(),Mb=this._renderer.getActiveMipmapLevel(),Sb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const u=a||this._allocateTargets();return this._textureToCubeUV(i,u),this._applyPMREM(u),this._cleanup(u),u}_allocateTargets(){const i=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,u={magFilter:Qo,minFilter:Qo,generateMipmaps:!1,type:dp,format:to,colorSpace:Mf,depthBuffer:!1},d=c4(i,a,u);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==i||this._pingPongRenderTarget.height!==a){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=c4(i,a,u);const{_lodMax:E}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=A4(E)),this._blurMaterial=Tb(E,i,a)}return d}_compileMaterial(i){const a=new go(this._lodPlanes[0],i);this._renderer.compile(a,Bb)}_sceneToCubeUV(i,a,u,d){const M=new Uo(90,1,a,u),Q=[1,-1,1,1,1,1],P=[1,1,1,-1,-1,-1],O=this._renderer,H=O.autoClear,z=O.toneMapping;O.getClearColor(a4),O.toneMapping=nu,O.autoClear=!1;const J=new kf({name:"PMREM.Background",side:Ro,depthWrite:!1,depthTest:!1}),j=new go(new Nf,J);let nt=!1;const q=i.background;q?q.isColor&&(J.color.copy(q),i.background=null,nt=!0):(J.color.copy(a4),nt=!0);for(let Z=0;Z<6;Z++){const ut=Z%3;ut===0?(M.up.set(0,Q[Z],0),M.lookAt(P[Z],0,0)):ut===1?(M.up.set(0,0,Q[Z]),M.lookAt(0,P[Z],0)):(M.up.set(0,Q[Z],0),M.lookAt(0,0,P[Z]));const ct=this._cubeSize;sy(d,ut*ct,Z>2?ct:0,ct,ct),O.setRenderTarget(d),nt&&O.render(j,M),O.render(i,M)}j.geometry.dispose(),j.material.dispose(),O.toneMapping=z,O.autoClear=H,i.background=q}_textureToCubeUV(i,a){const u=this._renderer,d=i.mapping===sA||i.mapping===md;d?(this._cubemapMaterial===null&&(this._cubemapMaterial=u4()),this._cubemapMaterial.uniforms.flipEnvMap.value=i.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=h4());const E=d?this._cubemapMaterial:this._equirectMaterial,B=new go(this._lodPlanes[0],E),M=E.uniforms;M.envMap.value=i;const Q=this._cubeSize;sy(a,0,0,3*Q,2*Q),u.setRenderTarget(a),u.render(B,Bb)}_applyPMREM(i){const a=this._renderer,u=a.autoClear;a.autoClear=!1;const d=this._lodPlanes.length;for(let E=1;E<d;E++){const B=Math.sqrt(this._sigmas[E]*this._sigmas[E]-this._sigmas[E-1]*this._sigmas[E-1]),M=l4[(d-E-1)%l4.length];this._blur(i,E-1,E,B,M)}a.autoClear=u}_blur(i,a,u,d,E){const B=this._pingPongRenderTarget;this._halfBlur(i,B,a,u,d,"latitudinal",E),this._halfBlur(B,i,u,u,d,"longitudinal",E)}_halfBlur(i,a,u,d,E,B,M){const Q=this._renderer,P=this._blurMaterial;B!=="latitudinal"&&B!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const O=3,H=new go(this._lodPlanes[d],P),z=P.uniforms,J=this._sizeLods[u]-1,j=isFinite(E)?Math.PI/(2*J):2*Math.PI/(2*Fp-1),nt=E/j,q=isFinite(E)?1+Math.floor(O*nt):Fp;q>Fp&&console.warn(`sigmaRadians, ${E}, is too large and will clip, as it requested ${q} samples when the maximum is set to ${Fp}`);const Z=[];let ut=0;for(let Qt=0;Qt<Fp;++Qt){const Ut=Qt/nt,xt=Math.exp(-Ut*Ut/2);Z.push(xt),Qt===0?ut+=xt:Qt<q&&(ut+=2*xt)}for(let Qt=0;Qt<Z.length;Qt++)Z[Qt]=Z[Qt]/ut;z.envMap.value=i.texture,z.samples.value=q,z.weights.value=Z,z.latitudinal.value=B==="latitudinal",M&&(z.poleAxis.value=M);const{_lodMax:ct}=this;z.dTheta.value=j,z.mipInt.value=ct-u;const lt=this._sizeLods[d],Vt=3*lt*(d>ct-ey?d-ct+ey:0),Tt=4*(this._cubeSize-lt);sy(a,Vt,Tt,3*lt,2*lt),Q.setRenderTarget(a),Q.render(H,Bb)}}function A4(C){const i=[],a=[],u=[];let d=C;const E=C-ey+1+gu.length;for(let B=0;B<E;B++){const M=Math.pow(2,d);a.push(M);let Q=1/M;B>C-ey?Q=gu[B-C+ey-1]:B===0&&(Q=0),u.push(Q);const P=1/(M-2),O=-P,H=1+P,z=[O,O,H,O,H,H,O,O,H,H,O,H],J=6,j=6,nt=3,q=2,Z=1,ut=new Float32Array(nt*j*J),ct=new Float32Array(q*j*J),lt=new Float32Array(Z*j*J);for(let Tt=0;Tt<J;Tt++){const Qt=Tt%3*2/3-1,Ut=Tt>2?0:-1,xt=[Qt,Ut,0,Qt+2/3,Ut,0,Qt+2/3,Ut+1,0,Qt,Ut,0,Qt+2/3,Ut+1,0,Qt,Ut+1,0];ut.set(xt,nt*j*Tt),ct.set(z,q*j*Tt);const pt=[Tt,Tt,Tt,Tt,Tt,Tt];lt.set(pt,Z*j*Tt)}const Vt=new Ri;Vt.setAttribute("position",new Bs(ut,nt)),Vt.setAttribute("uv",new Bs(ct,q)),Vt.setAttribute("faceIndex",new Bs(lt,Z)),i.push(Vt),d>ey&&d--}return{lodPlanes:i,sizeLods:a,sigmas:u}}function c4(C,i,a){const u=new wc(C,i,a);return u.texture.mapping=wf,u.texture.name="PMREM.cubeUv",u.scissorTest=!0,u}function sy(C,i,a,u,d){C.viewport.set(i,a,u,d),C.scissor.set(i,a,u,d)}function Tb(C,i,a){const u=new Float32Array(Fp),d=new Dt(0,1,0);return new GA({name:"SphericalGaussianBlur",defines:{n:Fp,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${C}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:u},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:d}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:qn,depthTest:!1,depthWrite:!1})}function h4(){return new GA({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:qn,depthTest:!1,depthWrite:!1})}function u4(){return new GA({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mu(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:qn,depthTest:!1,depthWrite:!1})}function mu(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function MF(C){let i=new WeakMap,a=null;function u(M){if(M&&M.isTexture){const Q=M.mapping,P=Q===Bm||Q===cp,O=Q===sA||Q===md;if(P||O){let H=i.get(M);const z=H!==void 0?H.texture.pmremVersion:0;if(M.isRenderTargetTexture&&M.pmremVersion!==z)return a===null&&(a=new iy(C)),H=P?a.fromEquirectangular(M,H):a.fromCubemap(M,H),H.texture.pmremVersion=M.pmremVersion,i.set(M,H),H.texture;if(H!==void 0)return H.texture;{const J=M.image;return P&&J&&J.height>0||O&&J&&d(J)?(a===null&&(a=new iy(C)),H=P?a.fromEquirectangular(M):a.fromCubemap(M),H.texture.pmremVersion=M.pmremVersion,i.set(M,H),M.addEventListener("dispose",E),H.texture):null}}}return M}function d(M){let Q=0;const P=6;for(let O=0;O<P;O++)M[O]!==void 0&&Q++;return Q===P}function E(M){const Q=M.target;Q.removeEventListener("dispose",E);const P=i.get(Q);P!==void 0&&(i.delete(Q),P.dispose())}function B(){i=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:u,dispose:B}}function SF(C){const i={};function a(u){if(i[u]!==void 0)return i[u];let d;switch(u){case"WEBGL_depth_texture":d=C.getExtension("WEBGL_depth_texture")||C.getExtension("MOZ_WEBGL_depth_texture")||C.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=C.getExtension("EXT_texture_filter_anisotropic")||C.getExtension("MOZ_EXT_texture_filter_anisotropic")||C.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=C.getExtension("WEBGL_compressed_texture_s3tc")||C.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||C.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=C.getExtension("WEBGL_compressed_texture_pvrtc")||C.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=C.getExtension(u)}return i[u]=d,d}return{has:function(u){return a(u)!==null},init:function(){a("EXT_color_buffer_float"),a("WEBGL_clip_cull_distance"),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture"),a("WEBGL_render_shared_exponent")},get:function(u){const d=a(u);return d===null&&AA("THREE.WebGLRenderer: "+u+" extension not supported."),d}}}function TF(C,i,a,u){const d={},E=new WeakMap;function B(H){const z=H.target;z.index!==null&&i.remove(z.index);for(const j in z.attributes)i.remove(z.attributes[j]);for(const j in z.morphAttributes){const nt=z.morphAttributes[j];for(let q=0,Z=nt.length;q<Z;q++)i.remove(nt[q])}z.removeEventListener("dispose",B),delete d[z.id];const J=E.get(z);J&&(i.remove(J),E.delete(z)),u.releaseStatesOfGeometry(z),z.isInstancedBufferGeometry===!0&&delete z._maxInstanceCount,a.memory.geometries--}function M(H,z){return d[z.id]===!0||(z.addEventListener("dispose",B),d[z.id]=!0,a.memory.geometries++),z}function Q(H){const z=H.attributes;for(const j in z)i.update(z[j],C.ARRAY_BUFFER);const J=H.morphAttributes;for(const j in J){const nt=J[j];for(let q=0,Z=nt.length;q<Z;q++)i.update(nt[q],C.ARRAY_BUFFER)}}function P(H){const z=[],J=H.index,j=H.attributes.position;let nt=0;if(J!==null){const ut=J.array;nt=J.version;for(let ct=0,lt=ut.length;ct<lt;ct+=3){const Vt=ut[ct+0],Tt=ut[ct+1],Qt=ut[ct+2];z.push(Vt,Tt,Tt,Qt,Qt,Vt)}}else if(j!==void 0){const ut=j.array;nt=j.version;for(let ct=0,lt=ut.length/3-1;ct<lt;ct+=3){const Vt=ct+0,Tt=ct+1,Qt=ct+2;z.push(Vt,Tt,Tt,Qt,Qt,Vt)}}else return;const q=new(DE(z)?qv:jv)(z,1);q.version=nt;const Z=E.get(H);Z&&i.remove(Z),E.set(H,q)}function O(H){const z=E.get(H);if(z){const J=H.index;J!==null&&z.version<J.version&&P(H)}else P(H);return E.get(H)}return{get:M,update:Q,getWireframeAttribute:O}}function DF(C,i,a){let u;function d(z){u=z}let E,B;function M(z){E=z.type,B=z.bytesPerElement}function Q(z,J){C.drawElements(u,J,E,z*B),a.update(J,u,1)}function P(z,J,j){j!==0&&(C.drawElementsInstanced(u,J,E,z*B,j),a.update(J,u,j))}function O(z,J,j){if(j===0)return;i.get("WEBGL_multi_draw").multiDrawElementsWEBGL(u,J,0,E,z,0,j);let q=0;for(let Z=0;Z<j;Z++)q+=J[Z];a.update(q,u,1)}function H(z,J,j,nt){if(j===0)return;const q=i.get("WEBGL_multi_draw");if(q===null)for(let Z=0;Z<z.length;Z++)P(z[Z]/B,J[Z],nt[Z]);else{q.multiDrawElementsInstancedWEBGL(u,J,0,E,z,0,nt,0,j);let Z=0;for(let ut=0;ut<j;ut++)Z+=J[ut]*nt[ut];a.update(Z,u,1)}}this.setMode=d,this.setIndex=M,this.render=Q,this.renderInstances=P,this.renderMultiDraw=O,this.renderMultiDrawInstances=H}function RF(C){const i={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function u(E,B,M){switch(a.calls++,B){case C.TRIANGLES:a.triangles+=M*(E/3);break;case C.LINES:a.lines+=M*(E/2);break;case C.LINE_STRIP:a.lines+=M*(E-1);break;case C.LINE_LOOP:a.lines+=M*E;break;case C.POINTS:a.points+=M*E;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",B);break}}function d(){a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:i,render:a,programs:null,autoReset:!0,reset:d,update:u}}function QF(C,i,a){const u=new WeakMap,d=new qi;function E(B,M,Q){const P=B.morphTargetInfluences,O=M.morphAttributes.position||M.morphAttributes.normal||M.morphAttributes.color,H=O!==void 0?O.length:0;let z=u.get(M);if(z===void 0||z.count!==H){let xt=function(){Qt.dispose(),u.delete(M),M.removeEventListener("dispose",xt)};z!==void 0&&z.texture.dispose();const J=M.morphAttributes.position!==void 0,j=M.morphAttributes.normal!==void 0,nt=M.morphAttributes.color!==void 0,q=M.morphAttributes.position||[],Z=M.morphAttributes.normal||[],ut=M.morphAttributes.color||[];let ct=0;J===!0&&(ct=1),j===!0&&(ct=2),nt===!0&&(ct=3);let lt=M.attributes.position.count*ct,Vt=1;lt>i.maxTextureSize&&(Vt=Math.ceil(lt/i.maxTextureSize),lt=i.maxTextureSize);const Tt=new Float32Array(lt*Vt*4*H),Qt=new PE(Tt,lt,Vt,H);Qt.type=aA,Qt.needsUpdate=!0;const Ut=ct*4;for(let pt=0;pt<H;pt++){const Ht=q[pt],le=Z[pt],re=ut[pt],Ae=lt*Vt*4*pt;for(let Pe=0;Pe<Ht.count;Pe++){const he=Pe*Ut;J===!0&&(d.fromBufferAttribute(Ht,Pe),Tt[Ae+he+0]=d.x,Tt[Ae+he+1]=d.y,Tt[Ae+he+2]=d.z,Tt[Ae+he+3]=0),j===!0&&(d.fromBufferAttribute(le,Pe),Tt[Ae+he+4]=d.x,Tt[Ae+he+5]=d.y,Tt[Ae+he+6]=d.z,Tt[Ae+he+7]=0),nt===!0&&(d.fromBufferAttribute(re,Pe),Tt[Ae+he+8]=d.x,Tt[Ae+he+9]=d.y,Tt[Ae+he+10]=d.z,Tt[Ae+he+11]=re.itemSize===4?d.w:1)}}z={count:H,texture:Qt,size:new Le(lt,Vt)},u.set(M,z),M.addEventListener("dispose",xt)}if(B.isInstancedMesh===!0&&B.morphTexture!==null)Q.getUniforms().setValue(C,"morphTexture",B.morphTexture,a);else{let J=0;for(let nt=0;nt<P.length;nt++)J+=P[nt];const j=M.morphTargetsRelative?1:1-J;Q.getUniforms().setValue(C,"morphTargetBaseInfluence",j),Q.getUniforms().setValue(C,"morphTargetInfluences",P)}Q.getUniforms().setValue(C,"morphTargetsTexture",z.texture,a),Q.getUniforms().setValue(C,"morphTargetsTextureSize",z.size)}return{update:E}}function d4(C,i,a,u){let d=new WeakMap;function E(Q){const P=u.render.frame,O=Q.geometry,H=i.get(Q,O);if(d.get(H)!==P&&(i.update(H),d.set(H,P)),Q.isInstancedMesh&&(Q.hasEventListener("dispose",M)===!1&&Q.addEventListener("dispose",M),d.get(Q)!==P&&(a.update(Q.instanceMatrix,C.ARRAY_BUFFER),Q.instanceColor!==null&&a.update(Q.instanceColor,C.ARRAY_BUFFER),d.set(Q,P))),Q.isSkinnedMesh){const z=Q.skeleton;d.get(z)!==P&&(z.update(),d.set(z,P))}return H}function B(){d=new WeakMap}function M(Q){const P=Q.target;P.removeEventListener("dispose",M),a.remove(P.instanceMatrix),P.instanceColor!==null&&a.remove(P.instanceColor)}return{update:E,dispose:B}}class ry extends Dr{constructor(i,a,u,d,E,B,M,Q,P,O=Bf){if(O!==Bf&&O!==mp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");u===void 0&&O===Bf&&(u=su),u===void 0&&O===mp&&(u=fp),super(null,d,E,B,M,Q,O,u,P),this.isDepthTexture=!0,this.image={width:i,height:a},this.magFilter=M!==void 0?M:va,this.minFilter=Q!==void 0?Q:va,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(i){return super.copy(i),this.compareFunction=i.compareFunction,this}toJSON(i){const a=super.toJSON(i);return this.compareFunction!==null&&(a.compareFunction=this.compareFunction),a}}const f4=new Dr,XE=new ry(1,1),Db=new PE,p4=new A3,g4=new fu,m4=[],y4=[],x4=new Float32Array(16),Rb=new Float32Array(9),C4=new Float32Array(4);function Up(C,i,a){const u=C[0];if(u<=0||u>0)return C;const d=i*a;let E=m4[d];if(E===void 0&&(E=new Float32Array(d),m4[d]=E),i!==0){u.toArray(E,0);for(let B=1,M=0;B!==i;++B)M+=a,C[B].toArray(E,M)}return E}function mo(C,i){if(C.length!==i.length)return!1;for(let a=0,u=C.length;a<u;a++)if(C[a]!==i[a])return!1;return!0}function yo(C,i){for(let a=0,u=i.length;a<u;a++)C[a]=i[a]}function U3(C,i){let a=y4[i];a===void 0&&(a=new Int32Array(i),y4[i]=a);for(let u=0;u!==i;++u)a[u]=C.allocateTextureUnit();return a}function kF(C,i){const a=this.cache;a[0]!==i&&(C.uniform1f(this.addr,i),a[0]=i)}function Qb(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y)&&(C.uniform2f(this.addr,i.x,i.y),a[0]=i.x,a[1]=i.y);else{if(mo(a,i))return;C.uniform2fv(this.addr,i),yo(a,i)}}function N3(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z)&&(C.uniform3f(this.addr,i.x,i.y,i.z),a[0]=i.x,a[1]=i.y,a[2]=i.z);else if(i.r!==void 0)(a[0]!==i.r||a[1]!==i.g||a[2]!==i.b)&&(C.uniform3f(this.addr,i.r,i.g,i.b),a[0]=i.r,a[1]=i.g,a[2]=i.b);else{if(mo(a,i))return;C.uniform3fv(this.addr,i),yo(a,i)}}function G3(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z||a[3]!==i.w)&&(C.uniform4f(this.addr,i.x,i.y,i.z,i.w),a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=i.w);else{if(mo(a,i))return;C.uniform4fv(this.addr,i),yo(a,i)}}function O3(C,i){const a=this.cache,u=i.elements;if(u===void 0){if(mo(a,i))return;C.uniformMatrix2fv(this.addr,!1,i),yo(a,i)}else{if(mo(a,u))return;C4.set(u),C.uniformMatrix2fv(this.addr,!1,C4),yo(a,u)}}function E4(C,i){const a=this.cache,u=i.elements;if(u===void 0){if(mo(a,i))return;C.uniformMatrix3fv(this.addr,!1,i),yo(a,i)}else{if(mo(a,u))return;Rb.set(u),C.uniformMatrix3fv(this.addr,!1,Rb),yo(a,u)}}function kb(C,i){const a=this.cache,u=i.elements;if(u===void 0){if(mo(a,i))return;C.uniformMatrix4fv(this.addr,!1,i),yo(a,i)}else{if(mo(a,u))return;x4.set(u),C.uniformMatrix4fv(this.addr,!1,x4),yo(a,u)}}function V3(C,i){const a=this.cache;a[0]!==i&&(C.uniform1i(this.addr,i),a[0]=i)}function LF(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y)&&(C.uniform2i(this.addr,i.x,i.y),a[0]=i.x,a[1]=i.y);else{if(mo(a,i))return;C.uniform2iv(this.addr,i),yo(a,i)}}function I4(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z)&&(C.uniform3i(this.addr,i.x,i.y,i.z),a[0]=i.x,a[1]=i.y,a[2]=i.z);else{if(mo(a,i))return;C.uniform3iv(this.addr,i),yo(a,i)}}function xo(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z||a[3]!==i.w)&&(C.uniform4i(this.addr,i.x,i.y,i.z,i.w),a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=i.w);else{if(mo(a,i))return;C.uniform4iv(this.addr,i),yo(a,i)}}function as(C,i){const a=this.cache;a[0]!==i&&(C.uniform1ui(this.addr,i),a[0]=i)}function Lb(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y)&&(C.uniform2ui(this.addr,i.x,i.y),a[0]=i.x,a[1]=i.y);else{if(mo(a,i))return;C.uniform2uiv(this.addr,i),yo(a,i)}}function PF(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z)&&(C.uniform3ui(this.addr,i.x,i.y,i.z),a[0]=i.x,a[1]=i.y,a[2]=i.z);else{if(mo(a,i))return;C.uniform3uiv(this.addr,i),yo(a,i)}}function Pb(C,i){const a=this.cache;if(i.x!==void 0)(a[0]!==i.x||a[1]!==i.y||a[2]!==i.z||a[3]!==i.w)&&(C.uniform4ui(this.addr,i.x,i.y,i.z,i.w),a[0]=i.x,a[1]=i.y,a[2]=i.z,a[3]=i.w);else{if(mo(a,i))return;C.uniform4uiv(this.addr,i),yo(a,i)}}function jE(C,i,a){const u=this.cache,d=a.allocateTextureUnit();u[0]!==d&&(C.uniform1i(this.addr,d),u[0]=d);let E;this.type===C.SAMPLER_2D_SHADOW?(XE.compareFunction=r3,E=XE):E=f4,a.setTexture2D(i||E,d)}function FF(C,i,a){const u=this.cache,d=a.allocateTextureUnit();u[0]!==d&&(C.uniform1i(this.addr,d),u[0]=d),a.setTexture3D(i||p4,d)}function w4(C,i,a){const u=this.cache,d=a.allocateTextureUnit();u[0]!==d&&(C.uniform1i(this.addr,d),u[0]=d),a.setTextureCube(i||g4,d)}function _4(C,i,a){const u=this.cache,d=a.allocateTextureUnit();u[0]!==d&&(C.uniform1i(this.addr,d),u[0]=d),a.setTexture2DArray(i||Db,d)}function UF(C){switch(C){case 5126:return kF;case 35664:return Qb;case 35665:return N3;case 35666:return G3;case 35674:return O3;case 35675:return E4;case 35676:return kb;case 5124:case 35670:return V3;case 35667:case 35671:return LF;case 35668:case 35672:return I4;case 35669:case 35673:return xo;case 5125:return as;case 36294:return Lb;case 36295:return PF;case 36296:return Pb;case 35678:case 36198:case 36298:case 36306:case 35682:return jE;case 35679:case 36299:case 36307:return FF;case 35680:case 36300:case 36308:case 36293:return w4;case 36289:case 36303:case 36311:case 36292:return _4}}function NF(C,i){C.uniform1fv(this.addr,i)}function Fb(C,i){const a=Up(i,this.size,2);C.uniform2fv(this.addr,a)}function GF(C,i){const a=Up(i,this.size,3);C.uniform3fv(this.addr,a)}function OF(C,i){const a=Up(i,this.size,4);C.uniform4fv(this.addr,a)}function VF(C,i){const a=Up(i,this.size,4);C.uniformMatrix2fv(this.addr,!1,a)}function yu(C,i){const a=Up(i,this.size,9);C.uniformMatrix3fv(this.addr,!1,a)}function HF(C,i){const a=Up(i,this.size,16);C.uniformMatrix4fv(this.addr,!1,a)}function qE(C,i){C.uniform1iv(this.addr,i)}function B4(C,i){C.uniform2iv(this.addr,i)}function dA(C,i){C.uniform3iv(this.addr,i)}function H3(C,i){C.uniform4iv(this.addr,i)}function zF(C,i){C.uniform1uiv(this.addr,i)}function v4(C,i){C.uniform2uiv(this.addr,i)}function z3(C,i){C.uniform3uiv(this.addr,i)}function b4(C,i){C.uniform4uiv(this.addr,i)}function Ub(C,i,a){const u=this.cache,d=i.length,E=U3(a,d);mo(u,E)||(C.uniform1iv(this.addr,E),yo(u,E));for(let B=0;B!==d;++B)a.setTexture2D(i[B]||f4,E[B])}function Nb(C,i,a){const u=this.cache,d=i.length,E=U3(a,d);mo(u,E)||(C.uniform1iv(this.addr,E),yo(u,E));for(let B=0;B!==d;++B)a.setTexture3D(i[B]||p4,E[B])}function M4(C,i,a){const u=this.cache,d=i.length,E=U3(a,d);mo(u,E)||(C.uniform1iv(this.addr,E),yo(u,E));for(let B=0;B!==d;++B)a.setTextureCube(i[B]||g4,E[B])}function S4(C,i,a){const u=this.cache,d=i.length,E=U3(a,d);mo(u,E)||(C.uniform1iv(this.addr,E),yo(u,E));for(let B=0;B!==d;++B)a.setTexture2DArray(i[B]||Db,E[B])}function WF(C){switch(C){case 5126:return NF;case 35664:return Fb;case 35665:return GF;case 35666:return OF;case 35674:return VF;case 35675:return yu;case 35676:return HF;case 5124:case 35670:return qE;case 35667:case 35671:return B4;case 35668:case 35672:return dA;case 35669:case 35673:return H3;case 5125:return zF;case 36294:return v4;case 36295:return z3;case 36296:return b4;case 35678:case 36198:case 36298:case 36306:case 35682:return Ub;case 35679:case 36299:case 36307:return Nb;case 35680:case 36300:case 36308:case 36293:return M4;case 36289:case 36303:case 36311:case 36292:return S4}}class JF{constructor(i,a,u){this.id=i,this.addr=u,this.cache=[],this.type=a.type,this.setValue=UF(a.type)}}class Gb{constructor(i,a,u){this.id=i,this.addr=u,this.cache=[],this.type=a.type,this.size=a.size,this.setValue=WF(a.type)}}class YF{constructor(i){this.id=i,this.seq=[],this.map={}}setValue(i,a,u){const d=this.seq;for(let E=0,B=d.length;E!==B;++E){const M=d[E];M.setValue(i,a[M.id],u)}}}const $E=/(\w+)(\])?(\[|\.)?/g;function W3(C,i){C.seq.push(i),C.map[i.id]=i}function Ob(C,i,a){const u=C.name,d=u.length;for($E.lastIndex=0;;){const E=$E.exec(u),B=$E.lastIndex;let M=E[1];const Q=E[2]==="]",P=E[3];if(Q&&(M=M|0),P===void 0||P==="["&&B+2===d){W3(a,P===void 0?new JF(M,C,i):new Gb(M,C,i));break}else{let H=a.map[M];H===void 0&&(H=new YF(M),W3(a,H)),a=H}}}class J3{constructor(i,a){this.seq=[],this.map={};const u=i.getProgramParameter(a,i.ACTIVE_UNIFORMS);for(let d=0;d<u;++d){const E=i.getActiveUniform(a,d),B=i.getUniformLocation(a,E.name);Ob(E,B,this)}}setValue(i,a,u,d){const E=this.map[a];E!==void 0&&E.setValue(i,u,d)}setOptional(i,a,u){const d=a[u];d!==void 0&&this.setValue(i,u,d)}static upload(i,a,u,d){for(let E=0,B=a.length;E!==B;++E){const M=a[E],Q=u[M.id];Q.needsUpdate!==!1&&M.setValue(i,Q.value,d)}}static seqWithValue(i,a){const u=[];for(let d=0,E=i.length;d!==E;++d){const B=i[d];B.id in a&&u.push(B)}return u}}function Vb(C,i,a){const u=C.createShader(i);return C.shaderSource(u,a),C.compileShader(u),u}const ZF=37297;let KF=0;function Hb(C,i){const a=C.split(`
`),u=[],d=Math.max(i-6,0),E=Math.min(i+6,a.length);for(let B=d;B<E;B++){const M=B+1;u.push(`${M===i?">":" "} ${M}: ${a[B]}`)}return u.join(`
`)}const zb=new Ii;function T4(C){Ui._getMatrix(zb,Ui.workingColorSpace,C);const i=`mat3( ${zb.elements.map(a=>a.toFixed(4))} )`;switch(Ui.getTransfer(C)){case Rm:return[i,"LinearTransferOETF"];case hs:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",C),[i,"LinearTransferOETF"]}}function D4(C,i,a){const u=C.getShaderParameter(i,C.COMPILE_STATUS),d=C.getShaderInfoLog(i).trim();if(u&&d==="")return"";const E=/ERROR: 0:(\d+)/.exec(d);if(E){const B=parseInt(E[1]);return a.toUpperCase()+`

`+d+`

`+Hb(C.getShaderSource(i),B)}else return d}function R4(C,i){const a=T4(i);return[`vec4 ${C}( vec4 value ) {`,`	return ${a[1]}( vec4( value.rgb * ${a[0]}, value.a ) );`,"}"].join(`
`)}function XF(C,i){let a;switch(i){case LT:a="Linear";break;case PT:a="Reinhard";break;case FT:a="Cineon";break;case UT:a="ACESFilmic";break;case GT:a="AgX";break;case _v:a="Neutral";break;case NT:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",i),a="Linear"}return"vec3 "+C+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}const Y3=new Dt;function xu(){Ui.getLuminanceCoefficients(Y3);const C=Y3.x.toFixed(4),i=Y3.y.toFixed(4),a=Y3.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${C}, ${i}, ${a} );`,"	return dot( weights, rgb );","}"].join(`
`)}function tI(C){return[C.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",C.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(nI).join(`
`)}function Wb(C){const i=[];for(const a in C){const u=C[a];u!==!1&&i.push("#define "+a+" "+u)}return i.join(`
`)}function eI(C,i){const a={},u=C.getProgramParameter(i,C.ACTIVE_ATTRIBUTES);for(let d=0;d<u;d++){const E=C.getActiveAttrib(i,d),B=E.name;let M=1;E.type===C.FLOAT_MAT2&&(M=2),E.type===C.FLOAT_MAT3&&(M=3),E.type===C.FLOAT_MAT4&&(M=4),a[B]={type:E.type,location:C.getAttribLocation(i,B),locationSize:M}}return a}function nI(C){return C!==""}function Z3(C,i){const a=i.numSpotLightShadows+i.numSpotLightMaps-i.numSpotLightShadowsWithMaps;return C.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,i.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,a).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,i.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function Q4(C,i){return C.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}const OA=/^[ \t]*#include +<([\w\d./]+)>/gm;function K3(C){return C.replace(OA,L4)}const k4=new Map;function L4(C,i){let a=Qi[i];if(a===void 0){const u=k4.get(i);if(u!==void 0)a=Qi[u],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',i,u);else throw new Error("Can not resolve #include <"+i+">")}return K3(a)}const jF=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function P4(C){return C.replace(jF,qF)}function qF(C,i,a,u){let d="";for(let E=parseInt(i);E<parseInt(a);E++)d+=u.replace(/\[\s*i\s*\]/g,"[ "+E+" ]").replace(/UNROLLED_LOOP_INDEX/g,E);return d}function F4(C){let i=`precision ${C.precision} float;
	precision ${C.precision} int;
	precision ${C.precision} sampler2D;
	precision ${C.precision} samplerCube;
	precision ${C.precision} sampler3D;
	precision ${C.precision} sampler2DArray;
	precision ${C.precision} sampler2DShadow;
	precision ${C.precision} samplerCubeShadow;
	precision ${C.precision} sampler2DArrayShadow;
	precision ${C.precision} isampler2D;
	precision ${C.precision} isampler3D;
	precision ${C.precision} isamplerCube;
	precision ${C.precision} isampler2DArray;
	precision ${C.precision} usampler2D;
	precision ${C.precision} usampler3D;
	precision ${C.precision} usamplerCube;
	precision ${C.precision} usampler2DArray;
	`;return C.precision==="highp"?i+=`
#define HIGH_PRECISION`:C.precision==="mediump"?i+=`
#define MEDIUM_PRECISION`:C.precision==="lowp"&&(i+=`
#define LOW_PRECISION`),i}function $F(C){let i="SHADOWMAP_TYPE_BASIC";return C.shadowMapType===pd?i="SHADOWMAP_TYPE_PCF":C.shadowMapType===mc?i="SHADOWMAP_TYPE_PCF_SOFT":C.shadowMapType===Cl&&(i="SHADOWMAP_TYPE_VSM"),i}function U4(C){let i="ENVMAP_TYPE_CUBE";if(C.envMap)switch(C.envMapMode){case sA:case md:i="ENVMAP_TYPE_CUBE";break;case wf:i="ENVMAP_TYPE_CUBE_UV";break}return i}function Jb(C){let i="ENVMAP_MODE_REFLECTION";if(C.envMap)switch(C.envMapMode){case md:i="ENVMAP_MODE_REFRACTION";break}return i}function Yb(C){let i="ENVMAP_BLENDING_NONE";if(C.envMap)switch(C.combine){case AE:i="ENVMAP_BLENDING_MULTIPLY";break;case QT:i="ENVMAP_BLENDING_MIX";break;case kT:i="ENVMAP_BLENDING_ADD";break}return i}function N4(C){const i=C.envMapCubeUVHeight;if(i===null)return null;const a=Math.log2(i)-2,u=1/i;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:u,maxMip:a}}function Wa(C,i,a,u){const d=C.getContext(),E=a.defines;let B=a.vertexShader,M=a.fragmentShader;const Q=$F(a),P=U4(a),O=Jb(a),H=Yb(a),z=N4(a),J=tI(a),j=Wb(E),nt=d.createProgram();let q,Z,ut=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(q=["#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,j].filter(nI).join(`
`),q.length>0&&(q+=`
`),Z=["#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,j].filter(nI).join(`
`),Z.length>0&&(Z+=`
`)):(q=[F4(a),"#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,j,a.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",a.batching?"#define USE_BATCHING":"",a.batchingColor?"#define USE_BATCHING_COLOR":"",a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.instancingMorph?"#define USE_INSTANCING_MORPH":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+O:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.displacementMap?"#define USE_DISPLACEMENTMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.anisotropy?"#define USE_ANISOTROPY":"",a.anisotropyMap?"#define USE_ANISOTROPYMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaHash?"#define USE_ALPHAHASH":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.mapUv?"#define MAP_UV "+a.mapUv:"",a.alphaMapUv?"#define ALPHAMAP_UV "+a.alphaMapUv:"",a.lightMapUv?"#define LIGHTMAP_UV "+a.lightMapUv:"",a.aoMapUv?"#define AOMAP_UV "+a.aoMapUv:"",a.emissiveMapUv?"#define EMISSIVEMAP_UV "+a.emissiveMapUv:"",a.bumpMapUv?"#define BUMPMAP_UV "+a.bumpMapUv:"",a.normalMapUv?"#define NORMALMAP_UV "+a.normalMapUv:"",a.displacementMapUv?"#define DISPLACEMENTMAP_UV "+a.displacementMapUv:"",a.metalnessMapUv?"#define METALNESSMAP_UV "+a.metalnessMapUv:"",a.roughnessMapUv?"#define ROUGHNESSMAP_UV "+a.roughnessMapUv:"",a.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+a.anisotropyMapUv:"",a.clearcoatMapUv?"#define CLEARCOATMAP_UV "+a.clearcoatMapUv:"",a.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+a.clearcoatNormalMapUv:"",a.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+a.clearcoatRoughnessMapUv:"",a.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+a.iridescenceMapUv:"",a.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+a.iridescenceThicknessMapUv:"",a.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+a.sheenColorMapUv:"",a.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+a.sheenRoughnessMapUv:"",a.specularMapUv?"#define SPECULARMAP_UV "+a.specularMapUv:"",a.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+a.specularColorMapUv:"",a.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+a.specularIntensityMapUv:"",a.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+a.transmissionMapUv:"",a.thicknessMapUv?"#define THICKNESSMAP_UV "+a.thicknessMapUv:"",a.vertexTangents&&a.flatShading===!1?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+Q:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.numLightProbes>0?"#define USE_LIGHT_PROBES":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(nI).join(`
`),Z=[F4(a),"#define SHADER_TYPE "+a.shaderType,"#define SHADER_NAME "+a.shaderName,j,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+P:"",a.envMap?"#define "+O:"",a.envMap?"#define "+H:"",z?"#define CUBEUV_TEXEL_WIDTH "+z.texelWidth:"",z?"#define CUBEUV_TEXEL_HEIGHT "+z.texelHeight:"",z?"#define CUBEUV_MAX_MIP "+z.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.anisotropy?"#define USE_ANISOTROPY":"",a.anisotropyMap?"#define USE_ANISOTROPYMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.dispersion?"#define USE_DISPERSION":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.alphaHash?"#define USE_ALPHAHASH":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.vertexTangents&&a.flatShading===!1?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor||a.batchingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+Q:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.numLightProbes>0?"#define USE_LIGHT_PROBES":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==nu?"#define TONE_MAPPING":"",a.toneMapping!==nu?Qi.tonemapping_pars_fragment:"",a.toneMapping!==nu?XF("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",Qi.colorspace_pars_fragment,R4("linearToOutputTexel",a.outputColorSpace),xu(),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(nI).join(`
`)),B=K3(B),B=Z3(B,a),B=Q4(B,a),M=K3(M),M=Z3(M,a),M=Q4(M,a),B=P4(B),M=P4(M),a.isRawShaderMaterial!==!0&&(ut=`#version 300 es
`,q=[J,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+q,Z=["#define varying in",a.glslVersion===Fv?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===Fv?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Z);const ct=ut+q+B,lt=ut+Z+M,Vt=Vb(d,d.VERTEX_SHADER,ct),Tt=Vb(d,d.FRAGMENT_SHADER,lt);d.attachShader(nt,Vt),d.attachShader(nt,Tt),a.index0AttributeName!==void 0?d.bindAttribLocation(nt,0,a.index0AttributeName):a.morphTargets===!0&&d.bindAttribLocation(nt,0,"position"),d.linkProgram(nt);function Qt(Ht){if(C.debug.checkShaderErrors){const le=d.getProgramInfoLog(nt).trim(),re=d.getShaderInfoLog(Vt).trim(),Ae=d.getShaderInfoLog(Tt).trim();let Pe=!0,he=!0;if(d.getProgramParameter(nt,d.LINK_STATUS)===!1)if(Pe=!1,typeof C.debug.onShaderError=="function")C.debug.onShaderError(d,nt,Vt,Tt);else{const Xe=D4(d,Vt,"vertex"),fe=D4(d,Tt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+d.getError()+" - VALIDATE_STATUS "+d.getProgramParameter(nt,d.VALIDATE_STATUS)+`

Material Name: `+Ht.name+`
Material Type: `+Ht.type+`

Program Info Log: `+le+`
`+Xe+`
`+fe)}else le!==""?console.warn("THREE.WebGLProgram: Program Info Log:",le):(re===""||Ae==="")&&(he=!1);he&&(Ht.diagnostics={runnable:Pe,programLog:le,vertexShader:{log:re,prefix:q},fragmentShader:{log:Ae,prefix:Z}})}d.deleteShader(Vt),d.deleteShader(Tt),Ut=new J3(d,nt),xt=eI(d,nt)}let Ut;this.getUniforms=function(){return Ut===void 0&&Qt(this),Ut};let xt;this.getAttributes=function(){return xt===void 0&&Qt(this),xt};let pt=a.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return pt===!1&&(pt=d.getProgramParameter(nt,ZF)),pt},this.destroy=function(){u.releaseStatesOfProgram(this),d.deleteProgram(nt),this.program=void 0},this.type=a.shaderType,this.name=a.shaderName,this.id=KF++,this.cacheKey=i,this.usedTimes=1,this.program=nt,this.vertexShader=Vt,this.fragmentShader=Tt,this}let G4=0;class O4{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(i){const a=i.vertexShader,u=i.fragmentShader,d=this._getShaderStage(a),E=this._getShaderStage(u),B=this._getShaderCacheForMaterial(i);return B.has(d)===!1&&(B.add(d),d.usedTimes++),B.has(E)===!1&&(B.add(E),E.usedTimes++),this}remove(i){const a=this.materialCache.get(i);for(const u of a)u.usedTimes--,u.usedTimes===0&&this.shaderCache.delete(u.code);return this.materialCache.delete(i),this}getVertexShaderID(i){return this._getShaderStage(i.vertexShader).id}getFragmentShaderID(i){return this._getShaderStage(i.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(i){const a=this.materialCache;let u=a.get(i);return u===void 0&&(u=new Set,a.set(i,u)),u}_getShaderStage(i){const a=this.shaderCache;let u=a.get(i);return u===void 0&&(u=new t9(i),a.set(i,u)),u}}class t9{constructor(i){this.id=G4++,this.code=i,this.usedTimes=0}}function V4(C,i,a,u,d,E,B){const M=new Vm,Q=new O4,P=new Set,O=[],H=d.logarithmicDepthBuffer,z=d.vertexTextures;let J=d.precision;const j={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function nt(xt){return P.add(xt),xt===0?"uv":`uv${xt}`}function q(xt,pt,Ht,le,re){const Ae=le.fog,Pe=re.geometry,he=xt.isMeshStandardMaterial?le.environment:null,Xe=(xt.isMeshStandardMaterial?a:i).get(xt.envMap||he),fe=Xe&&Xe.mapping===wf?Xe.image.height:null,an=j[xt.type];xt.precision!==null&&(J=d.getMaxPrecision(xt.precision),J!==xt.precision&&console.warn("THREE.WebGLProgram.getParameters:",xt.precision,"not supported, using",J,"instead."));const hn=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,kn=hn!==void 0?hn.length:0;let bi=0;Pe.morphAttributes.position!==void 0&&(bi=1),Pe.morphAttributes.normal!==void 0&&(bi=2),Pe.morphAttributes.color!==void 0&&(bi=3);let vs,Se,qe,Ln;if(an){const xs=Ch[an];vs=xs.vertexShader,Se=xs.fragmentShader}else vs=xt.vertexShader,Se=xt.fragmentShader,Q.update(xt),qe=Q.getVertexShaderID(xt),Ln=Q.getFragmentShaderID(xt);const Ye=C.getRenderTarget(),Kn=C.state.buffers.depth.getReversed(),mi=re.isInstancedMesh===!0,ii=re.isBatchedMesh===!0,ts=!!xt.map,Ue=!!xt.matcap,je=!!Xe,Nt=!!xt.aoMap,Vn=!!xt.lightMap,ze=!!xt.bumpMap,In=!!xt.normalMap,nn=!!xt.displacementMap,ci=!!xt.emissiveMap,wn=!!xt.metalnessMap,St=!!xt.roughnessMap,gt=xt.anisotropy>0,ne=xt.clearcoat>0,Ie=xt.dispersion>0,Ge=xt.iridescence>0,Be=xt.sheen>0,Pn=xt.transmission>0,ln=gt&&!!xt.anisotropyMap,_n=ne&&!!xt.clearcoatMap,Hi=ne&&!!xt.clearcoatNormalMap,Ze=ne&&!!xt.clearcoatRoughnessMap,bn=Ge&&!!xt.iridescenceMap,Ai=Ge&&!!xt.iridescenceThicknessMap,fi=Be&&!!xt.sheenColorMap,Mn=Be&&!!xt.sheenRoughnessMap,es=!!xt.specularMap,Mi=!!xt.specularColorMap,Ks=!!xt.specularIntensityMap,Zt=Pn&&!!xt.transmissionMap,An=Pn&&!!xt.thicknessMap,pe=!!xt.gradientMap,Qe=!!xt.alphaMap,dn=xt.alphaTest>0,mn=!!xt.alphaHash,Si=!!xt.extensions;let Wr=nu;xt.toneMapped&&(Ye===null||Ye.isXRRenderTarget===!0)&&(Wr=C.toneMapping);const ua={shaderID:an,shaderType:xt.type,shaderName:xt.name,vertexShader:vs,fragmentShader:Se,defines:xt.defines,customVertexShaderID:qe,customFragmentShaderID:Ln,isRawShaderMaterial:xt.isRawShaderMaterial===!0,glslVersion:xt.glslVersion,precision:J,batching:ii,batchingColor:ii&&re._colorsTexture!==null,instancing:mi,instancingColor:mi&&re.instanceColor!==null,instancingMorph:mi&&re.morphTexture!==null,supportsVertexTextures:z,outputColorSpace:Ye===null?C.outputColorSpace:Ye.isXRRenderTarget===!0?Ye.texture.colorSpace:Mf,alphaToCoverage:!!xt.alphaToCoverage,map:ts,matcap:Ue,envMap:je,envMapMode:je&&Xe.mapping,envMapCubeUVHeight:fe,aoMap:Nt,lightMap:Vn,bumpMap:ze,normalMap:In,displacementMap:z&&nn,emissiveMap:ci,normalMapObjectSpace:In&&xt.normalMapType===Dm,normalMapTangentSpace:In&&xt.normalMapType===yd,metalnessMap:wn,roughnessMap:St,anisotropy:gt,anisotropyMap:ln,clearcoat:ne,clearcoatMap:_n,clearcoatNormalMap:Hi,clearcoatRoughnessMap:Ze,dispersion:Ie,iridescence:Ge,iridescenceMap:bn,iridescenceThicknessMap:Ai,sheen:Be,sheenColorMap:fi,sheenRoughnessMap:Mn,specularMap:es,specularColorMap:Mi,specularIntensityMap:Ks,transmission:Pn,transmissionMap:Zt,thicknessMap:An,gradientMap:pe,opaque:xt.transparent===!1&&xt.blending===El&&xt.alphaToCoverage===!1,alphaMap:Qe,alphaTest:dn,alphaHash:mn,combine:xt.combine,mapUv:ts&&nt(xt.map.channel),aoMapUv:Nt&&nt(xt.aoMap.channel),lightMapUv:Vn&&nt(xt.lightMap.channel),bumpMapUv:ze&&nt(xt.bumpMap.channel),normalMapUv:In&&nt(xt.normalMap.channel),displacementMapUv:nn&&nt(xt.displacementMap.channel),emissiveMapUv:ci&&nt(xt.emissiveMap.channel),metalnessMapUv:wn&&nt(xt.metalnessMap.channel),roughnessMapUv:St&&nt(xt.roughnessMap.channel),anisotropyMapUv:ln&&nt(xt.anisotropyMap.channel),clearcoatMapUv:_n&&nt(xt.clearcoatMap.channel),clearcoatNormalMapUv:Hi&&nt(xt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ze&&nt(xt.clearcoatRoughnessMap.channel),iridescenceMapUv:bn&&nt(xt.iridescenceMap.channel),iridescenceThicknessMapUv:Ai&&nt(xt.iridescenceThicknessMap.channel),sheenColorMapUv:fi&&nt(xt.sheenColorMap.channel),sheenRoughnessMapUv:Mn&&nt(xt.sheenRoughnessMap.channel),specularMapUv:es&&nt(xt.specularMap.channel),specularColorMapUv:Mi&&nt(xt.specularColorMap.channel),specularIntensityMapUv:Ks&&nt(xt.specularIntensityMap.channel),transmissionMapUv:Zt&&nt(xt.transmissionMap.channel),thicknessMapUv:An&&nt(xt.thicknessMap.channel),alphaMapUv:Qe&&nt(xt.alphaMap.channel),vertexTangents:!!Pe.attributes.tangent&&(In||gt),vertexColors:xt.vertexColors,vertexAlphas:xt.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,pointsUvs:re.isPoints===!0&&!!Pe.attributes.uv&&(ts||Qe),fog:!!Ae,useFog:xt.fog===!0,fogExp2:!!Ae&&Ae.isFogExp2,flatShading:xt.flatShading===!0,sizeAttenuation:xt.sizeAttenuation===!0,logarithmicDepthBuffer:H,reverseDepthBuffer:Kn,skinning:re.isSkinnedMesh===!0,morphTargets:Pe.morphAttributes.position!==void 0,morphNormals:Pe.morphAttributes.normal!==void 0,morphColors:Pe.morphAttributes.color!==void 0,morphTargetsCount:kn,morphTextureStride:bi,numDirLights:pt.directional.length,numPointLights:pt.point.length,numSpotLights:pt.spot.length,numSpotLightMaps:pt.spotLightMap.length,numRectAreaLights:pt.rectArea.length,numHemiLights:pt.hemi.length,numDirLightShadows:pt.directionalShadowMap.length,numPointLightShadows:pt.pointShadowMap.length,numSpotLightShadows:pt.spotShadowMap.length,numSpotLightShadowsWithMaps:pt.numSpotLightShadowsWithMaps,numLightProbes:pt.numLightProbes,numClippingPlanes:B.numPlanes,numClipIntersection:B.numIntersection,dithering:xt.dithering,shadowMapEnabled:C.shadowMap.enabled&&Ht.length>0,shadowMapType:C.shadowMap.type,toneMapping:Wr,decodeVideoTexture:ts&&xt.map.isVideoTexture===!0&&Ui.getTransfer(xt.map.colorSpace)===hs,decodeVideoTextureEmissive:ci&&xt.emissiveMap.isVideoTexture===!0&&Ui.getTransfer(xt.emissiveMap.colorSpace)===hs,premultipliedAlpha:xt.premultipliedAlpha,doubleSided:xt.side===gs,flipSided:xt.side===Ro,useDepthPacking:xt.depthPacking>=0,depthPacking:xt.depthPacking||0,index0AttributeName:xt.index0AttributeName,extensionClipCullDistance:Si&&xt.extensions.clipCullDistance===!0&&u.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Si&&xt.extensions.multiDraw===!0||ii)&&u.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:u.has("KHR_parallel_shader_compile"),customProgramCacheKey:xt.customProgramCacheKey()};return ua.vertexUv1s=P.has(1),ua.vertexUv2s=P.has(2),ua.vertexUv3s=P.has(3),P.clear(),ua}function Z(xt){const pt=[];if(xt.shaderID?pt.push(xt.shaderID):(pt.push(xt.customVertexShaderID),pt.push(xt.customFragmentShaderID)),xt.defines!==void 0)for(const Ht in xt.defines)pt.push(Ht),pt.push(xt.defines[Ht]);return xt.isRawShaderMaterial===!1&&(ut(pt,xt),ct(pt,xt),pt.push(C.outputColorSpace)),pt.push(xt.customProgramCacheKey),pt.join()}function ut(xt,pt){xt.push(pt.precision),xt.push(pt.outputColorSpace),xt.push(pt.envMapMode),xt.push(pt.envMapCubeUVHeight),xt.push(pt.mapUv),xt.push(pt.alphaMapUv),xt.push(pt.lightMapUv),xt.push(pt.aoMapUv),xt.push(pt.bumpMapUv),xt.push(pt.normalMapUv),xt.push(pt.displacementMapUv),xt.push(pt.emissiveMapUv),xt.push(pt.metalnessMapUv),xt.push(pt.roughnessMapUv),xt.push(pt.anisotropyMapUv),xt.push(pt.clearcoatMapUv),xt.push(pt.clearcoatNormalMapUv),xt.push(pt.clearcoatRoughnessMapUv),xt.push(pt.iridescenceMapUv),xt.push(pt.iridescenceThicknessMapUv),xt.push(pt.sheenColorMapUv),xt.push(pt.sheenRoughnessMapUv),xt.push(pt.specularMapUv),xt.push(pt.specularColorMapUv),xt.push(pt.specularIntensityMapUv),xt.push(pt.transmissionMapUv),xt.push(pt.thicknessMapUv),xt.push(pt.combine),xt.push(pt.fogExp2),xt.push(pt.sizeAttenuation),xt.push(pt.morphTargetsCount),xt.push(pt.morphAttributeCount),xt.push(pt.numDirLights),xt.push(pt.numPointLights),xt.push(pt.numSpotLights),xt.push(pt.numSpotLightMaps),xt.push(pt.numHemiLights),xt.push(pt.numRectAreaLights),xt.push(pt.numDirLightShadows),xt.push(pt.numPointLightShadows),xt.push(pt.numSpotLightShadows),xt.push(pt.numSpotLightShadowsWithMaps),xt.push(pt.numLightProbes),xt.push(pt.shadowMapType),xt.push(pt.toneMapping),xt.push(pt.numClippingPlanes),xt.push(pt.numClipIntersection),xt.push(pt.depthPacking)}function ct(xt,pt){M.disableAll(),pt.supportsVertexTextures&&M.enable(0),pt.instancing&&M.enable(1),pt.instancingColor&&M.enable(2),pt.instancingMorph&&M.enable(3),pt.matcap&&M.enable(4),pt.envMap&&M.enable(5),pt.normalMapObjectSpace&&M.enable(6),pt.normalMapTangentSpace&&M.enable(7),pt.clearcoat&&M.enable(8),pt.iridescence&&M.enable(9),pt.alphaTest&&M.enable(10),pt.vertexColors&&M.enable(11),pt.vertexAlphas&&M.enable(12),pt.vertexUv1s&&M.enable(13),pt.vertexUv2s&&M.enable(14),pt.vertexUv3s&&M.enable(15),pt.vertexTangents&&M.enable(16),pt.anisotropy&&M.enable(17),pt.alphaHash&&M.enable(18),pt.batching&&M.enable(19),pt.dispersion&&M.enable(20),pt.batchingColor&&M.enable(21),xt.push(M.mask),M.disableAll(),pt.fog&&M.enable(0),pt.useFog&&M.enable(1),pt.flatShading&&M.enable(2),pt.logarithmicDepthBuffer&&M.enable(3),pt.reverseDepthBuffer&&M.enable(4),pt.skinning&&M.enable(5),pt.morphTargets&&M.enable(6),pt.morphNormals&&M.enable(7),pt.morphColors&&M.enable(8),pt.premultipliedAlpha&&M.enable(9),pt.shadowMapEnabled&&M.enable(10),pt.doubleSided&&M.enable(11),pt.flipSided&&M.enable(12),pt.useDepthPacking&&M.enable(13),pt.dithering&&M.enable(14),pt.transmission&&M.enable(15),pt.sheen&&M.enable(16),pt.opaque&&M.enable(17),pt.pointsUvs&&M.enable(18),pt.decodeVideoTexture&&M.enable(19),pt.decodeVideoTextureEmissive&&M.enable(20),pt.alphaToCoverage&&M.enable(21),xt.push(M.mask)}function lt(xt){const pt=j[xt.type];let Ht;if(pt){const le=Ch[pt];Ht=jm.clone(le.uniforms)}else Ht=xt.uniforms;return Ht}function Vt(xt,pt){let Ht;for(let le=0,re=O.length;le<re;le++){const Ae=O[le];if(Ae.cacheKey===pt){Ht=Ae,++Ht.usedTimes;break}}return Ht===void 0&&(Ht=new Wa(C,pt,xt,E),O.push(Ht)),Ht}function Tt(xt){if(--xt.usedTimes===0){const pt=O.indexOf(xt);O[pt]=O[O.length-1],O.pop(),xt.destroy()}}function Qt(xt){Q.remove(xt)}function Ut(){Q.dispose()}return{getParameters:q,getProgramCacheKey:Z,getUniforms:lt,acquireProgram:Vt,releaseProgram:Tt,releaseShaderCache:Qt,programs:O,dispose:Ut}}function Zb(){let C=new WeakMap;function i(B){return C.has(B)}function a(B){let M=C.get(B);return M===void 0&&(M={},C.set(B,M)),M}function u(B){C.delete(B)}function d(B,M,Q){C.get(B)[M]=Q}function E(){C=new WeakMap}return{has:i,get:a,remove:u,update:d,dispose:E}}function X3(C,i){return C.groupOrder!==i.groupOrder?C.groupOrder-i.groupOrder:C.renderOrder!==i.renderOrder?C.renderOrder-i.renderOrder:C.material.id!==i.material.id?C.material.id-i.material.id:C.z!==i.z?C.z-i.z:C.id-i.id}function iI(C,i){return C.groupOrder!==i.groupOrder?C.groupOrder-i.groupOrder:C.renderOrder!==i.renderOrder?C.renderOrder-i.renderOrder:C.z!==i.z?i.z-C.z:C.id-i.id}function j3(){const C=[];let i=0;const a=[],u=[],d=[];function E(){i=0,a.length=0,u.length=0,d.length=0}function B(H,z,J,j,nt,q){let Z=C[i];return Z===void 0?(Z={id:H.id,object:H,geometry:z,material:J,groupOrder:j,renderOrder:H.renderOrder,z:nt,group:q},C[i]=Z):(Z.id=H.id,Z.object=H,Z.geometry=z,Z.material=J,Z.groupOrder=j,Z.renderOrder=H.renderOrder,Z.z=nt,Z.group=q),i++,Z}function M(H,z,J,j,nt,q){const Z=B(H,z,J,j,nt,q);J.transmission>0?u.push(Z):J.transparent===!0?d.push(Z):a.push(Z)}function Q(H,z,J,j,nt,q){const Z=B(H,z,J,j,nt,q);J.transmission>0?u.unshift(Z):J.transparent===!0?d.unshift(Z):a.unshift(Z)}function P(H,z){a.length>1&&a.sort(H||X3),u.length>1&&u.sort(z||iI),d.length>1&&d.sort(z||iI)}function O(){for(let H=i,z=C.length;H<z;H++){const J=C[H];if(J.id===null)break;J.id=null,J.object=null,J.geometry=null,J.material=null,J.group=null}}return{opaque:a,transmissive:u,transparent:d,init:E,push:M,unshift:Q,finish:O,sort:P}}function H4(){let C=new WeakMap;function i(u,d){const E=C.get(u);let B;return E===void 0?(B=new j3,C.set(u,[B])):d>=E.length?(B=new j3,E.push(B)):B=E[d],B}function a(){C=new WeakMap}return{get:i,dispose:a}}function e9(){const C={};return{get:function(i){if(C[i.id]!==void 0)return C[i.id];let a;switch(i.type){case"DirectionalLight":a={direction:new Dt,color:new gn};break;case"SpotLight":a={position:new Dt,direction:new Dt,color:new gn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Dt,color:new gn,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Dt,skyColor:new gn,groundColor:new gn};break;case"RectAreaLight":a={color:new gn,position:new Dt,halfWidth:new Dt,halfHeight:new Dt};break}return C[i.id]=a,a}}}function z4(){const C={};return{get:function(i){if(C[i.id]!==void 0)return C[i.id];let a;switch(i.type){case"DirectionalLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"SpotLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le};break;case"PointLight":a={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Le,shadowCameraNear:1,shadowCameraFar:1e3};break}return C[i.id]=a,a}}}let W4=0;function J4(C,i){return(i.castShadow?2:0)-(C.castShadow?2:0)+(i.map?1:0)-(C.map?1:0)}function Y4(C){const i=new e9,a=z4(),u={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let P=0;P<9;P++)u.probe.push(new Dt);const d=new Dt,E=new ui,B=new ui;function M(P){let O=0,H=0,z=0;for(let xt=0;xt<9;xt++)u.probe[xt].set(0,0,0);let J=0,j=0,nt=0,q=0,Z=0,ut=0,ct=0,lt=0,Vt=0,Tt=0,Qt=0;P.sort(J4);for(let xt=0,pt=P.length;xt<pt;xt++){const Ht=P[xt],le=Ht.color,re=Ht.intensity,Ae=Ht.distance,Pe=Ht.shadow&&Ht.shadow.map?Ht.shadow.map.texture:null;if(Ht.isAmbientLight)O+=le.r*re,H+=le.g*re,z+=le.b*re;else if(Ht.isLightProbe){for(let he=0;he<9;he++)u.probe[he].addScaledVector(Ht.sh.coefficients[he],re);Qt++}else if(Ht.isDirectionalLight){const he=i.get(Ht);if(he.color.copy(Ht.color).multiplyScalar(Ht.intensity),Ht.castShadow){const Xe=Ht.shadow,fe=a.get(Ht);fe.shadowIntensity=Xe.intensity,fe.shadowBias=Xe.bias,fe.shadowNormalBias=Xe.normalBias,fe.shadowRadius=Xe.radius,fe.shadowMapSize=Xe.mapSize,u.directionalShadow[J]=fe,u.directionalShadowMap[J]=Pe,u.directionalShadowMatrix[J]=Ht.shadow.matrix,ut++}u.directional[J]=he,J++}else if(Ht.isSpotLight){const he=i.get(Ht);he.position.setFromMatrixPosition(Ht.matrixWorld),he.color.copy(le).multiplyScalar(re),he.distance=Ae,he.coneCos=Math.cos(Ht.angle),he.penumbraCos=Math.cos(Ht.angle*(1-Ht.penumbra)),he.decay=Ht.decay,u.spot[nt]=he;const Xe=Ht.shadow;if(Ht.map&&(u.spotLightMap[Vt]=Ht.map,Vt++,Xe.updateMatrices(Ht),Ht.castShadow&&Tt++),u.spotLightMatrix[nt]=Xe.matrix,Ht.castShadow){const fe=a.get(Ht);fe.shadowIntensity=Xe.intensity,fe.shadowBias=Xe.bias,fe.shadowNormalBias=Xe.normalBias,fe.shadowRadius=Xe.radius,fe.shadowMapSize=Xe.mapSize,u.spotShadow[nt]=fe,u.spotShadowMap[nt]=Pe,lt++}nt++}else if(Ht.isRectAreaLight){const he=i.get(Ht);he.color.copy(le).multiplyScalar(re),he.halfWidth.set(Ht.width*.5,0,0),he.halfHeight.set(0,Ht.height*.5,0),u.rectArea[q]=he,q++}else if(Ht.isPointLight){const he=i.get(Ht);if(he.color.copy(Ht.color).multiplyScalar(Ht.intensity),he.distance=Ht.distance,he.decay=Ht.decay,Ht.castShadow){const Xe=Ht.shadow,fe=a.get(Ht);fe.shadowIntensity=Xe.intensity,fe.shadowBias=Xe.bias,fe.shadowNormalBias=Xe.normalBias,fe.shadowRadius=Xe.radius,fe.shadowMapSize=Xe.mapSize,fe.shadowCameraNear=Xe.camera.near,fe.shadowCameraFar=Xe.camera.far,u.pointShadow[j]=fe,u.pointShadowMap[j]=Pe,u.pointShadowMatrix[j]=Ht.shadow.matrix,ct++}u.point[j]=he,j++}else if(Ht.isHemisphereLight){const he=i.get(Ht);he.skyColor.copy(Ht.color).multiplyScalar(re),he.groundColor.copy(Ht.groundColor).multiplyScalar(re),u.hemi[Z]=he,Z++}}q>0&&(C.has("OES_texture_float_linear")===!0?(u.rectAreaLTC1=on.LTC_FLOAT_1,u.rectAreaLTC2=on.LTC_FLOAT_2):(u.rectAreaLTC1=on.LTC_HALF_1,u.rectAreaLTC2=on.LTC_HALF_2)),u.ambient[0]=O,u.ambient[1]=H,u.ambient[2]=z;const Ut=u.hash;(Ut.directionalLength!==J||Ut.pointLength!==j||Ut.spotLength!==nt||Ut.rectAreaLength!==q||Ut.hemiLength!==Z||Ut.numDirectionalShadows!==ut||Ut.numPointShadows!==ct||Ut.numSpotShadows!==lt||Ut.numSpotMaps!==Vt||Ut.numLightProbes!==Qt)&&(u.directional.length=J,u.spot.length=nt,u.rectArea.length=q,u.point.length=j,u.hemi.length=Z,u.directionalShadow.length=ut,u.directionalShadowMap.length=ut,u.pointShadow.length=ct,u.pointShadowMap.length=ct,u.spotShadow.length=lt,u.spotShadowMap.length=lt,u.directionalShadowMatrix.length=ut,u.pointShadowMatrix.length=ct,u.spotLightMatrix.length=lt+Vt-Tt,u.spotLightMap.length=Vt,u.numSpotLightShadowsWithMaps=Tt,u.numLightProbes=Qt,Ut.directionalLength=J,Ut.pointLength=j,Ut.spotLength=nt,Ut.rectAreaLength=q,Ut.hemiLength=Z,Ut.numDirectionalShadows=ut,Ut.numPointShadows=ct,Ut.numSpotShadows=lt,Ut.numSpotMaps=Vt,Ut.numLightProbes=Qt,u.version=W4++)}function Q(P,O){let H=0,z=0,J=0,j=0,nt=0;const q=O.matrixWorldInverse;for(let Z=0,ut=P.length;Z<ut;Z++){const ct=P[Z];if(ct.isDirectionalLight){const lt=u.directional[H];lt.direction.setFromMatrixPosition(ct.matrixWorld),d.setFromMatrixPosition(ct.target.matrixWorld),lt.direction.sub(d),lt.direction.transformDirection(q),H++}else if(ct.isSpotLight){const lt=u.spot[J];lt.position.setFromMatrixPosition(ct.matrixWorld),lt.position.applyMatrix4(q),lt.direction.setFromMatrixPosition(ct.matrixWorld),d.setFromMatrixPosition(ct.target.matrixWorld),lt.direction.sub(d),lt.direction.transformDirection(q),J++}else if(ct.isRectAreaLight){const lt=u.rectArea[j];lt.position.setFromMatrixPosition(ct.matrixWorld),lt.position.applyMatrix4(q),B.identity(),E.copy(ct.matrixWorld),E.premultiply(q),B.extractRotation(E),lt.halfWidth.set(ct.width*.5,0,0),lt.halfHeight.set(0,ct.height*.5,0),lt.halfWidth.applyMatrix4(B),lt.halfHeight.applyMatrix4(B),j++}else if(ct.isPointLight){const lt=u.point[z];lt.position.setFromMatrixPosition(ct.matrixWorld),lt.position.applyMatrix4(q),z++}else if(ct.isHemisphereLight){const lt=u.hemi[nt];lt.direction.setFromMatrixPosition(ct.matrixWorld),lt.direction.transformDirection(q),nt++}}}return{setup:M,setupView:Q,state:u}}function Z4(C){const i=new Y4(C),a=[],u=[];function d(O){P.camera=O,a.length=0,u.length=0}function E(O){a.push(O)}function B(O){u.push(O)}function M(){i.setup(a)}function Q(O){i.setupView(a,O)}const P={lightsArray:a,shadowsArray:u,camera:null,lights:i,transmissionRenderTarget:{}};return{init:d,state:P,setupLights:M,setupLightsView:Q,pushLight:E,pushShadow:B}}function n9(C){let i=new WeakMap;function a(d,E=0){const B=i.get(d);let M;return B===void 0?(M=new Z4(C),i.set(d,[M])):E>=B.length?(M=new Z4(C),B.push(M)):M=B[E],M}function u(){i=new WeakMap}return{get:a,dispose:u}}class Kb extends la{static get type(){return"MeshDepthMaterial"}constructor(i){super(),this.isMeshDepthMaterial=!0,this.depthPacking=e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(i)}copy(i){return super.copy(i),this.depthPacking=i.depthPacking,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this}}class sI extends la{static get type(){return"MeshDistanceMaterial"}constructor(i){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(i)}copy(i){return super.copy(i),this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this}}const i9=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,s9=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function r9(C,i,a){let u=new qm;const d=new Le,E=new Le,B=new qi,M=new Kb({depthPacking:Dv}),Q=new sI,P={},O=a.maxTextureSize,H={[PA]:Ro,[Ro]:PA,[gs]:gs},z=new GA({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Le},radius:{value:4}},vertexShader:i9,fragmentShader:s9}),J=z.clone();J.defines.HORIZONTAL_PASS=1;const j=new Ri;j.setAttribute("position",new Bs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const nt=new go(j,z),q=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pd;let Z=this.type;this.render=function(Tt,Qt,Ut){if(q.enabled===!1||q.autoUpdate===!1&&q.needsUpdate===!1||Tt.length===0)return;const xt=C.getRenderTarget(),pt=C.getActiveCubeFace(),Ht=C.getActiveMipmapLevel(),le=C.state;le.setBlending(qn),le.buffers.color.setClear(1,1,1,1),le.buffers.depth.setTest(!0),le.setScissorTest(!1);const re=Z!==Cl&&this.type===Cl,Ae=Z===Cl&&this.type!==Cl;for(let Pe=0,he=Tt.length;Pe<he;Pe++){const Xe=Tt[Pe],fe=Xe.shadow;if(fe===void 0){console.warn("THREE.WebGLShadowMap:",Xe,"has no shadow.");continue}if(fe.autoUpdate===!1&&fe.needsUpdate===!1)continue;d.copy(fe.mapSize);const an=fe.getFrameExtents();if(d.multiply(an),E.copy(fe.mapSize),(d.x>O||d.y>O)&&(d.x>O&&(E.x=Math.floor(O/an.x),d.x=E.x*an.x,fe.mapSize.x=E.x),d.y>O&&(E.y=Math.floor(O/an.y),d.y=E.y*an.y,fe.mapSize.y=E.y)),fe.map===null||re===!0||Ae===!0){const kn=this.type!==Cl?{minFilter:va,magFilter:va}:{};fe.map!==null&&fe.map.dispose(),fe.map=new wc(d.x,d.y,kn),fe.map.texture.name=Xe.name+".shadowMap",fe.camera.updateProjectionMatrix()}C.setRenderTarget(fe.map),C.clear();const hn=fe.getViewportCount();for(let kn=0;kn<hn;kn++){const bi=fe.getViewport(kn);B.set(E.x*bi.x,E.y*bi.y,E.x*bi.z,E.y*bi.w),le.viewport(B),fe.updateMatrices(Xe,kn),u=fe.getFrustum(),lt(Qt,Ut,fe.camera,Xe,this.type)}fe.isPointLightShadow!==!0&&this.type===Cl&&ut(fe,Ut),fe.needsUpdate=!1}Z=this.type,q.needsUpdate=!1,C.setRenderTarget(xt,pt,Ht)};function ut(Tt,Qt){const Ut=i.update(nt);z.defines.VSM_SAMPLES!==Tt.blurSamples&&(z.defines.VSM_SAMPLES=Tt.blurSamples,J.defines.VSM_SAMPLES=Tt.blurSamples,z.needsUpdate=!0,J.needsUpdate=!0),Tt.mapPass===null&&(Tt.mapPass=new wc(d.x,d.y)),z.uniforms.shadow_pass.value=Tt.map.texture,z.uniforms.resolution.value=Tt.mapSize,z.uniforms.radius.value=Tt.radius,C.setRenderTarget(Tt.mapPass),C.clear(),C.renderBufferDirect(Qt,null,Ut,z,nt,null),J.uniforms.shadow_pass.value=Tt.mapPass.texture,J.uniforms.resolution.value=Tt.mapSize,J.uniforms.radius.value=Tt.radius,C.setRenderTarget(Tt.map),C.clear(),C.renderBufferDirect(Qt,null,Ut,J,nt,null)}function ct(Tt,Qt,Ut,xt){let pt=null;const Ht=Ut.isPointLight===!0?Tt.customDistanceMaterial:Tt.customDepthMaterial;if(Ht!==void 0)pt=Ht;else if(pt=Ut.isPointLight===!0?Q:M,C.localClippingEnabled&&Qt.clipShadows===!0&&Array.isArray(Qt.clippingPlanes)&&Qt.clippingPlanes.length!==0||Qt.displacementMap&&Qt.displacementScale!==0||Qt.alphaMap&&Qt.alphaTest>0||Qt.map&&Qt.alphaTest>0){const le=pt.uuid,re=Qt.uuid;let Ae=P[le];Ae===void 0&&(Ae={},P[le]=Ae);let Pe=Ae[re];Pe===void 0&&(Pe=pt.clone(),Ae[re]=Pe,Qt.addEventListener("dispose",Vt)),pt=Pe}if(pt.visible=Qt.visible,pt.wireframe=Qt.wireframe,xt===Cl?pt.side=Qt.shadowSide!==null?Qt.shadowSide:Qt.side:pt.side=Qt.shadowSide!==null?Qt.shadowSide:H[Qt.side],pt.alphaMap=Qt.alphaMap,pt.alphaTest=Qt.alphaTest,pt.map=Qt.map,pt.clipShadows=Qt.clipShadows,pt.clippingPlanes=Qt.clippingPlanes,pt.clipIntersection=Qt.clipIntersection,pt.displacementMap=Qt.displacementMap,pt.displacementScale=Qt.displacementScale,pt.displacementBias=Qt.displacementBias,pt.wireframeLinewidth=Qt.wireframeLinewidth,pt.linewidth=Qt.linewidth,Ut.isPointLight===!0&&pt.isMeshDistanceMaterial===!0){const le=C.properties.get(pt);le.light=Ut}return pt}function lt(Tt,Qt,Ut,xt,pt){if(Tt.visible===!1)return;if(Tt.layers.test(Qt.layers)&&(Tt.isMesh||Tt.isLine||Tt.isPoints)&&(Tt.castShadow||Tt.receiveShadow&&pt===Cl)&&(!Tt.frustumCulled||u.intersectsObject(Tt))){Tt.modelViewMatrix.multiplyMatrices(Ut.matrixWorldInverse,Tt.matrixWorld);const re=i.update(Tt),Ae=Tt.material;if(Array.isArray(Ae)){const Pe=re.groups;for(let he=0,Xe=Pe.length;he<Xe;he++){const fe=Pe[he],an=Ae[fe.materialIndex];if(an&&an.visible){const hn=ct(Tt,an,xt,pt);Tt.onBeforeShadow(C,Tt,Qt,Ut,re,hn,fe),C.renderBufferDirect(Ut,null,re,hn,Tt,fe),Tt.onAfterShadow(C,Tt,Qt,Ut,re,hn,fe)}}}else if(Ae.visible){const Pe=ct(Tt,Ae,xt,pt);Tt.onBeforeShadow(C,Tt,Qt,Ut,re,Pe,null),C.renderBufferDirect(Ut,null,re,Pe,Tt,null),Tt.onAfterShadow(C,Tt,Qt,Ut,re,Pe,null)}}const le=Tt.children;for(let re=0,Ae=le.length;re<Ae;re++)lt(le[re],Qt,Ut,xt,pt)}function Vt(Tt){Tt.target.removeEventListener("dispose",Vt);for(const Ut in P){const xt=P[Ut],pt=Tt.target.uuid;pt in xt&&(xt[pt].dispose(),delete xt[pt])}}}const o9={[Dw]:Rw,[Qw]:Pw,[kw]:Fw,[Ap]:Lw,[Rw]:Dw,[Pw]:Qw,[Fw]:kw,[Lw]:Ap};function a9(C,i){function a(){let Zt=!1;const An=new qi;let pe=null;const Qe=new qi(0,0,0,0);return{setMask:function(dn){pe!==dn&&!Zt&&(C.colorMask(dn,dn,dn,dn),pe=dn)},setLocked:function(dn){Zt=dn},setClear:function(dn,mn,Si,Wr,ua){ua===!0&&(dn*=Wr,mn*=Wr,Si*=Wr),An.set(dn,mn,Si,Wr),Qe.equals(An)===!1&&(C.clearColor(dn,mn,Si,Wr),Qe.copy(An))},reset:function(){Zt=!1,pe=null,Qe.set(-1,0,0,0)}}}function u(){let Zt=!1,An=!1,pe=null,Qe=null,dn=null;return{setReversed:function(mn){if(An!==mn){const Si=i.get("EXT_clip_control");An?Si.clipControlEXT(Si.LOWER_LEFT_EXT,Si.ZERO_TO_ONE_EXT):Si.clipControlEXT(Si.LOWER_LEFT_EXT,Si.NEGATIVE_ONE_TO_ONE_EXT);const Wr=dn;dn=null,this.setClear(Wr)}An=mn},getReversed:function(){return An},setTest:function(mn){mn?Ye(C.DEPTH_TEST):Kn(C.DEPTH_TEST)},setMask:function(mn){pe!==mn&&!Zt&&(C.depthMask(mn),pe=mn)},setFunc:function(mn){if(An&&(mn=o9[mn]),Qe!==mn){switch(mn){case Dw:C.depthFunc(C.NEVER);break;case Rw:C.depthFunc(C.ALWAYS);break;case Qw:C.depthFunc(C.LESS);break;case Ap:C.depthFunc(C.LEQUAL);break;case kw:C.depthFunc(C.EQUAL);break;case Lw:C.depthFunc(C.GEQUAL);break;case Pw:C.depthFunc(C.GREATER);break;case Fw:C.depthFunc(C.NOTEQUAL);break;default:C.depthFunc(C.LEQUAL)}Qe=mn}},setLocked:function(mn){Zt=mn},setClear:function(mn){dn!==mn&&(An&&(mn=1-mn),C.clearDepth(mn),dn=mn)},reset:function(){Zt=!1,pe=null,Qe=null,dn=null,An=!1}}}function d(){let Zt=!1,An=null,pe=null,Qe=null,dn=null,mn=null,Si=null,Wr=null,ua=null;return{setTest:function(xs){Zt||(xs?Ye(C.STENCIL_TEST):Kn(C.STENCIL_TEST))},setMask:function(xs){An!==xs&&!Zt&&(C.stencilMask(xs),An=xs)},setFunc:function(xs,Dc,Rc){(pe!==xs||Qe!==Dc||dn!==Rc)&&(C.stencilFunc(xs,Dc,Rc),pe=xs,Qe=Dc,dn=Rc)},setOp:function(xs,Dc,Rc){(mn!==xs||Si!==Dc||Wr!==Rc)&&(C.stencilOp(xs,Dc,Rc),mn=xs,Si=Dc,Wr=Rc)},setLocked:function(xs){Zt=xs},setClear:function(xs){ua!==xs&&(C.clearStencil(xs),ua=xs)},reset:function(){Zt=!1,An=null,pe=null,Qe=null,dn=null,mn=null,Si=null,Wr=null,ua=null}}}const E=new a,B=new u,M=new d,Q=new WeakMap,P=new WeakMap;let O={},H={},z=new WeakMap,J=[],j=null,nt=!1,q=null,Z=null,ut=null,ct=null,lt=null,Vt=null,Tt=null,Qt=new gn(0,0,0),Ut=0,xt=!1,pt=null,Ht=null,le=null,re=null,Ae=null;const Pe=C.getParameter(C.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let he=!1,Xe=0;const fe=C.getParameter(C.VERSION);fe.indexOf("WebGL")!==-1?(Xe=parseFloat(/^WebGL (\d)/.exec(fe)[1]),he=Xe>=1):fe.indexOf("OpenGL ES")!==-1&&(Xe=parseFloat(/^OpenGL ES (\d)/.exec(fe)[1]),he=Xe>=2);let an=null,hn={};const kn=C.getParameter(C.SCISSOR_BOX),bi=C.getParameter(C.VIEWPORT),vs=new qi().fromArray(kn),Se=new qi().fromArray(bi);function qe(Zt,An,pe,Qe){const dn=new Uint8Array(4),mn=C.createTexture();C.bindTexture(Zt,mn),C.texParameteri(Zt,C.TEXTURE_MIN_FILTER,C.NEAREST),C.texParameteri(Zt,C.TEXTURE_MAG_FILTER,C.NEAREST);for(let Si=0;Si<pe;Si++)Zt===C.TEXTURE_3D||Zt===C.TEXTURE_2D_ARRAY?C.texImage3D(An,0,C.RGBA,1,1,Qe,0,C.RGBA,C.UNSIGNED_BYTE,dn):C.texImage2D(An+Si,0,C.RGBA,1,1,0,C.RGBA,C.UNSIGNED_BYTE,dn);return mn}const Ln={};Ln[C.TEXTURE_2D]=qe(C.TEXTURE_2D,C.TEXTURE_2D,1),Ln[C.TEXTURE_CUBE_MAP]=qe(C.TEXTURE_CUBE_MAP,C.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ln[C.TEXTURE_2D_ARRAY]=qe(C.TEXTURE_2D_ARRAY,C.TEXTURE_2D_ARRAY,1,1),Ln[C.TEXTURE_3D]=qe(C.TEXTURE_3D,C.TEXTURE_3D,1,1),E.setClear(0,0,0,1),B.setClear(1),M.setClear(0),Ye(C.DEPTH_TEST),B.setFunc(Ap),ze(!1),In(yi),Ye(C.CULL_FACE),Nt(qn);function Ye(Zt){O[Zt]!==!0&&(C.enable(Zt),O[Zt]=!0)}function Kn(Zt){O[Zt]!==!1&&(C.disable(Zt),O[Zt]=!1)}function mi(Zt,An){return H[Zt]!==An?(C.bindFramebuffer(Zt,An),H[Zt]=An,Zt===C.DRAW_FRAMEBUFFER&&(H[C.FRAMEBUFFER]=An),Zt===C.FRAMEBUFFER&&(H[C.DRAW_FRAMEBUFFER]=An),!0):!1}function ii(Zt,An){let pe=J,Qe=!1;if(Zt){pe=z.get(An),pe===void 0&&(pe=[],z.set(An,pe));const dn=Zt.textures;if(pe.length!==dn.length||pe[0]!==C.COLOR_ATTACHMENT0){for(let mn=0,Si=dn.length;mn<Si;mn++)pe[mn]=C.COLOR_ATTACHMENT0+mn;pe.length=dn.length,Qe=!0}}else pe[0]!==C.BACK&&(pe[0]=C.BACK,Qe=!0);Qe&&C.drawBuffers(pe)}function ts(Zt){return j!==Zt?(C.useProgram(Zt),j=Zt,!0):!1}const Ue={[ch]:C.FUNC_ADD,[uo]:C.FUNC_SUBTRACT,[Sw]:C.FUNC_REVERSE_SUBTRACT};Ue[If]=C.MIN,Ue[gd]=C.MAX;const je={[IT]:C.ZERO,[wT]:C.ONE,[Tw]:C.SRC_COLOR,[aE]:C.SRC_ALPHA,[MT]:C.SRC_ALPHA_SATURATE,[vT]:C.DST_COLOR,[BT]:C.DST_ALPHA,[_T]:C.ONE_MINUS_SRC_COLOR,[lE]:C.ONE_MINUS_SRC_ALPHA,[bT]:C.ONE_MINUS_DST_COLOR,[Vi]:C.ONE_MINUS_DST_ALPHA,[ST]:C.CONSTANT_COLOR,[TT]:C.ONE_MINUS_CONSTANT_COLOR,[DT]:C.CONSTANT_ALPHA,[RT]:C.ONE_MINUS_CONSTANT_ALPHA};function Nt(Zt,An,pe,Qe,dn,mn,Si,Wr,ua,xs){if(Zt===qn){nt===!0&&(Kn(C.BLEND),nt=!1);return}if(nt===!1&&(Ye(C.BLEND),nt=!0),Zt!==oE){if(Zt!==q||xs!==xt){if((Z!==ch||lt!==ch)&&(C.blendEquation(C.FUNC_ADD),Z=ch,lt=ch),xs)switch(Zt){case El:C.blendFuncSeparate(C.ONE,C.ONE_MINUS_SRC_ALPHA,C.ONE,C.ONE_MINUS_SRC_ALPHA);break;case Cf:C.blendFunc(C.ONE,C.ONE);break;case Il:C.blendFuncSeparate(C.ZERO,C.ONE_MINUS_SRC_COLOR,C.ZERO,C.ONE);break;case Ef:C.blendFuncSeparate(C.ZERO,C.SRC_COLOR,C.ZERO,C.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Zt);break}else switch(Zt){case El:C.blendFuncSeparate(C.SRC_ALPHA,C.ONE_MINUS_SRC_ALPHA,C.ONE,C.ONE_MINUS_SRC_ALPHA);break;case Cf:C.blendFunc(C.SRC_ALPHA,C.ONE);break;case Il:C.blendFuncSeparate(C.ZERO,C.ONE_MINUS_SRC_COLOR,C.ZERO,C.ONE);break;case Ef:C.blendFunc(C.ZERO,C.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Zt);break}ut=null,ct=null,Vt=null,Tt=null,Qt.set(0,0,0),Ut=0,q=Zt,xt=xs}return}dn=dn||An,mn=mn||pe,Si=Si||Qe,(An!==Z||dn!==lt)&&(C.blendEquationSeparate(Ue[An],Ue[dn]),Z=An,lt=dn),(pe!==ut||Qe!==ct||mn!==Vt||Si!==Tt)&&(C.blendFuncSeparate(je[pe],je[Qe],je[mn],je[Si]),ut=pe,ct=Qe,Vt=mn,Tt=Si),(Wr.equals(Qt)===!1||ua!==Ut)&&(C.blendColor(Wr.r,Wr.g,Wr.b,ua),Qt.copy(Wr),Ut=ua),q=Zt,xt=!1}function Vn(Zt,An){Zt.side===gs?Kn(C.CULL_FACE):Ye(C.CULL_FACE);let pe=Zt.side===Ro;An&&(pe=!pe),ze(pe),Zt.blending===El&&Zt.transparent===!1?Nt(qn):Nt(Zt.blending,Zt.blendEquation,Zt.blendSrc,Zt.blendDst,Zt.blendEquationAlpha,Zt.blendSrcAlpha,Zt.blendDstAlpha,Zt.blendColor,Zt.blendAlpha,Zt.premultipliedAlpha),B.setFunc(Zt.depthFunc),B.setTest(Zt.depthTest),B.setMask(Zt.depthWrite),E.setMask(Zt.colorWrite);const Qe=Zt.stencilWrite;M.setTest(Qe),Qe&&(M.setMask(Zt.stencilWriteMask),M.setFunc(Zt.stencilFunc,Zt.stencilRef,Zt.stencilFuncMask),M.setOp(Zt.stencilFail,Zt.stencilZFail,Zt.stencilZPass)),ci(Zt.polygonOffset,Zt.polygonOffsetFactor,Zt.polygonOffsetUnits),Zt.alphaToCoverage===!0?Ye(C.SAMPLE_ALPHA_TO_COVERAGE):Kn(C.SAMPLE_ALPHA_TO_COVERAGE)}function ze(Zt){pt!==Zt&&(Zt?C.frontFace(C.CW):C.frontFace(C.CCW),pt=Zt)}function In(Zt){Zt!==D?(Ye(C.CULL_FACE),Zt!==Ht&&(Zt===yi?C.cullFace(C.BACK):Zt===vn?C.cullFace(C.FRONT):C.cullFace(C.FRONT_AND_BACK))):Kn(C.CULL_FACE),Ht=Zt}function nn(Zt){Zt!==le&&(he&&C.lineWidth(Zt),le=Zt)}function ci(Zt,An,pe){Zt?(Ye(C.POLYGON_OFFSET_FILL),(re!==An||Ae!==pe)&&(C.polygonOffset(An,pe),re=An,Ae=pe)):Kn(C.POLYGON_OFFSET_FILL)}function wn(Zt){Zt?Ye(C.SCISSOR_TEST):Kn(C.SCISSOR_TEST)}function St(Zt){Zt===void 0&&(Zt=C.TEXTURE0+Pe-1),an!==Zt&&(C.activeTexture(Zt),an=Zt)}function gt(Zt,An,pe){pe===void 0&&(an===null?pe=C.TEXTURE0+Pe-1:pe=an);let Qe=hn[pe];Qe===void 0&&(Qe={type:void 0,texture:void 0},hn[pe]=Qe),(Qe.type!==Zt||Qe.texture!==An)&&(an!==pe&&(C.activeTexture(pe),an=pe),C.bindTexture(Zt,An||Ln[Zt]),Qe.type=Zt,Qe.texture=An)}function ne(){const Zt=hn[an];Zt!==void 0&&Zt.type!==void 0&&(C.bindTexture(Zt.type,null),Zt.type=void 0,Zt.texture=void 0)}function Ie(){try{C.compressedTexImage2D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Ge(){try{C.compressedTexImage3D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Be(){try{C.texSubImage2D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Pn(){try{C.texSubImage3D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function ln(){try{C.compressedTexSubImage2D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function _n(){try{C.compressedTexSubImage3D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Hi(){try{C.texStorage2D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Ze(){try{C.texStorage3D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function bn(){try{C.texImage2D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function Ai(){try{C.texImage3D.apply(C,arguments)}catch(Zt){console.error("THREE.WebGLState:",Zt)}}function fi(Zt){vs.equals(Zt)===!1&&(C.scissor(Zt.x,Zt.y,Zt.z,Zt.w),vs.copy(Zt))}function Mn(Zt){Se.equals(Zt)===!1&&(C.viewport(Zt.x,Zt.y,Zt.z,Zt.w),Se.copy(Zt))}function es(Zt,An){let pe=P.get(An);pe===void 0&&(pe=new WeakMap,P.set(An,pe));let Qe=pe.get(Zt);Qe===void 0&&(Qe=C.getUniformBlockIndex(An,Zt.name),pe.set(Zt,Qe))}function Mi(Zt,An){const Qe=P.get(An).get(Zt);Q.get(An)!==Qe&&(C.uniformBlockBinding(An,Qe,Zt.__bindingPointIndex),Q.set(An,Qe))}function Ks(){C.disable(C.BLEND),C.disable(C.CULL_FACE),C.disable(C.DEPTH_TEST),C.disable(C.POLYGON_OFFSET_FILL),C.disable(C.SCISSOR_TEST),C.disable(C.STENCIL_TEST),C.disable(C.SAMPLE_ALPHA_TO_COVERAGE),C.blendEquation(C.FUNC_ADD),C.blendFunc(C.ONE,C.ZERO),C.blendFuncSeparate(C.ONE,C.ZERO,C.ONE,C.ZERO),C.blendColor(0,0,0,0),C.colorMask(!0,!0,!0,!0),C.clearColor(0,0,0,0),C.depthMask(!0),C.depthFunc(C.LESS),B.setReversed(!1),C.clearDepth(1),C.stencilMask(4294967295),C.stencilFunc(C.ALWAYS,0,4294967295),C.stencilOp(C.KEEP,C.KEEP,C.KEEP),C.clearStencil(0),C.cullFace(C.BACK),C.frontFace(C.CCW),C.polygonOffset(0,0),C.activeTexture(C.TEXTURE0),C.bindFramebuffer(C.FRAMEBUFFER,null),C.bindFramebuffer(C.DRAW_FRAMEBUFFER,null),C.bindFramebuffer(C.READ_FRAMEBUFFER,null),C.useProgram(null),C.lineWidth(1),C.scissor(0,0,C.canvas.width,C.canvas.height),C.viewport(0,0,C.canvas.width,C.canvas.height),O={},an=null,hn={},H={},z=new WeakMap,J=[],j=null,nt=!1,q=null,Z=null,ut=null,ct=null,lt=null,Vt=null,Tt=null,Qt=new gn(0,0,0),Ut=0,xt=!1,pt=null,Ht=null,le=null,re=null,Ae=null,vs.set(0,0,C.canvas.width,C.canvas.height),Se.set(0,0,C.canvas.width,C.canvas.height),E.reset(),B.reset(),M.reset()}return{buffers:{color:E,depth:B,stencil:M},enable:Ye,disable:Kn,bindFramebuffer:mi,drawBuffers:ii,useProgram:ts,setBlending:Nt,setMaterial:Vn,setFlipSided:ze,setCullFace:In,setLineWidth:nn,setPolygonOffset:ci,setScissorTest:wn,activeTexture:St,bindTexture:gt,unbindTexture:ne,compressedTexImage2D:Ie,compressedTexImage3D:Ge,texImage2D:bn,texImage3D:Ai,updateUBOMapping:es,uniformBlockBinding:Mi,texStorage2D:Hi,texStorage3D:Ze,texSubImage2D:Be,texSubImage3D:Pn,compressedTexSubImage2D:ln,compressedTexSubImage3D:_n,scissor:fi,viewport:Mn,reset:Ks}}function l9(C,i){const a=C.image&&C.image.width?C.image.width/C.image.height:1;return a>i?(C.repeat.x=1,C.repeat.y=a/i,C.offset.x=0,C.offset.y=(1-C.repeat.y)/2):(C.repeat.x=i/a,C.repeat.y=1,C.offset.x=(1-C.repeat.x)/2,C.offset.y=0),C}function Xb(C,i){const a=C.image&&C.image.width?C.image.width/C.image.height:1;return a>i?(C.repeat.x=i/a,C.repeat.y=1,C.offset.x=(1-C.repeat.x)/2,C.offset.y=0):(C.repeat.x=1,C.repeat.y=a/i,C.offset.x=0,C.offset.y=(1-C.repeat.y)/2),C}function A9(C){return C.repeat.x=1,C.repeat.y=1,C.offset.x=0,C.offset.y=0,C}function jb(C,i,a,u){const d=K4(u);switch(a){case fE:return C*i;case pp:return C*i;case gp:return C*i*2;case Uw:return C*i/d.components*d.byteLength;case yp:return C*i/d.components*d.byteLength;case FA:return C*i*2/d.components*d.byteLength;case bm:return C*i*2/d.components*d.byteLength;case zs:return C*i*3/d.components*d.byteLength;case to:return C*i*4/d.components*d.byteLength;case Nw:return C*i*4/d.components*d.byteLength;case _l:case pE:return Math.floor((C+3)/4)*Math.floor((i+3)/4)*8;case gE:case mE:return Math.floor((C+3)/4)*Math.floor((i+3)/4)*16;case yE:case Vw:return Math.max(C,16)*Math.max(i,8)/4;case Gw:case Ow:return Math.max(C,8)*Math.max(i,8)/2;case Hw:case Bi:return Math.floor((C+3)/4)*Math.floor((i+3)/4)*8;case Er:return Math.floor((C+3)/4)*Math.floor((i+3)/4)*16;case sa:return Math.floor((C+3)/4)*Math.floor((i+3)/4)*16;case zw:return Math.floor((C+4)/5)*Math.floor((i+3)/4)*16;case Ww:return Math.floor((C+4)/5)*Math.floor((i+4)/5)*16;case Jw:return Math.floor((C+5)/6)*Math.floor((i+4)/5)*16;case Yw:return Math.floor((C+5)/6)*Math.floor((i+5)/6)*16;case Zw:return Math.floor((C+7)/8)*Math.floor((i+4)/5)*16;case Kw:return Math.floor((C+7)/8)*Math.floor((i+5)/6)*16;case xE:return Math.floor((C+7)/8)*Math.floor((i+7)/8)*16;case CE:return Math.floor((C+9)/10)*Math.floor((i+4)/5)*16;case EE:return Math.floor((C+9)/10)*Math.floor((i+5)/6)*16;case Xw:return Math.floor((C+9)/10)*Math.floor((i+7)/8)*16;case jw:return Math.floor((C+9)/10)*Math.floor((i+9)/10)*16;case xp:return Math.floor((C+11)/12)*Math.floor((i+9)/10)*16;case Mm:return Math.floor((C+11)/12)*Math.floor((i+11)/12)*16;case ru:case IE:case Cp:return Math.ceil(C/4)*Math.ceil(i/4)*16;case wE:case _E:return Math.ceil(C/4)*Math.ceil(i/4)*8;case qw:case $w:return Math.ceil(C/4)*Math.ceil(i/4)*16}throw new Error(`Unable to determine texture byte length for ${a} format.`)}function K4(C){switch(C){case hh:case oA:return{byteLength:1,components:1};case vm:case _f:case dp:return{byteLength:2,components:1};case uE:case dE:return{byteLength:2,components:4};case su:case hE:case aA:return{byteLength:4,components:1};case Mv:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${C}.`)}const c9={contain:l9,cover:Xb,fill:A9,getByteLength:jb};function h9(C,i,a,u,d,E,B){const M=i.has("WEBGL_multisampled_render_to_texture")?i.get("WEBGL_multisampled_render_to_texture"):null,Q=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),P=new Le,O=new WeakMap;let H;const z=new WeakMap;let J=!1;try{J=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function j(St,gt){return J?new OffscreenCanvas(St,gt):Lm("canvas")}function nt(St,gt,ne){let Ie=1;const Ge=wn(St);if((Ge.width>ne||Ge.height>ne)&&(Ie=ne/Math.max(Ge.width,Ge.height)),Ie<1)if(typeof HTMLImageElement<"u"&&St instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&St instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&St instanceof ImageBitmap||typeof VideoFrame<"u"&&St instanceof VideoFrame){const Be=Math.floor(Ie*Ge.width),Pn=Math.floor(Ie*Ge.height);H===void 0&&(H=j(Be,Pn));const ln=gt?j(Be,Pn):H;return ln.width=Be,ln.height=Pn,ln.getContext("2d").drawImage(St,0,0,Be,Pn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ge.width+"x"+Ge.height+") to ("+Be+"x"+Pn+")."),ln}else return"data"in St&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ge.width+"x"+Ge.height+")."),St;return St}function q(St){return St.generateMipmaps}function Z(St){C.generateMipmap(St)}function ut(St){return St.isWebGLCubeRenderTarget?C.TEXTURE_CUBE_MAP:St.isWebGL3DRenderTarget?C.TEXTURE_3D:St.isWebGLArrayRenderTarget||St.isCompressedArrayTexture?C.TEXTURE_2D_ARRAY:C.TEXTURE_2D}function ct(St,gt,ne,Ie,Ge=!1){if(St!==null){if(C[St]!==void 0)return C[St];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+St+"'")}let Be=gt;if(gt===C.RED&&(ne===C.FLOAT&&(Be=C.R32F),ne===C.HALF_FLOAT&&(Be=C.R16F),ne===C.UNSIGNED_BYTE&&(Be=C.R8)),gt===C.RED_INTEGER&&(ne===C.UNSIGNED_BYTE&&(Be=C.R8UI),ne===C.UNSIGNED_SHORT&&(Be=C.R16UI),ne===C.UNSIGNED_INT&&(Be=C.R32UI),ne===C.BYTE&&(Be=C.R8I),ne===C.SHORT&&(Be=C.R16I),ne===C.INT&&(Be=C.R32I)),gt===C.RG&&(ne===C.FLOAT&&(Be=C.RG32F),ne===C.HALF_FLOAT&&(Be=C.RG16F),ne===C.UNSIGNED_BYTE&&(Be=C.RG8)),gt===C.RG_INTEGER&&(ne===C.UNSIGNED_BYTE&&(Be=C.RG8UI),ne===C.UNSIGNED_SHORT&&(Be=C.RG16UI),ne===C.UNSIGNED_INT&&(Be=C.RG32UI),ne===C.BYTE&&(Be=C.RG8I),ne===C.SHORT&&(Be=C.RG16I),ne===C.INT&&(Be=C.RG32I)),gt===C.RGB_INTEGER&&(ne===C.UNSIGNED_BYTE&&(Be=C.RGB8UI),ne===C.UNSIGNED_SHORT&&(Be=C.RGB16UI),ne===C.UNSIGNED_INT&&(Be=C.RGB32UI),ne===C.BYTE&&(Be=C.RGB8I),ne===C.SHORT&&(Be=C.RGB16I),ne===C.INT&&(Be=C.RGB32I)),gt===C.RGBA_INTEGER&&(ne===C.UNSIGNED_BYTE&&(Be=C.RGBA8UI),ne===C.UNSIGNED_SHORT&&(Be=C.RGBA16UI),ne===C.UNSIGNED_INT&&(Be=C.RGBA32UI),ne===C.BYTE&&(Be=C.RGBA8I),ne===C.SHORT&&(Be=C.RGBA16I),ne===C.INT&&(Be=C.RGBA32I)),gt===C.RGB&&ne===C.UNSIGNED_INT_5_9_9_9_REV&&(Be=C.RGB9_E5),gt===C.RGBA){const Pn=Ge?Rm:Ui.getTransfer(Ie);ne===C.FLOAT&&(Be=C.RGBA32F),ne===C.HALF_FLOAT&&(Be=C.RGBA16F),ne===C.UNSIGNED_BYTE&&(Be=Pn===hs?C.SRGB8_ALPHA8:C.RGBA8),ne===C.UNSIGNED_SHORT_4_4_4_4&&(Be=C.RGBA4),ne===C.UNSIGNED_SHORT_5_5_5_1&&(Be=C.RGB5_A1)}return(Be===C.R16F||Be===C.R32F||Be===C.RG16F||Be===C.RG32F||Be===C.RGBA16F||Be===C.RGBA32F)&&i.get("EXT_color_buffer_float"),Be}function lt(St,gt){let ne;return St?gt===null||gt===su||gt===fp?ne=C.DEPTH24_STENCIL8:gt===aA?ne=C.DEPTH32F_STENCIL8:gt===vm&&(ne=C.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):gt===null||gt===su||gt===fp?ne=C.DEPTH_COMPONENT24:gt===aA?ne=C.DEPTH_COMPONENT32F:gt===vm&&(ne=C.DEPTH_COMPONENT16),ne}function Vt(St,gt){return q(St)===!0||St.isFramebufferTexture&&St.minFilter!==va&&St.minFilter!==Qo?Math.log2(Math.max(gt.width,gt.height))+1:St.mipmaps!==void 0&&St.mipmaps.length>0?St.mipmaps.length:St.isCompressedTexture&&Array.isArray(St.image)?gt.mipmaps.length:1}function Tt(St){const gt=St.target;gt.removeEventListener("dispose",Tt),Ut(gt),gt.isVideoTexture&&O.delete(gt)}function Qt(St){const gt=St.target;gt.removeEventListener("dispose",Qt),pt(gt)}function Ut(St){const gt=u.get(St);if(gt.__webglInit===void 0)return;const ne=St.source,Ie=z.get(ne);if(Ie){const Ge=Ie[gt.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&xt(St),Object.keys(Ie).length===0&&z.delete(ne)}u.remove(St)}function xt(St){const gt=u.get(St);C.deleteTexture(gt.__webglTexture);const ne=St.source,Ie=z.get(ne);delete Ie[gt.__cacheKey],B.memory.textures--}function pt(St){const gt=u.get(St);if(St.depthTexture&&(St.depthTexture.dispose(),u.remove(St.depthTexture)),St.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++){if(Array.isArray(gt.__webglFramebuffer[Ie]))for(let Ge=0;Ge<gt.__webglFramebuffer[Ie].length;Ge++)C.deleteFramebuffer(gt.__webglFramebuffer[Ie][Ge]);else C.deleteFramebuffer(gt.__webglFramebuffer[Ie]);gt.__webglDepthbuffer&&C.deleteRenderbuffer(gt.__webglDepthbuffer[Ie])}else{if(Array.isArray(gt.__webglFramebuffer))for(let Ie=0;Ie<gt.__webglFramebuffer.length;Ie++)C.deleteFramebuffer(gt.__webglFramebuffer[Ie]);else C.deleteFramebuffer(gt.__webglFramebuffer);if(gt.__webglDepthbuffer&&C.deleteRenderbuffer(gt.__webglDepthbuffer),gt.__webglMultisampledFramebuffer&&C.deleteFramebuffer(gt.__webglMultisampledFramebuffer),gt.__webglColorRenderbuffer)for(let Ie=0;Ie<gt.__webglColorRenderbuffer.length;Ie++)gt.__webglColorRenderbuffer[Ie]&&C.deleteRenderbuffer(gt.__webglColorRenderbuffer[Ie]);gt.__webglDepthRenderbuffer&&C.deleteRenderbuffer(gt.__webglDepthRenderbuffer)}const ne=St.textures;for(let Ie=0,Ge=ne.length;Ie<Ge;Ie++){const Be=u.get(ne[Ie]);Be.__webglTexture&&(C.deleteTexture(Be.__webglTexture),B.memory.textures--),u.remove(ne[Ie])}u.remove(St)}let Ht=0;function le(){Ht=0}function re(){const St=Ht;return St>=d.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+St+" texture units while this GPU supports only "+d.maxTextures),Ht+=1,St}function Ae(St){const gt=[];return gt.push(St.wrapS),gt.push(St.wrapT),gt.push(St.wrapR||0),gt.push(St.magFilter),gt.push(St.minFilter),gt.push(St.anisotropy),gt.push(St.internalFormat),gt.push(St.format),gt.push(St.type),gt.push(St.generateMipmaps),gt.push(St.premultiplyAlpha),gt.push(St.flipY),gt.push(St.unpackAlignment),gt.push(St.colorSpace),gt.join()}function Pe(St,gt){const ne=u.get(St);if(St.isVideoTexture&&nn(St),St.isRenderTargetTexture===!1&&St.version>0&&ne.__version!==St.version){const Ie=St.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Se(ne,St,gt);return}}a.bindTexture(C.TEXTURE_2D,ne.__webglTexture,C.TEXTURE0+gt)}function he(St,gt){const ne=u.get(St);if(St.version>0&&ne.__version!==St.version){Se(ne,St,gt);return}a.bindTexture(C.TEXTURE_2D_ARRAY,ne.__webglTexture,C.TEXTURE0+gt)}function Xe(St,gt){const ne=u.get(St);if(St.version>0&&ne.__version!==St.version){Se(ne,St,gt);return}a.bindTexture(C.TEXTURE_3D,ne.__webglTexture,C.TEXTURE0+gt)}function fe(St,gt){const ne=u.get(St);if(St.version>0&&ne.__version!==St.version){qe(ne,St,gt);return}a.bindTexture(C.TEXTURE_CUBE_MAP,ne.__webglTexture,C.TEXTURE0+gt)}const an={[yc]:C.REPEAT,[xc]:C.CLAMP_TO_EDGE,[cE]:C.MIRRORED_REPEAT},hn={[va]:C.NEAREST,[vv]:C.NEAREST_MIPMAP_NEAREST,[rA]:C.NEAREST_MIPMAP_LINEAR,[Qo]:C.LINEAR,[up]:C.LINEAR_MIPMAP_NEAREST,[iu]:C.LINEAR_MIPMAP_LINEAR},kn={[s3]:C.NEVER,[jT]:C.ALWAYS,[kv]:C.LESS,[r3]:C.LEQUAL,[Lv]:C.EQUAL,[XT]:C.GEQUAL,[Pv]:C.GREATER,[o3]:C.NOTEQUAL};function bi(St,gt){if(gt.type===aA&&i.has("OES_texture_float_linear")===!1&&(gt.magFilter===Qo||gt.magFilter===up||gt.magFilter===rA||gt.magFilter===iu||gt.minFilter===Qo||gt.minFilter===up||gt.minFilter===rA||gt.minFilter===iu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),C.texParameteri(St,C.TEXTURE_WRAP_S,an[gt.wrapS]),C.texParameteri(St,C.TEXTURE_WRAP_T,an[gt.wrapT]),(St===C.TEXTURE_3D||St===C.TEXTURE_2D_ARRAY)&&C.texParameteri(St,C.TEXTURE_WRAP_R,an[gt.wrapR]),C.texParameteri(St,C.TEXTURE_MAG_FILTER,hn[gt.magFilter]),C.texParameteri(St,C.TEXTURE_MIN_FILTER,hn[gt.minFilter]),gt.compareFunction&&(C.texParameteri(St,C.TEXTURE_COMPARE_MODE,C.COMPARE_REF_TO_TEXTURE),C.texParameteri(St,C.TEXTURE_COMPARE_FUNC,kn[gt.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(gt.magFilter===va||gt.minFilter!==rA&&gt.minFilter!==iu||gt.type===aA&&i.has("OES_texture_float_linear")===!1)return;if(gt.anisotropy>1||u.get(gt).__currentAnisotropy){const ne=i.get("EXT_texture_filter_anisotropic");C.texParameterf(St,ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(gt.anisotropy,d.getMaxAnisotropy())),u.get(gt).__currentAnisotropy=gt.anisotropy}}}function vs(St,gt){let ne=!1;St.__webglInit===void 0&&(St.__webglInit=!0,gt.addEventListener("dispose",Tt));const Ie=gt.source;let Ge=z.get(Ie);Ge===void 0&&(Ge={},z.set(Ie,Ge));const Be=Ae(gt);if(Be!==St.__cacheKey){Ge[Be]===void 0&&(Ge[Be]={texture:C.createTexture(),usedTimes:0},B.memory.textures++,ne=!0),Ge[Be].usedTimes++;const Pn=Ge[St.__cacheKey];Pn!==void 0&&(Ge[St.__cacheKey].usedTimes--,Pn.usedTimes===0&&xt(gt)),St.__cacheKey=Be,St.__webglTexture=Ge[Be].texture}return ne}function Se(St,gt,ne){let Ie=C.TEXTURE_2D;(gt.isDataArrayTexture||gt.isCompressedArrayTexture)&&(Ie=C.TEXTURE_2D_ARRAY),gt.isData3DTexture&&(Ie=C.TEXTURE_3D);const Ge=vs(St,gt),Be=gt.source;a.bindTexture(Ie,St.__webglTexture,C.TEXTURE0+ne);const Pn=u.get(Be);if(Be.version!==Pn.__version||Ge===!0){a.activeTexture(C.TEXTURE0+ne);const ln=Ui.getPrimaries(Ui.workingColorSpace),_n=gt.colorSpace===Cc?null:Ui.getPrimaries(gt.colorSpace),Hi=gt.colorSpace===Cc||ln===_n?C.NONE:C.BROWSER_DEFAULT_WEBGL;C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,gt.flipY),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gt.premultiplyAlpha),C.pixelStorei(C.UNPACK_ALIGNMENT,gt.unpackAlignment),C.pixelStorei(C.UNPACK_COLORSPACE_CONVERSION_WEBGL,Hi);let Ze=nt(gt.image,!1,d.maxTextureSize);Ze=ci(gt,Ze);const bn=E.convert(gt.format,gt.colorSpace),Ai=E.convert(gt.type);let fi=ct(gt.internalFormat,bn,Ai,gt.colorSpace,gt.isVideoTexture);bi(Ie,gt);let Mn;const es=gt.mipmaps,Mi=gt.isVideoTexture!==!0,Ks=Pn.__version===void 0||Ge===!0,Zt=Be.dataReady,An=Vt(gt,Ze);if(gt.isDepthTexture)fi=lt(gt.format===mp,gt.type),Ks&&(Mi?a.texStorage2D(C.TEXTURE_2D,1,fi,Ze.width,Ze.height):a.texImage2D(C.TEXTURE_2D,0,fi,Ze.width,Ze.height,0,bn,Ai,null));else if(gt.isDataTexture)if(es.length>0){Mi&&Ks&&a.texStorage2D(C.TEXTURE_2D,An,fi,es[0].width,es[0].height);for(let pe=0,Qe=es.length;pe<Qe;pe++)Mn=es[pe],Mi?Zt&&a.texSubImage2D(C.TEXTURE_2D,pe,0,0,Mn.width,Mn.height,bn,Ai,Mn.data):a.texImage2D(C.TEXTURE_2D,pe,fi,Mn.width,Mn.height,0,bn,Ai,Mn.data);gt.generateMipmaps=!1}else Mi?(Ks&&a.texStorage2D(C.TEXTURE_2D,An,fi,Ze.width,Ze.height),Zt&&a.texSubImage2D(C.TEXTURE_2D,0,0,0,Ze.width,Ze.height,bn,Ai,Ze.data)):a.texImage2D(C.TEXTURE_2D,0,fi,Ze.width,Ze.height,0,bn,Ai,Ze.data);else if(gt.isCompressedTexture)if(gt.isCompressedArrayTexture){Mi&&Ks&&a.texStorage3D(C.TEXTURE_2D_ARRAY,An,fi,es[0].width,es[0].height,Ze.depth);for(let pe=0,Qe=es.length;pe<Qe;pe++)if(Mn=es[pe],gt.format!==to)if(bn!==null)if(Mi){if(Zt)if(gt.layerUpdates.size>0){const dn=jb(Mn.width,Mn.height,gt.format,gt.type);for(const mn of gt.layerUpdates){const Si=Mn.data.subarray(mn*dn/Mn.data.BYTES_PER_ELEMENT,(mn+1)*dn/Mn.data.BYTES_PER_ELEMENT);a.compressedTexSubImage3D(C.TEXTURE_2D_ARRAY,pe,0,0,mn,Mn.width,Mn.height,1,bn,Si)}gt.clearLayerUpdates()}else a.compressedTexSubImage3D(C.TEXTURE_2D_ARRAY,pe,0,0,0,Mn.width,Mn.height,Ze.depth,bn,Mn.data)}else a.compressedTexImage3D(C.TEXTURE_2D_ARRAY,pe,fi,Mn.width,Mn.height,Ze.depth,0,Mn.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Mi?Zt&&a.texSubImage3D(C.TEXTURE_2D_ARRAY,pe,0,0,0,Mn.width,Mn.height,Ze.depth,bn,Ai,Mn.data):a.texImage3D(C.TEXTURE_2D_ARRAY,pe,fi,Mn.width,Mn.height,Ze.depth,0,bn,Ai,Mn.data)}else{Mi&&Ks&&a.texStorage2D(C.TEXTURE_2D,An,fi,es[0].width,es[0].height);for(let pe=0,Qe=es.length;pe<Qe;pe++)Mn=es[pe],gt.format!==to?bn!==null?Mi?Zt&&a.compressedTexSubImage2D(C.TEXTURE_2D,pe,0,0,Mn.width,Mn.height,bn,Mn.data):a.compressedTexImage2D(C.TEXTURE_2D,pe,fi,Mn.width,Mn.height,0,Mn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Mi?Zt&&a.texSubImage2D(C.TEXTURE_2D,pe,0,0,Mn.width,Mn.height,bn,Ai,Mn.data):a.texImage2D(C.TEXTURE_2D,pe,fi,Mn.width,Mn.height,0,bn,Ai,Mn.data)}else if(gt.isDataArrayTexture)if(Mi){if(Ks&&a.texStorage3D(C.TEXTURE_2D_ARRAY,An,fi,Ze.width,Ze.height,Ze.depth),Zt)if(gt.layerUpdates.size>0){const pe=jb(Ze.width,Ze.height,gt.format,gt.type);for(const Qe of gt.layerUpdates){const dn=Ze.data.subarray(Qe*pe/Ze.data.BYTES_PER_ELEMENT,(Qe+1)*pe/Ze.data.BYTES_PER_ELEMENT);a.texSubImage3D(C.TEXTURE_2D_ARRAY,0,0,0,Qe,Ze.width,Ze.height,1,bn,Ai,dn)}gt.clearLayerUpdates()}else a.texSubImage3D(C.TEXTURE_2D_ARRAY,0,0,0,0,Ze.width,Ze.height,Ze.depth,bn,Ai,Ze.data)}else a.texImage3D(C.TEXTURE_2D_ARRAY,0,fi,Ze.width,Ze.height,Ze.depth,0,bn,Ai,Ze.data);else if(gt.isData3DTexture)Mi?(Ks&&a.texStorage3D(C.TEXTURE_3D,An,fi,Ze.width,Ze.height,Ze.depth),Zt&&a.texSubImage3D(C.TEXTURE_3D,0,0,0,0,Ze.width,Ze.height,Ze.depth,bn,Ai,Ze.data)):a.texImage3D(C.TEXTURE_3D,0,fi,Ze.width,Ze.height,Ze.depth,0,bn,Ai,Ze.data);else if(gt.isFramebufferTexture){if(Ks)if(Mi)a.texStorage2D(C.TEXTURE_2D,An,fi,Ze.width,Ze.height);else{let pe=Ze.width,Qe=Ze.height;for(let dn=0;dn<An;dn++)a.texImage2D(C.TEXTURE_2D,dn,fi,pe,Qe,0,bn,Ai,null),pe>>=1,Qe>>=1}}else if(es.length>0){if(Mi&&Ks){const pe=wn(es[0]);a.texStorage2D(C.TEXTURE_2D,An,fi,pe.width,pe.height)}for(let pe=0,Qe=es.length;pe<Qe;pe++)Mn=es[pe],Mi?Zt&&a.texSubImage2D(C.TEXTURE_2D,pe,0,0,bn,Ai,Mn):a.texImage2D(C.TEXTURE_2D,pe,fi,bn,Ai,Mn);gt.generateMipmaps=!1}else if(Mi){if(Ks){const pe=wn(Ze);a.texStorage2D(C.TEXTURE_2D,An,fi,pe.width,pe.height)}Zt&&a.texSubImage2D(C.TEXTURE_2D,0,0,0,bn,Ai,Ze)}else a.texImage2D(C.TEXTURE_2D,0,fi,bn,Ai,Ze);q(gt)&&Z(Ie),Pn.__version=Be.version,gt.onUpdate&&gt.onUpdate(gt)}St.__version=gt.version}function qe(St,gt,ne){if(gt.image.length!==6)return;const Ie=vs(St,gt),Ge=gt.source;a.bindTexture(C.TEXTURE_CUBE_MAP,St.__webglTexture,C.TEXTURE0+ne);const Be=u.get(Ge);if(Ge.version!==Be.__version||Ie===!0){a.activeTexture(C.TEXTURE0+ne);const Pn=Ui.getPrimaries(Ui.workingColorSpace),ln=gt.colorSpace===Cc?null:Ui.getPrimaries(gt.colorSpace),_n=gt.colorSpace===Cc||Pn===ln?C.NONE:C.BROWSER_DEFAULT_WEBGL;C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,gt.flipY),C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gt.premultiplyAlpha),C.pixelStorei(C.UNPACK_ALIGNMENT,gt.unpackAlignment),C.pixelStorei(C.UNPACK_COLORSPACE_CONVERSION_WEBGL,_n);const Hi=gt.isCompressedTexture||gt.image[0].isCompressedTexture,Ze=gt.image[0]&&gt.image[0].isDataTexture,bn=[];for(let Qe=0;Qe<6;Qe++)!Hi&&!Ze?bn[Qe]=nt(gt.image[Qe],!0,d.maxCubemapSize):bn[Qe]=Ze?gt.image[Qe].image:gt.image[Qe],bn[Qe]=ci(gt,bn[Qe]);const Ai=bn[0],fi=E.convert(gt.format,gt.colorSpace),Mn=E.convert(gt.type),es=ct(gt.internalFormat,fi,Mn,gt.colorSpace),Mi=gt.isVideoTexture!==!0,Ks=Be.__version===void 0||Ie===!0,Zt=Ge.dataReady;let An=Vt(gt,Ai);bi(C.TEXTURE_CUBE_MAP,gt);let pe;if(Hi){Mi&&Ks&&a.texStorage2D(C.TEXTURE_CUBE_MAP,An,es,Ai.width,Ai.height);for(let Qe=0;Qe<6;Qe++){pe=bn[Qe].mipmaps;for(let dn=0;dn<pe.length;dn++){const mn=pe[dn];gt.format!==to?fi!==null?Mi?Zt&&a.compressedTexSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn,0,0,mn.width,mn.height,fi,mn.data):a.compressedTexImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn,es,mn.width,mn.height,0,mn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Mi?Zt&&a.texSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn,0,0,mn.width,mn.height,fi,Mn,mn.data):a.texImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn,es,mn.width,mn.height,0,fi,Mn,mn.data)}}}else{if(pe=gt.mipmaps,Mi&&Ks){pe.length>0&&An++;const Qe=wn(bn[0]);a.texStorage2D(C.TEXTURE_CUBE_MAP,An,es,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if(Ze){Mi?Zt&&a.texSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,bn[Qe].width,bn[Qe].height,fi,Mn,bn[Qe].data):a.texImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,es,bn[Qe].width,bn[Qe].height,0,fi,Mn,bn[Qe].data);for(let dn=0;dn<pe.length;dn++){const Si=pe[dn].image[Qe].image;Mi?Zt&&a.texSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn+1,0,0,Si.width,Si.height,fi,Mn,Si.data):a.texImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn+1,es,Si.width,Si.height,0,fi,Mn,Si.data)}}else{Mi?Zt&&a.texSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,fi,Mn,bn[Qe]):a.texImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,es,fi,Mn,bn[Qe]);for(let dn=0;dn<pe.length;dn++){const mn=pe[dn];Mi?Zt&&a.texSubImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn+1,0,0,fi,Mn,mn.image[Qe]):a.texImage2D(C.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,dn+1,es,fi,Mn,mn.image[Qe])}}}q(gt)&&Z(C.TEXTURE_CUBE_MAP),Be.__version=Ge.version,gt.onUpdate&&gt.onUpdate(gt)}St.__version=gt.version}function Ln(St,gt,ne,Ie,Ge,Be){const Pn=E.convert(ne.format,ne.colorSpace),ln=E.convert(ne.type),_n=ct(ne.internalFormat,Pn,ln,ne.colorSpace),Hi=u.get(gt),Ze=u.get(ne);if(Ze.__renderTarget=gt,!Hi.__hasExternalTextures){const bn=Math.max(1,gt.width>>Be),Ai=Math.max(1,gt.height>>Be);Ge===C.TEXTURE_3D||Ge===C.TEXTURE_2D_ARRAY?a.texImage3D(Ge,Be,_n,bn,Ai,gt.depth,0,Pn,ln,null):a.texImage2D(Ge,Be,_n,bn,Ai,0,Pn,ln,null)}a.bindFramebuffer(C.FRAMEBUFFER,St),In(gt)?M.framebufferTexture2DMultisampleEXT(C.FRAMEBUFFER,Ie,Ge,Ze.__webglTexture,0,ze(gt)):(Ge===C.TEXTURE_2D||Ge>=C.TEXTURE_CUBE_MAP_POSITIVE_X&&Ge<=C.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&C.framebufferTexture2D(C.FRAMEBUFFER,Ie,Ge,Ze.__webglTexture,Be),a.bindFramebuffer(C.FRAMEBUFFER,null)}function Ye(St,gt,ne){if(C.bindRenderbuffer(C.RENDERBUFFER,St),gt.depthBuffer){const Ie=gt.depthTexture,Ge=Ie&&Ie.isDepthTexture?Ie.type:null,Be=lt(gt.stencilBuffer,Ge),Pn=gt.stencilBuffer?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,ln=ze(gt);In(gt)?M.renderbufferStorageMultisampleEXT(C.RENDERBUFFER,ln,Be,gt.width,gt.height):ne?C.renderbufferStorageMultisample(C.RENDERBUFFER,ln,Be,gt.width,gt.height):C.renderbufferStorage(C.RENDERBUFFER,Be,gt.width,gt.height),C.framebufferRenderbuffer(C.FRAMEBUFFER,Pn,C.RENDERBUFFER,St)}else{const Ie=gt.textures;for(let Ge=0;Ge<Ie.length;Ge++){const Be=Ie[Ge],Pn=E.convert(Be.format,Be.colorSpace),ln=E.convert(Be.type),_n=ct(Be.internalFormat,Pn,ln,Be.colorSpace),Hi=ze(gt);ne&&In(gt)===!1?C.renderbufferStorageMultisample(C.RENDERBUFFER,Hi,_n,gt.width,gt.height):In(gt)?M.renderbufferStorageMultisampleEXT(C.RENDERBUFFER,Hi,_n,gt.width,gt.height):C.renderbufferStorage(C.RENDERBUFFER,_n,gt.width,gt.height)}}C.bindRenderbuffer(C.RENDERBUFFER,null)}function Kn(St,gt){if(gt&&gt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(C.FRAMEBUFFER,St),!(gt.depthTexture&&gt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ie=u.get(gt.depthTexture);Ie.__renderTarget=gt,(!Ie.__webglTexture||gt.depthTexture.image.width!==gt.width||gt.depthTexture.image.height!==gt.height)&&(gt.depthTexture.image.width=gt.width,gt.depthTexture.image.height=gt.height,gt.depthTexture.needsUpdate=!0),Pe(gt.depthTexture,0);const Ge=Ie.__webglTexture,Be=ze(gt);if(gt.depthTexture.format===Bf)In(gt)?M.framebufferTexture2DMultisampleEXT(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.TEXTURE_2D,Ge,0,Be):C.framebufferTexture2D(C.FRAMEBUFFER,C.DEPTH_ATTACHMENT,C.TEXTURE_2D,Ge,0);else if(gt.depthTexture.format===mp)In(gt)?M.framebufferTexture2DMultisampleEXT(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.TEXTURE_2D,Ge,0,Be):C.framebufferTexture2D(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function mi(St){const gt=u.get(St),ne=St.isWebGLCubeRenderTarget===!0;if(gt.__boundDepthTexture!==St.depthTexture){const Ie=St.depthTexture;if(gt.__depthDisposeCallback&&gt.__depthDisposeCallback(),Ie){const Ge=()=>{delete gt.__boundDepthTexture,delete gt.__depthDisposeCallback,Ie.removeEventListener("dispose",Ge)};Ie.addEventListener("dispose",Ge),gt.__depthDisposeCallback=Ge}gt.__boundDepthTexture=Ie}if(St.depthTexture&&!gt.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");Kn(gt.__webglFramebuffer,St)}else if(ne){gt.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)if(a.bindFramebuffer(C.FRAMEBUFFER,gt.__webglFramebuffer[Ie]),gt.__webglDepthbuffer[Ie]===void 0)gt.__webglDepthbuffer[Ie]=C.createRenderbuffer(),Ye(gt.__webglDepthbuffer[Ie],St,!1);else{const Ge=St.stencilBuffer?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,Be=gt.__webglDepthbuffer[Ie];C.bindRenderbuffer(C.RENDERBUFFER,Be),C.framebufferRenderbuffer(C.FRAMEBUFFER,Ge,C.RENDERBUFFER,Be)}}else if(a.bindFramebuffer(C.FRAMEBUFFER,gt.__webglFramebuffer),gt.__webglDepthbuffer===void 0)gt.__webglDepthbuffer=C.createRenderbuffer(),Ye(gt.__webglDepthbuffer,St,!1);else{const Ie=St.stencilBuffer?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,Ge=gt.__webglDepthbuffer;C.bindRenderbuffer(C.RENDERBUFFER,Ge),C.framebufferRenderbuffer(C.FRAMEBUFFER,Ie,C.RENDERBUFFER,Ge)}a.bindFramebuffer(C.FRAMEBUFFER,null)}function ii(St,gt,ne){const Ie=u.get(St);gt!==void 0&&Ln(Ie.__webglFramebuffer,St,St.texture,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,0),ne!==void 0&&mi(St)}function ts(St){const gt=St.texture,ne=u.get(St),Ie=u.get(gt);St.addEventListener("dispose",Qt);const Ge=St.textures,Be=St.isWebGLCubeRenderTarget===!0,Pn=Ge.length>1;if(Pn||(Ie.__webglTexture===void 0&&(Ie.__webglTexture=C.createTexture()),Ie.__version=gt.version,B.memory.textures++),Be){ne.__webglFramebuffer=[];for(let ln=0;ln<6;ln++)if(gt.mipmaps&&gt.mipmaps.length>0){ne.__webglFramebuffer[ln]=[];for(let _n=0;_n<gt.mipmaps.length;_n++)ne.__webglFramebuffer[ln][_n]=C.createFramebuffer()}else ne.__webglFramebuffer[ln]=C.createFramebuffer()}else{if(gt.mipmaps&&gt.mipmaps.length>0){ne.__webglFramebuffer=[];for(let ln=0;ln<gt.mipmaps.length;ln++)ne.__webglFramebuffer[ln]=C.createFramebuffer()}else ne.__webglFramebuffer=C.createFramebuffer();if(Pn)for(let ln=0,_n=Ge.length;ln<_n;ln++){const Hi=u.get(Ge[ln]);Hi.__webglTexture===void 0&&(Hi.__webglTexture=C.createTexture(),B.memory.textures++)}if(St.samples>0&&In(St)===!1){ne.__webglMultisampledFramebuffer=C.createFramebuffer(),ne.__webglColorRenderbuffer=[],a.bindFramebuffer(C.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let ln=0;ln<Ge.length;ln++){const _n=Ge[ln];ne.__webglColorRenderbuffer[ln]=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,ne.__webglColorRenderbuffer[ln]);const Hi=E.convert(_n.format,_n.colorSpace),Ze=E.convert(_n.type),bn=ct(_n.internalFormat,Hi,Ze,_n.colorSpace,St.isXRRenderTarget===!0),Ai=ze(St);C.renderbufferStorageMultisample(C.RENDERBUFFER,Ai,bn,St.width,St.height),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0+ln,C.RENDERBUFFER,ne.__webglColorRenderbuffer[ln])}C.bindRenderbuffer(C.RENDERBUFFER,null),St.depthBuffer&&(ne.__webglDepthRenderbuffer=C.createRenderbuffer(),Ye(ne.__webglDepthRenderbuffer,St,!0)),a.bindFramebuffer(C.FRAMEBUFFER,null)}}if(Be){a.bindTexture(C.TEXTURE_CUBE_MAP,Ie.__webglTexture),bi(C.TEXTURE_CUBE_MAP,gt);for(let ln=0;ln<6;ln++)if(gt.mipmaps&&gt.mipmaps.length>0)for(let _n=0;_n<gt.mipmaps.length;_n++)Ln(ne.__webglFramebuffer[ln][_n],St,gt,C.COLOR_ATTACHMENT0,C.TEXTURE_CUBE_MAP_POSITIVE_X+ln,_n);else Ln(ne.__webglFramebuffer[ln],St,gt,C.COLOR_ATTACHMENT0,C.TEXTURE_CUBE_MAP_POSITIVE_X+ln,0);q(gt)&&Z(C.TEXTURE_CUBE_MAP),a.unbindTexture()}else if(Pn){for(let ln=0,_n=Ge.length;ln<_n;ln++){const Hi=Ge[ln],Ze=u.get(Hi);a.bindTexture(C.TEXTURE_2D,Ze.__webglTexture),bi(C.TEXTURE_2D,Hi),Ln(ne.__webglFramebuffer,St,Hi,C.COLOR_ATTACHMENT0+ln,C.TEXTURE_2D,0),q(Hi)&&Z(C.TEXTURE_2D)}a.unbindTexture()}else{let ln=C.TEXTURE_2D;if((St.isWebGL3DRenderTarget||St.isWebGLArrayRenderTarget)&&(ln=St.isWebGL3DRenderTarget?C.TEXTURE_3D:C.TEXTURE_2D_ARRAY),a.bindTexture(ln,Ie.__webglTexture),bi(ln,gt),gt.mipmaps&&gt.mipmaps.length>0)for(let _n=0;_n<gt.mipmaps.length;_n++)Ln(ne.__webglFramebuffer[_n],St,gt,C.COLOR_ATTACHMENT0,ln,_n);else Ln(ne.__webglFramebuffer,St,gt,C.COLOR_ATTACHMENT0,ln,0);q(gt)&&Z(ln),a.unbindTexture()}St.depthBuffer&&mi(St)}function Ue(St){const gt=St.textures;for(let ne=0,Ie=gt.length;ne<Ie;ne++){const Ge=gt[ne];if(q(Ge)){const Be=ut(St),Pn=u.get(Ge).__webglTexture;a.bindTexture(Be,Pn),Z(Be),a.unbindTexture()}}}const je=[],Nt=[];function Vn(St){if(St.samples>0){if(In(St)===!1){const gt=St.textures,ne=St.width,Ie=St.height;let Ge=C.COLOR_BUFFER_BIT;const Be=St.stencilBuffer?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT,Pn=u.get(St),ln=gt.length>1;if(ln)for(let _n=0;_n<gt.length;_n++)a.bindFramebuffer(C.FRAMEBUFFER,Pn.__webglMultisampledFramebuffer),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0+_n,C.RENDERBUFFER,null),a.bindFramebuffer(C.FRAMEBUFFER,Pn.__webglFramebuffer),C.framebufferTexture2D(C.DRAW_FRAMEBUFFER,C.COLOR_ATTACHMENT0+_n,C.TEXTURE_2D,null,0);a.bindFramebuffer(C.READ_FRAMEBUFFER,Pn.__webglMultisampledFramebuffer),a.bindFramebuffer(C.DRAW_FRAMEBUFFER,Pn.__webglFramebuffer);for(let _n=0;_n<gt.length;_n++){if(St.resolveDepthBuffer&&(St.depthBuffer&&(Ge|=C.DEPTH_BUFFER_BIT),St.stencilBuffer&&St.resolveStencilBuffer&&(Ge|=C.STENCIL_BUFFER_BIT)),ln){C.framebufferRenderbuffer(C.READ_FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.RENDERBUFFER,Pn.__webglColorRenderbuffer[_n]);const Hi=u.get(gt[_n]).__webglTexture;C.framebufferTexture2D(C.DRAW_FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,Hi,0)}C.blitFramebuffer(0,0,ne,Ie,0,0,ne,Ie,Ge,C.NEAREST),Q===!0&&(je.length=0,Nt.length=0,je.push(C.COLOR_ATTACHMENT0+_n),St.depthBuffer&&St.resolveDepthBuffer===!1&&(je.push(Be),Nt.push(Be),C.invalidateFramebuffer(C.DRAW_FRAMEBUFFER,Nt)),C.invalidateFramebuffer(C.READ_FRAMEBUFFER,je))}if(a.bindFramebuffer(C.READ_FRAMEBUFFER,null),a.bindFramebuffer(C.DRAW_FRAMEBUFFER,null),ln)for(let _n=0;_n<gt.length;_n++){a.bindFramebuffer(C.FRAMEBUFFER,Pn.__webglMultisampledFramebuffer),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0+_n,C.RENDERBUFFER,Pn.__webglColorRenderbuffer[_n]);const Hi=u.get(gt[_n]).__webglTexture;a.bindFramebuffer(C.FRAMEBUFFER,Pn.__webglFramebuffer),C.framebufferTexture2D(C.DRAW_FRAMEBUFFER,C.COLOR_ATTACHMENT0+_n,C.TEXTURE_2D,Hi,0)}a.bindFramebuffer(C.DRAW_FRAMEBUFFER,Pn.__webglMultisampledFramebuffer)}else if(St.depthBuffer&&St.resolveDepthBuffer===!1&&Q){const gt=St.stencilBuffer?C.DEPTH_STENCIL_ATTACHMENT:C.DEPTH_ATTACHMENT;C.invalidateFramebuffer(C.DRAW_FRAMEBUFFER,[gt])}}}function ze(St){return Math.min(d.maxSamples,St.samples)}function In(St){const gt=u.get(St);return St.samples>0&&i.has("WEBGL_multisampled_render_to_texture")===!0&&gt.__useRenderToTexture!==!1}function nn(St){const gt=B.render.frame;O.get(St)!==gt&&(O.set(St,gt),St.update())}function ci(St,gt){const ne=St.colorSpace,Ie=St.format,Ge=St.type;return St.isCompressedTexture===!0||St.isVideoTexture===!0||ne!==Mf&&ne!==Cc&&(Ui.getTransfer(ne)===hs?(Ie!==to||Ge!==hh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),gt}function wn(St){return typeof HTMLImageElement<"u"&&St instanceof HTMLImageElement?(P.width=St.naturalWidth||St.width,P.height=St.naturalHeight||St.height):typeof VideoFrame<"u"&&St instanceof VideoFrame?(P.width=St.displayWidth,P.height=St.displayHeight):(P.width=St.width,P.height=St.height),P}this.allocateTextureUnit=re,this.resetTextureUnits=le,this.setTexture2D=Pe,this.setTexture2DArray=he,this.setTexture3D=Xe,this.setTextureCube=fe,this.rebindTextures=ii,this.setupRenderTarget=ts,this.updateRenderTargetMipmap=Ue,this.updateMultisampleRenderTarget=Vn,this.setupDepthRenderbuffer=mi,this.setupFrameBufferTexture=Ln,this.useMultisampledRTT=In}function X4(C,i){function a(u,d=Cc){let E;const B=Ui.getTransfer(d);if(u===hh)return C.UNSIGNED_BYTE;if(u===uE)return C.UNSIGNED_SHORT_4_4_4_4;if(u===dE)return C.UNSIGNED_SHORT_5_5_5_1;if(u===Mv)return C.UNSIGNED_INT_5_9_9_9_REV;if(u===oA)return C.BYTE;if(u===_f)return C.SHORT;if(u===vm)return C.UNSIGNED_SHORT;if(u===hE)return C.INT;if(u===su)return C.UNSIGNED_INT;if(u===aA)return C.FLOAT;if(u===dp)return C.HALF_FLOAT;if(u===fE)return C.ALPHA;if(u===zs)return C.RGB;if(u===to)return C.RGBA;if(u===pp)return C.LUMINANCE;if(u===gp)return C.LUMINANCE_ALPHA;if(u===Bf)return C.DEPTH_COMPONENT;if(u===mp)return C.DEPTH_STENCIL;if(u===Uw)return C.RED;if(u===yp)return C.RED_INTEGER;if(u===FA)return C.RG;if(u===bm)return C.RG_INTEGER;if(u===Nw)return C.RGBA_INTEGER;if(u===_l||u===pE||u===gE||u===mE)if(B===hs)if(E=i.get("WEBGL_compressed_texture_s3tc_srgb"),E!==null){if(u===_l)return E.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(u===pE)return E.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(u===gE)return E.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(u===mE)return E.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(E=i.get("WEBGL_compressed_texture_s3tc"),E!==null){if(u===_l)return E.COMPRESSED_RGB_S3TC_DXT1_EXT;if(u===pE)return E.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(u===gE)return E.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(u===mE)return E.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(u===Gw||u===yE||u===Ow||u===Vw)if(E=i.get("WEBGL_compressed_texture_pvrtc"),E!==null){if(u===Gw)return E.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(u===yE)return E.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(u===Ow)return E.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(u===Vw)return E.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(u===Hw||u===Bi||u===Er)if(E=i.get("WEBGL_compressed_texture_etc"),E!==null){if(u===Hw||u===Bi)return B===hs?E.COMPRESSED_SRGB8_ETC2:E.COMPRESSED_RGB8_ETC2;if(u===Er)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:E.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(u===sa||u===zw||u===Ww||u===Jw||u===Yw||u===Zw||u===Kw||u===xE||u===CE||u===EE||u===Xw||u===jw||u===xp||u===Mm)if(E=i.get("WEBGL_compressed_texture_astc"),E!==null){if(u===sa)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:E.COMPRESSED_RGBA_ASTC_4x4_KHR;if(u===zw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:E.COMPRESSED_RGBA_ASTC_5x4_KHR;if(u===Ww)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:E.COMPRESSED_RGBA_ASTC_5x5_KHR;if(u===Jw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:E.COMPRESSED_RGBA_ASTC_6x5_KHR;if(u===Yw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:E.COMPRESSED_RGBA_ASTC_6x6_KHR;if(u===Zw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:E.COMPRESSED_RGBA_ASTC_8x5_KHR;if(u===Kw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:E.COMPRESSED_RGBA_ASTC_8x6_KHR;if(u===xE)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:E.COMPRESSED_RGBA_ASTC_8x8_KHR;if(u===CE)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:E.COMPRESSED_RGBA_ASTC_10x5_KHR;if(u===EE)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:E.COMPRESSED_RGBA_ASTC_10x6_KHR;if(u===Xw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:E.COMPRESSED_RGBA_ASTC_10x8_KHR;if(u===jw)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:E.COMPRESSED_RGBA_ASTC_10x10_KHR;if(u===xp)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:E.COMPRESSED_RGBA_ASTC_12x10_KHR;if(u===Mm)return B===hs?E.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:E.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(u===ru||u===IE||u===Cp)if(E=i.get("EXT_texture_compression_bptc"),E!==null){if(u===ru)return B===hs?E.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:E.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(u===IE)return E.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(u===Cp)return E.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(u===wE||u===_E||u===qw||u===$w)if(E=i.get("EXT_texture_compression_rgtc"),E!==null){if(u===ru)return E.COMPRESSED_RED_RGTC1_EXT;if(u===_E)return E.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(u===qw)return E.COMPRESSED_RED_GREEN_RGTC2_EXT;if(u===$w)return E.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return u===fp?C.UNSIGNED_INT_24_8:C[u]!==void 0?C[u]:null}return{convert:a}}class j4 extends Uo{constructor(i=[]){super(),this.isArrayCamera=!0,this.cameras=i}}class oy extends os{constructor(){super(),this.isGroup=!0,this.type="Group"}}const u9={type:"move"};class qb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new oy,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new oy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Dt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Dt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new oy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Dt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Dt),this._grip}dispatchEvent(i){return this._targetRay!==null&&this._targetRay.dispatchEvent(i),this._grip!==null&&this._grip.dispatchEvent(i),this._hand!==null&&this._hand.dispatchEvent(i),this}connect(i){if(i&&i.hand){const a=this._hand;if(a)for(const u of i.hand.values())this._getHandJoint(a,u)}return this.dispatchEvent({type:"connected",data:i}),this}disconnect(i){return this.dispatchEvent({type:"disconnected",data:i}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(i,a,u){let d=null,E=null,B=null;const M=this._targetRay,Q=this._grip,P=this._hand;if(i&&a.session.visibilityState!=="visible-blurred"){if(P&&i.hand){B=!0;for(const nt of i.hand.values()){const q=a.getJointPose(nt,u),Z=this._getHandJoint(P,nt);q!==null&&(Z.matrix.fromArray(q.transform.matrix),Z.matrix.decompose(Z.position,Z.rotation,Z.scale),Z.matrixWorldNeedsUpdate=!0,Z.jointRadius=q.radius),Z.visible=q!==null}const O=P.joints["index-finger-tip"],H=P.joints["thumb-tip"],z=O.position.distanceTo(H.position),J=.02,j=.005;P.inputState.pinching&&z>J+j?(P.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!P.inputState.pinching&&z<=J-j&&(P.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else Q!==null&&i.gripSpace&&(E=a.getPose(i.gripSpace,u),E!==null&&(Q.matrix.fromArray(E.transform.matrix),Q.matrix.decompose(Q.position,Q.rotation,Q.scale),Q.matrixWorldNeedsUpdate=!0,E.linearVelocity?(Q.hasLinearVelocity=!0,Q.linearVelocity.copy(E.linearVelocity)):Q.hasLinearVelocity=!1,E.angularVelocity?(Q.hasAngularVelocity=!0,Q.angularVelocity.copy(E.angularVelocity)):Q.hasAngularVelocity=!1));M!==null&&(d=a.getPose(i.targetRaySpace,u),d===null&&E!==null&&(d=E),d!==null&&(M.matrix.fromArray(d.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,d.linearVelocity?(M.hasLinearVelocity=!0,M.linearVelocity.copy(d.linearVelocity)):M.hasLinearVelocity=!1,d.angularVelocity?(M.hasAngularVelocity=!0,M.angularVelocity.copy(d.angularVelocity)):M.hasAngularVelocity=!1,this.dispatchEvent(u9)))}return M!==null&&(M.visible=d!==null),Q!==null&&(Q.visible=E!==null),P!==null&&(P.visible=B!==null),this}_getHandJoint(i,a){if(i.joints[a.jointName]===void 0){const u=new oy;u.matrixAutoUpdate=!1,u.visible=!1,i.joints[a.jointName]=u,i.add(u)}return i.joints[a.jointName]}}const d9=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,f9=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class p9{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(i,a,u){if(this.texture===null){const d=new Dr,E=i.properties.get(d);E.__webglTexture=a.texture,(a.depthNear!=u.depthNear||a.depthFar!=u.depthFar)&&(this.depthNear=a.depthNear,this.depthFar=a.depthFar),this.texture=d}}getMesh(i){if(this.texture!==null&&this.mesh===null){const a=i.cameras[0].viewport,u=new GA({vertexShader:d9,fragmentShader:f9,uniforms:{depthColor:{value:this.texture},depthWidth:{value:a.z},depthHeight:{value:a.w}}});this.mesh=new go(new $m(20,20),u)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class g9 extends dh{constructor(i,a){super();const u=this;let d=null,E=1,B=null,M="local-floor",Q=1,P=null,O=null,H=null,z=null,J=null,j=null;const nt=new p9,q=a.getContextAttributes();let Z=null,ut=null;const ct=[],lt=[],Vt=new Le;let Tt=null;const Qt=new Uo;Qt.viewport=new qi;const Ut=new Uo;Ut.viewport=new qi;const xt=[Qt,Ut],pt=new j4;let Ht=null,le=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Se){let qe=ct[Se];return qe===void 0&&(qe=new qb,ct[Se]=qe),qe.getTargetRaySpace()},this.getControllerGrip=function(Se){let qe=ct[Se];return qe===void 0&&(qe=new qb,ct[Se]=qe),qe.getGripSpace()},this.getHand=function(Se){let qe=ct[Se];return qe===void 0&&(qe=new qb,ct[Se]=qe),qe.getHandSpace()};function re(Se){const qe=lt.indexOf(Se.inputSource);if(qe===-1)return;const Ln=ct[qe];Ln!==void 0&&(Ln.update(Se.inputSource,Se.frame,P||B),Ln.dispatchEvent({type:Se.type,data:Se.inputSource}))}function Ae(){d.removeEventListener("select",re),d.removeEventListener("selectstart",re),d.removeEventListener("selectend",re),d.removeEventListener("squeeze",re),d.removeEventListener("squeezestart",re),d.removeEventListener("squeezeend",re),d.removeEventListener("end",Ae),d.removeEventListener("inputsourceschange",Pe);for(let Se=0;Se<ct.length;Se++){const qe=lt[Se];qe!==null&&(lt[Se]=null,ct[Se].disconnect(qe))}Ht=null,le=null,nt.reset(),i.setRenderTarget(Z),J=null,z=null,H=null,d=null,ut=null,vs.stop(),u.isPresenting=!1,i.setPixelRatio(Tt),i.setSize(Vt.width,Vt.height,!1),u.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Se){E=Se,u.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Se){M=Se,u.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return P||B},this.setReferenceSpace=function(Se){P=Se},this.getBaseLayer=function(){return z!==null?z:J},this.getBinding=function(){return H},this.getFrame=function(){return j},this.getSession=function(){return d},this.setSession=async function(Se){if(d=Se,d!==null){if(Z=i.getRenderTarget(),d.addEventListener("select",re),d.addEventListener("selectstart",re),d.addEventListener("selectend",re),d.addEventListener("squeeze",re),d.addEventListener("squeezestart",re),d.addEventListener("squeezeend",re),d.addEventListener("end",Ae),d.addEventListener("inputsourceschange",Pe),q.xrCompatible!==!0&&await a.makeXRCompatible(),Tt=i.getPixelRatio(),i.getSize(Vt),d.renderState.layers===void 0){const qe={antialias:q.antialias,alpha:!0,depth:q.depth,stencil:q.stencil,framebufferScaleFactor:E};J=new XRWebGLLayer(d,a,qe),d.updateRenderState({baseLayer:J}),i.setPixelRatio(1),i.setSize(J.framebufferWidth,J.framebufferHeight,!1),ut=new wc(J.framebufferWidth,J.framebufferHeight,{format:to,type:hh,colorSpace:i.outputColorSpace,stencilBuffer:q.stencil})}else{let qe=null,Ln=null,Ye=null;q.depth&&(Ye=q.stencil?a.DEPTH24_STENCIL8:a.DEPTH_COMPONENT24,qe=q.stencil?mp:Bf,Ln=q.stencil?fp:su);const Kn={colorFormat:a.RGBA8,depthFormat:Ye,scaleFactor:E};H=new XRWebGLBinding(d,a),z=H.createProjectionLayer(Kn),d.updateRenderState({layers:[z]}),i.setPixelRatio(1),i.setSize(z.textureWidth,z.textureHeight,!1),ut=new wc(z.textureWidth,z.textureHeight,{format:to,type:hh,depthTexture:new ry(z.textureWidth,z.textureHeight,Ln,void 0,void 0,void 0,void 0,void 0,void 0,qe),stencilBuffer:q.stencil,colorSpace:i.outputColorSpace,samples:q.antialias?4:0,resolveDepthBuffer:z.ignoreDepthValues===!1})}ut.isXRRenderTarget=!0,this.setFoveation(Q),P=null,B=await d.requestReferenceSpace(M),vs.setContext(d),vs.start(),u.isPresenting=!0,u.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(d!==null)return d.environmentBlendMode},this.getDepthTexture=function(){return nt.getDepthTexture()};function Pe(Se){for(let qe=0;qe<Se.removed.length;qe++){const Ln=Se.removed[qe],Ye=lt.indexOf(Ln);Ye>=0&&(lt[Ye]=null,ct[Ye].disconnect(Ln))}for(let qe=0;qe<Se.added.length;qe++){const Ln=Se.added[qe];let Ye=lt.indexOf(Ln);if(Ye===-1){for(let mi=0;mi<ct.length;mi++)if(mi>=lt.length){lt.push(Ln),Ye=mi;break}else if(lt[mi]===null){lt[mi]=Ln,Ye=mi;break}if(Ye===-1)break}const Kn=ct[Ye];Kn&&Kn.connect(Ln)}}const he=new Dt,Xe=new Dt;function fe(Se,qe,Ln){he.setFromMatrixPosition(qe.matrixWorld),Xe.setFromMatrixPosition(Ln.matrixWorld);const Ye=he.distanceTo(Xe),Kn=qe.projectionMatrix.elements,mi=Ln.projectionMatrix.elements,ii=Kn[14]/(Kn[10]-1),ts=Kn[14]/(Kn[10]+1),Ue=(Kn[9]+1)/Kn[5],je=(Kn[9]-1)/Kn[5],Nt=(Kn[8]-1)/Kn[0],Vn=(mi[8]+1)/mi[0],ze=ii*Nt,In=ii*Vn,nn=Ye/(-Nt+Vn),ci=nn*-Nt;if(qe.matrixWorld.decompose(Se.position,Se.quaternion,Se.scale),Se.translateX(ci),Se.translateZ(nn),Se.matrixWorld.compose(Se.position,Se.quaternion,Se.scale),Se.matrixWorldInverse.copy(Se.matrixWorld).invert(),Kn[10]===-1)Se.projectionMatrix.copy(qe.projectionMatrix),Se.projectionMatrixInverse.copy(qe.projectionMatrixInverse);else{const wn=ii+nn,St=ts+nn,gt=ze-ci,ne=In+(Ye-ci),Ie=Ue*ts/St*wn,Ge=je*ts/St*wn;Se.projectionMatrix.makePerspective(gt,ne,Ie,Ge,wn,St),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert()}}function an(Se,qe){qe===null?Se.matrixWorld.copy(Se.matrix):Se.matrixWorld.multiplyMatrices(qe.matrixWorld,Se.matrix),Se.matrixWorldInverse.copy(Se.matrixWorld).invert()}this.updateCamera=function(Se){if(d===null)return;let qe=Se.near,Ln=Se.far;nt.texture!==null&&(nt.depthNear>0&&(qe=nt.depthNear),nt.depthFar>0&&(Ln=nt.depthFar)),pt.near=Ut.near=Qt.near=qe,pt.far=Ut.far=Qt.far=Ln,(Ht!==pt.near||le!==pt.far)&&(d.updateRenderState({depthNear:pt.near,depthFar:pt.far}),Ht=pt.near,le=pt.far),Qt.layers.mask=Se.layers.mask|2,Ut.layers.mask=Se.layers.mask|4,pt.layers.mask=Qt.layers.mask|Ut.layers.mask;const Ye=Se.parent,Kn=pt.cameras;an(pt,Ye);for(let mi=0;mi<Kn.length;mi++)an(Kn[mi],Ye);Kn.length===2?fe(pt,Qt,Ut):pt.projectionMatrix.copy(Qt.projectionMatrix),hn(Se,pt,Ye)};function hn(Se,qe,Ln){Ln===null?Se.matrix.copy(qe.matrixWorld):(Se.matrix.copy(Ln.matrixWorld),Se.matrix.invert(),Se.matrix.multiply(qe.matrixWorld)),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.updateMatrixWorld(!0),Se.projectionMatrix.copy(qe.projectionMatrix),Se.projectionMatrixInverse.copy(qe.projectionMatrixInverse),Se.isPerspectiveCamera&&(Se.fov=Qm*2*Math.atan(1/Se.projectionMatrix.elements[5]),Se.zoom=1)}this.getCamera=function(){return pt},this.getFoveation=function(){if(!(z===null&&J===null))return Q},this.setFoveation=function(Se){Q=Se,z!==null&&(z.fixedFoveation=Se),J!==null&&J.fixedFoveation!==void 0&&(J.fixedFoveation=Se)},this.hasDepthSensing=function(){return nt.texture!==null},this.getDepthSensingMesh=function(){return nt.getMesh(pt)};let kn=null;function bi(Se,qe){if(O=qe.getViewerPose(P||B),j=qe,O!==null){const Ln=O.views;J!==null&&(i.setRenderTargetFramebuffer(ut,J.framebuffer),i.setRenderTarget(ut));let Ye=!1;Ln.length!==pt.cameras.length&&(pt.cameras.length=0,Ye=!0);for(let mi=0;mi<Ln.length;mi++){const ii=Ln[mi];let ts=null;if(J!==null)ts=J.getViewport(ii);else{const je=H.getViewSubImage(z,ii);ts=je.viewport,mi===0&&(i.setRenderTargetTextures(ut,je.colorTexture,z.ignoreDepthValues?void 0:je.depthStencilTexture),i.setRenderTarget(ut))}let Ue=xt[mi];Ue===void 0&&(Ue=new Uo,Ue.layers.enable(mi),Ue.viewport=new qi,xt[mi]=Ue),Ue.matrix.fromArray(ii.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(ii.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set(ts.x,ts.y,ts.width,ts.height),mi===0&&(pt.matrix.copy(Ue.matrix),pt.matrix.decompose(pt.position,pt.quaternion,pt.scale)),Ye===!0&&pt.cameras.push(Ue)}const Kn=d.enabledFeatures;if(Kn&&Kn.includes("depth-sensing")){const mi=H.getDepthInformation(Ln[0]);mi&&mi.isValid&&mi.texture&&nt.init(i,mi,d.renderState)}}for(let Ln=0;Ln<ct.length;Ln++){const Ye=lt[Ln],Kn=ct[Ln];Ye!==null&&Kn!==void 0&&Kn.update(Ye,qe,P||B)}kn&&kn(Se,qe),qe.detectedPlanes&&u.dispatchEvent({type:"planesdetected",data:qe}),j=null}const vs=new I6;vs.setAnimationLoop(bi),this.setAnimationLoop=function(Se){kn=Se},this.dispose=function(){}}}const Np=new cA,m9=new ui;function $b(C,i){function a(q,Z){q.matrixAutoUpdate===!0&&q.updateMatrix(),Z.value.copy(q.matrix)}function u(q,Z){Z.color.getRGB(q.fogColor.value,eb(C)),Z.isFog?(q.fogNear.value=Z.near,q.fogFar.value=Z.far):Z.isFogExp2&&(q.fogDensity.value=Z.density)}function d(q,Z,ut,ct,lt){Z.isMeshBasicMaterial||Z.isMeshLambertMaterial?E(q,Z):Z.isMeshToonMaterial?(E(q,Z),H(q,Z)):Z.isMeshPhongMaterial?(E(q,Z),O(q,Z)):Z.isMeshStandardMaterial?(E(q,Z),z(q,Z),Z.isMeshPhysicalMaterial&&J(q,Z,lt)):Z.isMeshMatcapMaterial?(E(q,Z),j(q,Z)):Z.isMeshDepthMaterial?E(q,Z):Z.isMeshDistanceMaterial?(E(q,Z),nt(q,Z)):Z.isMeshNormalMaterial?E(q,Z):Z.isLineBasicMaterial?(B(q,Z),Z.isLineDashedMaterial&&M(q,Z)):Z.isPointsMaterial?Q(q,Z,ut,ct):Z.isSpriteMaterial?P(q,Z):Z.isShadowMaterial?(q.color.value.copy(Z.color),q.opacity.value=Z.opacity):Z.isShaderMaterial&&(Z.uniformsNeedUpdate=!1)}function E(q,Z){q.opacity.value=Z.opacity,Z.color&&q.diffuse.value.copy(Z.color),Z.emissive&&q.emissive.value.copy(Z.emissive).multiplyScalar(Z.emissiveIntensity),Z.map&&(q.map.value=Z.map,a(Z.map,q.mapTransform)),Z.alphaMap&&(q.alphaMap.value=Z.alphaMap,a(Z.alphaMap,q.alphaMapTransform)),Z.bumpMap&&(q.bumpMap.value=Z.bumpMap,a(Z.bumpMap,q.bumpMapTransform),q.bumpScale.value=Z.bumpScale,Z.side===Ro&&(q.bumpScale.value*=-1)),Z.normalMap&&(q.normalMap.value=Z.normalMap,a(Z.normalMap,q.normalMapTransform),q.normalScale.value.copy(Z.normalScale),Z.side===Ro&&q.normalScale.value.negate()),Z.displacementMap&&(q.displacementMap.value=Z.displacementMap,a(Z.displacementMap,q.displacementMapTransform),q.displacementScale.value=Z.displacementScale,q.displacementBias.value=Z.displacementBias),Z.emissiveMap&&(q.emissiveMap.value=Z.emissiveMap,a(Z.emissiveMap,q.emissiveMapTransform)),Z.specularMap&&(q.specularMap.value=Z.specularMap,a(Z.specularMap,q.specularMapTransform)),Z.alphaTest>0&&(q.alphaTest.value=Z.alphaTest);const ut=i.get(Z),ct=ut.envMap,lt=ut.envMapRotation;ct&&(q.envMap.value=ct,Np.copy(lt),Np.x*=-1,Np.y*=-1,Np.z*=-1,ct.isCubeTexture&&ct.isRenderTargetTexture===!1&&(Np.y*=-1,Np.z*=-1),q.envMapRotation.value.setFromMatrix4(m9.makeRotationFromEuler(Np)),q.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1,q.reflectivity.value=Z.reflectivity,q.ior.value=Z.ior,q.refractionRatio.value=Z.refractionRatio),Z.lightMap&&(q.lightMap.value=Z.lightMap,q.lightMapIntensity.value=Z.lightMapIntensity,a(Z.lightMap,q.lightMapTransform)),Z.aoMap&&(q.aoMap.value=Z.aoMap,q.aoMapIntensity.value=Z.aoMapIntensity,a(Z.aoMap,q.aoMapTransform))}function B(q,Z){q.diffuse.value.copy(Z.color),q.opacity.value=Z.opacity,Z.map&&(q.map.value=Z.map,a(Z.map,q.mapTransform))}function M(q,Z){q.dashSize.value=Z.dashSize,q.totalSize.value=Z.dashSize+Z.gapSize,q.scale.value=Z.scale}function Q(q,Z,ut,ct){q.diffuse.value.copy(Z.color),q.opacity.value=Z.opacity,q.size.value=Z.size*ut,q.scale.value=ct*.5,Z.map&&(q.map.value=Z.map,a(Z.map,q.uvTransform)),Z.alphaMap&&(q.alphaMap.value=Z.alphaMap,a(Z.alphaMap,q.alphaMapTransform)),Z.alphaTest>0&&(q.alphaTest.value=Z.alphaTest)}function P(q,Z){q.diffuse.value.copy(Z.color),q.opacity.value=Z.opacity,q.rotation.value=Z.rotation,Z.map&&(q.map.value=Z.map,a(Z.map,q.mapTransform)),Z.alphaMap&&(q.alphaMap.value=Z.alphaMap,a(Z.alphaMap,q.alphaMapTransform)),Z.alphaTest>0&&(q.alphaTest.value=Z.alphaTest)}function O(q,Z){q.specular.value.copy(Z.specular),q.shininess.value=Math.max(Z.shininess,1e-4)}function H(q,Z){Z.gradientMap&&(q.gradientMap.value=Z.gradientMap)}function z(q,Z){q.metalness.value=Z.metalness,Z.metalnessMap&&(q.metalnessMap.value=Z.metalnessMap,a(Z.metalnessMap,q.metalnessMapTransform)),q.roughness.value=Z.roughness,Z.roughnessMap&&(q.roughnessMap.value=Z.roughnessMap,a(Z.roughnessMap,q.roughnessMapTransform)),Z.envMap&&(q.envMapIntensity.value=Z.envMapIntensity)}function J(q,Z,ut){q.ior.value=Z.ior,Z.sheen>0&&(q.sheenColor.value.copy(Z.sheenColor).multiplyScalar(Z.sheen),q.sheenRoughness.value=Z.sheenRoughness,Z.sheenColorMap&&(q.sheenColorMap.value=Z.sheenColorMap,a(Z.sheenColorMap,q.sheenColorMapTransform)),Z.sheenRoughnessMap&&(q.sheenRoughnessMap.value=Z.sheenRoughnessMap,a(Z.sheenRoughnessMap,q.sheenRoughnessMapTransform))),Z.clearcoat>0&&(q.clearcoat.value=Z.clearcoat,q.clearcoatRoughness.value=Z.clearcoatRoughness,Z.clearcoatMap&&(q.clearcoatMap.value=Z.clearcoatMap,a(Z.clearcoatMap,q.clearcoatMapTransform)),Z.clearcoatRoughnessMap&&(q.clearcoatRoughnessMap.value=Z.clearcoatRoughnessMap,a(Z.clearcoatRoughnessMap,q.clearcoatRoughnessMapTransform)),Z.clearcoatNormalMap&&(q.clearcoatNormalMap.value=Z.clearcoatNormalMap,a(Z.clearcoatNormalMap,q.clearcoatNormalMapTransform),q.clearcoatNormalScale.value.copy(Z.clearcoatNormalScale),Z.side===Ro&&q.clearcoatNormalScale.value.negate())),Z.dispersion>0&&(q.dispersion.value=Z.dispersion),Z.iridescence>0&&(q.iridescence.value=Z.iridescence,q.iridescenceIOR.value=Z.iridescenceIOR,q.iridescenceThicknessMinimum.value=Z.iridescenceThicknessRange[0],q.iridescenceThicknessMaximum.value=Z.iridescenceThicknessRange[1],Z.iridescenceMap&&(q.iridescenceMap.value=Z.iridescenceMap,a(Z.iridescenceMap,q.iridescenceMapTransform)),Z.iridescenceThicknessMap&&(q.iridescenceThicknessMap.value=Z.iridescenceThicknessMap,a(Z.iridescenceThicknessMap,q.iridescenceThicknessMapTransform))),Z.transmission>0&&(q.transmission.value=Z.transmission,q.transmissionSamplerMap.value=ut.texture,q.transmissionSamplerSize.value.set(ut.width,ut.height),Z.transmissionMap&&(q.transmissionMap.value=Z.transmissionMap,a(Z.transmissionMap,q.transmissionMapTransform)),q.thickness.value=Z.thickness,Z.thicknessMap&&(q.thicknessMap.value=Z.thicknessMap,a(Z.thicknessMap,q.thicknessMapTransform)),q.attenuationDistance.value=Z.attenuationDistance,q.attenuationColor.value.copy(Z.attenuationColor)),Z.anisotropy>0&&(q.anisotropyVector.value.set(Z.anisotropy*Math.cos(Z.anisotropyRotation),Z.anisotropy*Math.sin(Z.anisotropyRotation)),Z.anisotropyMap&&(q.anisotropyMap.value=Z.anisotropyMap,a(Z.anisotropyMap,q.anisotropyMapTransform))),q.specularIntensity.value=Z.specularIntensity,q.specularColor.value.copy(Z.specularColor),Z.specularColorMap&&(q.specularColorMap.value=Z.specularColorMap,a(Z.specularColorMap,q.specularColorMapTransform)),Z.specularIntensityMap&&(q.specularIntensityMap.value=Z.specularIntensityMap,a(Z.specularIntensityMap,q.specularIntensityMapTransform))}function j(q,Z){Z.matcap&&(q.matcap.value=Z.matcap)}function nt(q,Z){const ut=i.get(Z).light;q.referencePosition.value.setFromMatrixPosition(ut.matrixWorld),q.nearDistance.value=ut.shadow.camera.near,q.farDistance.value=ut.shadow.camera.far}return{refreshFogUniforms:u,refreshMaterialUniforms:d}}function t2(C,i,a,u){let d={},E={},B=[];const M=C.getParameter(C.MAX_UNIFORM_BUFFER_BINDINGS);function Q(ut,ct){const lt=ct.program;u.uniformBlockBinding(ut,lt)}function P(ut,ct){let lt=d[ut.id];lt===void 0&&(j(ut),lt=O(ut),d[ut.id]=lt,ut.addEventListener("dispose",q));const Vt=ct.program;u.updateUBOMapping(ut,Vt);const Tt=i.render.frame;E[ut.id]!==Tt&&(z(ut),E[ut.id]=Tt)}function O(ut){const ct=H();ut.__bindingPointIndex=ct;const lt=C.createBuffer(),Vt=ut.__size,Tt=ut.usage;return C.bindBuffer(C.UNIFORM_BUFFER,lt),C.bufferData(C.UNIFORM_BUFFER,Vt,Tt),C.bindBuffer(C.UNIFORM_BUFFER,null),C.bindBufferBase(C.UNIFORM_BUFFER,ct,lt),lt}function H(){for(let ut=0;ut<M;ut++)if(B.indexOf(ut)===-1)return B.push(ut),ut;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function z(ut){const ct=d[ut.id],lt=ut.uniforms,Vt=ut.__cache;C.bindBuffer(C.UNIFORM_BUFFER,ct);for(let Tt=0,Qt=lt.length;Tt<Qt;Tt++){const Ut=Array.isArray(lt[Tt])?lt[Tt]:[lt[Tt]];for(let xt=0,pt=Ut.length;xt<pt;xt++){const Ht=Ut[xt];if(J(Ht,Tt,xt,Vt)===!0){const le=Ht.__offset,re=Array.isArray(Ht.value)?Ht.value:[Ht.value];let Ae=0;for(let Pe=0;Pe<re.length;Pe++){const he=re[Pe],Xe=nt(he);typeof he=="number"||typeof he=="boolean"?(Ht.__data[0]=he,C.bufferSubData(C.UNIFORM_BUFFER,le+Ae,Ht.__data)):he.isMatrix3?(Ht.__data[0]=he.elements[0],Ht.__data[1]=he.elements[1],Ht.__data[2]=he.elements[2],Ht.__data[3]=0,Ht.__data[4]=he.elements[3],Ht.__data[5]=he.elements[4],Ht.__data[6]=he.elements[5],Ht.__data[7]=0,Ht.__data[8]=he.elements[6],Ht.__data[9]=he.elements[7],Ht.__data[10]=he.elements[8],Ht.__data[11]=0):(he.toArray(Ht.__data,Ae),Ae+=Xe.storage/Float32Array.BYTES_PER_ELEMENT)}C.bufferSubData(C.UNIFORM_BUFFER,le,Ht.__data)}}}C.bindBuffer(C.UNIFORM_BUFFER,null)}function J(ut,ct,lt,Vt){const Tt=ut.value,Qt=ct+"_"+lt;if(Vt[Qt]===void 0)return typeof Tt=="number"||typeof Tt=="boolean"?Vt[Qt]=Tt:Vt[Qt]=Tt.clone(),!0;{const Ut=Vt[Qt];if(typeof Tt=="number"||typeof Tt=="boolean"){if(Ut!==Tt)return Vt[Qt]=Tt,!0}else if(Ut.equals(Tt)===!1)return Ut.copy(Tt),!0}return!1}function j(ut){const ct=ut.uniforms;let lt=0;const Vt=16;for(let Qt=0,Ut=ct.length;Qt<Ut;Qt++){const xt=Array.isArray(ct[Qt])?ct[Qt]:[ct[Qt]];for(let pt=0,Ht=xt.length;pt<Ht;pt++){const le=xt[pt],re=Array.isArray(le.value)?le.value:[le.value];for(let Ae=0,Pe=re.length;Ae<Pe;Ae++){const he=re[Ae],Xe=nt(he),fe=lt%Vt,an=fe%Xe.boundary,hn=fe+an;lt+=an,hn!==0&&Vt-hn<Xe.storage&&(lt+=Vt-hn),le.__data=new Float32Array(Xe.storage/Float32Array.BYTES_PER_ELEMENT),le.__offset=lt,lt+=Xe.storage}}}const Tt=lt%Vt;return Tt>0&&(lt+=Vt-Tt),ut.__size=lt,ut.__cache={},this}function nt(ut){const ct={boundary:0,storage:0};return typeof ut=="number"||typeof ut=="boolean"?(ct.boundary=4,ct.storage=4):ut.isVector2?(ct.boundary=8,ct.storage=8):ut.isVector3||ut.isColor?(ct.boundary=16,ct.storage=12):ut.isVector4?(ct.boundary=16,ct.storage=16):ut.isMatrix3?(ct.boundary=48,ct.storage=48):ut.isMatrix4?(ct.boundary=64,ct.storage=64):ut.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ut),ct}function q(ut){const ct=ut.target;ct.removeEventListener("dispose",q);const lt=B.indexOf(ct.__bindingPointIndex);B.splice(lt,1),C.deleteBuffer(d[ct.id]),delete d[ct.id],delete E[ct.id]}function Z(){for(const ut in d)C.deleteBuffer(d[ut]);B=[],d={},E={}}return{bind:Q,update:P,dispose:Z}}class q4{constructor(i={}){const{canvas:a=RE(),context:u=null,depth:d=!0,stencil:E=!1,alpha:B=!1,antialias:M=!1,premultipliedAlpha:Q=!0,preserveDrawingBuffer:P=!1,powerPreference:O="default",failIfMajorPerformanceCaveat:H=!1,reverseDepthBuffer:z=!1}=i;this.isWebGLRenderer=!0;let J;if(u!==null){if(typeof WebGLRenderingContext<"u"&&u instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");J=u.getContextAttributes().alpha}else J=B;const j=new Uint32Array(4),nt=new Int32Array(4);let q=null,Z=null;const ut=[],ct=[];this.domElement=a,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Na,this.toneMapping=nu,this.toneMappingExposure=1;const lt=this;let Vt=!1,Tt=0,Qt=0,Ut=null,xt=-1,pt=null;const Ht=new qi,le=new qi;let re=null;const Ae=new gn(0);let Pe=0,he=a.width,Xe=a.height,fe=1,an=null,hn=null;const kn=new qi(0,0,he,Xe),bi=new qi(0,0,he,Xe);let vs=!1;const Se=new qm;let qe=!1,Ln=!1;const Ye=new ui,Kn=new ui,mi=new Dt,ii=new qi,ts={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ue=!1;function je(){return Ut===null?fe:1}let Nt=u;function Vn(Et,Kt){return a.getContext(Et,Kt)}try{const Et={alpha:!0,depth:d,stencil:E,antialias:M,premultipliedAlpha:Q,preserveDrawingBuffer:P,powerPreference:O,failIfMajorPerformanceCaveat:H};if("setAttribute"in a&&a.setAttribute("data-engine",`three.js r${Do}`),a.addEventListener("webglcontextlost",Qe,!1),a.addEventListener("webglcontextrestored",dn,!1),a.addEventListener("webglcontextcreationerror",mn,!1),Nt===null){const Kt="webgl2";if(Nt=Vn(Kt,Et),Nt===null)throw Vn(Kt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Et){throw console.error("THREE.WebGLRenderer: "+Et.message),Et}let ze,In,nn,ci,wn,St,gt,ne,Ie,Ge,Be,Pn,ln,_n,Hi,Ze,bn,Ai,fi,Mn,es,Mi,Ks,Zt;function An(){ze=new SF(Nt),ze.init(),Mi=new X4(Nt,ze),In=new r4(Nt,ze,i,Mi),nn=new a9(Nt,ze),In.reverseDepthBuffer&&z&&nn.buffers.depth.setReversed(!0),ci=new RF(Nt),wn=new Zb,St=new h9(Nt,ze,nn,wn,In,Mi,ci),gt=new o4(lt),ne=new MF(lt),Ie=new w6(Nt),Ks=new _b(Nt,Ie),Ge=new TF(Nt,Ie,ci,Ks),Be=new d4(Nt,Ge,Ie,ci),fi=new QF(Nt,In,St),Ze=new ca(wn),Pn=new V4(lt,gt,ne,ze,In,Ks,Ze),ln=new $b(lt,wn),_n=new H4,Hi=new n9(ze),Ai=new bF(lt,gt,ne,nn,Be,J,Q),bn=new r9(lt,Be,In),Zt=new t2(Nt,ci,In,nn),Mn=new s4(Nt,ze,ci),es=new DF(Nt,ze,ci),ci.programs=Pn.programs,lt.capabilities=In,lt.extensions=ze,lt.properties=wn,lt.renderLists=_n,lt.shadowMap=bn,lt.state=nn,lt.info=ci}An();const pe=new g9(lt,Nt);this.xr=pe,this.getContext=function(){return Nt},this.getContextAttributes=function(){return Nt.getContextAttributes()},this.forceContextLoss=function(){const Et=ze.get("WEBGL_lose_context");Et&&Et.loseContext()},this.forceContextRestore=function(){const Et=ze.get("WEBGL_lose_context");Et&&Et.restoreContext()},this.getPixelRatio=function(){return fe},this.setPixelRatio=function(Et){Et!==void 0&&(fe=Et,this.setSize(he,Xe,!1))},this.getSize=function(Et){return Et.set(he,Xe)},this.setSize=function(Et,Kt,oe=!0){if(pe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}he=Et,Xe=Kt,a.width=Math.floor(Et*fe),a.height=Math.floor(Kt*fe),oe===!0&&(a.style.width=Et+"px",a.style.height=Kt+"px"),this.setViewport(0,0,Et,Kt)},this.getDrawingBufferSize=function(Et){return Et.set(he*fe,Xe*fe).floor()},this.setDrawingBufferSize=function(Et,Kt,oe){he=Et,Xe=Kt,fe=oe,a.width=Math.floor(Et*oe),a.height=Math.floor(Kt*oe),this.setViewport(0,0,Et,Kt)},this.getCurrentViewport=function(Et){return Et.copy(Ht)},this.getViewport=function(Et){return Et.copy(kn)},this.setViewport=function(Et,Kt,oe,ae){Et.isVector4?kn.set(Et.x,Et.y,Et.z,Et.w):kn.set(Et,Kt,oe,ae),nn.viewport(Ht.copy(kn).multiplyScalar(fe).round())},this.getScissor=function(Et){return Et.copy(bi)},this.setScissor=function(Et,Kt,oe,ae){Et.isVector4?bi.set(Et.x,Et.y,Et.z,Et.w):bi.set(Et,Kt,oe,ae),nn.scissor(le.copy(bi).multiplyScalar(fe).round())},this.getScissorTest=function(){return vs},this.setScissorTest=function(Et){nn.setScissorTest(vs=Et)},this.setOpaqueSort=function(Et){an=Et},this.setTransparentSort=function(Et){hn=Et},this.getClearColor=function(Et){return Et.copy(Ai.getClearColor())},this.setClearColor=function(){Ai.setClearColor.apply(Ai,arguments)},this.getClearAlpha=function(){return Ai.getClearAlpha()},this.setClearAlpha=function(){Ai.setClearAlpha.apply(Ai,arguments)},this.clear=function(Et=!0,Kt=!0,oe=!0){let ae=0;if(Et){let Xt=!1;if(Ut!==null){const $e=Ut.texture.format;Xt=$e===Nw||$e===bm||$e===yp}if(Xt){const $e=Ut.texture.type,yn=$e===hh||$e===su||$e===vm||$e===fp||$e===uE||$e===dE,Un=Ai.getClearColor(),Gn=Ai.getClearAlpha(),xi=Un.r,wi=Un.g,Nn=Un.b;yn?(j[0]=xi,j[1]=wi,j[2]=Nn,j[3]=Gn,Nt.clearBufferuiv(Nt.COLOR,0,j)):(nt[0]=xi,nt[1]=wi,nt[2]=Nn,nt[3]=Gn,Nt.clearBufferiv(Nt.COLOR,0,nt))}else ae|=Nt.COLOR_BUFFER_BIT}Kt&&(ae|=Nt.DEPTH_BUFFER_BIT),oe&&(ae|=Nt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Nt.clear(ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",Qe,!1),a.removeEventListener("webglcontextrestored",dn,!1),a.removeEventListener("webglcontextcreationerror",mn,!1),_n.dispose(),Hi.dispose(),wn.dispose(),gt.dispose(),ne.dispose(),Be.dispose(),Ks.dispose(),Zt.dispose(),Pn.dispose(),pe.dispose(),pe.removeEventListener("sessionstart",V_),pe.removeEventListener("sessionend",Qy),$p.stop()};function Qe(Et){Et.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Vt=!0}function dn(){console.log("THREE.WebGLRenderer: Context Restored."),Vt=!1;const Et=ci.autoReset,Kt=bn.enabled,oe=bn.autoUpdate,ae=bn.needsUpdate,Xt=bn.type;An(),ci.autoReset=Et,bn.enabled=Kt,bn.autoUpdate=oe,bn.needsUpdate=ae,bn.type=Xt}function mn(Et){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Et.statusMessage)}function Si(Et){const Kt=Et.target;Kt.removeEventListener("dispose",Si),Wr(Kt)}function Wr(Et){ua(Et),wn.remove(Et)}function ua(Et){const Kt=wn.get(Et).programs;Kt!==void 0&&(Kt.forEach(function(oe){Pn.releaseProgram(oe)}),Et.isShaderMaterial&&Pn.releaseShaderCache(Et))}this.renderBufferDirect=function(Et,Kt,oe,ae,Xt,$e){Kt===null&&(Kt=ts);const yn=Xt.isMesh&&Xt.matrixWorld.determinant()<0,Un=MR(Et,Kt,oe,ae,Xt);nn.setMaterial(ae,yn);let Gn=oe.index,xi=1;if(ae.wireframe===!0){if(Gn=Ge.getWireframeAttribute(oe),Gn===void 0)return;xi=2}const wi=oe.drawRange,Nn=oe.attributes.position;let ns=wi.start*xi,Xs=(wi.start+wi.count)*xi;$e!==null&&(ns=Math.max(ns,$e.start*xi),Xs=Math.min(Xs,($e.start+$e.count)*xi)),Gn!==null?(ns=Math.max(ns,0),Xs=Math.min(Xs,Gn.count)):Nn!=null&&(ns=Math.max(ns,0),Xs=Math.min(Xs,Nn.count));const Ds=Xs-ns;if(Ds<0||Ds===1/0)return;Ks.setup(Xt,ae,Un,oe,Gn);let Ka,Cs=Mn;if(Gn!==null&&(Ka=Ie.get(Gn),Cs=es,Cs.setIndex(Ka)),Xt.isMesh)ae.wireframe===!0?(nn.setLineWidth(ae.wireframeLinewidth*je()),Cs.setMode(Nt.LINES)):Cs.setMode(Nt.TRIANGLES);else if(Xt.isLine){let Jn=ae.linewidth;Jn===void 0&&(Jn=1),nn.setLineWidth(Jn*je()),Xt.isLineSegments?Cs.setMode(Nt.LINES):Xt.isLineLoop?Cs.setMode(Nt.LINE_LOOP):Cs.setMode(Nt.LINE_STRIP)}else Xt.isPoints?Cs.setMode(Nt.POINTS):Xt.isSprite&&Cs.setMode(Nt.TRIANGLES);if(Xt.isBatchedMesh)if(Xt._multiDrawInstances!==null)Cs.renderMultiDrawInstances(Xt._multiDrawStarts,Xt._multiDrawCounts,Xt._multiDrawCount,Xt._multiDrawInstances);else if(ze.get("WEBGL_multi_draw"))Cs.renderMultiDraw(Xt._multiDrawStarts,Xt._multiDrawCounts,Xt._multiDrawCount);else{const Jn=Xt._multiDrawStarts,Oo=Xt._multiDrawCounts,us=Xt._multiDrawCount,Bh=Gn?Ie.get(Gn).bytesPerElement:1,Ly=wn.get(ae).currentProgram.getUniforms();for(let Ql=0;Ql<us;Ql++)Ly.setValue(Nt,"_gl_DrawID",Ql),Cs.render(Jn[Ql]/Bh,Oo[Ql])}else if(Xt.isInstancedMesh)Cs.renderInstances(ns,Ds,Xt.count);else if(oe.isInstancedBufferGeometry){const Jn=oe._maxInstanceCount!==void 0?oe._maxInstanceCount:1/0,Oo=Math.min(oe.instanceCount,Jn);Cs.renderInstances(ns,Ds,Oo)}else Cs.render(ns,Ds)};function xs(Et,Kt,oe){Et.transparent===!0&&Et.side===gs&&Et.forceSinglePass===!1?(Et.side=Ro,Et.needsUpdate=!0,$f(Et,Kt,oe),Et.side=PA,Et.needsUpdate=!0,$f(Et,Kt,oe),Et.side=gs):$f(Et,Kt,oe)}this.compile=function(Et,Kt,oe=null){oe===null&&(oe=Et),Z=Hi.get(oe),Z.init(Kt),ct.push(Z),oe.traverseVisible(function(Xt){Xt.isLight&&Xt.layers.test(Kt.layers)&&(Z.pushLight(Xt),Xt.castShadow&&Z.pushShadow(Xt))}),Et!==oe&&Et.traverseVisible(function(Xt){Xt.isLight&&Xt.layers.test(Kt.layers)&&(Z.pushLight(Xt),Xt.castShadow&&Z.pushShadow(Xt))}),Z.setupLights();const ae=new Set;return Et.traverse(function(Xt){if(!(Xt.isMesh||Xt.isPoints||Xt.isLine||Xt.isSprite))return;const $e=Xt.material;if($e)if(Array.isArray($e))for(let yn=0;yn<$e.length;yn++){const Un=$e[yn];xs(Un,oe,Xt),ae.add(Un)}else xs($e,oe,Xt),ae.add($e)}),ct.pop(),Z=null,ae},this.compileAsync=function(Et,Kt,oe=null){const ae=this.compile(Et,Kt,oe);return new Promise(Xt=>{function $e(){if(ae.forEach(function(yn){wn.get(yn).currentProgram.isReady()&&ae.delete(yn)}),ae.size===0){Xt(Et);return}setTimeout($e,10)}ze.get("KHR_parallel_shader_compile")!==null?$e():setTimeout($e,10)})};let Dc=null;function Rc(Et){Dc&&Dc(Et)}function V_(){$p.stop()}function Qy(){$p.start()}const $p=new I6;$p.setAnimationLoop(Rc),typeof self<"u"&&$p.setContext(self),this.setAnimationLoop=function(Et){Dc=Et,pe.setAnimationLoop(Et),Et===null?$p.stop():$p.start()},pe.addEventListener("sessionstart",V_),pe.addEventListener("sessionend",Qy),this.render=function(Et,Kt){if(Kt!==void 0&&Kt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Vt===!0)return;if(Et.matrixWorldAutoUpdate===!0&&Et.updateMatrixWorld(),Kt.parent===null&&Kt.matrixWorldAutoUpdate===!0&&Kt.updateMatrixWorld(),pe.enabled===!0&&pe.isPresenting===!0&&(pe.cameraAutoUpdate===!0&&pe.updateCamera(Kt),Kt=pe.getCamera()),Et.isScene===!0&&Et.onBeforeRender(lt,Et,Kt,Ut),Z=Hi.get(Et,ct.length),Z.init(Kt),ct.push(Z),Kn.multiplyMatrices(Kt.projectionMatrix,Kt.matrixWorldInverse),Se.setFromProjectionMatrix(Kn),Ln=this.localClippingEnabled,qe=Ze.init(this.clippingPlanes,Ln),q=_n.get(Et,ut.length),q.init(),ut.push(q),pe.enabled===!0&&pe.isPresenting===!0){const $e=lt.xr.getDepthSensingMesh();$e!==null&&VI($e,Kt,-1/0,lt.sortObjects)}VI(Et,Kt,0,lt.sortObjects),q.finish(),lt.sortObjects===!0&&q.sort(an,hn),Ue=pe.enabled===!1||pe.isPresenting===!1||pe.hasDepthSensing()===!1,Ue&&Ai.addToRenderList(q,Et),this.info.render.frame++,qe===!0&&Ze.beginShadows();const oe=Z.state.shadowsArray;bn.render(oe,Et,Kt),qe===!0&&Ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ae=q.opaque,Xt=q.transmissive;if(Z.setupLights(),Kt.isArrayCamera){const $e=Kt.cameras;if(Xt.length>0)for(let yn=0,Un=$e.length;yn<Un;yn++){const Gn=$e[yn];q2(ae,Xt,Et,Gn)}Ue&&Ai.render(Et);for(let yn=0,Un=$e.length;yn<Un;yn++){const Gn=$e[yn];H_(q,Et,Gn,Gn.viewport)}}else Xt.length>0&&q2(ae,Xt,Et,Kt),Ue&&Ai.render(Et),H_(q,Et,Kt);Ut!==null&&(St.updateMultisampleRenderTarget(Ut),St.updateRenderTargetMipmap(Ut)),Et.isScene===!0&&Et.onAfterRender(lt,Et,Kt),Ks.resetDefaultState(),xt=-1,pt=null,ct.pop(),ct.length>0?(Z=ct[ct.length-1],qe===!0&&Ze.setGlobalState(lt.clippingPlanes,Z.state.camera)):Z=null,ut.pop(),ut.length>0?q=ut[ut.length-1]:q=null};function VI(Et,Kt,oe,ae){if(Et.visible===!1)return;if(Et.layers.test(Kt.layers)){if(Et.isGroup)oe=Et.renderOrder;else if(Et.isLOD)Et.autoUpdate===!0&&Et.update(Kt);else if(Et.isLight)Z.pushLight(Et),Et.castShadow&&Z.pushShadow(Et);else if(Et.isSprite){if(!Et.frustumCulled||Se.intersectsSprite(Et)){ae&&ii.setFromMatrixPosition(Et.matrixWorld).applyMatrix4(Kn);const yn=Be.update(Et),Un=Et.material;Un.visible&&q.push(Et,yn,Un,oe,ii.z,null)}}else if((Et.isMesh||Et.isLine||Et.isPoints)&&(!Et.frustumCulled||Se.intersectsObject(Et))){const yn=Be.update(Et),Un=Et.material;if(ae&&(Et.boundingSphere!==void 0?(Et.boundingSphere===null&&Et.computeBoundingSphere(),ii.copy(Et.boundingSphere.center)):(yn.boundingSphere===null&&yn.computeBoundingSphere(),ii.copy(yn.boundingSphere.center)),ii.applyMatrix4(Et.matrixWorld).applyMatrix4(Kn)),Array.isArray(Un)){const Gn=yn.groups;for(let xi=0,wi=Gn.length;xi<wi;xi++){const Nn=Gn[xi],ns=Un[Nn.materialIndex];ns&&ns.visible&&q.push(Et,yn,ns,oe,ii.z,Nn)}}else Un.visible&&q.push(Et,yn,Un,oe,ii.z,null)}}const $e=Et.children;for(let yn=0,Un=$e.length;yn<Un;yn++)VI($e[yn],Kt,oe,ae)}function H_(Et,Kt,oe,ae){const Xt=Et.opaque,$e=Et.transmissive,yn=Et.transparent;Z.setupLightsView(oe),qe===!0&&Ze.setGlobalState(lt.clippingPlanes,oe),ae&&nn.viewport(Ht.copy(ae)),Xt.length>0&&ky(Xt,Kt,oe),$e.length>0&&ky($e,Kt,oe),yn.length>0&&ky(yn,Kt,oe),nn.buffers.depth.setTest(!0),nn.buffers.depth.setMask(!0),nn.buffers.color.setMask(!0),nn.setPolygonOffset(!1)}function q2(Et,Kt,oe,ae){if((oe.isScene===!0?oe.overrideMaterial:null)!==null)return;Z.state.transmissionRenderTarget[ae.id]===void 0&&(Z.state.transmissionRenderTarget[ae.id]=new wc(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")||ze.has("EXT_color_buffer_float")?dp:hh,minFilter:iu,samples:4,stencilBuffer:E,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ui.workingColorSpace}));const $e=Z.state.transmissionRenderTarget[ae.id],yn=ae.viewport||Ht;$e.setSize(yn.z,yn.w);const Un=lt.getRenderTarget();lt.setRenderTarget($e),lt.getClearColor(Ae),Pe=lt.getClearAlpha(),Pe<1&&lt.setClearColor(16777215,.5),lt.clear(),Ue&&Ai.render(oe);const Gn=lt.toneMapping;lt.toneMapping=nu;const xi=ae.viewport;if(ae.viewport!==void 0&&(ae.viewport=void 0),Z.setupLightsView(ae),qe===!0&&Ze.setGlobalState(lt.clippingPlanes,ae),ky(Et,oe,ae),St.updateMultisampleRenderTarget($e),St.updateRenderTargetMipmap($e),ze.has("WEBGL_multisampled_render_to_texture")===!1){let wi=!1;for(let Nn=0,ns=Kt.length;Nn<ns;Nn++){const Xs=Kt[Nn],Ds=Xs.object,Ka=Xs.geometry,Cs=Xs.material,Jn=Xs.group;if(Cs.side===gs&&Ds.layers.test(ae.layers)){const Oo=Cs.side;Cs.side=Ro,Cs.needsUpdate=!0,z_(Ds,oe,ae,Ka,Cs,Jn),Cs.side=Oo,Cs.needsUpdate=!0,wi=!0}}wi===!0&&(St.updateMultisampleRenderTarget($e),St.updateRenderTargetMipmap($e))}lt.setRenderTarget(Un),lt.setClearColor(Ae,Pe),xi!==void 0&&(ae.viewport=xi),lt.toneMapping=Gn}function ky(Et,Kt,oe){const ae=Kt.isScene===!0?Kt.overrideMaterial:null;for(let Xt=0,$e=Et.length;Xt<$e;Xt++){const yn=Et[Xt],Un=yn.object,Gn=yn.geometry,xi=ae===null?yn.material:ae,wi=yn.group;Un.layers.test(oe.layers)&&z_(Un,Kt,oe,Gn,xi,wi)}}function z_(Et,Kt,oe,ae,Xt,$e){Et.onBeforeRender(lt,Kt,oe,ae,Xt,$e),Et.modelViewMatrix.multiplyMatrices(oe.matrixWorldInverse,Et.matrixWorld),Et.normalMatrix.getNormalMatrix(Et.modelViewMatrix),Xt.onBeforeRender(lt,Kt,oe,ae,Et,$e),Xt.transparent===!0&&Xt.side===gs&&Xt.forceSinglePass===!1?(Xt.side=Ro,Xt.needsUpdate=!0,lt.renderBufferDirect(oe,Kt,ae,Xt,Et,$e),Xt.side=PA,Xt.needsUpdate=!0,lt.renderBufferDirect(oe,Kt,ae,Xt,Et,$e),Xt.side=gs):lt.renderBufferDirect(oe,Kt,ae,Xt,Et,$e),Et.onAfterRender(lt,Kt,oe,ae,Xt,$e)}function $f(Et,Kt,oe){Kt.isScene!==!0&&(Kt=ts);const ae=wn.get(Et),Xt=Z.state.lights,$e=Z.state.shadowsArray,yn=Xt.state.version,Un=Pn.getParameters(Et,Xt.state,$e,Kt,oe),Gn=Pn.getProgramCacheKey(Un);let xi=ae.programs;ae.environment=Et.isMeshStandardMaterial?Kt.environment:null,ae.fog=Kt.fog,ae.envMap=(Et.isMeshStandardMaterial?ne:gt).get(Et.envMap||ae.environment),ae.envMapRotation=ae.environment!==null&&Et.envMap===null?Kt.environmentRotation:Et.envMapRotation,xi===void 0&&(Et.addEventListener("dispose",Si),xi=new Map,ae.programs=xi);let wi=xi.get(Gn);if(wi!==void 0){if(ae.currentProgram===wi&&ae.lightsStateVersion===yn)return W_(Et,Un),wi}else Un.uniforms=Pn.getUniforms(Et),Et.onBeforeCompile(Un,lt),wi=Pn.acquireProgram(Un,Gn),xi.set(Gn,wi),ae.uniforms=Un.uniforms;const Nn=ae.uniforms;return(!Et.isShaderMaterial&&!Et.isRawShaderMaterial||Et.clipping===!0)&&(Nn.clippingPlanes=Ze.uniform),W_(Et,Un),ae.needsLights=$2(Et),ae.lightsStateVersion=yn,ae.needsLights&&(Nn.ambientLightColor.value=Xt.state.ambient,Nn.lightProbe.value=Xt.state.probe,Nn.directionalLights.value=Xt.state.directional,Nn.directionalLightShadows.value=Xt.state.directionalShadow,Nn.spotLights.value=Xt.state.spot,Nn.spotLightShadows.value=Xt.state.spotShadow,Nn.rectAreaLights.value=Xt.state.rectArea,Nn.ltc_1.value=Xt.state.rectAreaLTC1,Nn.ltc_2.value=Xt.state.rectAreaLTC2,Nn.pointLights.value=Xt.state.point,Nn.pointLightShadows.value=Xt.state.pointShadow,Nn.hemisphereLights.value=Xt.state.hemi,Nn.directionalShadowMap.value=Xt.state.directionalShadowMap,Nn.directionalShadowMatrix.value=Xt.state.directionalShadowMatrix,Nn.spotShadowMap.value=Xt.state.spotShadowMap,Nn.spotLightMatrix.value=Xt.state.spotLightMatrix,Nn.spotLightMap.value=Xt.state.spotLightMap,Nn.pointShadowMap.value=Xt.state.pointShadowMap,Nn.pointShadowMatrix.value=Xt.state.pointShadowMatrix),ae.currentProgram=wi,ae.uniformsList=null,wi}function bR(Et){if(Et.uniformsList===null){const Kt=Et.currentProgram.getUniforms();Et.uniformsList=J3.seqWithValue(Kt.seq,Et.uniforms)}return Et.uniformsList}function W_(Et,Kt){const oe=wn.get(Et);oe.outputColorSpace=Kt.outputColorSpace,oe.batching=Kt.batching,oe.batchingColor=Kt.batchingColor,oe.instancing=Kt.instancing,oe.instancingColor=Kt.instancingColor,oe.instancingMorph=Kt.instancingMorph,oe.skinning=Kt.skinning,oe.morphTargets=Kt.morphTargets,oe.morphNormals=Kt.morphNormals,oe.morphColors=Kt.morphColors,oe.morphTargetsCount=Kt.morphTargetsCount,oe.numClippingPlanes=Kt.numClippingPlanes,oe.numIntersection=Kt.numClipIntersection,oe.vertexAlphas=Kt.vertexAlphas,oe.vertexTangents=Kt.vertexTangents,oe.toneMapping=Kt.toneMapping}function MR(Et,Kt,oe,ae,Xt){Kt.isScene!==!0&&(Kt=ts),St.resetTextureUnits();const $e=Kt.fog,yn=ae.isMeshStandardMaterial?Kt.environment:null,Un=Ut===null?lt.outputColorSpace:Ut.isXRRenderTarget===!0?Ut.texture.colorSpace:Mf,Gn=(ae.isMeshStandardMaterial?ne:gt).get(ae.envMap||yn),xi=ae.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,wi=!!oe.attributes.tangent&&(!!ae.normalMap||ae.anisotropy>0),Nn=!!oe.morphAttributes.position,ns=!!oe.morphAttributes.normal,Xs=!!oe.morphAttributes.color;let Ds=nu;ae.toneMapped&&(Ut===null||Ut.isXRRenderTarget===!0)&&(Ds=lt.toneMapping);const Ka=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,Cs=Ka!==void 0?Ka.length:0,Jn=wn.get(ae),Oo=Z.state.lights;if(qe===!0&&(Ln===!0||Et!==pt)){const zA=Et===pt&&ae.id===xt;Ze.setState(ae,Et,zA)}let us=!1;ae.version===Jn.__version?(Jn.needsLights&&Jn.lightsStateVersion!==Oo.state.version||Jn.outputColorSpace!==Un||Xt.isBatchedMesh&&Jn.batching===!1||!Xt.isBatchedMesh&&Jn.batching===!0||Xt.isBatchedMesh&&Jn.batchingColor===!0&&Xt.colorTexture===null||Xt.isBatchedMesh&&Jn.batchingColor===!1&&Xt.colorTexture!==null||Xt.isInstancedMesh&&Jn.instancing===!1||!Xt.isInstancedMesh&&Jn.instancing===!0||Xt.isSkinnedMesh&&Jn.skinning===!1||!Xt.isSkinnedMesh&&Jn.skinning===!0||Xt.isInstancedMesh&&Jn.instancingColor===!0&&Xt.instanceColor===null||Xt.isInstancedMesh&&Jn.instancingColor===!1&&Xt.instanceColor!==null||Xt.isInstancedMesh&&Jn.instancingMorph===!0&&Xt.morphTexture===null||Xt.isInstancedMesh&&Jn.instancingMorph===!1&&Xt.morphTexture!==null||Jn.envMap!==Gn||ae.fog===!0&&Jn.fog!==$e||Jn.numClippingPlanes!==void 0&&(Jn.numClippingPlanes!==Ze.numPlanes||Jn.numIntersection!==Ze.numIntersection)||Jn.vertexAlphas!==xi||Jn.vertexTangents!==wi||Jn.morphTargets!==Nn||Jn.morphNormals!==ns||Jn.morphColors!==Xs||Jn.toneMapping!==Ds||Jn.morphTargetsCount!==Cs)&&(us=!0):(us=!0,Jn.__version=ae.version);let Bh=Jn.currentProgram;us===!0&&(Bh=$f(ae,Kt,Xt));let Ly=!1,Ql=!1,Py=!1;const js=Bh.getUniforms(),vh=Jn.uniforms;if(nn.useProgram(Bh.program)&&(Ly=!0,Ql=!0,Py=!0),ae.id!==xt&&(xt=ae.id,Ql=!0),Ly||pt!==Et){nn.buffers.depth.getReversed()?(Ye.copy(Et.projectionMatrix),kE(Ye),Bp(Ye),js.setValue(Nt,"projectionMatrix",Ye)):js.setValue(Nt,"projectionMatrix",Et.projectionMatrix),js.setValue(Nt,"viewMatrix",Et.matrixWorldInverse);const Fd=js.map.cameraPosition;Fd!==void 0&&Fd.setValue(Nt,mi.setFromMatrixPosition(Et.matrixWorld)),In.logarithmicDepthBuffer&&js.setValue(Nt,"logDepthBufFC",2/(Math.log(Et.far+1)/Math.LN2)),(ae.isMeshPhongMaterial||ae.isMeshToonMaterial||ae.isMeshLambertMaterial||ae.isMeshBasicMaterial||ae.isMeshStandardMaterial||ae.isShaderMaterial)&&js.setValue(Nt,"isOrthographic",Et.isOrthographicCamera===!0),pt!==Et&&(pt=Et,Ql=!0,Py=!0)}if(Xt.isSkinnedMesh){js.setOptional(Nt,Xt,"bindMatrix"),js.setOptional(Nt,Xt,"bindMatrixInverse");const zA=Xt.skeleton;zA&&(zA.boneTexture===null&&zA.computeBoneTexture(),js.setValue(Nt,"boneTexture",zA.boneTexture,St))}Xt.isBatchedMesh&&(js.setOptional(Nt,Xt,"batchingTexture"),js.setValue(Nt,"batchingTexture",Xt._matricesTexture,St),js.setOptional(Nt,Xt,"batchingIdTexture"),js.setValue(Nt,"batchingIdTexture",Xt._indirectTexture,St),js.setOptional(Nt,Xt,"batchingColorTexture"),Xt._colorsTexture!==null&&js.setValue(Nt,"batchingColorTexture",Xt._colorsTexture,St));const tg=oe.morphAttributes;if((tg.position!==void 0||tg.normal!==void 0||tg.color!==void 0)&&fi.update(Xt,oe,Bh),(Ql||Jn.receiveShadow!==Xt.receiveShadow)&&(Jn.receiveShadow=Xt.receiveShadow,js.setValue(Nt,"receiveShadow",Xt.receiveShadow)),ae.isMeshGouraudMaterial&&ae.envMap!==null&&(vh.envMap.value=Gn,vh.flipEnvMap.value=Gn.isCubeTexture&&Gn.isRenderTargetTexture===!1?-1:1),ae.isMeshStandardMaterial&&ae.envMap===null&&Kt.environment!==null&&(vh.envMapIntensity.value=Kt.environmentIntensity),Ql&&(js.setValue(Nt,"toneMappingExposure",lt.toneMappingExposure),Jn.needsLights&&SR(vh,Py),$e&&ae.fog===!0&&ln.refreshFogUniforms(vh,$e),ln.refreshMaterialUniforms(vh,ae,fe,Xe,Z.state.transmissionRenderTarget[Et.id]),J3.upload(Nt,bR(Jn),vh,St)),ae.isShaderMaterial&&ae.uniformsNeedUpdate===!0&&(J3.upload(Nt,bR(Jn),vh,St),ae.uniformsNeedUpdate=!1),ae.isSpriteMaterial&&js.setValue(Nt,"center",Xt.center),js.setValue(Nt,"modelViewMatrix",Xt.modelViewMatrix),js.setValue(Nt,"normalMatrix",Xt.normalMatrix),js.setValue(Nt,"modelMatrix",Xt.matrixWorld),ae.isShaderMaterial||ae.isRawShaderMaterial){const zA=ae.uniformsGroups;for(let Fd=0,Ud=zA.length;Fd<Ud;Fd++){const J_=zA[Fd];Zt.update(J_,Bh),Zt.bind(J_,Bh)}}return Bh}function SR(Et,Kt){Et.ambientLightColor.needsUpdate=Kt,Et.lightProbe.needsUpdate=Kt,Et.directionalLights.needsUpdate=Kt,Et.directionalLightShadows.needsUpdate=Kt,Et.pointLights.needsUpdate=Kt,Et.pointLightShadows.needsUpdate=Kt,Et.spotLights.needsUpdate=Kt,Et.spotLightShadows.needsUpdate=Kt,Et.rectAreaLights.needsUpdate=Kt,Et.hemisphereLights.needsUpdate=Kt}function $2(Et){return Et.isMeshLambertMaterial||Et.isMeshToonMaterial||Et.isMeshPhongMaterial||Et.isMeshStandardMaterial||Et.isShadowMaterial||Et.isShaderMaterial&&Et.lights===!0}this.getActiveCubeFace=function(){return Tt},this.getActiveMipmapLevel=function(){return Qt},this.getRenderTarget=function(){return Ut},this.setRenderTargetTextures=function(Et,Kt,oe){wn.get(Et.texture).__webglTexture=Kt,wn.get(Et.depthTexture).__webglTexture=oe;const ae=wn.get(Et);ae.__hasExternalTextures=!0,ae.__autoAllocateDepthBuffer=oe===void 0,ae.__autoAllocateDepthBuffer||ze.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ae.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Et,Kt){const oe=wn.get(Et);oe.__webglFramebuffer=Kt,oe.__useDefaultFramebuffer=Kt===void 0},this.setRenderTarget=function(Et,Kt=0,oe=0){Ut=Et,Tt=Kt,Qt=oe;let ae=!0,Xt=null,$e=!1,yn=!1;if(Et){const Gn=wn.get(Et);if(Gn.__useDefaultFramebuffer!==void 0)nn.bindFramebuffer(Nt.FRAMEBUFFER,null),ae=!1;else if(Gn.__webglFramebuffer===void 0)St.setupRenderTarget(Et);else if(Gn.__hasExternalTextures)St.rebindTextures(Et,wn.get(Et.texture).__webglTexture,wn.get(Et.depthTexture).__webglTexture);else if(Et.depthBuffer){const Nn=Et.depthTexture;if(Gn.__boundDepthTexture!==Nn){if(Nn!==null&&wn.has(Nn)&&(Et.width!==Nn.image.width||Et.height!==Nn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");St.setupDepthRenderbuffer(Et)}}const xi=Et.texture;(xi.isData3DTexture||xi.isDataArrayTexture||xi.isCompressedArrayTexture)&&(yn=!0);const wi=wn.get(Et).__webglFramebuffer;Et.isWebGLCubeRenderTarget?(Array.isArray(wi[Kt])?Xt=wi[Kt][oe]:Xt=wi[Kt],$e=!0):Et.samples>0&&St.useMultisampledRTT(Et)===!1?Xt=wn.get(Et).__webglMultisampledFramebuffer:Array.isArray(wi)?Xt=wi[oe]:Xt=wi,Ht.copy(Et.viewport),le.copy(Et.scissor),re=Et.scissorTest}else Ht.copy(kn).multiplyScalar(fe).floor(),le.copy(bi).multiplyScalar(fe).floor(),re=vs;if(nn.bindFramebuffer(Nt.FRAMEBUFFER,Xt)&&ae&&nn.drawBuffers(Et,Xt),nn.viewport(Ht),nn.scissor(le),nn.setScissorTest(re),$e){const Gn=wn.get(Et.texture);Nt.framebufferTexture2D(Nt.FRAMEBUFFER,Nt.COLOR_ATTACHMENT0,Nt.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,Gn.__webglTexture,oe)}else if(yn){const Gn=wn.get(Et.texture),xi=Kt||0;Nt.framebufferTextureLayer(Nt.FRAMEBUFFER,Nt.COLOR_ATTACHMENT0,Gn.__webglTexture,oe||0,xi)}xt=-1},this.readRenderTargetPixels=function(Et,Kt,oe,ae,Xt,$e,yn){if(!(Et&&Et.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Un=wn.get(Et).__webglFramebuffer;if(Et.isWebGLCubeRenderTarget&&yn!==void 0&&(Un=Un[yn]),Un){nn.bindFramebuffer(Nt.FRAMEBUFFER,Un);try{const Gn=Et.texture,xi=Gn.format,wi=Gn.type;if(!In.textureFormatReadable(xi)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!In.textureTypeReadable(wi)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Kt>=0&&Kt<=Et.width-ae&&oe>=0&&oe<=Et.height-Xt&&Nt.readPixels(Kt,oe,ae,Xt,Mi.convert(xi),Mi.convert(wi),$e)}finally{const Gn=Ut!==null?wn.get(Ut).__webglFramebuffer:null;nn.bindFramebuffer(Nt.FRAMEBUFFER,Gn)}}},this.readRenderTargetPixelsAsync=async function(Et,Kt,oe,ae,Xt,$e,yn){if(!(Et&&Et.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Un=wn.get(Et).__webglFramebuffer;if(Et.isWebGLCubeRenderTarget&&yn!==void 0&&(Un=Un[yn]),Un){const Gn=Et.texture,xi=Gn.format,wi=Gn.type;if(!In.textureFormatReadable(xi))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!In.textureTypeReadable(wi))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Kt>=0&&Kt<=Et.width-ae&&oe>=0&&oe<=Et.height-Xt){nn.bindFramebuffer(Nt.FRAMEBUFFER,Un);const Nn=Nt.createBuffer();Nt.bindBuffer(Nt.PIXEL_PACK_BUFFER,Nn),Nt.bufferData(Nt.PIXEL_PACK_BUFFER,$e.byteLength,Nt.STREAM_READ),Nt.readPixels(Kt,oe,ae,Xt,Mi.convert(xi),Mi.convert(wi),0);const ns=Ut!==null?wn.get(Ut).__webglFramebuffer:null;nn.bindFramebuffer(Nt.FRAMEBUFFER,ns);const Xs=Nt.fenceSync(Nt.SYNC_GPU_COMMANDS_COMPLETE,0);return Nt.flush(),await r6(Nt,Xs,4),Nt.bindBuffer(Nt.PIXEL_PACK_BUFFER,Nn),Nt.getBufferSubData(Nt.PIXEL_PACK_BUFFER,0,$e),Nt.deleteBuffer(Nn),Nt.deleteSync(Xs),$e}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Et,Kt=null,oe=0){Et.isTexture!==!0&&(AA("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Kt=arguments[0]||null,Et=arguments[1]);const ae=Math.pow(2,-oe),Xt=Math.floor(Et.image.width*ae),$e=Math.floor(Et.image.height*ae),yn=Kt!==null?Kt.x:0,Un=Kt!==null?Kt.y:0;St.setTexture2D(Et,0),Nt.copyTexSubImage2D(Nt.TEXTURE_2D,oe,0,0,yn,Un,Xt,$e),nn.unbindTexture()},this.copyTextureToTexture=function(Et,Kt,oe=null,ae=null,Xt=0){Et.isTexture!==!0&&(AA("WebGLRenderer: copyTextureToTexture function signature has changed."),ae=arguments[0]||null,Et=arguments[1],Kt=arguments[2],Xt=arguments[3]||0,oe=null);let $e,yn,Un,Gn,xi,wi,Nn,ns,Xs;const Ds=Et.isCompressedTexture?Et.mipmaps[Xt]:Et.image;oe!==null?($e=oe.max.x-oe.min.x,yn=oe.max.y-oe.min.y,Un=oe.isBox3?oe.max.z-oe.min.z:1,Gn=oe.min.x,xi=oe.min.y,wi=oe.isBox3?oe.min.z:0):($e=Ds.width,yn=Ds.height,Un=Ds.depth||1,Gn=0,xi=0,wi=0),ae!==null?(Nn=ae.x,ns=ae.y,Xs=ae.z):(Nn=0,ns=0,Xs=0);const Ka=Mi.convert(Kt.format),Cs=Mi.convert(Kt.type);let Jn;Kt.isData3DTexture?(St.setTexture3D(Kt,0),Jn=Nt.TEXTURE_3D):Kt.isDataArrayTexture||Kt.isCompressedArrayTexture?(St.setTexture2DArray(Kt,0),Jn=Nt.TEXTURE_2D_ARRAY):(St.setTexture2D(Kt,0),Jn=Nt.TEXTURE_2D),Nt.pixelStorei(Nt.UNPACK_FLIP_Y_WEBGL,Kt.flipY),Nt.pixelStorei(Nt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Kt.premultiplyAlpha),Nt.pixelStorei(Nt.UNPACK_ALIGNMENT,Kt.unpackAlignment);const Oo=Nt.getParameter(Nt.UNPACK_ROW_LENGTH),us=Nt.getParameter(Nt.UNPACK_IMAGE_HEIGHT),Bh=Nt.getParameter(Nt.UNPACK_SKIP_PIXELS),Ly=Nt.getParameter(Nt.UNPACK_SKIP_ROWS),Ql=Nt.getParameter(Nt.UNPACK_SKIP_IMAGES);Nt.pixelStorei(Nt.UNPACK_ROW_LENGTH,Ds.width),Nt.pixelStorei(Nt.UNPACK_IMAGE_HEIGHT,Ds.height),Nt.pixelStorei(Nt.UNPACK_SKIP_PIXELS,Gn),Nt.pixelStorei(Nt.UNPACK_SKIP_ROWS,xi),Nt.pixelStorei(Nt.UNPACK_SKIP_IMAGES,wi);const Py=Et.isDataArrayTexture||Et.isData3DTexture,js=Kt.isDataArrayTexture||Kt.isData3DTexture;if(Et.isRenderTargetTexture||Et.isDepthTexture){const vh=wn.get(Et),tg=wn.get(Kt),zA=wn.get(vh.__renderTarget),Fd=wn.get(tg.__renderTarget);nn.bindFramebuffer(Nt.READ_FRAMEBUFFER,zA.__webglFramebuffer),nn.bindFramebuffer(Nt.DRAW_FRAMEBUFFER,Fd.__webglFramebuffer);for(let Ud=0;Ud<Un;Ud++)Py&&Nt.framebufferTextureLayer(Nt.READ_FRAMEBUFFER,Nt.COLOR_ATTACHMENT0,wn.get(Et).__webglTexture,Xt,wi+Ud),Et.isDepthTexture?(js&&Nt.framebufferTextureLayer(Nt.DRAW_FRAMEBUFFER,Nt.COLOR_ATTACHMENT0,wn.get(Kt).__webglTexture,Xt,Xs+Ud),Nt.blitFramebuffer(Gn,xi,$e,yn,Nn,ns,$e,yn,Nt.DEPTH_BUFFER_BIT,Nt.NEAREST)):js?Nt.copyTexSubImage3D(Jn,Xt,Nn,ns,Xs+Ud,Gn,xi,$e,yn):Nt.copyTexSubImage2D(Jn,Xt,Nn,ns,Xs+Ud,Gn,xi,$e,yn);nn.bindFramebuffer(Nt.READ_FRAMEBUFFER,null),nn.bindFramebuffer(Nt.DRAW_FRAMEBUFFER,null)}else js?Et.isDataTexture||Et.isData3DTexture?Nt.texSubImage3D(Jn,Xt,Nn,ns,Xs,$e,yn,Un,Ka,Cs,Ds.data):Kt.isCompressedArrayTexture?Nt.compressedTexSubImage3D(Jn,Xt,Nn,ns,Xs,$e,yn,Un,Ka,Ds.data):Nt.texSubImage3D(Jn,Xt,Nn,ns,Xs,$e,yn,Un,Ka,Cs,Ds):Et.isDataTexture?Nt.texSubImage2D(Nt.TEXTURE_2D,Xt,Nn,ns,$e,yn,Ka,Cs,Ds.data):Et.isCompressedTexture?Nt.compressedTexSubImage2D(Nt.TEXTURE_2D,Xt,Nn,ns,Ds.width,Ds.height,Ka,Ds.data):Nt.texSubImage2D(Nt.TEXTURE_2D,Xt,Nn,ns,$e,yn,Ka,Cs,Ds);Nt.pixelStorei(Nt.UNPACK_ROW_LENGTH,Oo),Nt.pixelStorei(Nt.UNPACK_IMAGE_HEIGHT,us),Nt.pixelStorei(Nt.UNPACK_SKIP_PIXELS,Bh),Nt.pixelStorei(Nt.UNPACK_SKIP_ROWS,Ly),Nt.pixelStorei(Nt.UNPACK_SKIP_IMAGES,Ql),Xt===0&&Kt.generateMipmaps&&Nt.generateMipmap(Jn),nn.unbindTexture()},this.copyTextureToTexture3D=function(Et,Kt,oe=null,ae=null,Xt=0){return Et.isTexture!==!0&&(AA("WebGLRenderer: copyTextureToTexture3D function signature has changed."),oe=arguments[0]||null,ae=arguments[1]||null,Et=arguments[2],Kt=arguments[3],Xt=arguments[4]||0),AA('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Et,Kt,oe,ae,Xt)},this.initRenderTarget=function(Et){wn.get(Et).__webglFramebuffer===void 0&&St.setupRenderTarget(Et)},this.initTexture=function(Et){Et.isCubeTexture?St.setTextureCube(Et,0):Et.isData3DTexture?St.setTexture3D(Et,0):Et.isDataArrayTexture||Et.isCompressedArrayTexture?St.setTexture2DArray(Et,0):St.setTexture2D(Et,0),nn.unbindTexture()},this.resetState=function(){Tt=0,Qt=0,Ut=null,nn.reset(),Ks.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return uh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(i){this._outputColorSpace=i;const a=this.getContext();a.drawingBufferColorspace=Ui._getDrawingBufferColorSpace(i),a.unpackColorSpace=Ui._getUnpackColorSpace()}}class rI{constructor(i,a=25e-5){this.isFogExp2=!0,this.name="",this.color=new gn(i),this.density=a}clone(){return new rI(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class q3{constructor(i,a=1,u=1e3){this.isFog=!0,this.name="",this.color=new gn(i),this.near=a,this.far=u}clone(){return new q3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class $4 extends os{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cA,this.environmentIntensity=1,this.environmentRotation=new cA,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(i,a){return super.copy(i,a),i.background!==null&&(this.background=i.background.clone()),i.environment!==null&&(this.environment=i.environment.clone()),i.fog!==null&&(this.fog=i.fog.clone()),this.backgroundBlurriness=i.backgroundBlurriness,this.backgroundIntensity=i.backgroundIntensity,this.backgroundRotation.copy(i.backgroundRotation),this.environmentIntensity=i.environmentIntensity,this.environmentRotation.copy(i.environmentRotation),i.overrideMaterial!==null&&(this.overrideMaterial=i.overrideMaterial.clone()),this.matrixAutoUpdate=i.matrixAutoUpdate,this}toJSON(i){const a=super.toJSON(i);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(a.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(a.object.backgroundIntensity=this.backgroundIntensity),a.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(a.object.environmentIntensity=this.environmentIntensity),a.object.environmentRotation=this.environmentRotation.toArray(),a}}class $3{constructor(i,a){this.isInterleavedBuffer=!0,this.array=i,this.stride=a,this.count=i!==void 0?i.length/a:0,this.usage=ME,this.updateRanges=[],this.version=0,this.uuid=UA()}onUploadCallback(){}set needsUpdate(i){i===!0&&this.version++}setUsage(i){return this.usage=i,this}addUpdateRange(i,a){this.updateRanges.push({start:i,count:a})}clearUpdateRanges(){this.updateRanges.length=0}copy(i){return this.array=new i.array.constructor(i.array),this.count=i.count,this.stride=i.stride,this.usage=i.usage,this}copyAt(i,a,u){i*=this.stride,u*=a.stride;for(let d=0,E=this.stride;d<E;d++)this.array[i+d]=a.array[u+d];return this}set(i,a=0){return this.array.set(i,a),this}clone(i){i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=UA()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const a=new this.array.constructor(i.arrayBuffers[this.array.buffer._uuid]),u=new this.constructor(a,this.stride);return u.setUsage(this.usage),u}onUpload(i){return this.onUploadCallback=i,this}toJSON(i){return i.arrayBuffers===void 0&&(i.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=UA()),i.arrayBuffers[this.array.buffer._uuid]===void 0&&(i.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Tl=new Dt;class Gp{constructor(i,a,u,d=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=i,this.itemSize=a,this.offset=u,this.normalized=d}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(i){this.data.needsUpdate=i}applyMatrix4(i){for(let a=0,u=this.data.count;a<u;a++)Tl.fromBufferAttribute(this,a),Tl.applyMatrix4(i),this.setXYZ(a,Tl.x,Tl.y,Tl.z);return this}applyNormalMatrix(i){for(let a=0,u=this.count;a<u;a++)Tl.fromBufferAttribute(this,a),Tl.applyNormalMatrix(i),this.setXYZ(a,Tl.x,Tl.y,Tl.z);return this}transformDirection(i){for(let a=0,u=this.count;a<u;a++)Tl.fromBufferAttribute(this,a),Tl.transformDirection(i),this.setXYZ(a,Tl.x,Tl.y,Tl.z);return this}getComponent(i,a){let u=this.array[i*this.data.stride+this.offset+a];return this.normalized&&(u=Bl(u,this.array)),u}setComponent(i,a,u){return this.normalized&&(u=vi(u,this.array)),this.data.array[i*this.data.stride+this.offset+a]=u,this}setX(i,a){return this.normalized&&(a=vi(a,this.array)),this.data.array[i*this.data.stride+this.offset]=a,this}setY(i,a){return this.normalized&&(a=vi(a,this.array)),this.data.array[i*this.data.stride+this.offset+1]=a,this}setZ(i,a){return this.normalized&&(a=vi(a,this.array)),this.data.array[i*this.data.stride+this.offset+2]=a,this}setW(i,a){return this.normalized&&(a=vi(a,this.array)),this.data.array[i*this.data.stride+this.offset+3]=a,this}getX(i){let a=this.data.array[i*this.data.stride+this.offset];return this.normalized&&(a=Bl(a,this.array)),a}getY(i){let a=this.data.array[i*this.data.stride+this.offset+1];return this.normalized&&(a=Bl(a,this.array)),a}getZ(i){let a=this.data.array[i*this.data.stride+this.offset+2];return this.normalized&&(a=Bl(a,this.array)),a}getW(i){let a=this.data.array[i*this.data.stride+this.offset+3];return this.normalized&&(a=Bl(a,this.array)),a}setXY(i,a,u){return i=i*this.data.stride+this.offset,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array)),this.data.array[i+0]=a,this.data.array[i+1]=u,this}setXYZ(i,a,u,d){return i=i*this.data.stride+this.offset,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array)),this.data.array[i+0]=a,this.data.array[i+1]=u,this.data.array[i+2]=d,this}setXYZW(i,a,u,d,E){return i=i*this.data.stride+this.offset,this.normalized&&(a=vi(a,this.array),u=vi(u,this.array),d=vi(d,this.array),E=vi(E,this.array)),this.data.array[i+0]=a,this.data.array[i+1]=u,this.data.array[i+2]=d,this.data.array[i+3]=E,this}clone(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let u=0;u<this.count;u++){const d=u*this.data.stride+this.offset;for(let E=0;E<this.itemSize;E++)a.push(this.data.array[d+E])}return new Bs(new this.array.constructor(a),this.itemSize,this.normalized)}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.clone(i)),new Gp(i.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(i){if(i===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const a=[];for(let u=0;u<this.count;u++){const d=u*this.data.stride+this.offset;for(let E=0;E<this.itemSize;E++)a.push(this.data.array[d+E])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:a,normalized:this.normalized}}else return i.interleavedBuffers===void 0&&(i.interleavedBuffers={}),i.interleavedBuffers[this.data.uuid]===void 0&&(i.interleavedBuffers[this.data.uuid]=this.data.toJSON(i)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class e2 extends la{static get type(){return"SpriteMaterial"}constructor(i){super(),this.isSpriteMaterial=!0,this.color=new gn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this.fog=i.fog,this}}let ay;const ly=new Dt,bd=new Dt,Ay=new Dt,Op=new Le,cy=new Le,n2=new ui,oI=new Dt,hy=new Dt,aI=new Dt,i2=new Le,t_=new Le,fA=new Le;class tD extends os{constructor(i=new e2){if(super(),this.isSprite=!0,this.type="Sprite",ay===void 0){ay=new Ri;const a=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),u=new $3(a,5);ay.setIndex([0,1,2,0,2,3]),ay.setAttribute("position",new Gp(u,3,0,!1)),ay.setAttribute("uv",new Gp(u,2,3,!1))}this.geometry=ay,this.material=i,this.center=new Le(.5,.5)}raycast(i,a){i.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bd.setFromMatrixScale(this.matrixWorld),n2.copy(i.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(i.camera.matrixWorldInverse,this.matrixWorld),Ay.setFromMatrixPosition(this.modelViewMatrix),i.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bd.multiplyScalar(-Ay.z);const u=this.material.rotation;let d,E;u!==0&&(E=Math.cos(u),d=Math.sin(u));const B=this.center;uy(oI.set(-.5,-.5,0),Ay,B,bd,d,E),uy(hy.set(.5,-.5,0),Ay,B,bd,d,E),uy(aI.set(.5,.5,0),Ay,B,bd,d,E),i2.set(0,0),t_.set(1,0),fA.set(1,1);let M=i.ray.intersectTriangle(oI,hy,aI,!1,ly);if(M===null&&(uy(hy.set(-.5,.5,0),Ay,B,bd,d,E),t_.set(0,1),M=i.ray.intersectTriangle(oI,aI,hy,!1,ly),M===null))return;const Q=i.ray.origin.distanceTo(ly);Q<i.near||Q>i.far||a.push({distance:Q,point:ly.clone(),uv:hA.getInterpolation(ly,oI,hy,aI,i2,t_,fA,new Le),face:null,object:this})}copy(i,a){return super.copy(i,a),i.center!==void 0&&this.center.copy(i.center),this.material=i.material,this}}function uy(C,i,a,u,d,E){Op.subVectors(C,a).addScalar(.5).multiply(u),d!==void 0?(cy.x=E*Op.x-d*Op.y,cy.y=d*Op.x+E*Op.y):cy.copy(Op),C.copy(i),C.x+=cy.x,C.y+=cy.y,C.applyMatrix4(n2)}const e_=new Dt,s2=new Dt;class eD extends os{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(i){super.copy(i,!1);const a=i.levels;for(let u=0,d=a.length;u<d;u++){const E=a[u];this.addLevel(E.object.clone(),E.distance,E.hysteresis)}return this.autoUpdate=i.autoUpdate,this}addLevel(i,a=0,u=0){a=Math.abs(a);const d=this.levels;let E;for(E=0;E<d.length&&!(a<d[E].distance);E++);return d.splice(E,0,{distance:a,hysteresis:u,object:i}),this.add(i),this}removeLevel(i){const a=this.levels;for(let u=0;u<a.length;u++)if(a[u].distance===i){const d=a.splice(u,1);return this.remove(d[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(i){const a=this.levels;if(a.length>0){let u,d;for(u=1,d=a.length;u<d;u++){let E=a[u].distance;if(a[u].object.visible&&(E-=E*a[u].hysteresis),i<E)break}return a[u-1].object}return null}raycast(i,a){if(this.levels.length>0){e_.setFromMatrixPosition(this.matrixWorld);const d=i.ray.origin.distanceTo(e_);this.getObjectForDistance(d).raycast(i,a)}}update(i){const a=this.levels;if(a.length>1){e_.setFromMatrixPosition(i.matrixWorld),s2.setFromMatrixPosition(this.matrixWorld);const u=e_.distanceTo(s2)/i.zoom;a[0].object.visible=!0;let d,E;for(d=1,E=a.length;d<E;d++){let B=a[d].distance;if(a[d].object.visible&&(B-=B*a[d].hysteresis),u>=B)a[d-1].object.visible=!1,a[d].object.visible=!0;else break}for(this._currentLevel=d-1;d<E;d++)a[d].object.visible=!1}}toJSON(i){const a=super.toJSON(i);this.autoUpdate===!1&&(a.object.autoUpdate=!1),a.object.levels=[];const u=this.levels;for(let d=0,E=u.length;d<E;d++){const B=u[d];a.object.levels.push({object:B.object.uuid,distance:B.distance,hysteresis:B.hysteresis})}return a}}const r2=new Dt,o2=new qi,nD=new qi,dy=new Dt,a2=new ui,n_=new Dt,l2=new Lo,iD=new ui,lI=new Gm;class i_ extends go{constructor(i,a){super(i,a),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Bv,this.bindMatrix=new ui,this.bindMatrixInverse=new ui,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const i=this.geometry;this.boundingBox===null&&(this.boundingBox=new ba),this.boundingBox.makeEmpty();const a=i.getAttribute("position");for(let u=0;u<a.count;u++)this.getVertexPosition(u,n_),this.boundingBox.expandByPoint(n_)}computeBoundingSphere(){const i=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Lo),this.boundingSphere.makeEmpty();const a=i.getAttribute("position");for(let u=0;u<a.count;u++)this.getVertexPosition(u,n_),this.boundingSphere.expandByPoint(n_)}copy(i,a){return super.copy(i,a),this.bindMode=i.bindMode,this.bindMatrix.copy(i.bindMatrix),this.bindMatrixInverse.copy(i.bindMatrixInverse),this.skeleton=i.skeleton,i.boundingBox!==null&&(this.boundingBox=i.boundingBox.clone()),i.boundingSphere!==null&&(this.boundingSphere=i.boundingSphere.clone()),this}raycast(i,a){const u=this.material,d=this.matrixWorld;u!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l2.copy(this.boundingSphere),l2.applyMatrix4(d),i.ray.intersectsSphere(l2)!==!1&&(iD.copy(d).invert(),lI.copy(i.ray).applyMatrix4(iD),!(this.boundingBox!==null&&lI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(i,a,lI)))}getVertexPosition(i,a){return super.getVertexPosition(i,a),this.applyBoneTransform(i,a),a}bind(i,a){this.skeleton=i,a===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),a=this.matrixWorld),this.bindMatrix.copy(a),this.bindMatrixInverse.copy(a).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const i=new qi,a=this.geometry.attributes.skinWeight;for(let u=0,d=a.count;u<d;u++){i.fromBufferAttribute(a,u);const E=1/i.manhattanLength();E!==1/0?i.multiplyScalar(E):i.set(1,0,0,0),a.setXYZW(u,i.x,i.y,i.z,i.w)}}updateMatrixWorld(i){super.updateMatrixWorld(i),this.bindMode===Bv?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===OT?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(i,a){const u=this.skeleton,d=this.geometry;o2.fromBufferAttribute(d.attributes.skinIndex,i),nD.fromBufferAttribute(d.attributes.skinWeight,i),r2.copy(a).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let E=0;E<4;E++){const B=nD.getComponent(E);if(B!==0){const M=o2.getComponent(E);a2.multiplyMatrices(u.bones[M].matrixWorld,u.boneInverses[M]),a.addScaledVector(dy.copy(r2).applyMatrix4(a2),B)}}return a.applyMatrix4(this.bindMatrixInverse)}}class s_ extends os{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Cu extends Dr{constructor(i=null,a=1,u=1,d,E,B,M,Q,P=va,O=va,H,z){super(null,B,M,Q,P,O,d,E,H,z),this.isDataTexture=!0,this.image={data:i,width:a,height:u},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const sD=new ui,y9=new ui;class r_{constructor(i=[],a=[]){this.uuid=UA(),this.bones=i.slice(0),this.boneInverses=a,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const i=this.bones,a=this.boneInverses;if(this.boneMatrices=new Float32Array(i.length*16),a.length===0)this.calculateInverses();else if(i.length!==a.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let u=0,d=this.bones.length;u<d;u++)this.boneInverses.push(new ui)}}calculateInverses(){this.boneInverses.length=0;for(let i=0,a=this.bones.length;i<a;i++){const u=new ui;this.bones[i]&&u.copy(this.bones[i].matrixWorld).invert(),this.boneInverses.push(u)}}pose(){for(let i=0,a=this.bones.length;i<a;i++){const u=this.bones[i];u&&u.matrixWorld.copy(this.boneInverses[i]).invert()}for(let i=0,a=this.bones.length;i<a;i++){const u=this.bones[i];u&&(u.parent&&u.parent.isBone?(u.matrix.copy(u.parent.matrixWorld).invert(),u.matrix.multiply(u.matrixWorld)):u.matrix.copy(u.matrixWorld),u.matrix.decompose(u.position,u.quaternion,u.scale))}}update(){const i=this.bones,a=this.boneInverses,u=this.boneMatrices,d=this.boneTexture;for(let E=0,B=i.length;E<B;E++){const M=i[E]?i[E].matrixWorld:y9;sD.multiplyMatrices(M,a[E]),sD.toArray(u,E*16)}d!==null&&(d.needsUpdate=!0)}clone(){return new r_(this.bones,this.boneInverses)}computeBoneTexture(){let i=Math.sqrt(this.bones.length*4);i=Math.ceil(i/4)*4,i=Math.max(i,4);const a=new Float32Array(i*i*4);a.set(this.boneMatrices);const u=new Cu(a,i,i,to,aA);return u.needsUpdate=!0,this.boneMatrices=a,this.boneTexture=u,this}getBoneByName(i){for(let a=0,u=this.bones.length;a<u;a++){const d=this.bones[a];if(d.name===i)return d}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(i,a){this.uuid=i.uuid;for(let u=0,d=i.bones.length;u<d;u++){const E=i.bones[u];let B=a[E];B===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",E),B=new s_),this.bones.push(B),this.boneInverses.push(new ui().fromArray(i.boneInverses[u]))}return this.init(),this}toJSON(){const i={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};i.uuid=this.uuid;const a=this.bones,u=this.boneInverses;for(let d=0,E=a.length;d<E;d++){const B=a[d];i.bones.push(B.uuid);const M=u[d];i.boneInverses.push(M.toArray())}return i}}class fy extends Bs{constructor(i,a,u,d=1){super(i,a,u),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=d}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}toJSON(){const i=super.toJSON();return i.meshPerAttribute=this.meshPerAttribute,i.isInstancedBufferAttribute=!0,i}}const py=new ui,rD=new ui,gy=[],AI=new ba,x9=new ui,cI=new go,hI=new Lo;class Vp extends go{constructor(i,a,u){super(i,a),this.isInstancedMesh=!0,this.instanceMatrix=new fy(new Float32Array(u*16),16),this.instanceColor=null,this.morphTexture=null,this.count=u,this.boundingBox=null,this.boundingSphere=null;for(let d=0;d<u;d++)this.setMatrixAt(d,x9)}computeBoundingBox(){const i=this.geometry,a=this.count;this.boundingBox===null&&(this.boundingBox=new ba),i.boundingBox===null&&i.computeBoundingBox(),this.boundingBox.makeEmpty();for(let u=0;u<a;u++)this.getMatrixAt(u,py),AI.copy(i.boundingBox).applyMatrix4(py),this.boundingBox.union(AI)}computeBoundingSphere(){const i=this.geometry,a=this.count;this.boundingSphere===null&&(this.boundingSphere=new Lo),i.boundingSphere===null&&i.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let u=0;u<a;u++)this.getMatrixAt(u,py),hI.copy(i.boundingSphere).applyMatrix4(py),this.boundingSphere.union(hI)}copy(i,a){return super.copy(i,a),this.instanceMatrix.copy(i.instanceMatrix),i.morphTexture!==null&&(this.morphTexture=i.morphTexture.clone()),i.instanceColor!==null&&(this.instanceColor=i.instanceColor.clone()),this.count=i.count,i.boundingBox!==null&&(this.boundingBox=i.boundingBox.clone()),i.boundingSphere!==null&&(this.boundingSphere=i.boundingSphere.clone()),this}getColorAt(i,a){a.fromArray(this.instanceColor.array,i*3)}getMatrixAt(i,a){a.fromArray(this.instanceMatrix.array,i*16)}getMorphAt(i,a){const u=a.morphTargetInfluences,d=this.morphTexture.source.data.data,E=u.length+1,B=i*E+1;for(let M=0;M<u.length;M++)u[M]=d[B+M]}raycast(i,a){const u=this.matrixWorld,d=this.count;if(cI.geometry=this.geometry,cI.material=this.material,cI.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hI.copy(this.boundingSphere),hI.applyMatrix4(u),i.ray.intersectsSphere(hI)!==!1))for(let E=0;E<d;E++){this.getMatrixAt(E,py),rD.multiplyMatrices(u,py),cI.matrixWorld=rD,cI.raycast(i,gy);for(let B=0,M=gy.length;B<M;B++){const Q=gy[B];Q.instanceId=E,Q.object=this,a.push(Q)}gy.length=0}}setColorAt(i,a){this.instanceColor===null&&(this.instanceColor=new fy(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),a.toArray(this.instanceColor.array,i*3)}setMatrixAt(i,a){a.toArray(this.instanceMatrix.array,i*16)}setMorphAt(i,a){const u=a.morphTargetInfluences,d=u.length+1;this.morphTexture===null&&(this.morphTexture=new Cu(new Float32Array(d*this.count),d,this.count,Uw,aA));const E=this.morphTexture.source.data.data;let B=0;for(let P=0;P<u.length;P++)B+=u[P];const M=this.geometry.morphTargetsRelative?1:1-B,Q=d*i;E[Q]=M,E.set(u,Q+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function oD(C,i){return C-i}function C9(C,i){return C.z-i.z}function o_(C,i){return i.z-C.z}class qG{constructor(){this.index=0,this.pool=[],this.list=[]}push(i,a,u,d){const E=this.pool,B=this.list;this.index>=E.length&&E.push({start:-1,count:-1,z:-1,index:-1});const M=E[this.index];B.push(M),this.index++,M.start=i,M.count=a,M.z=u,M.index=d}reset(){this.list.length=0,this.index=0}}const pA=new ui,aD=new gn(1,1,1),Eu=new qm,a_=new ba,Hp=new Lo,uI=new Dt,A2=new Dt,E9=new Dt,dI=new qG,Ja=new go,zp=[];function I9(C,i,a=0){const u=i.itemSize;if(C.isInterleavedBufferAttribute||C.array.constructor!==i.array.constructor){const d=C.count;for(let E=0;E<d;E++)for(let B=0;B<u;B++)i.setComponent(E+a,B,C.getComponent(E,B))}else i.array.set(C.array,a*u);i.needsUpdate=!0}function Wp(C,i){if(C.constructor!==i.constructor){const a=Math.min(C.length,i.length);for(let u=0;u<a;u++)i[u]=C[u]}else{const a=Math.min(C.length,i.length);i.set(new C.constructor(C.buffer,0,a))}}class lD extends go{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(i,a,u=a*2,d){super(new Ri,d),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=i,this._maxVertexCount=a,this._maxIndexCount=u,this._multiDrawCounts=new Int32Array(i),this._multiDrawStarts=new Int32Array(i),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let i=Math.sqrt(this._maxInstanceCount*4);i=Math.ceil(i/4)*4,i=Math.max(i,4);const a=new Float32Array(i*i*4),u=new Cu(a,i,i,to,aA);this._matricesTexture=u}_initIndirectTexture(){let i=Math.sqrt(this._maxInstanceCount);i=Math.ceil(i);const a=new Uint32Array(i*i),u=new Cu(a,i,i,yp,su);this._indirectTexture=u}_initColorsTexture(){let i=Math.sqrt(this._maxInstanceCount);i=Math.ceil(i);const a=new Float32Array(i*i*4).fill(1),u=new Cu(a,i,i,to,aA);u.colorSpace=Ui.workingColorSpace,this._colorsTexture=u}_initializeGeometry(i){const a=this.geometry,u=this._maxVertexCount,d=this._maxIndexCount;if(this._geometryInitialized===!1){for(const E in i.attributes){const B=i.getAttribute(E),{array:M,itemSize:Q,normalized:P}=B,O=new M.constructor(u*Q),H=new Bs(O,Q,P);a.setAttribute(E,H)}if(i.getIndex()!==null){const E=u>65535?new Uint32Array(d):new Uint16Array(d);a.setIndex(new Bs(E,1))}this._geometryInitialized=!0}}_validateGeometry(i){const a=this.geometry;if(!!i.getIndex()!=!!a.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const u in a.attributes){if(!i.hasAttribute(u))throw new Error(`BatchedMesh: Added geometry missing "${u}". All geometries must have consistent attributes.`);const d=i.getAttribute(u),E=a.getAttribute(u);if(d.itemSize!==E.itemSize||d.normalized!==E.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(i){return this.customSort=i,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ba);const i=this.boundingBox,a=this._instanceInfo;i.makeEmpty();for(let u=0,d=a.length;u<d;u++){if(a[u].active===!1)continue;const E=a[u].geometryIndex;this.getMatrixAt(u,pA),this.getBoundingBoxAt(E,a_).applyMatrix4(pA),i.union(a_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lo);const i=this.boundingSphere,a=this._instanceInfo;i.makeEmpty();for(let u=0,d=a.length;u<d;u++){if(a[u].active===!1)continue;const E=a[u].geometryIndex;this.getMatrixAt(u,pA),this.getBoundingSphereAt(E,Hp).applyMatrix4(pA),i.union(Hp)}}addInstance(i){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const u={visible:!0,active:!0,geometryIndex:i};let d=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(oD),d=this._availableInstanceIds.shift(),this._instanceInfo[d]=u):(d=this._instanceInfo.length,this._instanceInfo.push(u));const E=this._matricesTexture;pA.identity().toArray(E.image.data,d*16),E.needsUpdate=!0;const B=this._colorsTexture;return B&&(aD.toArray(B.image.data,d*4),B.needsUpdate=!0),this._visibilityChanged=!0,d}addGeometry(i,a=-1,u=-1){this._initializeGeometry(i),this._validateGeometry(i);const d={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},E=this._geometryInfo;d.vertexStart=this._nextVertexStart,d.reservedVertexCount=a===-1?i.getAttribute("position").count:a;const B=i.getIndex();if(B!==null&&(d.indexStart=this._nextIndexStart,d.reservedIndexCount=u===-1?B.count:u),d.indexStart!==-1&&d.indexStart+d.reservedIndexCount>this._maxIndexCount||d.vertexStart+d.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let Q;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(oD),Q=this._availableGeometryIds.shift(),E[Q]=d):(Q=this._geometryCount,this._geometryCount++,E.push(d)),this.setGeometryAt(Q,i),this._nextIndexStart=d.indexStart+d.reservedIndexCount,this._nextVertexStart=d.vertexStart+d.reservedVertexCount,Q}setGeometryAt(i,a){if(i>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(a);const u=this.geometry,d=u.getIndex()!==null,E=u.getIndex(),B=a.getIndex(),M=this._geometryInfo[i];if(d&&B.count>M.reservedIndexCount||a.attributes.position.count>M.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const Q=M.vertexStart,P=M.reservedVertexCount;M.vertexCount=a.getAttribute("position").count;for(const O in u.attributes){const H=a.getAttribute(O),z=u.getAttribute(O);I9(H,z,Q);const J=H.itemSize;for(let j=H.count,nt=P;j<nt;j++){const q=Q+j;for(let Z=0;Z<J;Z++)z.setComponent(q,Z,0)}z.needsUpdate=!0,z.addUpdateRange(Q*J,P*J)}if(d){const O=M.indexStart,H=M.reservedIndexCount;M.indexCount=a.getIndex().count;for(let z=0;z<B.count;z++)E.setX(O+z,Q+B.getX(z));for(let z=B.count,J=H;z<J;z++)E.setX(O+z,Q);E.needsUpdate=!0,E.addUpdateRange(O,M.reservedIndexCount)}return M.start=d?M.indexStart:M.vertexStart,M.count=d?M.indexCount:M.vertexCount,M.boundingBox=null,a.boundingBox!==null&&(M.boundingBox=a.boundingBox.clone()),M.boundingSphere=null,a.boundingSphere!==null&&(M.boundingSphere=a.boundingSphere.clone()),this._visibilityChanged=!0,i}deleteGeometry(i){const a=this._geometryInfo;if(i>=a.length||a[i].active===!1)return this;const u=this._instanceInfo;for(let d=0,E=u.length;d<E;d++)u[d].geometryIndex===i&&this.deleteInstance(d);return a[i].active=!1,this._availableGeometryIds.push(i),this._visibilityChanged=!0,this}deleteInstance(i){const a=this._instanceInfo;return i>=a.length||a[i].active===!1?this:(a[i].active=!1,this._availableInstanceIds.push(i),this._visibilityChanged=!0,this)}optimize(){let i=0,a=0;const u=this._geometryInfo,d=u.map((B,M)=>M).sort((B,M)=>u[B].vertexStart-u[M].vertexStart),E=this.geometry;for(let B=0,M=u.length;B<M;B++){const Q=d[B],P=u[Q];if(P.active!==!1){if(E.index!==null){if(P.indexStart!==a){const{indexStart:O,vertexStart:H,reservedIndexCount:z}=P,J=E.index,j=J.array,nt=i-H;for(let q=O;q<O+z;q++)j[q]=j[q]+nt;J.array.copyWithin(a,O,O+z),J.addUpdateRange(a,z),P.indexStart=a}a+=P.reservedIndexCount}if(P.vertexStart!==i){const{vertexStart:O,reservedVertexCount:H}=P,z=E.attributes;for(const J in z){const j=z[J],{array:nt,itemSize:q}=j;nt.copyWithin(i*q,O*q,(O+H)*q),j.addUpdateRange(i*q,H*q)}P.vertexStart=i}i+=P.reservedVertexCount,P.start=E.index?P.indexStart:P.vertexStart,this._nextIndexStart=E.index?P.indexStart+P.reservedIndexCount:0,this._nextVertexStart=P.vertexStart+P.reservedVertexCount}}return this}getBoundingBoxAt(i,a){if(i>=this._geometryCount)return null;const u=this.geometry,d=this._geometryInfo[i];if(d.boundingBox===null){const E=new ba,B=u.index,M=u.attributes.position;for(let Q=d.start,P=d.start+d.count;Q<P;Q++){let O=Q;B&&(O=B.getX(O)),E.expandByPoint(uI.fromBufferAttribute(M,O))}d.boundingBox=E}return a.copy(d.boundingBox),a}getBoundingSphereAt(i,a){if(i>=this._geometryCount)return null;const u=this.geometry,d=this._geometryInfo[i];if(d.boundingSphere===null){const E=new Lo;this.getBoundingBoxAt(i,a_),a_.getCenter(E.center);const B=u.index,M=u.attributes.position;let Q=0;for(let P=d.start,O=d.start+d.count;P<O;P++){let H=P;B&&(H=B.getX(H)),uI.fromBufferAttribute(M,H),Q=Math.max(Q,E.center.distanceToSquared(uI))}E.radius=Math.sqrt(Q),d.boundingSphere=E}return a.copy(d.boundingSphere),a}setMatrixAt(i,a){const u=this._instanceInfo,d=this._matricesTexture,E=this._matricesTexture.image.data;return i>=u.length||u[i].active===!1?this:(a.toArray(E,i*16),d.needsUpdate=!0,this)}getMatrixAt(i,a){const u=this._instanceInfo,d=this._matricesTexture.image.data;return i>=u.length||u[i].active===!1?null:a.fromArray(d,i*16)}setColorAt(i,a){this._colorsTexture===null&&this._initColorsTexture();const u=this._colorsTexture,d=this._colorsTexture.image.data,E=this._instanceInfo;return i>=E.length||E[i].active===!1?this:(a.toArray(d,i*4),u.needsUpdate=!0,this)}getColorAt(i,a){const u=this._colorsTexture.image.data,d=this._instanceInfo;return i>=d.length||d[i].active===!1?null:a.fromArray(u,i*4)}setVisibleAt(i,a){const u=this._instanceInfo;return i>=u.length||u[i].active===!1||u[i].visible===a?this:(u[i].visible=a,this._visibilityChanged=!0,this)}getVisibleAt(i){const a=this._instanceInfo;return i>=a.length||a[i].active===!1?!1:a[i].visible}setGeometryIdAt(i,a){const u=this._instanceInfo,d=this._geometryInfo;return i>=u.length||u[i].active===!1||a>=d.length||d[a].active===!1?null:(u[i].geometryIndex=a,this)}getGeometryIdAt(i){const a=this._instanceInfo;return i>=a.length||a[i].active===!1?-1:a[i].geometryIndex}getGeometryRangeAt(i,a={}){if(i<0||i>=this._geometryCount)return null;const u=this._geometryInfo[i];return a.vertexStart=u.vertexStart,a.vertexCount=u.vertexCount,a.reservedVertexCount=u.reservedVertexCount,a.indexStart=u.indexStart,a.indexCount=u.indexCount,a.reservedIndexCount=u.reservedIndexCount,a.start=u.start,a.count=u.count,a}setInstanceCount(i){const a=this._availableInstanceIds,u=this._instanceInfo;for(a.sort(oD);a[a.length-1]===u.length;)u.pop(),a.pop();if(i<u.length)throw new Error(`BatchedMesh: Instance ids outside the range ${i} are being used. Cannot shrink instance count.`);const d=new Int32Array(i),E=new Int32Array(i);Wp(this._multiDrawCounts,d),Wp(this._multiDrawStarts,E),this._multiDrawCounts=d,this._multiDrawStarts=E,this._maxInstanceCount=i;const B=this._indirectTexture,M=this._matricesTexture,Q=this._colorsTexture;B.dispose(),this._initIndirectTexture(),Wp(B.image.data,this._indirectTexture.image.data),M.dispose(),this._initMatricesTexture(),Wp(M.image.data,this._matricesTexture.image.data),Q&&(Q.dispose(),this._initColorsTexture(),Wp(Q.image.data,this._colorsTexture.image.data))}setGeometrySize(i,a){const u=[...this._geometryInfo].filter(M=>M.active);if(Math.max(...u.map(M=>M.vertexStart+M.reservedVertexCount))>i)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${a}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...u.map(Q=>Q.indexStart+Q.reservedIndexCount))>a)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${a}. Cannot shrink further.`);const E=this.geometry;E.dispose(),this._maxVertexCount=i,this._maxIndexCount=a,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ri,this._initializeGeometry(E));const B=this.geometry;E.index&&Wp(E.index.array,B.index.array);for(const M in E.attributes)Wp(E.attributes[M].array,B.attributes[M].array)}raycast(i,a){const u=this._instanceInfo,d=this._geometryInfo,E=this.matrixWorld,B=this.geometry;Ja.material=this.material,Ja.geometry.index=B.index,Ja.geometry.attributes=B.attributes,Ja.geometry.boundingBox===null&&(Ja.geometry.boundingBox=new ba),Ja.geometry.boundingSphere===null&&(Ja.geometry.boundingSphere=new Lo);for(let M=0,Q=u.length;M<Q;M++){if(!u[M].visible||!u[M].active)continue;const P=u[M].geometryIndex,O=d[P];Ja.geometry.setDrawRange(O.start,O.count),this.getMatrixAt(M,Ja.matrixWorld).premultiply(E),this.getBoundingBoxAt(P,Ja.geometry.boundingBox),this.getBoundingSphereAt(P,Ja.geometry.boundingSphere),Ja.raycast(i,zp);for(let H=0,z=zp.length;H<z;H++){const J=zp[H];J.object=this,J.batchId=M,a.push(J)}zp.length=0}Ja.material=null,Ja.geometry.index=null,Ja.geometry.attributes={},Ja.geometry.setDrawRange(0,1/0)}copy(i){return super.copy(i),this.geometry=i.geometry.clone(),this.perObjectFrustumCulled=i.perObjectFrustumCulled,this.sortObjects=i.sortObjects,this.boundingBox=i.boundingBox!==null?i.boundingBox.clone():null,this.boundingSphere=i.boundingSphere!==null?i.boundingSphere.clone():null,this._geometryInfo=i._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox!==null?a.boundingBox.clone():null,boundingSphere:a.boundingSphere!==null?a.boundingSphere.clone():null})),this._instanceInfo=i._instanceInfo.map(a=>({...a})),this._maxInstanceCount=i._maxInstanceCount,this._maxVertexCount=i._maxVertexCount,this._maxIndexCount=i._maxIndexCount,this._geometryInitialized=i._geometryInitialized,this._geometryCount=i._geometryCount,this._multiDrawCounts=i._multiDrawCounts.slice(),this._multiDrawStarts=i._multiDrawStarts.slice(),this._matricesTexture=i._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=i._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(i,a,u,d,E){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const B=d.getIndex(),M=B===null?1:B.array.BYTES_PER_ELEMENT,Q=this._instanceInfo,P=this._multiDrawStarts,O=this._multiDrawCounts,H=this._geometryInfo,z=this.perObjectFrustumCulled,J=this._indirectTexture,j=J.image.data;z&&(pA.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse).multiply(this.matrixWorld),Eu.setFromProjectionMatrix(pA,i.coordinateSystem));let nt=0;if(this.sortObjects){pA.copy(this.matrixWorld).invert(),uI.setFromMatrixPosition(u.matrixWorld).applyMatrix4(pA),A2.set(0,0,-1).transformDirection(u.matrixWorld).transformDirection(pA);for(let ut=0,ct=Q.length;ut<ct;ut++)if(Q[ut].visible&&Q[ut].active){const lt=Q[ut].geometryIndex;this.getMatrixAt(ut,pA),this.getBoundingSphereAt(lt,Hp).applyMatrix4(pA);let Vt=!1;if(z&&(Vt=!Eu.intersectsSphere(Hp)),!Vt){const Tt=H[lt],Qt=E9.subVectors(Hp.center,uI).dot(A2);dI.push(Tt.start,Tt.count,Qt,ut)}}const q=dI.list,Z=this.customSort;Z===null?q.sort(E.transparent?o_:C9):Z.call(this,q,u);for(let ut=0,ct=q.length;ut<ct;ut++){const lt=q[ut];P[nt]=lt.start*M,O[nt]=lt.count,j[nt]=lt.index,nt++}dI.reset()}else for(let q=0,Z=Q.length;q<Z;q++)if(Q[q].visible&&Q[q].active){const ut=Q[q].geometryIndex;let ct=!1;if(z&&(this.getMatrixAt(q,pA),this.getBoundingSphereAt(ut,Hp).applyMatrix4(pA),ct=!Eu.intersectsSphere(Hp)),!ct){const lt=H[ut];P[nt]=lt.start*M,O[nt]=lt.count,j[nt]=q,nt++}}J.needsUpdate=!0,this._multiDrawCount=nt,this._visibilityChanged=!1}onBeforeShadow(i,a,u,d,E,B){this.onBeforeRender(i,null,d,E,B)}}class Go extends la{static get type(){return"LineBasicMaterial"}constructor(i){super(),this.isLineBasicMaterial=!0,this.color=new gn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this.fog=i.fog,this}}const l_=new Dt,A_=new Dt,Hf=new ui,c_=new Gm,h_=new Lo,Jp=new Dt,w9=new Dt;class zf extends os{constructor(i=new Ri,a=new Go){super(),this.isLine=!0,this.type="Line",this.geometry=i,this.material=a,this.updateMorphTargets()}copy(i,a){return super.copy(i,a),this.material=Array.isArray(i.material)?i.material.slice():i.material,this.geometry=i.geometry,this}computeLineDistances(){const i=this.geometry;if(i.index===null){const a=i.attributes.position,u=[0];for(let d=1,E=a.count;d<E;d++)l_.fromBufferAttribute(a,d-1),A_.fromBufferAttribute(a,d),u[d]=u[d-1],u[d]+=l_.distanceTo(A_);i.setAttribute("lineDistance",new Sn(u,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(i,a){const u=this.geometry,d=this.matrixWorld,E=i.params.Line.threshold,B=u.drawRange;if(u.boundingSphere===null&&u.computeBoundingSphere(),h_.copy(u.boundingSphere),h_.applyMatrix4(d),h_.radius+=E,i.ray.intersectsSphere(h_)===!1)return;Hf.copy(d).invert(),c_.copy(i.ray).applyMatrix4(Hf);const M=E/((this.scale.x+this.scale.y+this.scale.z)/3),Q=M*M,P=this.isLineSegments?2:1,O=u.index,z=u.attributes.position;if(O!==null){const J=Math.max(0,B.start),j=Math.min(O.count,B.start+B.count);for(let nt=J,q=j-1;nt<q;nt+=P){const Z=O.getX(nt),ut=O.getX(nt+1),ct=Wf(this,i,c_,Q,Z,ut);ct&&a.push(ct)}if(this.isLineLoop){const nt=O.getX(j-1),q=O.getX(J),Z=Wf(this,i,c_,Q,nt,q);Z&&a.push(Z)}}else{const J=Math.max(0,B.start),j=Math.min(z.count,B.start+B.count);for(let nt=J,q=j-1;nt<q;nt+=P){const Z=Wf(this,i,c_,Q,nt,nt+1);Z&&a.push(Z)}if(this.isLineLoop){const nt=Wf(this,i,c_,Q,j-1,J);nt&&a.push(nt)}}}updateMorphTargets(){const a=this.geometry.morphAttributes,u=Object.keys(a);if(u.length>0){const d=a[u[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let E=0,B=d.length;E<B;E++){const M=d[E].name||String(E);this.morphTargetInfluences.push(0),this.morphTargetDictionary[M]=E}}}}}function Wf(C,i,a,u,d,E){const B=C.geometry.attributes.position;if(l_.fromBufferAttribute(B,d),A_.fromBufferAttribute(B,E),a.distanceSqToSegment(l_,A_,Jp,w9)>u)return;Jp.applyMatrix4(C.matrixWorld);const Q=i.ray.origin.distanceTo(Jp);if(!(Q<i.near||Q>i.far))return{distance:Q,point:w9.clone().applyMatrix4(C.matrixWorld),index:d,face:null,faceIndex:null,barycoord:null,object:C}}const AD=new Dt,cD=new Dt;class Iu extends zf{constructor(i,a){super(i,a),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const i=this.geometry;if(i.index===null){const a=i.attributes.position,u=[];for(let d=0,E=a.count;d<E;d+=2)AD.fromBufferAttribute(a,d),cD.fromBufferAttribute(a,d+1),u[d]=d===0?0:u[d-1],u[d+1]=u[d]+AD.distanceTo(cD);i.setAttribute("lineDistance",new Sn(u,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class c2 extends zf{constructor(i,a){super(i,a),this.isLineLoop=!0,this.type="LineLoop"}}class u_ extends la{static get type(){return"PointsMaterial"}constructor(i){super(),this.isPointsMaterial=!0,this.color=new gn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this.fog=i.fog,this}}const d_=new ui,f_=new Gm,p_=new Lo,g_=new Dt;class hD extends os{constructor(i=new Ri,a=new u_){super(),this.isPoints=!0,this.type="Points",this.geometry=i,this.material=a,this.updateMorphTargets()}copy(i,a){return super.copy(i,a),this.material=Array.isArray(i.material)?i.material.slice():i.material,this.geometry=i.geometry,this}raycast(i,a){const u=this.geometry,d=this.matrixWorld,E=i.params.Points.threshold,B=u.drawRange;if(u.boundingSphere===null&&u.computeBoundingSphere(),p_.copy(u.boundingSphere),p_.applyMatrix4(d),p_.radius+=E,i.ray.intersectsSphere(p_)===!1)return;d_.copy(d).invert(),f_.copy(i.ray).applyMatrix4(d_);const M=E/((this.scale.x+this.scale.y+this.scale.z)/3),Q=M*M,P=u.index,H=u.attributes.position;if(P!==null){const z=Math.max(0,B.start),J=Math.min(P.count,B.start+B.count);for(let j=z,nt=J;j<nt;j++){const q=P.getX(j);g_.fromBufferAttribute(H,q),uD(g_,q,Q,d,i,a,this)}}else{const z=Math.max(0,B.start),J=Math.min(H.count,B.start+B.count);for(let j=z,nt=J;j<nt;j++)g_.fromBufferAttribute(H,j),uD(g_,j,Q,d,i,a,this)}}updateMorphTargets(){const a=this.geometry.morphAttributes,u=Object.keys(a);if(u.length>0){const d=a[u[0]];if(d!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let E=0,B=d.length;E<B;E++){const M=d[E].name||String(E);this.morphTargetInfluences.push(0),this.morphTargetDictionary[M]=E}}}}}function uD(C,i,a,u,d,E,B){const M=f_.distanceSqToPoint(C);if(M<a){const Q=new Dt;f_.closestPointToPoint(C,Q),Q.applyMatrix4(u);const P=d.ray.origin.distanceTo(Q);if(P<d.near||P>d.far)return;E.push({distance:P,distanceToRay:Math.sqrt(M),point:Q,index:i,face:null,faceIndex:null,barycoord:null,object:B})}}class m_ extends Dr{constructor(i,a,u,d,E,B,M,Q,P){super(i,a,u,d,E,B,M,Q,P),this.isVideoTexture=!0,this.minFilter=B!==void 0?B:Qo,this.magFilter=E!==void 0?E:Qo,this.generateMipmaps=!1;const O=this;function H(){O.needsUpdate=!0,i.requestVideoFrameCallback(H)}"requestVideoFrameCallback"in i&&i.requestVideoFrameCallback(H)}clone(){return new this.constructor(this.image).copy(this)}update(){const i=this.image;"requestVideoFrameCallback"in i===!1&&i.readyState>=i.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class _9 extends Dr{constructor(i,a){super({width:i,height:a}),this.isFramebufferTexture=!0,this.magFilter=va,this.minFilter=va,this.generateMipmaps=!1,this.needsUpdate=!0}}class y_ extends Dr{constructor(i,a,u,d,E,B,M,Q,P,O,H,z){super(null,B,M,Q,P,O,d,E,H,z),this.isCompressedTexture=!0,this.image={width:a,height:u},this.mipmaps=i,this.flipY=!1,this.generateMipmaps=!1}}class dD extends y_{constructor(i,a,u,d,E,B){super(i,a,u,E,B),this.isCompressedArrayTexture=!0,this.image.depth=d,this.wrapR=xc,this.layerUpdates=new Set}addLayerUpdate(i){this.layerUpdates.add(i)}clearLayerUpdates(){this.layerUpdates.clear()}}class fD extends y_{constructor(i,a,u){super(void 0,i[0].width,i[0].height,a,u,sA),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=i}}class pD extends Dr{constructor(i,a,u,d,E,B,M,Q,P){super(i,a,u,d,E,B,M,Q,P),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Mc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(i,a){const u=this.getUtoTmapping(i);return this.getPoint(u,a)}getPoints(i=5){const a=[];for(let u=0;u<=i;u++)a.push(this.getPoint(u/i));return a}getSpacedPoints(i=5){const a=[];for(let u=0;u<=i;u++)a.push(this.getPointAt(u/i));return a}getLength(){const i=this.getLengths();return i[i.length-1]}getLengths(i=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===i+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const a=[];let u,d=this.getPoint(0),E=0;a.push(0);for(let B=1;B<=i;B++)u=this.getPoint(B/i),E+=u.distanceTo(d),a.push(E),d=u;return this.cacheArcLengths=a,a}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(i,a){const u=this.getLengths();let d=0;const E=u.length;let B;a?B=a:B=i*u[E-1];let M=0,Q=E-1,P;for(;M<=Q;)if(d=Math.floor(M+(Q-M)/2),P=u[d]-B,P<0)M=d+1;else if(P>0)Q=d-1;else{Q=d;break}if(d=Q,u[d]===B)return d/(E-1);const O=u[d],z=u[d+1]-O,J=(B-O)/z;return(d+J)/(E-1)}getTangent(i,a){let d=i-1e-4,E=i+1e-4;d<0&&(d=0),E>1&&(E=1);const B=this.getPoint(d),M=this.getPoint(E),Q=a||(B.isVector2?new Le:new Dt);return Q.copy(M).sub(B).normalize(),Q}getTangentAt(i,a){const u=this.getUtoTmapping(i);return this.getTangent(u,a)}computeFrenetFrames(i,a){const u=new Dt,d=[],E=[],B=[],M=new Dt,Q=new ui;for(let J=0;J<=i;J++){const j=J/i;d[J]=this.getTangentAt(j,new Dt)}E[0]=new Dt,B[0]=new Dt;let P=Number.MAX_VALUE;const O=Math.abs(d[0].x),H=Math.abs(d[0].y),z=Math.abs(d[0].z);O<=P&&(P=O,u.set(1,0,0)),H<=P&&(P=H,u.set(0,1,0)),z<=P&&u.set(0,0,1),M.crossVectors(d[0],u).normalize(),E[0].crossVectors(d[0],M),B[0].crossVectors(d[0],E[0]);for(let J=1;J<=i;J++){if(E[J]=E[J-1].clone(),B[J]=B[J-1].clone(),M.crossVectors(d[J-1],d[J]),M.length()>Number.EPSILON){M.normalize();const j=Math.acos(Ws(d[J-1].dot(d[J]),-1,1));E[J].applyMatrix4(Q.makeRotationAxis(M,j))}B[J].crossVectors(d[J],E[J])}if(a===!0){let J=Math.acos(Ws(E[0].dot(E[i]),-1,1));J/=i,d[0].dot(M.crossVectors(E[0],E[i]))>0&&(J=-J);for(let j=1;j<=i;j++)E[j].applyMatrix4(Q.makeRotationAxis(d[j],J*j)),B[j].crossVectors(d[j],E[j])}return{tangents:d,normals:E,binormals:B}}clone(){return new this.constructor().copy(this)}copy(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}toJSON(){const i={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return i.arcLengthDivisions=this.arcLengthDivisions,i.type=this.type,i}fromJSON(i){return this.arcLengthDivisions=i.arcLengthDivisions,this}}class fI extends Mc{constructor(i=0,a=0,u=1,d=1,E=0,B=Math.PI*2,M=!1,Q=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=i,this.aY=a,this.xRadius=u,this.yRadius=d,this.aStartAngle=E,this.aEndAngle=B,this.aClockwise=M,this.aRotation=Q}getPoint(i,a=new Le){const u=a,d=Math.PI*2;let E=this.aEndAngle-this.aStartAngle;const B=Math.abs(E)<Number.EPSILON;for(;E<0;)E+=d;for(;E>d;)E-=d;E<Number.EPSILON&&(B?E=0:E=d),this.aClockwise===!0&&!B&&(E===d?E=-d:E=E-d);const M=this.aStartAngle+i*E;let Q=this.aX+this.xRadius*Math.cos(M),P=this.aY+this.yRadius*Math.sin(M);if(this.aRotation!==0){const O=Math.cos(this.aRotation),H=Math.sin(this.aRotation),z=Q-this.aX,J=P-this.aY;Q=z*O-J*H+this.aX,P=z*H+J*O+this.aY}return u.set(Q,P)}copy(i){return super.copy(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}toJSON(){const i=super.toJSON();return i.aX=this.aX,i.aY=this.aY,i.xRadius=this.xRadius,i.yRadius=this.yRadius,i.aStartAngle=this.aStartAngle,i.aEndAngle=this.aEndAngle,i.aClockwise=this.aClockwise,i.aRotation=this.aRotation,i}fromJSON(i){return super.fromJSON(i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this}}class gD extends fI{constructor(i,a,u,d,E,B){super(i,a,u,u,d,E,B),this.isArcCurve=!0,this.type="ArcCurve"}}function h2(){let C=0,i=0,a=0,u=0;function d(E,B,M,Q){C=E,i=M,a=-3*E+3*B-2*M-Q,u=2*E-2*B+M+Q}return{initCatmullRom:function(E,B,M,Q,P){d(B,M,P*(M-E),P*(Q-B))},initNonuniformCatmullRom:function(E,B,M,Q,P,O,H){let z=(B-E)/P-(M-E)/(P+O)+(M-B)/O,J=(M-B)/O-(Q-B)/(O+H)+(Q-M)/H;z*=O,J*=O,d(B,M,z,J)},calc:function(E){const B=E*E,M=B*E;return C+i*E+a*B+u*M}}}const x_=new Dt,u2=new h2,d2=new h2,C_=new h2;class mD extends Mc{constructor(i=[],a=!1,u="centripetal",d=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=i,this.closed=a,this.curveType=u,this.tension=d}getPoint(i,a=new Dt){const u=a,d=this.points,E=d.length,B=(E-(this.closed?0:1))*i;let M=Math.floor(B),Q=B-M;this.closed?M+=M>0?0:(Math.floor(Math.abs(M)/E)+1)*E:Q===0&&M===E-1&&(M=E-2,Q=1);let P,O;this.closed||M>0?P=d[(M-1)%E]:(x_.subVectors(d[0],d[1]).add(d[0]),P=x_);const H=d[M%E],z=d[(M+1)%E];if(this.closed||M+2<E?O=d[(M+2)%E]:(x_.subVectors(d[E-1],d[E-2]).add(d[E-1]),O=x_),this.curveType==="centripetal"||this.curveType==="chordal"){const J=this.curveType==="chordal"?.5:.25;let j=Math.pow(P.distanceToSquared(H),J),nt=Math.pow(H.distanceToSquared(z),J),q=Math.pow(z.distanceToSquared(O),J);nt<1e-4&&(nt=1),j<1e-4&&(j=nt),q<1e-4&&(q=nt),u2.initNonuniformCatmullRom(P.x,H.x,z.x,O.x,j,nt,q),d2.initNonuniformCatmullRom(P.y,H.y,z.y,O.y,j,nt,q),C_.initNonuniformCatmullRom(P.z,H.z,z.z,O.z,j,nt,q)}else this.curveType==="catmullrom"&&(u2.initCatmullRom(P.x,H.x,z.x,O.x,this.tension),d2.initCatmullRom(P.y,H.y,z.y,O.y,this.tension),C_.initCatmullRom(P.z,H.z,z.z,O.z,this.tension));return u.set(u2.calc(Q),d2.calc(Q),C_.calc(Q)),u}copy(i){super.copy(i),this.points=[];for(let a=0,u=i.points.length;a<u;a++){const d=i.points[a];this.points.push(d.clone())}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}toJSON(){const i=super.toJSON();i.points=[];for(let a=0,u=this.points.length;a<u;a++){const d=this.points[a];i.points.push(d.toArray())}return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i}fromJSON(i){super.fromJSON(i),this.points=[];for(let a=0,u=i.points.length;a<u;a++){const d=i.points[a];this.points.push(new Dt().fromArray(d))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this}}function f2(C,i,a,u,d){const E=(u-i)*.5,B=(d-a)*.5,M=C*C,Q=C*M;return(2*a-2*u+E+B)*Q+(-3*a+3*u-2*E-B)*M+E*C+a}function yD(C,i){const a=1-C;return a*a*i}function xD(C,i){return 2*(1-C)*C*i}function B9(C,i){return C*C*i}function pI(C,i,a,u){return yD(C,i)+xD(C,a)+B9(C,u)}function CD(C,i){const a=1-C;return a*a*a*i}function E_(C,i){const a=1-C;return 3*a*a*C*i}function ED(C,i){return 3*(1-C)*C*C*i}function ID(C,i){return C*C*C*i}function Ya(C,i,a,u,d){return CD(C,i)+E_(C,a)+ED(C,u)+ID(C,d)}class ys extends Mc{constructor(i=new Le,a=new Le,u=new Le,d=new Le){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=i,this.v1=a,this.v2=u,this.v3=d}getPoint(i,a=new Le){const u=a,d=this.v0,E=this.v1,B=this.v2,M=this.v3;return u.set(Ya(i,d.x,E.x,B.x,M.x),Ya(i,d.y,E.y,B.y,M.y)),u}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}class Da extends Mc{constructor(i=new Dt,a=new Dt,u=new Dt,d=new Dt){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=i,this.v1=a,this.v2=u,this.v3=d}getPoint(i,a=new Dt){const u=a,d=this.v0,E=this.v1,B=this.v2,M=this.v3;return u.set(Ya(i,d.x,E.x,B.x,M.x),Ya(i,d.y,E.y,B.y,M.y),Ya(i,d.z,E.z,B.z,M.z)),u}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this}}class I_ extends Mc{constructor(i=new Le,a=new Le){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=i,this.v2=a}getPoint(i,a=new Le){const u=a;return i===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(i).add(this.v1)),u}getPointAt(i,a){return this.getPoint(i,a)}getTangent(i,a=new Le){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(i,a){return this.getTangent(i,a)}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class p2 extends Mc{constructor(i=new Dt,a=new Dt){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=i,this.v2=a}getPoint(i,a=new Dt){const u=a;return i===1?u.copy(this.v2):(u.copy(this.v2).sub(this.v1),u.multiplyScalar(i).add(this.v1)),u}getPointAt(i,a){return this.getPoint(i,a)}getTangent(i,a=new Dt){return a.subVectors(this.v2,this.v1).normalize()}getTangentAt(i,a){return this.getTangent(i,a)}copy(i){return super.copy(i),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class w_ extends Mc{constructor(i=new Le,a=new Le,u=new Le){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=i,this.v1=a,this.v2=u}getPoint(i,a=new Le){const u=a,d=this.v0,E=this.v1,B=this.v2;return u.set(pI(i,d.x,E.x,B.x),pI(i,d.y,E.y,B.y)),u}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class Md extends Mc{constructor(i=new Dt,a=new Dt,u=new Dt){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=i,this.v1=a,this.v2=u}getPoint(i,a=new Dt){const u=a,d=this.v0,E=this.v1,B=this.v2;return u.set(pI(i,d.x,E.x,B.x),pI(i,d.y,E.y,B.y),pI(i,d.z,E.z,B.z)),u}copy(i){return super.copy(i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this}toJSON(){const i=super.toJSON();return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i}fromJSON(i){return super.fromJSON(i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this}}class gA extends Mc{constructor(i=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=i}getPoint(i,a=new Le){const u=a,d=this.points,E=(d.length-1)*i,B=Math.floor(E),M=E-B,Q=d[B===0?B:B-1],P=d[B],O=d[B>d.length-2?d.length-1:B+1],H=d[B>d.length-3?d.length-1:B+2];return u.set(f2(M,Q.x,P.x,O.x,H.x),f2(M,Q.y,P.y,O.y,H.y)),u}copy(i){super.copy(i),this.points=[];for(let a=0,u=i.points.length;a<u;a++){const d=i.points[a];this.points.push(d.clone())}return this}toJSON(){const i=super.toJSON();i.points=[];for(let a=0,u=this.points.length;a<u;a++){const d=this.points[a];i.points.push(d.toArray())}return i}fromJSON(i){super.fromJSON(i),this.points=[];for(let a=0,u=i.points.length;a<u;a++){const d=i.points[a];this.points.push(new Le().fromArray(d))}return this}}var $i=Object.freeze({__proto__:null,ArcCurve:gD,CatmullRomCurve3:mD,CubicBezierCurve:ys,CubicBezierCurve3:Da,EllipseCurve:fI,LineCurve:I_,LineCurve3:p2,QuadraticBezierCurve:w_,QuadraticBezierCurve3:Md,SplineCurve:gA});class gI extends Mc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(i){this.curves.push(i)}closePath(){const i=this.curves[0].getPoint(0),a=this.curves[this.curves.length-1].getPoint(1);if(!i.equals(a)){const u=i.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new $i[u](a,i))}return this}getPoint(i,a){const u=i*this.getLength(),d=this.getCurveLengths();let E=0;for(;E<d.length;){if(d[E]>=u){const B=d[E]-u,M=this.curves[E],Q=M.getLength(),P=Q===0?0:1-B/Q;return M.getPointAt(P,a)}E++}return null}getLength(){const i=this.getCurveLengths();return i[i.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const i=[];let a=0;for(let u=0,d=this.curves.length;u<d;u++)a+=this.curves[u].getLength(),i.push(a);return this.cacheLengths=i,i}getSpacedPoints(i=40){const a=[];for(let u=0;u<=i;u++)a.push(this.getPoint(u/i));return this.autoClose&&a.push(a[0]),a}getPoints(i=12){const a=[];let u;for(let d=0,E=this.curves;d<E.length;d++){const B=E[d],M=B.isEllipseCurve?i*2:B.isLineCurve||B.isLineCurve3?1:B.isSplineCurve?i*B.points.length:i,Q=B.getPoints(M);for(let P=0;P<Q.length;P++){const O=Q[P];u&&u.equals(O)||(a.push(O),u=O)}}return this.autoClose&&a.length>1&&!a[a.length-1].equals(a[0])&&a.push(a[0]),a}copy(i){super.copy(i),this.curves=[];for(let a=0,u=i.curves.length;a<u;a++){const d=i.curves[a];this.curves.push(d.clone())}return this.autoClose=i.autoClose,this}toJSON(){const i=super.toJSON();i.autoClose=this.autoClose,i.curves=[];for(let a=0,u=this.curves.length;a<u;a++){const d=this.curves[a];i.curves.push(d.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.autoClose=i.autoClose,this.curves=[];for(let a=0,u=i.curves.length;a<u;a++){const d=i.curves[a];this.curves.push(new $i[d.type]().fromJSON(d))}return this}}class Yp extends gI{constructor(i){super(),this.type="Path",this.currentPoint=new Le,i&&this.setFromPoints(i)}setFromPoints(i){this.moveTo(i[0].x,i[0].y);for(let a=1,u=i.length;a<u;a++)this.lineTo(i[a].x,i[a].y);return this}moveTo(i,a){return this.currentPoint.set(i,a),this}lineTo(i,a){const u=new I_(this.currentPoint.clone(),new Le(i,a));return this.curves.push(u),this.currentPoint.set(i,a),this}quadraticCurveTo(i,a,u,d){const E=new w_(this.currentPoint.clone(),new Le(i,a),new Le(u,d));return this.curves.push(E),this.currentPoint.set(u,d),this}bezierCurveTo(i,a,u,d,E,B){const M=new ys(this.currentPoint.clone(),new Le(i,a),new Le(u,d),new Le(E,B));return this.curves.push(M),this.currentPoint.set(E,B),this}splineThru(i){const a=[this.currentPoint.clone()].concat(i),u=new gA(a);return this.curves.push(u),this.currentPoint.copy(i[i.length-1]),this}arc(i,a,u,d,E,B){const M=this.currentPoint.x,Q=this.currentPoint.y;return this.absarc(i+M,a+Q,u,d,E,B),this}absarc(i,a,u,d,E,B){return this.absellipse(i,a,u,u,d,E,B),this}ellipse(i,a,u,d,E,B,M,Q){const P=this.currentPoint.x,O=this.currentPoint.y;return this.absellipse(i+P,a+O,u,d,E,B,M,Q),this}absellipse(i,a,u,d,E,B,M,Q){const P=new fI(i,a,u,d,E,B,M,Q);if(this.curves.length>0){const H=P.getPoint(0);H.equals(this.currentPoint)||this.lineTo(H.x,H.y)}this.curves.push(P);const O=P.getPoint(1);return this.currentPoint.copy(O),this}copy(i){return super.copy(i),this.currentPoint.copy(i.currentPoint),this}toJSON(){const i=super.toJSON();return i.currentPoint=this.currentPoint.toArray(),i}fromJSON(i){return super.fromJSON(i),this.currentPoint.fromArray(i.currentPoint),this}}class Dl extends Ri{constructor(i=[new Le(0,-.5),new Le(.5,0),new Le(0,.5)],a=12,u=0,d=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:i,segments:a,phiStart:u,phiLength:d},a=Math.floor(a),d=Ws(d,0,Math.PI*2);const E=[],B=[],M=[],Q=[],P=[],O=1/a,H=new Dt,z=new Le,J=new Dt,j=new Dt,nt=new Dt;let q=0,Z=0;for(let ut=0;ut<=i.length-1;ut++)switch(ut){case 0:q=i[ut+1].x-i[ut].x,Z=i[ut+1].y-i[ut].y,J.x=Z*1,J.y=-q,J.z=Z*0,nt.copy(J),J.normalize(),Q.push(J.x,J.y,J.z);break;case i.length-1:Q.push(nt.x,nt.y,nt.z);break;default:q=i[ut+1].x-i[ut].x,Z=i[ut+1].y-i[ut].y,J.x=Z*1,J.y=-q,J.z=Z*0,j.copy(J),J.x+=nt.x,J.y+=nt.y,J.z+=nt.z,J.normalize(),Q.push(J.x,J.y,J.z),nt.copy(j)}for(let ut=0;ut<=a;ut++){const ct=u+ut*O*d,lt=Math.sin(ct),Vt=Math.cos(ct);for(let Tt=0;Tt<=i.length-1;Tt++){H.x=i[Tt].x*lt,H.y=i[Tt].y,H.z=i[Tt].x*Vt,B.push(H.x,H.y,H.z),z.x=ut/a,z.y=Tt/(i.length-1),M.push(z.x,z.y);const Qt=Q[3*Tt+0]*lt,Ut=Q[3*Tt+1],xt=Q[3*Tt+0]*Vt;P.push(Qt,Ut,xt)}}for(let ut=0;ut<a;ut++)for(let ct=0;ct<i.length-1;ct++){const lt=ct+ut*i.length,Vt=lt,Tt=lt+i.length,Qt=lt+i.length+1,Ut=lt+1;E.push(Vt,Tt,Ut),E.push(Qt,Ut,Tt)}this.setIndex(E),this.setAttribute("position",new Sn(B,3)),this.setAttribute("uv",new Sn(M,2)),this.setAttribute("normal",new Sn(P,3))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new Dl(i.points,i.segments,i.phiStart,i.phiLength)}}class Sd extends Dl{constructor(i=1,a=1,u=4,d=8){const E=new Yp;E.absarc(0,-a/2,i,Math.PI*1.5,0),E.absarc(0,a/2,i,0,Math.PI*.5),super(E.getPoints(u),d),this.type="CapsuleGeometry",this.parameters={radius:i,length:a,capSegments:u,radialSegments:d}}static fromJSON(i){return new Sd(i.radius,i.length,i.capSegments,i.radialSegments)}}class mI extends Ri{constructor(i=1,a=32,u=0,d=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:i,segments:a,thetaStart:u,thetaLength:d},a=Math.max(3,a);const E=[],B=[],M=[],Q=[],P=new Dt,O=new Le;B.push(0,0,0),M.push(0,0,1),Q.push(.5,.5);for(let H=0,z=3;H<=a;H++,z+=3){const J=u+H/a*d;P.x=i*Math.cos(J),P.y=i*Math.sin(J),B.push(P.x,P.y,P.z),M.push(0,0,1),O.x=(B[z]/i+1)/2,O.y=(B[z+1]/i+1)/2,Q.push(O.x,O.y)}for(let H=1;H<=a;H++)E.push(H,H+1,0);this.setIndex(E),this.setAttribute("position",new Sn(B,3)),this.setAttribute("normal",new Sn(M,3)),this.setAttribute("uv",new Sn(Q,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new mI(i.radius,i.segments,i.thetaStart,i.thetaLength)}}class my extends Ri{constructor(i=1,a=1,u=1,d=32,E=1,B=!1,M=0,Q=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:i,radiusBottom:a,height:u,radialSegments:d,heightSegments:E,openEnded:B,thetaStart:M,thetaLength:Q};const P=this;d=Math.floor(d),E=Math.floor(E);const O=[],H=[],z=[],J=[];let j=0;const nt=[],q=u/2;let Z=0;ut(),B===!1&&(i>0&&ct(!0),a>0&&ct(!1)),this.setIndex(O),this.setAttribute("position",new Sn(H,3)),this.setAttribute("normal",new Sn(z,3)),this.setAttribute("uv",new Sn(J,2));function ut(){const lt=new Dt,Vt=new Dt;let Tt=0;const Qt=(a-i)/u;for(let Ut=0;Ut<=E;Ut++){const xt=[],pt=Ut/E,Ht=pt*(a-i)+i;for(let le=0;le<=d;le++){const re=le/d,Ae=re*Q+M,Pe=Math.sin(Ae),he=Math.cos(Ae);Vt.x=Ht*Pe,Vt.y=-pt*u+q,Vt.z=Ht*he,H.push(Vt.x,Vt.y,Vt.z),lt.set(Pe,Qt,he).normalize(),z.push(lt.x,lt.y,lt.z),J.push(re,1-pt),xt.push(j++)}nt.push(xt)}for(let Ut=0;Ut<d;Ut++)for(let xt=0;xt<E;xt++){const pt=nt[xt][Ut],Ht=nt[xt+1][Ut],le=nt[xt+1][Ut+1],re=nt[xt][Ut+1];(i>0||xt!==0)&&(O.push(pt,Ht,re),Tt+=3),(a>0||xt!==E-1)&&(O.push(Ht,le,re),Tt+=3)}P.addGroup(Z,Tt,0),Z+=Tt}function ct(lt){const Vt=j,Tt=new Le,Qt=new Dt;let Ut=0;const xt=lt===!0?i:a,pt=lt===!0?1:-1;for(let le=1;le<=d;le++)H.push(0,q*pt,0),z.push(0,pt,0),J.push(.5,.5),j++;const Ht=j;for(let le=0;le<=d;le++){const Ae=le/d*Q+M,Pe=Math.cos(Ae),he=Math.sin(Ae);Qt.x=xt*he,Qt.y=q*pt,Qt.z=xt*Pe,H.push(Qt.x,Qt.y,Qt.z),z.push(0,pt,0),Tt.x=Pe*.5+.5,Tt.y=he*.5*pt+.5,J.push(Tt.x,Tt.y),j++}for(let le=0;le<d;le++){const re=Vt+le,Ae=Ht+le;lt===!0?O.push(Ae,Ae+1,re):O.push(Ae+1,Ae,re),Ut+=3}P.addGroup(Z,Ut,lt===!0?1:2),Z+=Ut}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new my(i.radiusTop,i.radiusBottom,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength)}}class yI extends my{constructor(i=1,a=1,u=32,d=1,E=!1,B=0,M=Math.PI*2){super(0,i,a,u,d,E,B,M),this.type="ConeGeometry",this.parameters={radius:i,height:a,radialSegments:u,heightSegments:d,openEnded:E,thetaStart:B,thetaLength:M}}static fromJSON(i){return new yI(i.radius,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength)}}class ha extends Ri{constructor(i=[],a=[],u=1,d=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:i,indices:a,radius:u,detail:d};const E=[],B=[];M(d),P(u),O(),this.setAttribute("position",new Sn(E,3)),this.setAttribute("normal",new Sn(E.slice(),3)),this.setAttribute("uv",new Sn(B,2)),d===0?this.computeVertexNormals():this.normalizeNormals();function M(ut){const ct=new Dt,lt=new Dt,Vt=new Dt;for(let Tt=0;Tt<a.length;Tt+=3)J(a[Tt+0],ct),J(a[Tt+1],lt),J(a[Tt+2],Vt),Q(ct,lt,Vt,ut)}function Q(ut,ct,lt,Vt){const Tt=Vt+1,Qt=[];for(let Ut=0;Ut<=Tt;Ut++){Qt[Ut]=[];const xt=ut.clone().lerp(lt,Ut/Tt),pt=ct.clone().lerp(lt,Ut/Tt),Ht=Tt-Ut;for(let le=0;le<=Ht;le++)le===0&&Ut===Tt?Qt[Ut][le]=xt:Qt[Ut][le]=xt.clone().lerp(pt,le/Ht)}for(let Ut=0;Ut<Tt;Ut++)for(let xt=0;xt<2*(Tt-Ut)-1;xt++){const pt=Math.floor(xt/2);xt%2===0?(z(Qt[Ut][pt+1]),z(Qt[Ut+1][pt]),z(Qt[Ut][pt])):(z(Qt[Ut][pt+1]),z(Qt[Ut+1][pt+1]),z(Qt[Ut+1][pt]))}}function P(ut){const ct=new Dt;for(let lt=0;lt<E.length;lt+=3)ct.x=E[lt+0],ct.y=E[lt+1],ct.z=E[lt+2],ct.normalize().multiplyScalar(ut),E[lt+0]=ct.x,E[lt+1]=ct.y,E[lt+2]=ct.z}function O(){const ut=new Dt;for(let ct=0;ct<E.length;ct+=3){ut.x=E[ct+0],ut.y=E[ct+1],ut.z=E[ct+2];const lt=q(ut)/2/Math.PI+.5,Vt=Z(ut)/Math.PI+.5;B.push(lt,1-Vt)}j(),H()}function H(){for(let ut=0;ut<B.length;ut+=6){const ct=B[ut+0],lt=B[ut+2],Vt=B[ut+4],Tt=Math.max(ct,lt,Vt),Qt=Math.min(ct,lt,Vt);Tt>.9&&Qt<.1&&(ct<.2&&(B[ut+0]+=1),lt<.2&&(B[ut+2]+=1),Vt<.2&&(B[ut+4]+=1))}}function z(ut){E.push(ut.x,ut.y,ut.z)}function J(ut,ct){const lt=ut*3;ct.x=i[lt+0],ct.y=i[lt+1],ct.z=i[lt+2]}function j(){const ut=new Dt,ct=new Dt,lt=new Dt,Vt=new Dt,Tt=new Le,Qt=new Le,Ut=new Le;for(let xt=0,pt=0;xt<E.length;xt+=9,pt+=6){ut.set(E[xt+0],E[xt+1],E[xt+2]),ct.set(E[xt+3],E[xt+4],E[xt+5]),lt.set(E[xt+6],E[xt+7],E[xt+8]),Tt.set(B[pt+0],B[pt+1]),Qt.set(B[pt+2],B[pt+3]),Ut.set(B[pt+4],B[pt+5]),Vt.copy(ut).add(ct).add(lt).divideScalar(3);const Ht=q(Vt);nt(Tt,pt+0,ut,Ht),nt(Qt,pt+2,ct,Ht),nt(Ut,pt+4,lt,Ht)}}function nt(ut,ct,lt,Vt){Vt<0&&ut.x===1&&(B[ct]=ut.x-1),lt.x===0&&lt.z===0&&(B[ct]=Vt/2/Math.PI+.5)}function q(ut){return Math.atan2(ut.z,-ut.x)}function Z(ut){return Math.atan2(-ut.y,Math.sqrt(ut.x*ut.x+ut.z*ut.z))}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new ha(i.vertices,i.indices,i.radius,i.details)}}class Sc extends ha{constructor(i=1,a=0){const u=(1+Math.sqrt(5))/2,d=1/u,E=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-u,0,-d,u,0,d,-u,0,d,u,-d,-u,0,-d,u,0,d,-u,0,d,u,0,-u,0,-d,u,0,-d,-u,0,d,u,0,d],B=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(E,B,i,a),this.type="DodecahedronGeometry",this.parameters={radius:i,detail:a}}static fromJSON(i){return new Sc(i.radius,i.detail)}}const Td=new Dt,xI=new Dt,CI=new Dt,EI=new hA;class g2 extends Ri{constructor(i=null,a=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:i,thresholdAngle:a},i!==null){const d=Math.pow(10,4),E=Math.cos(Ep*a),B=i.getIndex(),M=i.getAttribute("position"),Q=B?B.count:M.count,P=[0,0,0],O=["a","b","c"],H=new Array(3),z={},J=[];for(let j=0;j<Q;j+=3){B?(P[0]=B.getX(j),P[1]=B.getX(j+1),P[2]=B.getX(j+2)):(P[0]=j,P[1]=j+1,P[2]=j+2);const{a:nt,b:q,c:Z}=EI;if(nt.fromBufferAttribute(M,P[0]),q.fromBufferAttribute(M,P[1]),Z.fromBufferAttribute(M,P[2]),EI.getNormal(CI),H[0]=`${Math.round(nt.x*d)},${Math.round(nt.y*d)},${Math.round(nt.z*d)}`,H[1]=`${Math.round(q.x*d)},${Math.round(q.y*d)},${Math.round(q.z*d)}`,H[2]=`${Math.round(Z.x*d)},${Math.round(Z.y*d)},${Math.round(Z.z*d)}`,!(H[0]===H[1]||H[1]===H[2]||H[2]===H[0]))for(let ut=0;ut<3;ut++){const ct=(ut+1)%3,lt=H[ut],Vt=H[ct],Tt=EI[O[ut]],Qt=EI[O[ct]],Ut=`${lt}_${Vt}`,xt=`${Vt}_${lt}`;xt in z&&z[xt]?(CI.dot(z[xt].normal)<=E&&(J.push(Tt.x,Tt.y,Tt.z),J.push(Qt.x,Qt.y,Qt.z)),z[xt]=null):Ut in z||(z[Ut]={index0:P[ut],index1:P[ct],normal:CI.clone()})}}for(const j in z)if(z[j]){const{index0:nt,index1:q}=z[j];Td.fromBufferAttribute(M,nt),xI.fromBufferAttribute(M,q),J.push(Td.x,Td.y,Td.z),J.push(xI.x,xI.y,xI.z)}this.setAttribute("position",new Sn(J,3))}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}}class Co extends Yp{constructor(i){super(i),this.uuid=UA(),this.type="Shape",this.holes=[]}getPointsHoles(i){const a=[];for(let u=0,d=this.holes.length;u<d;u++)a[u]=this.holes[u].getPoints(i);return a}extractPoints(i){return{shape:this.getPoints(i),holes:this.getPointsHoles(i)}}copy(i){super.copy(i),this.holes=[];for(let a=0,u=i.holes.length;a<u;a++){const d=i.holes[a];this.holes.push(d.clone())}return this}toJSON(){const i=super.toJSON();i.uuid=this.uuid,i.holes=[];for(let a=0,u=this.holes.length;a<u;a++){const d=this.holes[a];i.holes.push(d.toJSON())}return i}fromJSON(i){super.fromJSON(i),this.uuid=i.uuid,this.holes=[];for(let a=0,u=i.holes.length;a<u;a++){const d=i.holes[a];this.holes.push(new Yp().fromJSON(d))}return this}}const We={triangulate:function(C,i,a=2){const u=i&&i.length,d=u?i[0]*a:C.length;let E=m2(C,0,d,a,!0);const B=[];if(!E||E.next===E.prev)return B;let M,Q,P,O,H,z,J;if(u&&(E=v9(C,i,E,a)),C.length>80*a){M=P=C[0],Q=O=C[1];for(let j=a;j<d;j+=a)H=C[j],z=C[j+1],H<M&&(M=H),z<Q&&(Q=z),H>P&&(P=H),z>O&&(O=z);J=Math.max(P-M,O-Q),J=J!==0?32767/J:0}return yy(E,B,a,M,Q,J,0),B}};function m2(C,i,a,u,d){let E,B;if(d===DD(C,i,a,u)>0)for(E=i;E<a;E+=u)B=Iy(E,C[E],C[E+1],B);else for(E=a-u;E>=i;E-=u)B=Iy(E,C[E],C[E+1],B);return B&&wu(B,B.next)&&(wy(B),B=B.next),B}function Jf(C,i){if(!C)return C;i||(i=C);let a=C,u;do if(u=!1,!a.steiner&&(wu(a,a.next)||Rr(a.prev,a,a.next)===0)){if(wy(a),a=i=a.prev,a===a.next)break;u=!0}else a=a.next;while(u||a!==i);return i}function yy(C,i,a,u,d,E,B){if(!C)return;!B&&E&&M9(C,u,d,E);let M=C,Q,P;for(;C.prev!==C.next;){if(Q=C.prev,P=C.next,E?_D(C,u,d,E):wD(C)){i.push(Q.i/a|0),i.push(C.i/a|0),i.push(P.i/a|0),wy(C),C=P.next,M=P.next;continue}if(C=P,C===M){B?B===1?(C=BD(Jf(C),i,a),yy(C,i,a,u,d,E,2)):B===2&&vD(C,i,a,u,d,E):yy(Jf(C),i,a,u,d,E,1);break}}}function wD(C){const i=C.prev,a=C,u=C.next;if(Rr(i,a,u)>=0)return!1;const d=i.x,E=a.x,B=u.x,M=i.y,Q=a.y,P=u.y,O=d<E?d<B?d:B:E<B?E:B,H=M<Q?M<P?M:P:Q<P?Q:P,z=d>E?d>B?d:B:E>B?E:B,J=M>Q?M>P?M:P:Q>P?Q:P;let j=u.next;for(;j!==i;){if(j.x>=O&&j.x<=z&&j.y>=H&&j.y<=J&&Zp(d,M,E,Q,B,P,j.x,j.y)&&Rr(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function _D(C,i,a,u){const d=C.prev,E=C,B=C.next;if(Rr(d,E,B)>=0)return!1;const M=d.x,Q=E.x,P=B.x,O=d.y,H=E.y,z=B.y,J=M<Q?M<P?M:P:Q<P?Q:P,j=O<H?O<z?O:z:H<z?H:z,nt=M>Q?M>P?M:P:Q>P?Q:P,q=O>H?O>z?O:z:H>z?H:z,Z=x2(J,j,i,a,u),ut=x2(nt,q,i,a,u);let ct=C.prevZ,lt=C.nextZ;for(;ct&&ct.z>=Z&&lt&&lt.z<=ut;){if(ct.x>=J&&ct.x<=nt&&ct.y>=j&&ct.y<=q&&ct!==d&&ct!==B&&Zp(M,O,Q,H,P,z,ct.x,ct.y)&&Rr(ct.prev,ct,ct.next)>=0||(ct=ct.prevZ,lt.x>=J&&lt.x<=nt&&lt.y>=j&&lt.y<=q&&lt!==d&&lt!==B&&Zp(M,O,Q,H,P,z,lt.x,lt.y)&&Rr(lt.prev,lt,lt.next)>=0))return!1;lt=lt.nextZ}for(;ct&&ct.z>=Z;){if(ct.x>=J&&ct.x<=nt&&ct.y>=j&&ct.y<=q&&ct!==d&&ct!==B&&Zp(M,O,Q,H,P,z,ct.x,ct.y)&&Rr(ct.prev,ct,ct.next)>=0)return!1;ct=ct.prevZ}for(;lt&&lt.z<=ut;){if(lt.x>=J&&lt.x<=nt&&lt.y>=j&&lt.y<=q&&lt!==d&&lt!==B&&Zp(M,O,Q,H,P,z,lt.x,lt.y)&&Rr(lt.prev,lt,lt.next)>=0)return!1;lt=lt.nextZ}return!0}function BD(C,i,a){let u=C;do{const d=u.prev,E=u.next.next;!wu(d,E)&&__(d,u,u.next,E)&&Ey(d,E)&&Ey(E,d)&&(i.push(d.i/a|0),i.push(u.i/a|0),i.push(E.i/a|0),wy(u),wy(u.next),u=C=E),u=u.next}while(u!==C);return Jf(u)}function vD(C,i,a,u,d,E){let B=C;do{let M=B.next.next;for(;M!==B.prev;){if(B.i!==M.i&&C2(B,M)){let Q=I2(B,M);B=Jf(B,B.next),Q=Jf(Q,Q.next),yy(B,i,a,u,d,E,0),yy(Q,i,a,u,d,E,0);return}M=M.next}B=B.next}while(B!==C)}function v9(C,i,a,u){const d=[];let E,B,M,Q,P;for(E=0,B=i.length;E<B;E++)M=i[E]*u,Q=E<B-1?i[E+1]*u:C.length,P=m2(C,M,Q,u,!1),P===P.next&&(P.steiner=!0),d.push(S9(P));for(d.sort(bD),E=0;E<d.length;E++)a=y2(d[E],a);return a}function bD(C,i){return C.x-i.x}function y2(C,i){const a=b9(C,i);if(!a)return i;const u=I2(a,C);return Jf(u,u.next),Jf(a,a.next)}function b9(C,i){let a=i,u=-1/0,d;const E=C.x,B=C.y;do{if(B<=a.y&&B>=a.next.y&&a.next.y!==a.y){const z=a.x+(B-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(z<=E&&z>u&&(u=z,d=a.x<a.next.x?a:a.next,z===E))return d}a=a.next}while(a!==i);if(!d)return null;const M=d,Q=d.x,P=d.y;let O=1/0,H;a=d;do E>=a.x&&a.x>=Q&&E!==a.x&&Zp(B<P?E:u,B,Q,P,B<P?u:E,B,a.x,a.y)&&(H=Math.abs(B-a.y)/(E-a.x),Ey(a,C)&&(H<O||H===O&&(a.x>d.x||a.x===d.x&&MD(d,a)))&&(d=a,O=H)),a=a.next;while(a!==M);return d}function MD(C,i){return Rr(C.prev,C,i.prev)<0&&Rr(i.next,C,C.next)<0}function M9(C,i,a,u){let d=C;do d.z===0&&(d.z=x2(d.x,d.y,i,a,u)),d.prevZ=d.prev,d.nextZ=d.next,d=d.next;while(d!==C);d.prevZ.nextZ=null,d.prevZ=null,SD(d)}function SD(C){let i,a,u,d,E,B,M,Q,P=1;do{for(a=C,C=null,E=null,B=0;a;){for(B++,u=a,M=0,i=0;i<P&&(M++,u=u.nextZ,!!u);i++);for(Q=P;M>0||Q>0&&u;)M!==0&&(Q===0||!u||a.z<=u.z)?(d=a,a=a.nextZ,M--):(d=u,u=u.nextZ,Q--),E?E.nextZ=d:C=d,d.prevZ=E,E=d;a=u}E.nextZ=null,P*=2}while(B>1);return C}function x2(C,i,a,u,d){return C=(C-a)*d|0,i=(i-u)*d|0,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,C|i<<1}function S9(C){let i=C,a=C;do(i.x<a.x||i.x===a.x&&i.y<a.y)&&(a=i),i=i.next;while(i!==C);return a}function Zp(C,i,a,u,d,E,B,M){return(d-B)*(i-M)>=(C-B)*(E-M)&&(C-B)*(u-M)>=(a-B)*(i-M)&&(a-B)*(E-M)>=(d-B)*(u-M)}function C2(C,i){return C.next.i!==i.i&&C.prev.i!==i.i&&!E2(C,i)&&(Ey(C,i)&&Ey(i,C)&&TD(C,i)&&(Rr(C.prev,C,i.prev)||Rr(C,i.prev,i))||wu(C,i)&&Rr(C.prev,C,C.next)>0&&Rr(i.prev,i,i.next)>0)}function Rr(C,i,a){return(i.y-C.y)*(a.x-i.x)-(i.x-C.x)*(a.y-i.y)}function wu(C,i){return C.x===i.x&&C.y===i.y}function __(C,i,a,u){const d=Cy(Rr(C,i,a)),E=Cy(Rr(C,i,u)),B=Cy(Rr(a,u,C)),M=Cy(Rr(a,u,i));return!!(d!==E&&B!==M||d===0&&xy(C,a,i)||E===0&&xy(C,u,i)||B===0&&xy(a,C,u)||M===0&&xy(a,i,u))}function xy(C,i,a){return i.x<=Math.max(C.x,a.x)&&i.x>=Math.min(C.x,a.x)&&i.y<=Math.max(C.y,a.y)&&i.y>=Math.min(C.y,a.y)}function Cy(C){return C>0?1:C<0?-1:0}function E2(C,i){let a=C;do{if(a.i!==C.i&&a.next.i!==C.i&&a.i!==i.i&&a.next.i!==i.i&&__(a,a.next,C,i))return!0;a=a.next}while(a!==C);return!1}function Ey(C,i){return Rr(C.prev,C,C.next)<0?Rr(C,i,C.next)>=0&&Rr(C,C.prev,i)>=0:Rr(C,i,C.prev)<0||Rr(C,C.next,i)<0}function TD(C,i){let a=C,u=!1;const d=(C.x+i.x)/2,E=(C.y+i.y)/2;do a.y>E!=a.next.y>E&&a.next.y!==a.y&&d<(a.next.x-a.x)*(E-a.y)/(a.next.y-a.y)+a.x&&(u=!u),a=a.next;while(a!==C);return u}function I2(C,i){const a=new w2(C.i,C.x,C.y),u=new w2(i.i,i.x,i.y),d=C.next,E=i.prev;return C.next=i,i.prev=C,a.next=d,d.prev=a,u.next=a,a.prev=u,E.next=u,u.prev=E,u}function Iy(C,i,a,u){const d=new w2(C,i,a);return u?(d.next=u.next,d.prev=u,u.next.prev=d,u.next=d):(d.prev=d,d.next=d),d}function wy(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function w2(C,i,a){this.i=C,this.x=i,this.y=a,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function DD(C,i,a,u){let d=0;for(let E=i,B=a-u;E<a;E+=u)d+=(C[B]-C[E])*(C[E+1]+C[B+1]),B=E;return d}class _u{static area(i){const a=i.length;let u=0;for(let d=a-1,E=0;E<a;d=E++)u+=i[d].x*i[E].y-i[E].x*i[d].y;return u*.5}static isClockWise(i){return _u.area(i)<0}static triangulateShape(i,a){const u=[],d=[],E=[];RD(i),QD(u,i);let B=i.length;a.forEach(RD);for(let Q=0;Q<a.length;Q++)d.push(B),B+=a[Q].length,QD(u,a[Q]);const M=We.triangulate(u,d);for(let Q=0;Q<M.length;Q+=3)E.push(M.slice(Q,Q+3));return E}}function RD(C){const i=C.length;i>2&&C[i-1].equals(C[0])&&C.pop()}function QD(C,i){for(let a=0;a<i.length;a++)C.push(i[a].x),C.push(i[a].y)}class B_ extends Ri{constructor(i=new Co([new Le(.5,.5),new Le(-.5,.5),new Le(-.5,-.5),new Le(.5,-.5)]),a={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:i,options:a},i=Array.isArray(i)?i:[i];const u=this,d=[],E=[];for(let M=0,Q=i.length;M<Q;M++){const P=i[M];B(P)}this.setAttribute("position",new Sn(d,3)),this.setAttribute("uv",new Sn(E,2)),this.computeVertexNormals();function B(M){const Q=[],P=a.curveSegments!==void 0?a.curveSegments:12,O=a.steps!==void 0?a.steps:1,H=a.depth!==void 0?a.depth:1;let z=a.bevelEnabled!==void 0?a.bevelEnabled:!0,J=a.bevelThickness!==void 0?a.bevelThickness:.2,j=a.bevelSize!==void 0?a.bevelSize:J-.1,nt=a.bevelOffset!==void 0?a.bevelOffset:0,q=a.bevelSegments!==void 0?a.bevelSegments:3;const Z=a.extrudePath,ut=a.UVGenerator!==void 0?a.UVGenerator:kD;let ct,lt=!1,Vt,Tt,Qt,Ut;Z&&(ct=Z.getSpacedPoints(O),lt=!0,z=!1,Vt=Z.computeFrenetFrames(O,!1),Tt=new Dt,Qt=new Dt,Ut=new Dt),z||(q=0,J=0,j=0,nt=0);const xt=M.extractPoints(P);let pt=xt.shape;const Ht=xt.holes;if(!_u.isClockWise(pt)){pt=pt.reverse();for(let Ue=0,je=Ht.length;Ue<je;Ue++){const Nt=Ht[Ue];_u.isClockWise(Nt)&&(Ht[Ue]=Nt.reverse())}}const re=_u.triangulateShape(pt,Ht),Ae=pt;for(let Ue=0,je=Ht.length;Ue<je;Ue++){const Nt=Ht[Ue];pt=pt.concat(Nt)}function Pe(Ue,je,Nt){return je||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ue.clone().addScaledVector(je,Nt)}const he=pt.length,Xe=re.length;function fe(Ue,je,Nt){let Vn,ze,In;const nn=Ue.x-je.x,ci=Ue.y-je.y,wn=Nt.x-Ue.x,St=Nt.y-Ue.y,gt=nn*nn+ci*ci,ne=nn*St-ci*wn;if(Math.abs(ne)>Number.EPSILON){const Ie=Math.sqrt(gt),Ge=Math.sqrt(wn*wn+St*St),Be=je.x-ci/Ie,Pn=je.y+nn/Ie,ln=Nt.x-St/Ge,_n=Nt.y+wn/Ge,Hi=((ln-Be)*St-(_n-Pn)*wn)/(nn*St-ci*wn);Vn=Be+nn*Hi-Ue.x,ze=Pn+ci*Hi-Ue.y;const Ze=Vn*Vn+ze*ze;if(Ze<=2)return new Le(Vn,ze);In=Math.sqrt(Ze/2)}else{let Ie=!1;nn>Number.EPSILON?wn>Number.EPSILON&&(Ie=!0):nn<-Number.EPSILON?wn<-Number.EPSILON&&(Ie=!0):Math.sign(ci)===Math.sign(St)&&(Ie=!0),Ie?(Vn=-ci,ze=nn,In=Math.sqrt(gt)):(Vn=nn,ze=ci,In=Math.sqrt(gt/2))}return new Le(Vn/In,ze/In)}const an=[];for(let Ue=0,je=Ae.length,Nt=je-1,Vn=Ue+1;Ue<je;Ue++,Nt++,Vn++)Nt===je&&(Nt=0),Vn===je&&(Vn=0),an[Ue]=fe(Ae[Ue],Ae[Nt],Ae[Vn]);const hn=[];let kn,bi=an.concat();for(let Ue=0,je=Ht.length;Ue<je;Ue++){const Nt=Ht[Ue];kn=[];for(let Vn=0,ze=Nt.length,In=ze-1,nn=Vn+1;Vn<ze;Vn++,In++,nn++)In===ze&&(In=0),nn===ze&&(nn=0),kn[Vn]=fe(Nt[Vn],Nt[In],Nt[nn]);hn.push(kn),bi=bi.concat(kn)}for(let Ue=0;Ue<q;Ue++){const je=Ue/q,Nt=J*Math.cos(je*Math.PI/2),Vn=j*Math.sin(je*Math.PI/2)+nt;for(let ze=0,In=Ae.length;ze<In;ze++){const nn=Pe(Ae[ze],an[ze],Vn);Ye(nn.x,nn.y,-Nt)}for(let ze=0,In=Ht.length;ze<In;ze++){const nn=Ht[ze];kn=hn[ze];for(let ci=0,wn=nn.length;ci<wn;ci++){const St=Pe(nn[ci],kn[ci],Vn);Ye(St.x,St.y,-Nt)}}}const vs=j+nt;for(let Ue=0;Ue<he;Ue++){const je=z?Pe(pt[Ue],bi[Ue],vs):pt[Ue];lt?(Qt.copy(Vt.normals[0]).multiplyScalar(je.x),Tt.copy(Vt.binormals[0]).multiplyScalar(je.y),Ut.copy(ct[0]).add(Qt).add(Tt),Ye(Ut.x,Ut.y,Ut.z)):Ye(je.x,je.y,0)}for(let Ue=1;Ue<=O;Ue++)for(let je=0;je<he;je++){const Nt=z?Pe(pt[je],bi[je],vs):pt[je];lt?(Qt.copy(Vt.normals[Ue]).multiplyScalar(Nt.x),Tt.copy(Vt.binormals[Ue]).multiplyScalar(Nt.y),Ut.copy(ct[Ue]).add(Qt).add(Tt),Ye(Ut.x,Ut.y,Ut.z)):Ye(Nt.x,Nt.y,H/O*Ue)}for(let Ue=q-1;Ue>=0;Ue--){const je=Ue/q,Nt=J*Math.cos(je*Math.PI/2),Vn=j*Math.sin(je*Math.PI/2)+nt;for(let ze=0,In=Ae.length;ze<In;ze++){const nn=Pe(Ae[ze],an[ze],Vn);Ye(nn.x,nn.y,H+Nt)}for(let ze=0,In=Ht.length;ze<In;ze++){const nn=Ht[ze];kn=hn[ze];for(let ci=0,wn=nn.length;ci<wn;ci++){const St=Pe(nn[ci],kn[ci],Vn);lt?Ye(St.x,St.y+ct[O-1].y,ct[O-1].x+Nt):Ye(St.x,St.y,H+Nt)}}}Se(),qe();function Se(){const Ue=d.length/3;if(z){let je=0,Nt=he*je;for(let Vn=0;Vn<Xe;Vn++){const ze=re[Vn];Kn(ze[2]+Nt,ze[1]+Nt,ze[0]+Nt)}je=O+q*2,Nt=he*je;for(let Vn=0;Vn<Xe;Vn++){const ze=re[Vn];Kn(ze[0]+Nt,ze[1]+Nt,ze[2]+Nt)}}else{for(let je=0;je<Xe;je++){const Nt=re[je];Kn(Nt[2],Nt[1],Nt[0])}for(let je=0;je<Xe;je++){const Nt=re[je];Kn(Nt[0]+he*O,Nt[1]+he*O,Nt[2]+he*O)}}u.addGroup(Ue,d.length/3-Ue,0)}function qe(){const Ue=d.length/3;let je=0;Ln(Ae,je),je+=Ae.length;for(let Nt=0,Vn=Ht.length;Nt<Vn;Nt++){const ze=Ht[Nt];Ln(ze,je),je+=ze.length}u.addGroup(Ue,d.length/3-Ue,1)}function Ln(Ue,je){let Nt=Ue.length;for(;--Nt>=0;){const Vn=Nt;let ze=Nt-1;ze<0&&(ze=Ue.length-1);for(let In=0,nn=O+q*2;In<nn;In++){const ci=he*In,wn=he*(In+1),St=je+Vn+ci,gt=je+ze+ci,ne=je+ze+wn,Ie=je+Vn+wn;mi(St,gt,ne,Ie)}}}function Ye(Ue,je,Nt){Q.push(Ue),Q.push(je),Q.push(Nt)}function Kn(Ue,je,Nt){ii(Ue),ii(je),ii(Nt);const Vn=d.length/3,ze=ut.generateTopUV(u,d,Vn-3,Vn-2,Vn-1);ts(ze[0]),ts(ze[1]),ts(ze[2])}function mi(Ue,je,Nt,Vn){ii(Ue),ii(je),ii(Vn),ii(je),ii(Nt),ii(Vn);const ze=d.length/3,In=ut.generateSideWallUV(u,d,ze-6,ze-3,ze-2,ze-1);ts(In[0]),ts(In[1]),ts(In[3]),ts(In[1]),ts(In[2]),ts(In[3])}function ii(Ue){d.push(Q[Ue*3+0]),d.push(Q[Ue*3+1]),d.push(Q[Ue*3+2])}function ts(Ue){E.push(Ue.x),E.push(Ue.y)}}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}toJSON(){const i=super.toJSON(),a=this.parameters.shapes,u=this.parameters.options;return _2(a,u,i)}static fromJSON(i,a){const u=[];for(let E=0,B=i.shapes.length;E<B;E++){const M=a[i.shapes[E]];u.push(M)}const d=i.options.extrudePath;return d!==void 0&&(i.options.extrudePath=new $i[d.type]().fromJSON(d)),new B_(u,i.options)}}const kD={generateTopUV:function(C,i,a,u,d){const E=i[a*3],B=i[a*3+1],M=i[u*3],Q=i[u*3+1],P=i[d*3],O=i[d*3+1];return[new Le(E,B),new Le(M,Q),new Le(P,O)]},generateSideWallUV:function(C,i,a,u,d,E){const B=i[a*3],M=i[a*3+1],Q=i[a*3+2],P=i[u*3],O=i[u*3+1],H=i[u*3+2],z=i[d*3],J=i[d*3+1],j=i[d*3+2],nt=i[E*3],q=i[E*3+1],Z=i[E*3+2];return Math.abs(M-O)<Math.abs(B-P)?[new Le(B,1-Q),new Le(P,1-H),new Le(z,1-j),new Le(nt,1-Z)]:[new Le(M,1-Q),new Le(O,1-H),new Le(J,1-j),new Le(q,1-Z)]}};function _2(C,i,a){if(a.shapes=[],Array.isArray(C))for(let u=0,d=C.length;u<d;u++){const E=C[u];a.shapes.push(E.uuid)}else a.shapes.push(C.uuid);return a.options=Object.assign({},i),i.extrudePath!==void 0&&(a.options.extrudePath=i.extrudePath.toJSON()),a}class Cn extends ha{constructor(i=1,a=0){const u=(1+Math.sqrt(5))/2,d=[-1,u,0,1,u,0,-1,-u,0,1,-u,0,0,-1,u,0,1,u,0,-1,-u,0,1,-u,u,0,-1,u,0,1,-u,0,-1,-u,0,1],E=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(d,E,i,a),this.type="IcosahedronGeometry",this.parameters={radius:i,detail:a}}static fromJSON(i){return new Cn(i.radius,i.detail)}}class II extends ha{constructor(i=1,a=0){const u=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],d=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(u,d,i,a),this.type="OctahedronGeometry",this.parameters={radius:i,detail:a}}static fromJSON(i){return new II(i.radius,i.detail)}}class wI extends Ri{constructor(i=.5,a=1,u=32,d=1,E=0,B=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:a,thetaSegments:u,phiSegments:d,thetaStart:E,thetaLength:B},u=Math.max(3,u),d=Math.max(1,d);const M=[],Q=[],P=[],O=[];let H=i;const z=(a-i)/d,J=new Dt,j=new Le;for(let nt=0;nt<=d;nt++){for(let q=0;q<=u;q++){const Z=E+q/u*B;J.x=H*Math.cos(Z),J.y=H*Math.sin(Z),Q.push(J.x,J.y,J.z),P.push(0,0,1),j.x=(J.x/a+1)/2,j.y=(J.y/a+1)/2,O.push(j.x,j.y)}H+=z}for(let nt=0;nt<d;nt++){const q=nt*(u+1);for(let Z=0;Z<u;Z++){const ut=Z+q,ct=ut,lt=ut+u+1,Vt=ut+u+2,Tt=ut+1;M.push(ct,lt,Tt),M.push(lt,Vt,Tt)}}this.setIndex(M),this.setAttribute("position",new Sn(Q,3)),this.setAttribute("normal",new Sn(P,3)),this.setAttribute("uv",new Sn(O,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new wI(i.innerRadius,i.outerRadius,i.thetaSegments,i.phiSegments,i.thetaStart,i.thetaLength)}}class v_ extends Ri{constructor(i=new Co([new Le(0,.5),new Le(-.5,-.5),new Le(.5,-.5)]),a=12){super(),this.type="ShapeGeometry",this.parameters={shapes:i,curveSegments:a};const u=[],d=[],E=[],B=[];let M=0,Q=0;if(Array.isArray(i)===!1)P(i);else for(let O=0;O<i.length;O++)P(i[O]),this.addGroup(M,Q,O),M+=Q,Q=0;this.setIndex(u),this.setAttribute("position",new Sn(d,3)),this.setAttribute("normal",new Sn(E,3)),this.setAttribute("uv",new Sn(B,2));function P(O){const H=d.length/3,z=O.extractPoints(a);let J=z.shape;const j=z.holes;_u.isClockWise(J)===!1&&(J=J.reverse());for(let q=0,Z=j.length;q<Z;q++){const ut=j[q];_u.isClockWise(ut)===!0&&(j[q]=ut.reverse())}const nt=_u.triangulateShape(J,j);for(let q=0,Z=j.length;q<Z;q++){const ut=j[q];J=J.concat(ut)}for(let q=0,Z=J.length;q<Z;q++){const ut=J[q];d.push(ut.x,ut.y,0),E.push(0,0,1),B.push(ut.x,ut.y)}for(let q=0,Z=nt.length;q<Z;q++){const ut=nt[q],ct=ut[0]+H,lt=ut[1]+H,Vt=ut[2]+H;u.push(ct,lt,Vt),Q+=3}}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}toJSON(){const i=super.toJSON(),a=this.parameters.shapes;return T9(a,i)}static fromJSON(i,a){const u=[];for(let d=0,E=i.shapes.length;d<E;d++){const B=a[i.shapes[d]];u.push(B)}return new v_(u,i.curveSegments)}}function T9(C,i){if(i.shapes=[],Array.isArray(C))for(let a=0,u=C.length;a<u;a++){const d=C[a];i.shapes.push(d.uuid)}else i.shapes.push(C.uuid);return i}class Kp extends Ri{constructor(i=1,a=32,u=16,d=0,E=Math.PI*2,B=0,M=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:i,widthSegments:a,heightSegments:u,phiStart:d,phiLength:E,thetaStart:B,thetaLength:M},a=Math.max(3,Math.floor(a)),u=Math.max(2,Math.floor(u));const Q=Math.min(B+M,Math.PI);let P=0;const O=[],H=new Dt,z=new Dt,J=[],j=[],nt=[],q=[];for(let Z=0;Z<=u;Z++){const ut=[],ct=Z/u;let lt=0;Z===0&&B===0?lt=.5/a:Z===u&&Q===Math.PI&&(lt=-.5/a);for(let Vt=0;Vt<=a;Vt++){const Tt=Vt/a;H.x=-i*Math.cos(d+Tt*E)*Math.sin(B+ct*M),H.y=i*Math.cos(B+ct*M),H.z=i*Math.sin(d+Tt*E)*Math.sin(B+ct*M),j.push(H.x,H.y,H.z),z.copy(H).normalize(),nt.push(z.x,z.y,z.z),q.push(Tt+lt,1-ct),ut.push(P++)}O.push(ut)}for(let Z=0;Z<u;Z++)for(let ut=0;ut<a;ut++){const ct=O[Z][ut+1],lt=O[Z][ut],Vt=O[Z+1][ut],Tt=O[Z+1][ut+1];(Z!==0||B>0)&&J.push(ct,lt,Tt),(Z!==u-1||Q<Math.PI)&&J.push(lt,Vt,Tt)}this.setIndex(J),this.setAttribute("position",new Sn(j,3)),this.setAttribute("normal",new Sn(nt,3)),this.setAttribute("uv",new Sn(q,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new Kp(i.radius,i.widthSegments,i.heightSegments,i.phiStart,i.phiLength,i.thetaStart,i.thetaLength)}}class b_ extends ha{constructor(i=1,a=0){const u=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],d=[2,1,0,0,3,2,1,3,0,2,3,1];super(u,d,i,a),this.type="TetrahedronGeometry",this.parameters={radius:i,detail:a}}static fromJSON(i){return new b_(i.radius,i.detail)}}class _I extends Ri{constructor(i=1,a=.4,u=12,d=48,E=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:i,tube:a,radialSegments:u,tubularSegments:d,arc:E},u=Math.floor(u),d=Math.floor(d);const B=[],M=[],Q=[],P=[],O=new Dt,H=new Dt,z=new Dt;for(let J=0;J<=u;J++)for(let j=0;j<=d;j++){const nt=j/d*E,q=J/u*Math.PI*2;H.x=(i+a*Math.cos(q))*Math.cos(nt),H.y=(i+a*Math.cos(q))*Math.sin(nt),H.z=a*Math.sin(q),M.push(H.x,H.y,H.z),O.x=i*Math.cos(nt),O.y=i*Math.sin(nt),z.subVectors(H,O).normalize(),Q.push(z.x,z.y,z.z),P.push(j/d),P.push(J/u)}for(let J=1;J<=u;J++)for(let j=1;j<=d;j++){const nt=(d+1)*J+j-1,q=(d+1)*(J-1)+j-1,Z=(d+1)*(J-1)+j,ut=(d+1)*J+j;B.push(nt,q,ut),B.push(q,Z,ut)}this.setIndex(B),this.setAttribute("position",new Sn(M,3)),this.setAttribute("normal",new Sn(Q,3)),this.setAttribute("uv",new Sn(P,2))}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new _I(i.radius,i.tube,i.radialSegments,i.tubularSegments,i.arc)}}class BI extends Ri{constructor(i=1,a=.4,u=64,d=8,E=2,B=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:i,tube:a,tubularSegments:u,radialSegments:d,p:E,q:B},u=Math.floor(u),d=Math.floor(d);const M=[],Q=[],P=[],O=[],H=new Dt,z=new Dt,J=new Dt,j=new Dt,nt=new Dt,q=new Dt,Z=new Dt;for(let ct=0;ct<=u;++ct){const lt=ct/u*E*Math.PI*2;ut(lt,E,B,i,J),ut(lt+.01,E,B,i,j),q.subVectors(j,J),Z.addVectors(j,J),nt.crossVectors(q,Z),Z.crossVectors(nt,q),nt.normalize(),Z.normalize();for(let Vt=0;Vt<=d;++Vt){const Tt=Vt/d*Math.PI*2,Qt=-a*Math.cos(Tt),Ut=a*Math.sin(Tt);H.x=J.x+(Qt*Z.x+Ut*nt.x),H.y=J.y+(Qt*Z.y+Ut*nt.y),H.z=J.z+(Qt*Z.z+Ut*nt.z),Q.push(H.x,H.y,H.z),z.subVectors(H,J).normalize(),P.push(z.x,z.y,z.z),O.push(ct/u),O.push(Vt/d)}}for(let ct=1;ct<=u;ct++)for(let lt=1;lt<=d;lt++){const Vt=(d+1)*(ct-1)+(lt-1),Tt=(d+1)*ct+(lt-1),Qt=(d+1)*ct+lt,Ut=(d+1)*(ct-1)+lt;M.push(Vt,Tt,Ut),M.push(Tt,Qt,Ut)}this.setIndex(M),this.setAttribute("position",new Sn(Q,3)),this.setAttribute("normal",new Sn(P,3)),this.setAttribute("uv",new Sn(O,2));function ut(ct,lt,Vt,Tt,Qt){const Ut=Math.cos(ct),xt=Math.sin(ct),pt=Vt/lt*ct,Ht=Math.cos(pt);Qt.x=Tt*(2+Ht)*.5*Ut,Qt.y=Tt*(2+Ht)*xt*.5,Qt.z=Tt*Math.sin(pt)*.5}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}static fromJSON(i){return new BI(i.radius,i.tube,i.tubularSegments,i.radialSegments,i.p,i.q)}}class vI extends Ri{constructor(i=new Md(new Dt(-1,-1,0),new Dt(-1,1,0),new Dt(1,1,0)),a=64,u=1,d=8,E=!1){super(),this.type="TubeGeometry",this.parameters={path:i,tubularSegments:a,radius:u,radialSegments:d,closed:E};const B=i.computeFrenetFrames(a,E);this.tangents=B.tangents,this.normals=B.normals,this.binormals=B.binormals;const M=new Dt,Q=new Dt,P=new Le;let O=new Dt;const H=[],z=[],J=[],j=[];nt(),this.setIndex(j),this.setAttribute("position",new Sn(H,3)),this.setAttribute("normal",new Sn(z,3)),this.setAttribute("uv",new Sn(J,2));function nt(){for(let ct=0;ct<a;ct++)q(ct);q(E===!1?a:0),ut(),Z()}function q(ct){O=i.getPointAt(ct/a,O);const lt=B.normals[ct],Vt=B.binormals[ct];for(let Tt=0;Tt<=d;Tt++){const Qt=Tt/d*Math.PI*2,Ut=Math.sin(Qt),xt=-Math.cos(Qt);Q.x=xt*lt.x+Ut*Vt.x,Q.y=xt*lt.y+Ut*Vt.y,Q.z=xt*lt.z+Ut*Vt.z,Q.normalize(),z.push(Q.x,Q.y,Q.z),M.x=O.x+u*Q.x,M.y=O.y+u*Q.y,M.z=O.z+u*Q.z,H.push(M.x,M.y,M.z)}}function Z(){for(let ct=1;ct<=a;ct++)for(let lt=1;lt<=d;lt++){const Vt=(d+1)*(ct-1)+(lt-1),Tt=(d+1)*ct+(lt-1),Qt=(d+1)*ct+lt,Ut=(d+1)*(ct-1)+lt;j.push(Vt,Tt,Ut),j.push(Tt,Qt,Ut)}}function ut(){for(let ct=0;ct<=a;ct++)for(let lt=0;lt<=d;lt++)P.x=ct/a,P.y=lt/d,J.push(P.x,P.y)}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}toJSON(){const i=super.toJSON();return i.path=this.parameters.path.toJSON(),i}static fromJSON(i){return new vI(new $i[i.path.type]().fromJSON(i.path),i.tubularSegments,i.radius,i.radialSegments,i.closed)}}class B2 extends Ri{constructor(i=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:i},i!==null){const a=[],u=new Set,d=new Dt,E=new Dt;if(i.index!==null){const B=i.attributes.position,M=i.index;let Q=i.groups;Q.length===0&&(Q=[{start:0,count:M.count,materialIndex:0}]);for(let P=0,O=Q.length;P<O;++P){const H=Q[P],z=H.start,J=H.count;for(let j=z,nt=z+J;j<nt;j+=3)for(let q=0;q<3;q++){const Z=M.getX(j+q),ut=M.getX(j+(q+1)%3);d.fromBufferAttribute(B,Z),E.fromBufferAttribute(B,ut),v2(d,E,u)===!0&&(a.push(d.x,d.y,d.z),a.push(E.x,E.y,E.z))}}}else{const B=i.attributes.position;for(let M=0,Q=B.count/3;M<Q;M++)for(let P=0;P<3;P++){const O=3*M+P,H=3*M+(P+1)%3;d.fromBufferAttribute(B,O),E.fromBufferAttribute(B,H),v2(d,E,u)===!0&&(a.push(d.x,d.y,d.z),a.push(E.x,E.y,E.z))}}this.setAttribute("position",new Sn(a,3))}}copy(i){return super.copy(i),this.parameters=Object.assign({},i.parameters),this}}function v2(C,i,a){const u=`${C.x},${C.y},${C.z}-${i.x},${i.y},${i.z}`,d=`${i.x},${i.y},${i.z}-${C.x},${C.y},${C.z}`;return a.has(u)===!0||a.has(d)===!0?!1:(a.add(u),a.add(d),!0)}var LD=Object.freeze({__proto__:null,BoxGeometry:Nf,CapsuleGeometry:Sd,CircleGeometry:mI,ConeGeometry:yI,CylinderGeometry:my,DodecahedronGeometry:Sc,EdgesGeometry:g2,ExtrudeGeometry:B_,IcosahedronGeometry:Cn,LatheGeometry:Dl,OctahedronGeometry:II,PlaneGeometry:$m,PolyhedronGeometry:ha,RingGeometry:wI,ShapeGeometry:v_,SphereGeometry:Kp,TetrahedronGeometry:b_,TorusGeometry:_I,TorusKnotGeometry:BI,TubeGeometry:vI,WireframeGeometry:B2});class b2 extends la{static get type(){return"ShadowMaterial"}constructor(i){super(),this.isShadowMaterial=!0,this.color=new gn(0),this.transparent=!0,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.fog=i.fog,this}}class M2 extends GA{static get type(){return"RawShaderMaterial"}constructor(i){super(i),this.isRawShaderMaterial=!0}}class S2 extends la{static get type(){return"MeshStandardMaterial"}constructor(i){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new gn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cA,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.defines={STANDARD:""},this.color.copy(i.color),this.roughness=i.roughness,this.metalness=i.metalness,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.roughnessMap=i.roughnessMap,this.metalnessMap=i.metalnessMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapRotation.copy(i.envMapRotation),this.envMapIntensity=i.envMapIntensity,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this.fog=i.fog,this}}class T2 extends S2{static get type(){return"MeshPhysicalMaterial"}constructor(i){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ws(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+.4*a)/(1-.4*a)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(i)}get anisotropy(){return this._anisotropy}set anisotropy(i){this._anisotropy>0!=i>0&&this.version++,this._anisotropy=i}get clearcoat(){return this._clearcoat}set clearcoat(i){this._clearcoat>0!=i>0&&this.version++,this._clearcoat=i}get iridescence(){return this._iridescence}set iridescence(i){this._iridescence>0!=i>0&&this.version++,this._iridescence=i}get dispersion(){return this._dispersion}set dispersion(i){this._dispersion>0!=i>0&&this.version++,this._dispersion=i}get sheen(){return this._sheen}set sheen(i){this._sheen>0!=i>0&&this.version++,this._sheen=i}get transmission(){return this._transmission}set transmission(i){this._transmission>0!=i>0&&this.version++,this._transmission=i}copy(i){return super.copy(i),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=i.anisotropy,this.anisotropyRotation=i.anisotropyRotation,this.anisotropyMap=i.anisotropyMap,this.clearcoat=i.clearcoat,this.clearcoatMap=i.clearcoatMap,this.clearcoatRoughness=i.clearcoatRoughness,this.clearcoatRoughnessMap=i.clearcoatRoughnessMap,this.clearcoatNormalMap=i.clearcoatNormalMap,this.clearcoatNormalScale.copy(i.clearcoatNormalScale),this.dispersion=i.dispersion,this.ior=i.ior,this.iridescence=i.iridescence,this.iridescenceMap=i.iridescenceMap,this.iridescenceIOR=i.iridescenceIOR,this.iridescenceThicknessRange=[...i.iridescenceThicknessRange],this.iridescenceThicknessMap=i.iridescenceThicknessMap,this.sheen=i.sheen,this.sheenColor.copy(i.sheenColor),this.sheenColorMap=i.sheenColorMap,this.sheenRoughness=i.sheenRoughness,this.sheenRoughnessMap=i.sheenRoughnessMap,this.transmission=i.transmission,this.transmissionMap=i.transmissionMap,this.thickness=i.thickness,this.thicknessMap=i.thicknessMap,this.attenuationDistance=i.attenuationDistance,this.attenuationColor.copy(i.attenuationColor),this.specularIntensity=i.specularIntensity,this.specularIntensityMap=i.specularIntensityMap,this.specularColor.copy(i.specularColor),this.specularColorMap=i.specularColorMap,this}}class PD extends la{static get type(){return"MeshPhongMaterial"}constructor(i){super(),this.isMeshPhongMaterial=!0,this.color=new gn(16777215),this.specular=new gn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cA,this.combine=AE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapRotation.copy(i.envMapRotation),this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this.fog=i.fog,this}}class FD extends la{static get type(){return"MeshToonMaterial"}constructor(i){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new gn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.gradientMap=i.gradientMap,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.fog=i.fog,this}}class bI extends la{static get type(){return"MeshNormalMaterial"}constructor(i){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(i)}copy(i){return super.copy(i),this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.flatShading=i.flatShading,this}}class D2 extends la{static get type(){return"MeshLambertMaterial"}constructor(i){super(),this.isMeshLambertMaterial=!0,this.color=new gn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cA,this.combine=AE,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapRotation.copy(i.envMapRotation),this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.flatShading=i.flatShading,this.fog=i.fog,this}}class M_ extends la{static get type(){return"MeshMatcapMaterial"}constructor(i){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new gn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=yd,this.normalScale=new Le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(i)}copy(i){return super.copy(i),this.defines={MATCAP:""},this.color.copy(i.color),this.matcap=i.matcap,this.map=i.map,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.flatShading=i.flatShading,this.fog=i.fog,this}}class R2 extends Go{static get type(){return"LineDashedMaterial"}constructor(i){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(i)}copy(i){return super.copy(i),this.scale=i.scale,this.dashSize=i.dashSize,this.gapSize=i.gapSize,this}}function Yf(C,i,a){return!C||!a&&C.constructor===i?C:typeof i.BYTES_PER_ELEMENT=="number"?new i(C):Array.prototype.slice.call(C)}function UD(C){return ArrayBuffer.isView(C)&&!(C instanceof DataView)}function Q2(C){function i(d,E){return C[d]-C[E]}const a=C.length,u=new Array(a);for(let d=0;d!==a;++d)u[d]=d;return u.sort(i),u}function MI(C,i,a){const u=C.length,d=new C.constructor(u);for(let E=0,B=0;B!==u;++E){const M=a[E]*i;for(let Q=0;Q!==i;++Q)d[B++]=C[M+Q]}return d}function S_(C,i,a,u){let d=1,E=C[0];for(;E!==void 0&&E[u]===void 0;)E=C[d++];if(E===void 0)return;let B=E[u];if(B!==void 0)if(Array.isArray(B))do B=E[u],B!==void 0&&(i.push(E.time),a.push.apply(a,B)),E=C[d++];while(E!==void 0);else if(B.toArray!==void 0)do B=E[u],B!==void 0&&(i.push(E.time),B.toArray(a,a.length)),E=C[d++];while(E!==void 0);else do B=E[u],B!==void 0&&(i.push(E.time),a.push(B)),E=C[d++];while(E!==void 0)}function ND(C,i,a,u,d=30){const E=C.clone();E.name=i;const B=[];for(let Q=0;Q<E.tracks.length;++Q){const P=E.tracks[Q],O=P.getValueSize(),H=[],z=[];for(let J=0;J<P.times.length;++J){const j=P.times[J]*d;if(!(j<a||j>=u)){H.push(P.times[J]);for(let nt=0;nt<O;++nt)z.push(P.values[J*O+nt])}}H.length!==0&&(P.times=Yf(H,P.times.constructor),P.values=Yf(z,P.values.constructor),B.push(P))}E.tracks=B;let M=1/0;for(let Q=0;Q<E.tracks.length;++Q)M>E.tracks[Q].times[0]&&(M=E.tracks[Q].times[0]);for(let Q=0;Q<E.tracks.length;++Q)E.tracks[Q].shift(-1*M);return E.resetDuration(),E}function GD(C,i=0,a=C,u=30){u<=0&&(u=30);const d=a.tracks.length,E=i/u;for(let B=0;B<d;++B){const M=a.tracks[B],Q=M.ValueTypeName;if(Q==="bool"||Q==="string")continue;const P=C.tracks.find(function(Z){return Z.name===M.name&&Z.ValueTypeName===Q});if(P===void 0)continue;let O=0;const H=M.getValueSize();M.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(O=H/3);let z=0;const J=P.getValueSize();P.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(z=J/3);const j=M.times.length-1;let nt;if(E<=M.times[0]){const Z=O,ut=H-O;nt=M.values.slice(Z,ut)}else if(E>=M.times[j]){const Z=j*H+O,ut=Z+H-O;nt=M.values.slice(Z,ut)}else{const Z=M.createInterpolant(),ut=O,ct=H-O;Z.evaluate(E),nt=Z.resultBuffer.slice(ut,ct)}Q==="quaternion"&&new vl().fromArray(nt).normalize().conjugate().toArray(nt);const q=P.times.length;for(let Z=0;Z<q;++Z){const ut=Z*J+z;if(Q==="quaternion")vl.multiplyQuaternionsFlat(P.values,ut,nt,0,P.values,ut);else{const ct=J-z*2;for(let lt=0;lt<ct;++lt)P.values[ut+lt]-=nt[lt]}}}return C.blendMode=Tv,C}const OD={convertArray:Yf,isTypedArray:UD,getKeyframeOrder:Q2,sortedArray:MI,flattenJSON:S_,subclip:ND,makeClipAdditive:GD};class SI{constructor(i,a,u,d){this.parameterPositions=i,this._cachedIndex=0,this.resultBuffer=d!==void 0?d:new a.constructor(u),this.sampleValues=a,this.valueSize=u,this.settings=null,this.DefaultSettings_={}}evaluate(i){const a=this.parameterPositions;let u=this._cachedIndex,d=a[u],E=a[u-1];t:{e:{let B;n:{i:if(!(i<d)){for(let M=u+2;;){if(d===void 0){if(i<E)break i;return u=a.length,this._cachedIndex=u,this.copySampleValue_(u-1)}if(u===M)break;if(E=d,d=a[++u],i<d)break e}B=a.length;break n}if(!(i>=E)){const M=a[1];i<M&&(u=2,E=M);for(let Q=u-2;;){if(E===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(u===Q)break;if(d=E,E=a[--u-1],i>=E)break e}B=u,u=0;break n}break t}for(;u<B;){const M=u+B>>>1;i<a[M]?B=M:u=M+1}if(d=a[u],E=a[u-1],E===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(d===void 0)return u=a.length,this._cachedIndex=u,this.copySampleValue_(u-1)}this._cachedIndex=u,this.intervalChanged_(u,E,d)}return this.interpolate_(u,E,i,d)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(i){const a=this.resultBuffer,u=this.sampleValues,d=this.valueSize,E=i*d;for(let B=0;B!==d;++B)a[B]=u[E+B];return a}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _y extends SI{constructor(i,a,u,d){super(i,a,u,d),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vf,endingEnd:vf}}intervalChanged_(i,a,u){const d=this.parameterPositions;let E=i-2,B=i+1,M=d[E],Q=d[B];if(M===void 0)switch(this.getSettings_().endingStart){case ra:E=i,M=2*a-u;break;case bf:E=d.length-2,M=a+d[E]-d[E+1];break;default:E=i,M=u}if(Q===void 0)switch(this.getSettings_().endingEnd){case ra:B=i,Q=2*u-a;break;case bf:B=1,Q=u+d[1]-d[0];break;default:B=i-1,Q=a}const P=(u-a)*.5,O=this.valueSize;this._weightPrev=P/(a-M),this._weightNext=P/(Q-u),this._offsetPrev=E*O,this._offsetNext=B*O}interpolate_(i,a,u,d){const E=this.resultBuffer,B=this.sampleValues,M=this.valueSize,Q=i*M,P=Q-M,O=this._offsetPrev,H=this._offsetNext,z=this._weightPrev,J=this._weightNext,j=(u-a)/(d-a),nt=j*j,q=nt*j,Z=-z*q+2*z*nt-z*j,ut=(1+z)*q+(-1.5-2*z)*nt+(-.5+z)*j+1,ct=(-1-J)*q+(1.5+J)*nt+.5*j,lt=J*q-J*nt;for(let Vt=0;Vt!==M;++Vt)E[Vt]=Z*B[O+Vt]+ut*B[P+Vt]+ct*B[Q+Vt]+lt*B[H+Vt];return E}}class By extends SI{constructor(i,a,u,d){super(i,a,u,d)}interpolate_(i,a,u,d){const E=this.resultBuffer,B=this.sampleValues,M=this.valueSize,Q=i*M,P=Q-M,O=(u-a)/(d-a),H=1-O;for(let z=0;z!==M;++z)E[z]=B[P+z]*H+B[Q+z]*O;return E}}class VD extends SI{constructor(i,a,u,d){super(i,a,u,d)}interpolate_(i){return this.copySampleValue_(i-1)}}class Eh{constructor(i,a,u,d){if(i===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(a===void 0||a.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+i);this.name=i,this.times=Yf(a,this.TimeBufferType),this.values=Yf(u,this.ValueBufferType),this.setInterpolation(d||this.DefaultInterpolation)}static toJSON(i){const a=i.constructor;let u;if(a.toJSON!==this.toJSON)u=a.toJSON(i);else{u={name:i.name,times:Yf(i.times,Array),values:Yf(i.values,Array)};const d=i.getInterpolation();d!==i.DefaultInterpolation&&(u.interpolation=d)}return u.type=i.ValueTypeName,u}InterpolantFactoryMethodDiscrete(i){return new VD(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodLinear(i){return new By(this.times,this.values,this.getValueSize(),i)}InterpolantFactoryMethodSmooth(i){return new _y(this.times,this.values,this.getValueSize(),i)}setInterpolation(i){let a;switch(i){case Sm:a=this.InterpolantFactoryMethodDiscrete;break;case Tm:a=this.InterpolantFactoryMethodLinear;break;case BE:a=this.InterpolantFactoryMethodSmooth;break}if(a===void 0){const u="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(i!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(u);return console.warn("THREE.KeyframeTrack:",u),this}return this.createInterpolant=a,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sm;case this.InterpolantFactoryMethodLinear:return Tm;case this.InterpolantFactoryMethodSmooth:return BE}}getValueSize(){return this.values.length/this.times.length}shift(i){if(i!==0){const a=this.times;for(let u=0,d=a.length;u!==d;++u)a[u]+=i}return this}scale(i){if(i!==1){const a=this.times;for(let u=0,d=a.length;u!==d;++u)a[u]*=i}return this}trim(i,a){const u=this.times,d=u.length;let E=0,B=d-1;for(;E!==d&&u[E]<i;)++E;for(;B!==-1&&u[B]>a;)--B;if(++B,E!==0||B!==d){E>=B&&(B=Math.max(B,1),E=B-1);const M=this.getValueSize();this.times=u.slice(E,B),this.values=this.values.slice(E*M,B*M)}return this}validate(){let i=!0;const a=this.getValueSize();a-Math.floor(a)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),i=!1);const u=this.times,d=this.values,E=u.length;E===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),i=!1);let B=null;for(let M=0;M!==E;M++){const Q=u[M];if(typeof Q=="number"&&isNaN(Q)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,M,Q),i=!1;break}if(B!==null&&B>Q){console.error("THREE.KeyframeTrack: Out of order keys.",this,M,Q,B),i=!1;break}B=Q}if(d!==void 0&&UD(d))for(let M=0,Q=d.length;M!==Q;++M){const P=d[M];if(isNaN(P)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,M,P),i=!1;break}}return i}optimize(){const i=this.times.slice(),a=this.values.slice(),u=this.getValueSize(),d=this.getInterpolation()===BE,E=i.length-1;let B=1;for(let M=1;M<E;++M){let Q=!1;const P=i[M],O=i[M+1];if(P!==O&&(M!==1||P!==i[0]))if(d)Q=!0;else{const H=M*u,z=H-u,J=H+u;for(let j=0;j!==u;++j){const nt=a[H+j];if(nt!==a[z+j]||nt!==a[J+j]){Q=!0;break}}}if(Q){if(M!==B){i[B]=i[M];const H=M*u,z=B*u;for(let J=0;J!==u;++J)a[z+J]=a[H+J]}++B}}if(E>0){i[B]=i[E];for(let M=E*u,Q=B*u,P=0;P!==u;++P)a[Q+P]=a[M+P];++B}return B!==i.length?(this.times=i.slice(0,B),this.values=a.slice(0,B*u)):(this.times=i,this.values=a),this}clone(){const i=this.times.slice(),a=this.values.slice(),u=this.constructor,d=new u(this.name,i,a);return d.createInterpolant=this.createInterpolant,d}}Eh.prototype.TimeBufferType=Float32Array,Eh.prototype.ValueBufferType=Float32Array,Eh.prototype.DefaultInterpolation=Tm;class Xp extends Eh{constructor(i,a,u){super(i,a,u)}}Xp.prototype.ValueTypeName="bool",Xp.prototype.ValueBufferType=Array,Xp.prototype.DefaultInterpolation=Sm,Xp.prototype.InterpolantFactoryMethodLinear=void 0,Xp.prototype.InterpolantFactoryMethodSmooth=void 0;class vy extends Eh{}vy.prototype.ValueTypeName="color";class by extends Eh{}by.prototype.ValueTypeName="number";class HD extends SI{constructor(i,a,u,d){super(i,a,u,d)}interpolate_(i,a,u,d){const E=this.resultBuffer,B=this.sampleValues,M=this.valueSize,Q=(u-a)/(d-a);let P=i*M;for(let O=P+M;P!==O;P+=4)vl.slerpFlat(E,0,B,P-M,B,P,Q);return E}}class My extends Eh{InterpolantFactoryMethodLinear(i){return new HD(this.times,this.values,this.getValueSize(),i)}}My.prototype.ValueTypeName="quaternion",My.prototype.InterpolantFactoryMethodSmooth=void 0;class VA extends Eh{constructor(i,a,u){super(i,a,u)}}VA.prototype.ValueTypeName="string",VA.prototype.ValueBufferType=Array,VA.prototype.DefaultInterpolation=Sm,VA.prototype.InterpolantFactoryMethodLinear=void 0,VA.prototype.InterpolantFactoryMethodSmooth=void 0;class Dd extends Eh{}Dd.prototype.ValueTypeName="vector";class TI{constructor(i="",a=-1,u=[],d=t3){this.name=i,this.tracks=u,this.duration=a,this.blendMode=d,this.uuid=UA(),this.duration<0&&this.resetDuration()}static parse(i){const a=[],u=i.tracks,d=1/(i.fps||1);for(let B=0,M=u.length;B!==M;++B)a.push(R9(u[B]).scale(d));const E=new this(i.name,i.duration,a,i.blendMode);return E.uuid=i.uuid,E}static toJSON(i){const a=[],u=i.tracks,d={name:i.name,duration:i.duration,tracks:a,uuid:i.uuid,blendMode:i.blendMode};for(let E=0,B=u.length;E!==B;++E)a.push(Eh.toJSON(u[E]));return d}static CreateFromMorphTargetSequence(i,a,u,d){const E=a.length,B=[];for(let M=0;M<E;M++){let Q=[],P=[];Q.push((M+E-1)%E,M,(M+1)%E),P.push(0,1,0);const O=Q2(Q);Q=MI(Q,1,O),P=MI(P,1,O),!d&&Q[0]===0&&(Q.push(E),P.push(P[0])),B.push(new by(".morphTargetInfluences["+a[M].name+"]",Q,P).scale(1/u))}return new this(i,-1,B)}static findByName(i,a){let u=i;if(!Array.isArray(i)){const d=i;u=d.geometry&&d.geometry.animations||d.animations}for(let d=0;d<u.length;d++)if(u[d].name===a)return u[d];return null}static CreateClipsFromMorphTargetSequences(i,a,u){const d={},E=/^([\w-]*?)([\d]+)$/;for(let M=0,Q=i.length;M<Q;M++){const P=i[M],O=P.name.match(E);if(O&&O.length>1){const H=O[1];let z=d[H];z||(d[H]=z=[]),z.push(P)}}const B=[];for(const M in d)B.push(this.CreateFromMorphTargetSequence(M,d[M],a,u));return B}static parseAnimation(i,a){if(!i)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const u=function(H,z,J,j,nt){if(J.length!==0){const q=[],Z=[];S_(J,q,Z,j),q.length!==0&&nt.push(new H(z,q,Z))}},d=[],E=i.name||"default",B=i.fps||30,M=i.blendMode;let Q=i.length||-1;const P=i.hierarchy||[];for(let H=0;H<P.length;H++){const z=P[H].keys;if(!(!z||z.length===0))if(z[0].morphTargets){const J={};let j;for(j=0;j<z.length;j++)if(z[j].morphTargets)for(let nt=0;nt<z[j].morphTargets.length;nt++)J[z[j].morphTargets[nt]]=-1;for(const nt in J){const q=[],Z=[];for(let ut=0;ut!==z[j].morphTargets.length;++ut){const ct=z[j];q.push(ct.time),Z.push(ct.morphTarget===nt?1:0)}d.push(new by(".morphTargetInfluence["+nt+"]",q,Z))}Q=J.length*B}else{const J=".bones["+a[H].name+"]";u(Dd,J+".position",z,"pos",d),u(My,J+".quaternion",z,"rot",d),u(Dd,J+".scale",z,"scl",d)}}return d.length===0?null:new this(E,Q,d,M)}resetDuration(){const i=this.tracks;let a=0;for(let u=0,d=i.length;u!==d;++u){const E=this.tracks[u];a=Math.max(a,E.times[E.times.length-1])}return this.duration=a,this}trim(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this}validate(){let i=!0;for(let a=0;a<this.tracks.length;a++)i=i&&this.tracks[a].validate();return i}optimize(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}clone(){const i=[];for(let a=0;a<this.tracks.length;a++)i.push(this.tracks[a].clone());return new this.constructor(this.name,this.duration,i,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function D9(C){switch(C.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return by;case"vector":case"vector2":case"vector3":case"vector4":return Dd;case"color":return vy;case"quaternion":return My;case"bool":case"boolean":return Xp;case"string":return VA}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+C)}function R9(C){if(C.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const i=D9(C.type);if(C.times===void 0){const a=[],u=[];S_(C.keys,a,u,"value"),C.times=a,C.values=u}return i.parse!==void 0?i.parse(C):new i(C.name,C.times,C.values,C.interpolation)}const Rd={enabled:!1,files:{},add:function(C,i){this.enabled!==!1&&(this.files[C]=i)},get:function(C){if(this.enabled!==!1)return this.files[C]},remove:function(C){delete this.files[C]},clear:function(){this.files={}}};class k2{constructor(i,a,u){const d=this;let E=!1,B=0,M=0,Q;const P=[];this.onStart=void 0,this.onLoad=i,this.onProgress=a,this.onError=u,this.itemStart=function(O){M++,E===!1&&d.onStart!==void 0&&d.onStart(O,B,M),E=!0},this.itemEnd=function(O){B++,d.onProgress!==void 0&&d.onProgress(O,B,M),B===M&&(E=!1,d.onLoad!==void 0&&d.onLoad())},this.itemError=function(O){d.onError!==void 0&&d.onError(O)},this.resolveURL=function(O){return Q?Q(O):O},this.setURLModifier=function(O){return Q=O,this},this.addHandler=function(O,H){return P.push(O,H),this},this.removeHandler=function(O){const H=P.indexOf(O);return H!==-1&&P.splice(H,2),this},this.getHandler=function(O){for(let H=0,z=P.length;H<z;H+=2){const J=P[H],j=P[H+1];if(J.global&&(J.lastIndex=0),J.test(O))return j}return null}}}const zD=new k2;class mA{constructor(i){this.manager=i!==void 0?i:zD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,a){const u=this;return new Promise(function(d,E){u.load(i,d,a,E)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}mA.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ih={};class Q9 extends Error{constructor(i,a){super(i),this.response=a}}class yA extends mA{constructor(i){super(i)}load(i,a,u,d){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const E=Rd.get(i);if(E!==void 0)return this.manager.itemStart(i),setTimeout(()=>{a&&a(E),this.manager.itemEnd(i)},0),E;if(Ih[i]!==void 0){Ih[i].push({onLoad:a,onProgress:u,onError:d});return}Ih[i]=[],Ih[i].push({onLoad:a,onProgress:u,onError:d});const B=new Request(i,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),M=this.mimeType,Q=this.responseType;fetch(B).then(P=>{if(P.status===200||P.status===0){if(P.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||P.body===void 0||P.body.getReader===void 0)return P;const O=Ih[i],H=P.body.getReader(),z=P.headers.get("X-File-Size")||P.headers.get("Content-Length"),J=z?parseInt(z):0,j=J!==0;let nt=0;const q=new ReadableStream({start(Z){ut();function ut(){H.read().then(({done:ct,value:lt})=>{if(ct)Z.close();else{nt+=lt.byteLength;const Vt=new ProgressEvent("progress",{lengthComputable:j,loaded:nt,total:J});for(let Tt=0,Qt=O.length;Tt<Qt;Tt++){const Ut=O[Tt];Ut.onProgress&&Ut.onProgress(Vt)}Z.enqueue(lt),ut()}},ct=>{Z.error(ct)})}}});return new Response(q)}else throw new Q9(`fetch for "${P.url}" responded with ${P.status}: ${P.statusText}`,P)}).then(P=>{switch(Q){case"arraybuffer":return P.arrayBuffer();case"blob":return P.blob();case"document":return P.text().then(O=>new DOMParser().parseFromString(O,M));case"json":return P.json();default:if(M===void 0)return P.text();{const H=/charset="?([^;"\s]*)"?/i.exec(M),z=H&&H[1]?H[1].toLowerCase():void 0,J=new TextDecoder(z);return P.arrayBuffer().then(j=>J.decode(j))}}}).then(P=>{Rd.add(i,P);const O=Ih[i];delete Ih[i];for(let H=0,z=O.length;H<z;H++){const J=O[H];J.onLoad&&J.onLoad(P)}}).catch(P=>{const O=Ih[i];if(O===void 0)throw this.manager.itemError(i),P;delete Ih[i];for(let H=0,z=O.length;H<z;H++){const J=O[H];J.onError&&J.onError(P)}this.manager.itemError(i)}).finally(()=>{this.manager.itemEnd(i)}),this.manager.itemStart(i)}setResponseType(i){return this.responseType=i,this}setMimeType(i){return this.mimeType=i,this}}class k9 extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=new yA(this.manager);B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(i,function(M){try{a(E.parse(JSON.parse(M)))}catch(Q){d?d(Q):console.error(Q),E.manager.itemError(i)}},u,d)}parse(i){const a=[];for(let u=0;u<i.length;u++){const d=TI.parse(i[u]);a.push(d)}return a}}class Qr extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=[],M=new y_,Q=new yA(this.manager);Q.setPath(this.path),Q.setResponseType("arraybuffer"),Q.setRequestHeader(this.requestHeader),Q.setWithCredentials(E.withCredentials);let P=0;function O(H){Q.load(i[H],function(z){const J=E.parse(z,!0);B[H]={width:J.width,height:J.height,format:J.format,mipmaps:J.mipmaps},P+=1,P===6&&(J.mipmapCount===1&&(M.minFilter=Qo),M.image=B,M.format=J.format,M.needsUpdate=!0,a&&a(M))},u,d)}if(Array.isArray(i))for(let H=0,z=i.length;H<z;++H)O(H);else Q.load(i,function(H){const z=E.parse(H,!0);if(z.isCubemap){const J=z.mipmaps.length/z.mipmapCount;for(let j=0;j<J;j++){B[j]={mipmaps:[]};for(let nt=0;nt<z.mipmapCount;nt++)B[j].mipmaps.push(z.mipmaps[j*z.mipmapCount+nt]),B[j].format=z.format,B[j].width=z.width,B[j].height=z.height}M.image=B}else M.image.width=z.width,M.image.height=z.height,M.mipmaps=z.mipmaps;z.mipmapCount===1&&(M.minFilter=Qo),M.format=z.format,M.needsUpdate=!0,a&&a(M)},u,d);return M}}class Zf extends mA{constructor(i){super(i)}load(i,a,u,d){this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const E=this,B=Rd.get(i);if(B!==void 0)return E.manager.itemStart(i),setTimeout(function(){a&&a(B),E.manager.itemEnd(i)},0),B;const M=Lm("img");function Q(){O(),Rd.add(i,this),a&&a(this),E.manager.itemEnd(i)}function P(H){O(),d&&d(H),E.manager.itemError(i),E.manager.itemEnd(i)}function O(){M.removeEventListener("load",Q,!1),M.removeEventListener("error",P,!1)}return M.addEventListener("load",Q,!1),M.addEventListener("error",P,!1),i.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(M.crossOrigin=this.crossOrigin),E.manager.itemStart(i),M.src=i,M}}class WD extends mA{constructor(i){super(i)}load(i,a,u,d){const E=new fu;E.colorSpace=Na;const B=new Zf(this.manager);B.setCrossOrigin(this.crossOrigin),B.setPath(this.path);let M=0;function Q(P){B.load(i[P],function(O){E.images[P]=O,M++,M===6&&(E.needsUpdate=!0,a&&a(E))},void 0,d)}for(let P=0;P<i.length;++P)Q(P);return E}}class T_ extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=new Cu,M=new yA(this.manager);return M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(E.withCredentials),M.load(i,function(Q){let P;try{P=E.parse(Q)}catch(O){if(d!==void 0)d(O);else{console.error(O);return}}P.image!==void 0?B.image=P.image:P.data!==void 0&&(B.image.width=P.width,B.image.height=P.height,B.image.data=P.data),B.wrapS=P.wrapS!==void 0?P.wrapS:xc,B.wrapT=P.wrapT!==void 0?P.wrapT:xc,B.magFilter=P.magFilter!==void 0?P.magFilter:Qo,B.minFilter=P.minFilter!==void 0?P.minFilter:Qo,B.anisotropy=P.anisotropy!==void 0?P.anisotropy:1,P.colorSpace!==void 0&&(B.colorSpace=P.colorSpace),P.flipY!==void 0&&(B.flipY=P.flipY),P.format!==void 0&&(B.format=P.format),P.type!==void 0&&(B.type=P.type),P.mipmaps!==void 0&&(B.mipmaps=P.mipmaps,B.minFilter=iu),P.mipmapCount===1&&(B.minFilter=Qo),P.generateMipmaps!==void 0&&(B.generateMipmaps=P.generateMipmaps),B.needsUpdate=!0,a&&a(B,P)},u,d),B}}class D_ extends mA{constructor(i){super(i)}load(i,a,u,d){const E=new Dr,B=new Zf(this.manager);return B.setCrossOrigin(this.crossOrigin),B.setPath(this.path),B.load(i,function(M){E.image=M,E.needsUpdate=!0,a!==void 0&&a(E)},u,d),E}}class Tc extends os{constructor(i,a=1){super(),this.isLight=!0,this.type="Light",this.color=new gn(i),this.intensity=a}dispose(){}copy(i,a){return super.copy(i,a),this.color.copy(i.color),this.intensity=i.intensity,this}toJSON(i){const a=super.toJSON(i);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(a.object.target=this.target.uuid),a}}class L2 extends Tc{constructor(i,a,u){super(i,u),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(os.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gn(a)}copy(i,a){return super.copy(i,a),this.groundColor.copy(i.groundColor),this}}const R_=new ui,Sy=new Dt,Q_=new Dt;class P2{constructor(i){this.camera=i,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Le(512,512),this.map=null,this.mapPass=null,this.matrix=new ui,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new qm,this._frameExtents=new Le(1,1),this._viewportCount=1,this._viewports=[new qi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(i){const a=this.camera,u=this.matrix;Sy.setFromMatrixPosition(i.matrixWorld),a.position.copy(Sy),Q_.setFromMatrixPosition(i.target.matrixWorld),a.lookAt(Q_),a.updateMatrixWorld(),R_.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R_),u.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),u.multiply(R_)}getViewport(i){return this._viewports[i]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(i){return this.camera=i.camera.clone(),this.intensity=i.intensity,this.bias=i.bias,this.radius=i.radius,this.mapSize.copy(i.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const i={};return this.intensity!==1&&(i.intensity=this.intensity),this.bias!==0&&(i.bias=this.bias),this.normalBias!==0&&(i.normalBias=this.normalBias),this.radius!==1&&(i.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(i.mapSize=this.mapSize.toArray()),i.camera=this.camera.toJSON(!1).object,delete i.camera.matrix,i}}class L9 extends P2{constructor(){super(new Uo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(i){const a=this.camera,u=Qm*2*i.angle*this.focus,d=this.mapSize.width/this.mapSize.height,E=i.distance||a.far;(u!==a.fov||d!==a.aspect||E!==a.far)&&(a.fov=u,a.aspect=d,a.far=E,a.updateProjectionMatrix()),super.updateMatrices(i)}copy(i){return super.copy(i),this.focus=i.focus,this}}class JD extends Tc{constructor(i,a,u=0,d=Math.PI/3,E=0,B=2){super(i,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(os.DEFAULT_UP),this.updateMatrix(),this.target=new os,this.distance=u,this.angle=d,this.penumbra=E,this.decay=B,this.map=null,this.shadow=new L9}get power(){return this.intensity*Math.PI}set power(i){this.intensity=i/Math.PI}dispose(){this.shadow.dispose()}copy(i,a){return super.copy(i,a),this.distance=i.distance,this.angle=i.angle,this.penumbra=i.penumbra,this.decay=i.decay,this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}const YD=new ui,DI=new Dt,RI=new Dt;class F2 extends P2{constructor(){super(new Uo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Le(4,2),this._viewportCount=6,this._viewports=[new qi(2,1,1,1),new qi(0,1,1,1),new qi(3,1,1,1),new qi(1,1,1,1),new qi(3,0,1,1),new qi(1,0,1,1)],this._cubeDirections=[new Dt(1,0,0),new Dt(-1,0,0),new Dt(0,0,1),new Dt(0,0,-1),new Dt(0,1,0),new Dt(0,-1,0)],this._cubeUps=[new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,1,0),new Dt(0,0,1),new Dt(0,0,-1)]}updateMatrices(i,a=0){const u=this.camera,d=this.matrix,E=i.distance||u.far;E!==u.far&&(u.far=E,u.updateProjectionMatrix()),DI.setFromMatrixPosition(i.matrixWorld),u.position.copy(DI),RI.copy(u.position),RI.add(this._cubeDirections[a]),u.up.copy(this._cubeUps[a]),u.lookAt(RI),u.updateMatrixWorld(),d.makeTranslation(-DI.x,-DI.y,-DI.z),YD.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),this._frustum.setFromProjectionMatrix(YD)}}class k_ extends Tc{constructor(i,a,u=0,d=2){super(i,a),this.isPointLight=!0,this.type="PointLight",this.distance=u,this.decay=d,this.shadow=new F2}get power(){return this.intensity*4*Math.PI}set power(i){this.intensity=i/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(i,a){return super.copy(i,a),this.distance=i.distance,this.decay=i.decay,this.shadow=i.shadow.clone(),this}}class P9 extends P2{constructor(){super(new KE(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ZD extends Tc{constructor(i,a){super(i,a),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(os.DEFAULT_UP),this.updateMatrix(),this.target=new os,this.shadow=new P9}dispose(){this.shadow.dispose()}copy(i){return super.copy(i),this.target=i.target.clone(),this.shadow=i.shadow.clone(),this}}class U2 extends Tc{constructor(i,a){super(i,a),this.isAmbientLight=!0,this.type="AmbientLight"}}class L_ extends Tc{constructor(i,a,u=10,d=10){super(i,a),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=u,this.height=d}get power(){return this.intensity*this.width*this.height*Math.PI}set power(i){this.intensity=i/(this.width*this.height*Math.PI)}copy(i){return super.copy(i),this.width=i.width,this.height=i.height,this}toJSON(i){const a=super.toJSON(i);return a.object.width=this.width,a.object.height=this.height,a}}class N2{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let i=0;i<9;i++)this.coefficients.push(new Dt)}set(i){for(let a=0;a<9;a++)this.coefficients[a].copy(i[a]);return this}zero(){for(let i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this}getAt(i,a){const u=i.x,d=i.y,E=i.z,B=this.coefficients;return a.copy(B[0]).multiplyScalar(.282095),a.addScaledVector(B[1],.488603*d),a.addScaledVector(B[2],.488603*E),a.addScaledVector(B[3],.488603*u),a.addScaledVector(B[4],1.092548*(u*d)),a.addScaledVector(B[5],1.092548*(d*E)),a.addScaledVector(B[6],.315392*(3*E*E-1)),a.addScaledVector(B[7],1.092548*(u*E)),a.addScaledVector(B[8],.546274*(u*u-d*d)),a}getIrradianceAt(i,a){const u=i.x,d=i.y,E=i.z,B=this.coefficients;return a.copy(B[0]).multiplyScalar(.886227),a.addScaledVector(B[1],2*.511664*d),a.addScaledVector(B[2],2*.511664*E),a.addScaledVector(B[3],2*.511664*u),a.addScaledVector(B[4],2*.429043*u*d),a.addScaledVector(B[5],2*.429043*d*E),a.addScaledVector(B[6],.743125*E*E-.247708),a.addScaledVector(B[7],2*.429043*u*E),a.addScaledVector(B[8],.429043*(u*u-d*d)),a}add(i){for(let a=0;a<9;a++)this.coefficients[a].add(i.coefficients[a]);return this}addScaledSH(i,a){for(let u=0;u<9;u++)this.coefficients[u].addScaledVector(i.coefficients[u],a);return this}scale(i){for(let a=0;a<9;a++)this.coefficients[a].multiplyScalar(i);return this}lerp(i,a){for(let u=0;u<9;u++)this.coefficients[u].lerp(i.coefficients[u],a);return this}equals(i){for(let a=0;a<9;a++)if(!this.coefficients[a].equals(i.coefficients[a]))return!1;return!0}copy(i){return this.set(i.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(i,a=0){const u=this.coefficients;for(let d=0;d<9;d++)u[d].fromArray(i,a+d*3);return this}toArray(i=[],a=0){const u=this.coefficients;for(let d=0;d<9;d++)u[d].toArray(i,a+d*3);return i}static getBasisAt(i,a){const u=i.x,d=i.y,E=i.z;a[0]=.282095,a[1]=.488603*d,a[2]=.488603*E,a[3]=.488603*u,a[4]=1.092548*u*d,a[5]=1.092548*d*E,a[6]=.315392*(3*E*E-1),a[7]=1.092548*u*E,a[8]=.546274*(u*u-d*d)}}class G2 extends Tc{constructor(i=new N2,a=1){super(void 0,a),this.isLightProbe=!0,this.sh=i}copy(i){return super.copy(i),this.sh.copy(i.sh),this}fromJSON(i){return this.intensity=i.intensity,this.sh.fromArray(i.sh),this}toJSON(i){const a=super.toJSON(i);return a.object.sh=this.sh.toArray(),a}}class Kf extends mA{constructor(i){super(i),this.textures={}}load(i,a,u,d){const E=this,B=new yA(E.manager);B.setPath(E.path),B.setRequestHeader(E.requestHeader),B.setWithCredentials(E.withCredentials),B.load(i,function(M){try{a(E.parse(JSON.parse(M)))}catch(Q){d?d(Q):console.error(Q),E.manager.itemError(i)}},u,d)}parse(i){const a=this.textures;function u(E){return a[E]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",E),a[E]}const d=this.createMaterialFromType(i.type);if(i.uuid!==void 0&&(d.uuid=i.uuid),i.name!==void 0&&(d.name=i.name),i.color!==void 0&&d.color!==void 0&&d.color.setHex(i.color),i.roughness!==void 0&&(d.roughness=i.roughness),i.metalness!==void 0&&(d.metalness=i.metalness),i.sheen!==void 0&&(d.sheen=i.sheen),i.sheenColor!==void 0&&(d.sheenColor=new gn().setHex(i.sheenColor)),i.sheenRoughness!==void 0&&(d.sheenRoughness=i.sheenRoughness),i.emissive!==void 0&&d.emissive!==void 0&&d.emissive.setHex(i.emissive),i.specular!==void 0&&d.specular!==void 0&&d.specular.setHex(i.specular),i.specularIntensity!==void 0&&(d.specularIntensity=i.specularIntensity),i.specularColor!==void 0&&d.specularColor!==void 0&&d.specularColor.setHex(i.specularColor),i.shininess!==void 0&&(d.shininess=i.shininess),i.clearcoat!==void 0&&(d.clearcoat=i.clearcoat),i.clearcoatRoughness!==void 0&&(d.clearcoatRoughness=i.clearcoatRoughness),i.dispersion!==void 0&&(d.dispersion=i.dispersion),i.iridescence!==void 0&&(d.iridescence=i.iridescence),i.iridescenceIOR!==void 0&&(d.iridescenceIOR=i.iridescenceIOR),i.iridescenceThicknessRange!==void 0&&(d.iridescenceThicknessRange=i.iridescenceThicknessRange),i.transmission!==void 0&&(d.transmission=i.transmission),i.thickness!==void 0&&(d.thickness=i.thickness),i.attenuationDistance!==void 0&&(d.attenuationDistance=i.attenuationDistance),i.attenuationColor!==void 0&&d.attenuationColor!==void 0&&d.attenuationColor.setHex(i.attenuationColor),i.anisotropy!==void 0&&(d.anisotropy=i.anisotropy),i.anisotropyRotation!==void 0&&(d.anisotropyRotation=i.anisotropyRotation),i.fog!==void 0&&(d.fog=i.fog),i.flatShading!==void 0&&(d.flatShading=i.flatShading),i.blending!==void 0&&(d.blending=i.blending),i.combine!==void 0&&(d.combine=i.combine),i.side!==void 0&&(d.side=i.side),i.shadowSide!==void 0&&(d.shadowSide=i.shadowSide),i.opacity!==void 0&&(d.opacity=i.opacity),i.transparent!==void 0&&(d.transparent=i.transparent),i.alphaTest!==void 0&&(d.alphaTest=i.alphaTest),i.alphaHash!==void 0&&(d.alphaHash=i.alphaHash),i.depthFunc!==void 0&&(d.depthFunc=i.depthFunc),i.depthTest!==void 0&&(d.depthTest=i.depthTest),i.depthWrite!==void 0&&(d.depthWrite=i.depthWrite),i.colorWrite!==void 0&&(d.colorWrite=i.colorWrite),i.blendSrc!==void 0&&(d.blendSrc=i.blendSrc),i.blendDst!==void 0&&(d.blendDst=i.blendDst),i.blendEquation!==void 0&&(d.blendEquation=i.blendEquation),i.blendSrcAlpha!==void 0&&(d.blendSrcAlpha=i.blendSrcAlpha),i.blendDstAlpha!==void 0&&(d.blendDstAlpha=i.blendDstAlpha),i.blendEquationAlpha!==void 0&&(d.blendEquationAlpha=i.blendEquationAlpha),i.blendColor!==void 0&&d.blendColor!==void 0&&d.blendColor.setHex(i.blendColor),i.blendAlpha!==void 0&&(d.blendAlpha=i.blendAlpha),i.stencilWriteMask!==void 0&&(d.stencilWriteMask=i.stencilWriteMask),i.stencilFunc!==void 0&&(d.stencilFunc=i.stencilFunc),i.stencilRef!==void 0&&(d.stencilRef=i.stencilRef),i.stencilFuncMask!==void 0&&(d.stencilFuncMask=i.stencilFuncMask),i.stencilFail!==void 0&&(d.stencilFail=i.stencilFail),i.stencilZFail!==void 0&&(d.stencilZFail=i.stencilZFail),i.stencilZPass!==void 0&&(d.stencilZPass=i.stencilZPass),i.stencilWrite!==void 0&&(d.stencilWrite=i.stencilWrite),i.wireframe!==void 0&&(d.wireframe=i.wireframe),i.wireframeLinewidth!==void 0&&(d.wireframeLinewidth=i.wireframeLinewidth),i.wireframeLinecap!==void 0&&(d.wireframeLinecap=i.wireframeLinecap),i.wireframeLinejoin!==void 0&&(d.wireframeLinejoin=i.wireframeLinejoin),i.rotation!==void 0&&(d.rotation=i.rotation),i.linewidth!==void 0&&(d.linewidth=i.linewidth),i.dashSize!==void 0&&(d.dashSize=i.dashSize),i.gapSize!==void 0&&(d.gapSize=i.gapSize),i.scale!==void 0&&(d.scale=i.scale),i.polygonOffset!==void 0&&(d.polygonOffset=i.polygonOffset),i.polygonOffsetFactor!==void 0&&(d.polygonOffsetFactor=i.polygonOffsetFactor),i.polygonOffsetUnits!==void 0&&(d.polygonOffsetUnits=i.polygonOffsetUnits),i.dithering!==void 0&&(d.dithering=i.dithering),i.alphaToCoverage!==void 0&&(d.alphaToCoverage=i.alphaToCoverage),i.premultipliedAlpha!==void 0&&(d.premultipliedAlpha=i.premultipliedAlpha),i.forceSinglePass!==void 0&&(d.forceSinglePass=i.forceSinglePass),i.visible!==void 0&&(d.visible=i.visible),i.toneMapped!==void 0&&(d.toneMapped=i.toneMapped),i.userData!==void 0&&(d.userData=i.userData),i.vertexColors!==void 0&&(typeof i.vertexColors=="number"?d.vertexColors=i.vertexColors>0:d.vertexColors=i.vertexColors),i.uniforms!==void 0)for(const E in i.uniforms){const B=i.uniforms[E];switch(d.uniforms[E]={},B.type){case"t":d.uniforms[E].value=u(B.value);break;case"c":d.uniforms[E].value=new gn().setHex(B.value);break;case"v2":d.uniforms[E].value=new Le().fromArray(B.value);break;case"v3":d.uniforms[E].value=new Dt().fromArray(B.value);break;case"v4":d.uniforms[E].value=new qi().fromArray(B.value);break;case"m3":d.uniforms[E].value=new Ii().fromArray(B.value);break;case"m4":d.uniforms[E].value=new ui().fromArray(B.value);break;default:d.uniforms[E].value=B.value}}if(i.defines!==void 0&&(d.defines=i.defines),i.vertexShader!==void 0&&(d.vertexShader=i.vertexShader),i.fragmentShader!==void 0&&(d.fragmentShader=i.fragmentShader),i.glslVersion!==void 0&&(d.glslVersion=i.glslVersion),i.extensions!==void 0)for(const E in i.extensions)d.extensions[E]=i.extensions[E];if(i.lights!==void 0&&(d.lights=i.lights),i.clipping!==void 0&&(d.clipping=i.clipping),i.size!==void 0&&(d.size=i.size),i.sizeAttenuation!==void 0&&(d.sizeAttenuation=i.sizeAttenuation),i.map!==void 0&&(d.map=u(i.map)),i.matcap!==void 0&&(d.matcap=u(i.matcap)),i.alphaMap!==void 0&&(d.alphaMap=u(i.alphaMap)),i.bumpMap!==void 0&&(d.bumpMap=u(i.bumpMap)),i.bumpScale!==void 0&&(d.bumpScale=i.bumpScale),i.normalMap!==void 0&&(d.normalMap=u(i.normalMap)),i.normalMapType!==void 0&&(d.normalMapType=i.normalMapType),i.normalScale!==void 0){let E=i.normalScale;Array.isArray(E)===!1&&(E=[E,E]),d.normalScale=new Le().fromArray(E)}return i.displacementMap!==void 0&&(d.displacementMap=u(i.displacementMap)),i.displacementScale!==void 0&&(d.displacementScale=i.displacementScale),i.displacementBias!==void 0&&(d.displacementBias=i.displacementBias),i.roughnessMap!==void 0&&(d.roughnessMap=u(i.roughnessMap)),i.metalnessMap!==void 0&&(d.metalnessMap=u(i.metalnessMap)),i.emissiveMap!==void 0&&(d.emissiveMap=u(i.emissiveMap)),i.emissiveIntensity!==void 0&&(d.emissiveIntensity=i.emissiveIntensity),i.specularMap!==void 0&&(d.specularMap=u(i.specularMap)),i.specularIntensityMap!==void 0&&(d.specularIntensityMap=u(i.specularIntensityMap)),i.specularColorMap!==void 0&&(d.specularColorMap=u(i.specularColorMap)),i.envMap!==void 0&&(d.envMap=u(i.envMap)),i.envMapRotation!==void 0&&d.envMapRotation.fromArray(i.envMapRotation),i.envMapIntensity!==void 0&&(d.envMapIntensity=i.envMapIntensity),i.reflectivity!==void 0&&(d.reflectivity=i.reflectivity),i.refractionRatio!==void 0&&(d.refractionRatio=i.refractionRatio),i.lightMap!==void 0&&(d.lightMap=u(i.lightMap)),i.lightMapIntensity!==void 0&&(d.lightMapIntensity=i.lightMapIntensity),i.aoMap!==void 0&&(d.aoMap=u(i.aoMap)),i.aoMapIntensity!==void 0&&(d.aoMapIntensity=i.aoMapIntensity),i.gradientMap!==void 0&&(d.gradientMap=u(i.gradientMap)),i.clearcoatMap!==void 0&&(d.clearcoatMap=u(i.clearcoatMap)),i.clearcoatRoughnessMap!==void 0&&(d.clearcoatRoughnessMap=u(i.clearcoatRoughnessMap)),i.clearcoatNormalMap!==void 0&&(d.clearcoatNormalMap=u(i.clearcoatNormalMap)),i.clearcoatNormalScale!==void 0&&(d.clearcoatNormalScale=new Le().fromArray(i.clearcoatNormalScale)),i.iridescenceMap!==void 0&&(d.iridescenceMap=u(i.iridescenceMap)),i.iridescenceThicknessMap!==void 0&&(d.iridescenceThicknessMap=u(i.iridescenceThicknessMap)),i.transmissionMap!==void 0&&(d.transmissionMap=u(i.transmissionMap)),i.thicknessMap!==void 0&&(d.thicknessMap=u(i.thicknessMap)),i.anisotropyMap!==void 0&&(d.anisotropyMap=u(i.anisotropyMap)),i.sheenColorMap!==void 0&&(d.sheenColorMap=u(i.sheenColorMap)),i.sheenRoughnessMap!==void 0&&(d.sheenRoughnessMap=u(i.sheenRoughnessMap)),d}setTextures(i){return this.textures=i,this}createMaterialFromType(i){return Kf.createMaterialFromType(i)}static createMaterialFromType(i){const a={ShadowMaterial:b2,SpriteMaterial:e2,RawShaderMaterial:M2,ShaderMaterial:GA,PointsMaterial:u_,MeshPhysicalMaterial:T2,MeshStandardMaterial:S2,MeshPhongMaterial:PD,MeshToonMaterial:FD,MeshNormalMaterial:bI,MeshLambertMaterial:D2,MeshDepthMaterial:Kb,MeshDistanceMaterial:sI,MeshBasicMaterial:kf,MeshMatcapMaterial:M_,LineDashedMaterial:R2,LineBasicMaterial:Go,Material:la};return new a[i]}}class P_{static decodeText(i){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(i);let a="";for(let u=0,d=i.length;u<d;u++)a+=String.fromCharCode(i[u]);try{return decodeURIComponent(escape(a))}catch{return a}}static extractUrlBase(i){const a=i.lastIndexOf("/");return a===-1?"./":i.slice(0,a+1)}static resolveURL(i,a){return typeof i!="string"||i===""?"":(/^https?:\/\//i.test(a)&&/^\//.test(i)&&(a=a.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(i)||/^data:.*,.*$/i.test(i)||/^blob:.*$/i.test(i)?i:a+i)}}class Xf extends Ri{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(i){return super.copy(i),this.instanceCount=i.instanceCount,this}toJSON(){const i=super.toJSON();return i.instanceCount=this.instanceCount,i.isInstancedBufferGeometry=!0,i}}class KD extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=new yA(E.manager);B.setPath(E.path),B.setRequestHeader(E.requestHeader),B.setWithCredentials(E.withCredentials),B.load(i,function(M){try{a(E.parse(JSON.parse(M)))}catch(Q){d?d(Q):console.error(Q),E.manager.itemError(i)}},u,d)}parse(i){const a={},u={};function d(J,j){if(a[j]!==void 0)return a[j];const q=J.interleavedBuffers[j],Z=E(J,q.buffer),ut=_p(q.type,Z),ct=new $3(ut,q.stride);return ct.uuid=q.uuid,a[j]=ct,ct}function E(J,j){if(u[j]!==void 0)return u[j];const q=J.arrayBuffers[j],Z=new Uint32Array(q).buffer;return u[j]=Z,Z}const B=i.isInstancedBufferGeometry?new Xf:new Ri,M=i.data.index;if(M!==void 0){const J=_p(M.type,M.array);B.setIndex(new Bs(J,1))}const Q=i.data.attributes;for(const J in Q){const j=Q[J];let nt;if(j.isInterleavedBufferAttribute){const q=d(i.data,j.data);nt=new Gp(q,j.itemSize,j.offset,j.normalized)}else{const q=_p(j.type,j.array),Z=j.isInstancedBufferAttribute?fy:Bs;nt=new Z(q,j.itemSize,j.normalized)}j.name!==void 0&&(nt.name=j.name),j.usage!==void 0&&nt.setUsage(j.usage),B.setAttribute(J,nt)}const P=i.data.morphAttributes;if(P)for(const J in P){const j=P[J],nt=[];for(let q=0,Z=j.length;q<Z;q++){const ut=j[q];let ct;if(ut.isInterleavedBufferAttribute){const lt=d(i.data,ut.data);ct=new Gp(lt,ut.itemSize,ut.offset,ut.normalized)}else{const lt=_p(ut.type,ut.array);ct=new Bs(lt,ut.itemSize,ut.normalized)}ut.name!==void 0&&(ct.name=ut.name),nt.push(ct)}B.morphAttributes[J]=nt}i.data.morphTargetsRelative&&(B.morphTargetsRelative=!0);const H=i.data.groups||i.data.drawcalls||i.data.offsets;if(H!==void 0)for(let J=0,j=H.length;J!==j;++J){const nt=H[J];B.addGroup(nt.start,nt.count,nt.materialIndex)}const z=i.data.boundingSphere;if(z!==void 0){const J=new Dt;z.center!==void 0&&J.fromArray(z.center),B.boundingSphere=new Lo(J,z.radius)}return i.name&&(B.name=i.name),i.userData&&(B.userData=i.userData),B}}class F9 extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=this.path===""?P_.extractUrlBase(i):this.path;this.resourcePath=this.resourcePath||B;const M=new yA(this.manager);M.setPath(this.path),M.setRequestHeader(this.requestHeader),M.setWithCredentials(this.withCredentials),M.load(i,function(Q){let P=null;try{P=JSON.parse(Q)}catch(H){d!==void 0&&d(H),console.error("THREE:ObjectLoader: Can't parse "+i+".",H.message);return}const O=P.metadata;if(O===void 0||O.type===void 0||O.type.toLowerCase()==="geometry"){d!==void 0&&d(new Error("THREE.ObjectLoader: Can't load "+i)),console.error("THREE.ObjectLoader: Can't load "+i);return}E.parse(P,a)},u,d)}async loadAsync(i,a){const u=this,d=this.path===""?P_.extractUrlBase(i):this.path;this.resourcePath=this.resourcePath||d;const E=new yA(this.manager);E.setPath(this.path),E.setRequestHeader(this.requestHeader),E.setWithCredentials(this.withCredentials);const B=await E.loadAsync(i,a),M=JSON.parse(B),Q=M.metadata;if(Q===void 0||Q.type===void 0||Q.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+i);return await u.parseAsync(M)}parse(i,a){const u=this.parseAnimations(i.animations),d=this.parseShapes(i.shapes),E=this.parseGeometries(i.geometries,d),B=this.parseImages(i.images,function(){a!==void 0&&a(P)}),M=this.parseTextures(i.textures,B),Q=this.parseMaterials(i.materials,M),P=this.parseObject(i.object,E,Q,M,u),O=this.parseSkeletons(i.skeletons,P);if(this.bindSkeletons(P,O),this.bindLightTargets(P),a!==void 0){let H=!1;for(const z in B)if(B[z].data instanceof HTMLImageElement){H=!0;break}H===!1&&a(P)}return P}async parseAsync(i){const a=this.parseAnimations(i.animations),u=this.parseShapes(i.shapes),d=this.parseGeometries(i.geometries,u),E=await this.parseImagesAsync(i.images),B=this.parseTextures(i.textures,E),M=this.parseMaterials(i.materials,B),Q=this.parseObject(i.object,d,M,B,a),P=this.parseSkeletons(i.skeletons,Q);return this.bindSkeletons(Q,P),this.bindLightTargets(Q),Q}parseShapes(i){const a={};if(i!==void 0)for(let u=0,d=i.length;u<d;u++){const E=new Co().fromJSON(i[u]);a[E.uuid]=E}return a}parseSkeletons(i,a){const u={},d={};if(a.traverse(function(E){E.isBone&&(d[E.uuid]=E)}),i!==void 0)for(let E=0,B=i.length;E<B;E++){const M=new r_().fromJSON(i[E],d);u[M.uuid]=M}return u}parseGeometries(i,a){const u={};if(i!==void 0){const d=new KD;for(let E=0,B=i.length;E<B;E++){let M;const Q=i[E];switch(Q.type){case"BufferGeometry":case"InstancedBufferGeometry":M=d.parse(Q);break;default:Q.type in LD?M=LD[Q.type].fromJSON(Q,a):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Q.type}"`)}M.uuid=Q.uuid,Q.name!==void 0&&(M.name=Q.name),Q.userData!==void 0&&(M.userData=Q.userData),u[Q.uuid]=M}}return u}parseMaterials(i,a){const u={},d={};if(i!==void 0){const E=new Kf;E.setTextures(a);for(let B=0,M=i.length;B<M;B++){const Q=i[B];u[Q.uuid]===void 0&&(u[Q.uuid]=E.parse(Q)),d[Q.uuid]=u[Q.uuid]}}return d}parseAnimations(i){const a={};if(i!==void 0)for(let u=0;u<i.length;u++){const d=i[u],E=TI.parse(d);a[E.uuid]=E}return a}parseImages(i,a){const u=this,d={};let E;function B(Q){return u.manager.itemStart(Q),E.load(Q,function(){u.manager.itemEnd(Q)},void 0,function(){u.manager.itemError(Q),u.manager.itemEnd(Q)})}function M(Q){if(typeof Q=="string"){const P=Q,O=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(P)?P:u.resourcePath+P;return B(O)}else return Q.data?{data:_p(Q.type,Q.data),width:Q.width,height:Q.height}:null}if(i!==void 0&&i.length>0){const Q=new k2(a);E=new Zf(Q),E.setCrossOrigin(this.crossOrigin);for(let P=0,O=i.length;P<O;P++){const H=i[P],z=H.url;if(Array.isArray(z)){const J=[];for(let j=0,nt=z.length;j<nt;j++){const q=z[j],Z=M(q);Z!==null&&(Z instanceof HTMLImageElement?J.push(Z):J.push(new Cu(Z.data,Z.width,Z.height)))}d[H.uuid]=new Df(J)}else{const J=M(H.url);d[H.uuid]=new Df(J)}}}return d}async parseImagesAsync(i){const a=this,u={};let d;async function E(B){if(typeof B=="string"){const M=B,Q=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(M)?M:a.resourcePath+M;return await d.loadAsync(Q)}else return B.data?{data:_p(B.type,B.data),width:B.width,height:B.height}:null}if(i!==void 0&&i.length>0){d=new Zf(this.manager),d.setCrossOrigin(this.crossOrigin);for(let B=0,M=i.length;B<M;B++){const Q=i[B],P=Q.url;if(Array.isArray(P)){const O=[];for(let H=0,z=P.length;H<z;H++){const J=P[H],j=await E(J);j!==null&&(j instanceof HTMLImageElement?O.push(j):O.push(new Cu(j.data,j.width,j.height)))}u[Q.uuid]=new Df(O)}else{const O=await E(Q.url);u[Q.uuid]=new Df(O)}}}return u}parseTextures(i,a){function u(E,B){return typeof E=="number"?E:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",E),B[E])}const d={};if(i!==void 0)for(let E=0,B=i.length;E<B;E++){const M=i[E];M.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',M.uuid),a[M.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",M.image);const Q=a[M.image],P=Q.data;let O;Array.isArray(P)?(O=new fu,P.length===6&&(O.needsUpdate=!0)):(P&&P.data?O=new Cu:O=new Dr,P&&(O.needsUpdate=!0)),O.source=Q,O.uuid=M.uuid,M.name!==void 0&&(O.name=M.name),M.mapping!==void 0&&(O.mapping=u(M.mapping,U9)),M.channel!==void 0&&(O.channel=M.channel),M.offset!==void 0&&O.offset.fromArray(M.offset),M.repeat!==void 0&&O.repeat.fromArray(M.repeat),M.center!==void 0&&O.center.fromArray(M.center),M.rotation!==void 0&&(O.rotation=M.rotation),M.wrap!==void 0&&(O.wrapS=u(M.wrap[0],XD),O.wrapT=u(M.wrap[1],XD)),M.format!==void 0&&(O.format=M.format),M.internalFormat!==void 0&&(O.internalFormat=M.internalFormat),M.type!==void 0&&(O.type=M.type),M.colorSpace!==void 0&&(O.colorSpace=M.colorSpace),M.minFilter!==void 0&&(O.minFilter=u(M.minFilter,jD)),M.magFilter!==void 0&&(O.magFilter=u(M.magFilter,jD)),M.anisotropy!==void 0&&(O.anisotropy=M.anisotropy),M.flipY!==void 0&&(O.flipY=M.flipY),M.generateMipmaps!==void 0&&(O.generateMipmaps=M.generateMipmaps),M.premultiplyAlpha!==void 0&&(O.premultiplyAlpha=M.premultiplyAlpha),M.unpackAlignment!==void 0&&(O.unpackAlignment=M.unpackAlignment),M.compareFunction!==void 0&&(O.compareFunction=M.compareFunction),M.userData!==void 0&&(O.userData=M.userData),d[M.uuid]=O}return d}parseObject(i,a,u,d,E){let B;function M(z){return a[z]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",z),a[z]}function Q(z){if(z!==void 0){if(Array.isArray(z)){const J=[];for(let j=0,nt=z.length;j<nt;j++){const q=z[j];u[q]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",q),J.push(u[q])}return J}return u[z]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",z),u[z]}}function P(z){return d[z]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",z),d[z]}let O,H;switch(i.type){case"Scene":B=new $4,i.background!==void 0&&(Number.isInteger(i.background)?B.background=new gn(i.background):B.background=P(i.background)),i.environment!==void 0&&(B.environment=P(i.environment)),i.fog!==void 0&&(i.fog.type==="Fog"?B.fog=new q3(i.fog.color,i.fog.near,i.fog.far):i.fog.type==="FogExp2"&&(B.fog=new rI(i.fog.color,i.fog.density)),i.fog.name!==""&&(B.fog.name=i.fog.name)),i.backgroundBlurriness!==void 0&&(B.backgroundBlurriness=i.backgroundBlurriness),i.backgroundIntensity!==void 0&&(B.backgroundIntensity=i.backgroundIntensity),i.backgroundRotation!==void 0&&B.backgroundRotation.fromArray(i.backgroundRotation),i.environmentIntensity!==void 0&&(B.environmentIntensity=i.environmentIntensity),i.environmentRotation!==void 0&&B.environmentRotation.fromArray(i.environmentRotation);break;case"PerspectiveCamera":B=new Uo(i.fov,i.aspect,i.near,i.far),i.focus!==void 0&&(B.focus=i.focus),i.zoom!==void 0&&(B.zoom=i.zoom),i.filmGauge!==void 0&&(B.filmGauge=i.filmGauge),i.filmOffset!==void 0&&(B.filmOffset=i.filmOffset),i.view!==void 0&&(B.view=Object.assign({},i.view));break;case"OrthographicCamera":B=new KE(i.left,i.right,i.top,i.bottom,i.near,i.far),i.zoom!==void 0&&(B.zoom=i.zoom),i.view!==void 0&&(B.view=Object.assign({},i.view));break;case"AmbientLight":B=new U2(i.color,i.intensity);break;case"DirectionalLight":B=new ZD(i.color,i.intensity),B.target=i.target||"";break;case"PointLight":B=new k_(i.color,i.intensity,i.distance,i.decay);break;case"RectAreaLight":B=new L_(i.color,i.intensity,i.width,i.height);break;case"SpotLight":B=new JD(i.color,i.intensity,i.distance,i.angle,i.penumbra,i.decay),B.target=i.target||"";break;case"HemisphereLight":B=new L2(i.color,i.groundColor,i.intensity);break;case"LightProbe":B=new G2().fromJSON(i);break;case"SkinnedMesh":O=M(i.geometry),H=Q(i.material),B=new i_(O,H),i.bindMode!==void 0&&(B.bindMode=i.bindMode),i.bindMatrix!==void 0&&B.bindMatrix.fromArray(i.bindMatrix),i.skeleton!==void 0&&(B.skeleton=i.skeleton);break;case"Mesh":O=M(i.geometry),H=Q(i.material),B=new go(O,H);break;case"InstancedMesh":O=M(i.geometry),H=Q(i.material);const z=i.count,J=i.instanceMatrix,j=i.instanceColor;B=new Vp(O,H,z),B.instanceMatrix=new fy(new Float32Array(J.array),16),j!==void 0&&(B.instanceColor=new fy(new Float32Array(j.array),j.itemSize));break;case"BatchedMesh":O=M(i.geometry),H=Q(i.material),B=new lD(i.maxInstanceCount,i.maxVertexCount,i.maxIndexCount,H),B.geometry=O,B.perObjectFrustumCulled=i.perObjectFrustumCulled,B.sortObjects=i.sortObjects,B._drawRanges=i.drawRanges,B._reservedRanges=i.reservedRanges,B._visibility=i.visibility,B._active=i.active,B._bounds=i.bounds.map(nt=>{const q=new ba;q.min.fromArray(nt.boxMin),q.max.fromArray(nt.boxMax);const Z=new Lo;return Z.radius=nt.sphereRadius,Z.center.fromArray(nt.sphereCenter),{boxInitialized:nt.boxInitialized,box:q,sphereInitialized:nt.sphereInitialized,sphere:Z}}),B._maxInstanceCount=i.maxInstanceCount,B._maxVertexCount=i.maxVertexCount,B._maxIndexCount=i.maxIndexCount,B._geometryInitialized=i.geometryInitialized,B._geometryCount=i.geometryCount,B._matricesTexture=P(i.matricesTexture.uuid),i.colorsTexture!==void 0&&(B._colorsTexture=P(i.colorsTexture.uuid));break;case"LOD":B=new eD;break;case"Line":B=new zf(M(i.geometry),Q(i.material));break;case"LineLoop":B=new c2(M(i.geometry),Q(i.material));break;case"LineSegments":B=new Iu(M(i.geometry),Q(i.material));break;case"PointCloud":case"Points":B=new hD(M(i.geometry),Q(i.material));break;case"Sprite":B=new tD(Q(i.material));break;case"Group":B=new oy;break;case"Bone":B=new s_;break;default:B=new os}if(B.uuid=i.uuid,i.name!==void 0&&(B.name=i.name),i.matrix!==void 0?(B.matrix.fromArray(i.matrix),i.matrixAutoUpdate!==void 0&&(B.matrixAutoUpdate=i.matrixAutoUpdate),B.matrixAutoUpdate&&B.matrix.decompose(B.position,B.quaternion,B.scale)):(i.position!==void 0&&B.position.fromArray(i.position),i.rotation!==void 0&&B.rotation.fromArray(i.rotation),i.quaternion!==void 0&&B.quaternion.fromArray(i.quaternion),i.scale!==void 0&&B.scale.fromArray(i.scale)),i.up!==void 0&&B.up.fromArray(i.up),i.castShadow!==void 0&&(B.castShadow=i.castShadow),i.receiveShadow!==void 0&&(B.receiveShadow=i.receiveShadow),i.shadow&&(i.shadow.intensity!==void 0&&(B.shadow.intensity=i.shadow.intensity),i.shadow.bias!==void 0&&(B.shadow.bias=i.shadow.bias),i.shadow.normalBias!==void 0&&(B.shadow.normalBias=i.shadow.normalBias),i.shadow.radius!==void 0&&(B.shadow.radius=i.shadow.radius),i.shadow.mapSize!==void 0&&B.shadow.mapSize.fromArray(i.shadow.mapSize),i.shadow.camera!==void 0&&(B.shadow.camera=this.parseObject(i.shadow.camera))),i.visible!==void 0&&(B.visible=i.visible),i.frustumCulled!==void 0&&(B.frustumCulled=i.frustumCulled),i.renderOrder!==void 0&&(B.renderOrder=i.renderOrder),i.userData!==void 0&&(B.userData=i.userData),i.layers!==void 0&&(B.layers.mask=i.layers),i.children!==void 0){const z=i.children;for(let J=0;J<z.length;J++)B.add(this.parseObject(z[J],a,u,d,E))}if(i.animations!==void 0){const z=i.animations;for(let J=0;J<z.length;J++){const j=z[J];B.animations.push(E[j])}}if(i.type==="LOD"){i.autoUpdate!==void 0&&(B.autoUpdate=i.autoUpdate);const z=i.levels;for(let J=0;J<z.length;J++){const j=z[J],nt=B.getObjectByProperty("uuid",j.object);nt!==void 0&&B.addLevel(nt,j.distance,j.hysteresis)}}return B}bindSkeletons(i,a){Object.keys(a).length!==0&&i.traverse(function(u){if(u.isSkinnedMesh===!0&&u.skeleton!==void 0){const d=a[u.skeleton];d===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",u.skeleton):u.bind(d,u.bindMatrix)}})}bindLightTargets(i){i.traverse(function(a){if(a.isDirectionalLight||a.isSpotLight){const u=a.target,d=i.getObjectByProperty("uuid",u);d!==void 0?a.target=d:a.target=new os}})}}const U9={UVMapping:wl,CubeReflectionMapping:sA,CubeRefractionMapping:md,EquirectangularReflectionMapping:Bm,EquirectangularRefractionMapping:cp,CubeUVReflectionMapping:wf},XD={RepeatWrapping:yc,ClampToEdgeWrapping:xc,MirroredRepeatWrapping:cE},jD={NearestFilter:va,NearestMipmapNearestFilter:vv,NearestMipmapLinearFilter:rA,LinearFilter:Qo,LinearMipmapNearestFilter:up,LinearMipmapLinearFilter:iu};class qD extends mA{constructor(i){super(i),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(i){return this.options=i,this}load(i,a,u,d){i===void 0&&(i=""),this.path!==void 0&&(i=this.path+i),i=this.manager.resolveURL(i);const E=this,B=Rd.get(i);if(B!==void 0){if(E.manager.itemStart(i),B.then){B.then(P=>{a&&a(P),E.manager.itemEnd(i)}).catch(P=>{d&&d(P)});return}return setTimeout(function(){a&&a(B),E.manager.itemEnd(i)},0),B}const M={};M.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",M.headers=this.requestHeader;const Q=fetch(i,M).then(function(P){return P.blob()}).then(function(P){return createImageBitmap(P,Object.assign(E.options,{colorSpaceConversion:"none"}))}).then(function(P){return Rd.add(i,P),a&&a(P),E.manager.itemEnd(i),P}).catch(function(P){d&&d(P),Rd.remove(i),E.manager.itemError(i),E.manager.itemEnd(i)});Rd.add(i,Q),E.manager.itemStart(i)}}let Ty;class QI{static getContext(){return Ty===void 0&&(Ty=new(window.AudioContext||window.webkitAudioContext)),Ty}static setContext(i){Ty=i}}class N9 extends mA{constructor(i){super(i)}load(i,a,u,d){const E=this,B=new yA(this.manager);B.setResponseType("arraybuffer"),B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(i,function(Q){try{const P=Q.slice(0);QI.getContext().decodeAudioData(P,function(H){a(H)}).catch(M)}catch(P){M(P)}},u,d);function M(Q){d?d(Q):console.error(Q),E.manager.itemError(i)}}}const O2=new ui,kI=new ui,Qd=new ui;class Dy{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Uo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Uo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(i){const a=this._cache;if(a.focus!==i.focus||a.fov!==i.fov||a.aspect!==i.aspect*this.aspect||a.near!==i.near||a.far!==i.far||a.zoom!==i.zoom||a.eyeSep!==this.eyeSep){a.focus=i.focus,a.fov=i.fov,a.aspect=i.aspect*this.aspect,a.near=i.near,a.far=i.far,a.zoom=i.zoom,a.eyeSep=this.eyeSep,Qd.copy(i.projectionMatrix);const d=a.eyeSep/2,E=d*a.near/a.focus,B=a.near*Math.tan(Ep*a.fov*.5)/a.zoom;let M,Q;kI.elements[12]=-d,O2.elements[12]=d,M=-B*a.aspect+E,Q=B*a.aspect+E,Qd.elements[0]=2*a.near/(Q-M),Qd.elements[8]=(Q+M)/(Q-M),this.cameraL.projectionMatrix.copy(Qd),M=-B*a.aspect-E,Q=B*a.aspect-E,Qd.elements[0]=2*a.near/(Q-M),Qd.elements[8]=(Q+M)/(Q-M),this.cameraR.projectionMatrix.copy(Qd)}this.cameraL.matrixWorld.copy(i.matrixWorld).multiply(kI),this.cameraR.matrixWorld.copy(i.matrixWorld).multiply(O2)}}class $D{constructor(i=!0){this.autoStart=i,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=V2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let i=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const a=V2();i=(a-this.oldTime)/1e3,this.oldTime=a,this.elapsedTime+=i}return i}}function V2(){return performance.now()}const HA=new Dt,tR=new vl,eR=new Dt,jf=new Dt;class nR extends os{constructor(){super(),this.type="AudioListener",this.context=QI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new $D}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(i){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=i,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this}updateMatrixWorld(i){super.updateMatrixWorld(i);const a=this.context.listener,u=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(HA,tR,eR),jf.set(0,0,-1).applyQuaternion(tR),a.positionX){const d=this.context.currentTime+this.timeDelta;a.positionX.linearRampToValueAtTime(HA.x,d),a.positionY.linearRampToValueAtTime(HA.y,d),a.positionZ.linearRampToValueAtTime(HA.z,d),a.forwardX.linearRampToValueAtTime(jf.x,d),a.forwardY.linearRampToValueAtTime(jf.y,d),a.forwardZ.linearRampToValueAtTime(jf.z,d),a.upX.linearRampToValueAtTime(u.x,d),a.upY.linearRampToValueAtTime(u.y,d),a.upZ.linearRampToValueAtTime(u.z,d)}else a.setPosition(HA.x,HA.y,HA.z),a.setOrientation(jf.x,jf.y,jf.z,u.x,u.y,u.z)}}class Bu extends os{constructor(i){super(),this.type="Audio",this.listener=i,this.context=i.context,this.gain=this.context.createGain(),this.gain.connect(i.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(i){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=i,this.connect(),this}setMediaElementSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(i),this.connect(),this}setMediaStreamSource(i){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(i),this.connect(),this}setBuffer(i){return this.buffer=i,this.sourceType="buffer",this.autoplay&&this.play(),this}play(i=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+i;const a=this.context.createBufferSource();return a.buffer=this.buffer,a.loop=this.loop,a.loopStart=this.loopStart,a.loopEnd=this.loopEnd,a.onended=this.onEnded.bind(this),a.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=a,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(i=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+i),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let i=1,a=this.filters.length;i<a;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let i=1,a=this.filters.length;i<a;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(i){return i||(i=[]),this._connected===!0?(this.disconnect(),this.filters=i.slice(),this.connect()):this.filters=i.slice(),this}setDetune(i){return this.detune=i,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(i){return this.setFilters(i?[i]:[])}setPlaybackRate(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=i,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(i){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=i,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(i){return this.loopStart=i,this}setLoopEnd(i){return this.loopEnd=i,this}getVolume(){return this.gain.gain.value}setVolume(i){return this.gain.gain.setTargetAtTime(i,this.context.currentTime,.01),this}}const wh=new Dt,xA=new vl,iR=new Dt,jp=new Dt;class sR extends Bu{constructor(i){super(i),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(i){return this.panner.refDistance=i,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(i){return this.panner.rolloffFactor=i,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(i){return this.panner.distanceModel=i,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(i){return this.panner.maxDistance=i,this}setDirectionalCone(i,a,u){return this.panner.coneInnerAngle=i,this.panner.coneOuterAngle=a,this.panner.coneOuterGain=u,this}updateMatrixWorld(i){if(super.updateMatrixWorld(i),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(wh,xA,iR),jp.set(0,0,1).applyQuaternion(xA);const a=this.panner;if(a.positionX){const u=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(wh.x,u),a.positionY.linearRampToValueAtTime(wh.y,u),a.positionZ.linearRampToValueAtTime(wh.z,u),a.orientationX.linearRampToValueAtTime(jp.x,u),a.orientationY.linearRampToValueAtTime(jp.y,u),a.orientationZ.linearRampToValueAtTime(jp.z,u)}else a.setPosition(wh.x,wh.y,wh.z),a.setOrientation(jp.x,jp.y,jp.z)}}class Za{constructor(i,a=2048){this.analyser=i.context.createAnalyser(),this.analyser.fftSize=a,this.data=new Uint8Array(this.analyser.frequencyBinCount),i.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let i=0;const a=this.getFrequencyData();for(let u=0;u<a.length;u++)i+=a[u];return i/a.length}}class LI{constructor(i,a,u){this.binding=i,this.valueSize=u;let d,E,B;switch(a){case"quaternion":d=this._slerp,E=this._slerpAdditive,B=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(u*6),this._workIndex=5;break;case"string":case"bool":d=this._select,E=this._select,B=this._setAdditiveIdentityOther,this.buffer=new Array(u*5);break;default:d=this._lerp,E=this._lerpAdditive,B=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(u*5)}this._mixBufferRegion=d,this._mixBufferRegionAdditive=E,this._setIdentity=B,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(i,a){const u=this.buffer,d=this.valueSize,E=i*d+d;let B=this.cumulativeWeight;if(B===0){for(let M=0;M!==d;++M)u[E+M]=u[M];B=a}else{B+=a;const M=a/B;this._mixBufferRegion(u,E,0,M,d)}this.cumulativeWeight=B}accumulateAdditive(i){const a=this.buffer,u=this.valueSize,d=u*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(a,d,0,i,u),this.cumulativeWeightAdditive+=i}apply(i){const a=this.valueSize,u=this.buffer,d=i*a+a,E=this.cumulativeWeight,B=this.cumulativeWeightAdditive,M=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,E<1){const Q=a*this._origIndex;this._mixBufferRegion(u,d,Q,1-E,a)}B>0&&this._mixBufferRegionAdditive(u,d,this._addIndex*a,1,a);for(let Q=a,P=a+a;Q!==P;++Q)if(u[Q]!==u[Q+a]){M.setValue(u,d);break}}saveOriginalState(){const i=this.binding,a=this.buffer,u=this.valueSize,d=u*this._origIndex;i.getValue(a,d);for(let E=u,B=d;E!==B;++E)a[E]=a[d+E%u];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const i=this.valueSize*3;this.binding.setValue(this.buffer,i)}_setAdditiveIdentityNumeric(){const i=this._addIndex*this.valueSize,a=i+this.valueSize;for(let u=i;u<a;u++)this.buffer[u]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const i=this._origIndex*this.valueSize,a=this._addIndex*this.valueSize;for(let u=0;u<this.valueSize;u++)this.buffer[a+u]=this.buffer[i+u]}_select(i,a,u,d,E){if(d>=.5)for(let B=0;B!==E;++B)i[a+B]=i[u+B]}_slerp(i,a,u,d){vl.slerpFlat(i,a,i,a,i,u,d)}_slerpAdditive(i,a,u,d,E){const B=this._workIndex*E;vl.multiplyQuaternionsFlat(i,B,i,a,i,u),vl.slerpFlat(i,a,i,a,i,B,d)}_lerp(i,a,u,d,E){const B=1-d;for(let M=0;M!==E;++M){const Q=a+M;i[Q]=i[Q]*B+i[u+M]*d}}_lerpAdditive(i,a,u,d,E){for(let B=0;B!==E;++B){const M=a+B;i[M]=i[M]+i[u+B]*d}}}const H2="\\[\\]\\.:\\/",G9=new RegExp("["+H2+"]","g"),kd="[^"+H2+"]",rR="[^"+H2.replace("\\.","")+"]",oR=/((?:WC+[\/:])*)/.source.replace("WC",kd),aR=/(WCOD+)?/.source.replace("WCOD",rR),z2=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kd),O9=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kd),lR=new RegExp("^"+oR+aR+z2+O9+"$"),AR=["material","materials","bones","map"];class V9{constructor(i,a,u){const d=u||Ki.parseTrackName(a);this._targetGroup=i,this._bindings=i.subscribe_(a,d)}getValue(i,a){this.bind();const u=this._targetGroup.nCachedObjects_,d=this._bindings[u];d!==void 0&&d.getValue(i,a)}setValue(i,a){const u=this._bindings;for(let d=this._targetGroup.nCachedObjects_,E=u.length;d!==E;++d)u[d].setValue(i,a)}bind(){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,u=i.length;a!==u;++a)i[a].bind()}unbind(){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,u=i.length;a!==u;++a)i[a].unbind()}}class Ki{constructor(i,a,u){this.path=a,this.parsedPath=u||Ki.parseTrackName(a),this.node=Ki.findNode(i,this.parsedPath.nodeName),this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,a,u){return i&&i.isAnimationObjectGroup?new Ki.Composite(i,a,u):new Ki(i,a,u)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(G9,"")}static parseTrackName(i){const a=lR.exec(i);if(a===null)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const u={nodeName:a[2],objectName:a[3],objectIndex:a[4],propertyName:a[5],propertyIndex:a[6]},d=u.nodeName&&u.nodeName.lastIndexOf(".");if(d!==void 0&&d!==-1){const E=u.nodeName.substring(d+1);AR.indexOf(E)!==-1&&(u.nodeName=u.nodeName.substring(0,d),u.objectName=E)}if(u.propertyName===null||u.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return u}static findNode(i,a){if(a===void 0||a===""||a==="."||a===-1||a===i.name||a===i.uuid)return i;if(i.skeleton){const u=i.skeleton.getBoneByName(a);if(u!==void 0)return u}if(i.children){const u=function(E){for(let B=0;B<E.length;B++){const M=E[B];if(M.name===a||M.uuid===a)return M;const Q=u(M.children);if(Q)return Q}return null},d=u(i.children);if(d)return d}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,a){i[a]=this.targetObject[this.propertyName]}_getValue_array(i,a){const u=this.resolvedProperty;for(let d=0,E=u.length;d!==E;++d)i[a++]=u[d]}_getValue_arrayElement(i,a){i[a]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,a){this.resolvedProperty.toArray(i,a)}_setValue_direct(i,a){this.targetObject[this.propertyName]=i[a]}_setValue_direct_setNeedsUpdate(i,a){this.targetObject[this.propertyName]=i[a],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,a){this.targetObject[this.propertyName]=i[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,a){const u=this.resolvedProperty;for(let d=0,E=u.length;d!==E;++d)u[d]=i[a++]}_setValue_array_setNeedsUpdate(i,a){const u=this.resolvedProperty;for(let d=0,E=u.length;d!==E;++d)u[d]=i[a++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,a){const u=this.resolvedProperty;for(let d=0,E=u.length;d!==E;++d)u[d]=i[a++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,a){this.resolvedProperty[this.propertyIndex]=i[a]}_setValue_arrayElement_setNeedsUpdate(i,a){this.resolvedProperty[this.propertyIndex]=i[a],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,a){this.resolvedProperty[this.propertyIndex]=i[a],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,a){this.resolvedProperty.fromArray(i,a)}_setValue_fromArray_setNeedsUpdate(i,a){this.resolvedProperty.fromArray(i,a),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,a){this.resolvedProperty.fromArray(i,a),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,a){this.bind(),this.getValue(i,a)}_setValue_unbound(i,a){this.bind(),this.setValue(i,a)}bind(){let i=this.node;const a=this.parsedPath,u=a.objectName,d=a.propertyName;let E=a.propertyIndex;if(i||(i=Ki.findNode(this.rootNode,a.nodeName),this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(u){let P=a.objectIndex;switch(u){case"materials":if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}i=i.material.materials;break;case"bones":if(!i.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}i=i.skeleton.bones;for(let O=0;O<i.length;O++)if(i[O].name===P){P=O;break}break;case"map":if("map"in i){i=i.map;break}if(!i.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!i.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}i=i.material.map;break;default:if(i[u]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}i=i[u]}if(P!==void 0){if(i[P]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);return}i=i[P]}}const B=i[d];if(B===void 0){const P=a.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+P+"."+d+" but it wasn't found.",i);return}let M=this.Versioning.None;this.targetObject=i,i.needsUpdate!==void 0?M=this.Versioning.NeedsUpdate:i.matrixWorldNeedsUpdate!==void 0&&(M=this.Versioning.MatrixWorldNeedsUpdate);let Q=this.BindingType.Direct;if(E!==void 0){if(d==="morphTargetInfluences"){if(!i.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!i.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}i.morphTargetDictionary[E]!==void 0&&(E=i.morphTargetDictionary[E])}Q=this.BindingType.ArrayElement,this.resolvedProperty=B,this.propertyIndex=E}else B.fromArray!==void 0&&B.toArray!==void 0?(Q=this.BindingType.HasFromToArray,this.resolvedProperty=B):Array.isArray(B)?(Q=this.BindingType.EntireArray,this.resolvedProperty=B):this.propertyName=d;this.getValue=this.GetterByBindingType[Q],this.setValue=this.SetterByBindingTypeAndVersioning[Q][M]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ki.Composite=V9,Ki.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ki.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ki.prototype.GetterByBindingType=[Ki.prototype._getValue_direct,Ki.prototype._getValue_array,Ki.prototype._getValue_arrayElement,Ki.prototype._getValue_toArray],Ki.prototype.SetterByBindingTypeAndVersioning=[[Ki.prototype._setValue_direct,Ki.prototype._setValue_direct_setNeedsUpdate,Ki.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ki.prototype._setValue_array,Ki.prototype._setValue_array_setNeedsUpdate,Ki.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ki.prototype._setValue_arrayElement,Ki.prototype._setValue_arrayElement_setNeedsUpdate,Ki.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ki.prototype._setValue_fromArray,Ki.prototype._setValue_fromArray_setNeedsUpdate,Ki.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class cR{constructor(){this.isAnimationObjectGroup=!0,this.uuid=UA(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const i={};this._indicesByUUID=i;for(let u=0,d=arguments.length;u!==d;++u)i[arguments[u].uuid]=u;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}add(){const i=this._objects,a=this._indicesByUUID,u=this._paths,d=this._parsedPaths,E=this._bindings,B=E.length;let M,Q=i.length,P=this.nCachedObjects_;for(let O=0,H=arguments.length;O!==H;++O){const z=arguments[O],J=z.uuid;let j=a[J];if(j===void 0){j=Q++,a[J]=j,i.push(z);for(let nt=0,q=B;nt!==q;++nt)E[nt].push(new Ki(z,u[nt],d[nt]))}else if(j<P){M=i[j];const nt=--P,q=i[nt];a[q.uuid]=j,i[j]=q,a[J]=nt,i[nt]=z;for(let Z=0,ut=B;Z!==ut;++Z){const ct=E[Z],lt=ct[nt];let Vt=ct[j];ct[j]=lt,Vt===void 0&&(Vt=new Ki(z,u[Z],d[Z])),ct[nt]=Vt}}else i[j]!==M&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=P}remove(){const i=this._objects,a=this._indicesByUUID,u=this._bindings,d=u.length;let E=this.nCachedObjects_;for(let B=0,M=arguments.length;B!==M;++B){const Q=arguments[B],P=Q.uuid,O=a[P];if(O!==void 0&&O>=E){const H=E++,z=i[H];a[z.uuid]=O,i[O]=z,a[P]=H,i[H]=Q;for(let J=0,j=d;J!==j;++J){const nt=u[J],q=nt[H],Z=nt[O];nt[O]=q,nt[H]=Z}}}this.nCachedObjects_=E}uncache(){const i=this._objects,a=this._indicesByUUID,u=this._bindings,d=u.length;let E=this.nCachedObjects_,B=i.length;for(let M=0,Q=arguments.length;M!==Q;++M){const P=arguments[M],O=P.uuid,H=a[O];if(H!==void 0)if(delete a[O],H<E){const z=--E,J=i[z],j=--B,nt=i[j];a[J.uuid]=H,i[H]=J,a[nt.uuid]=z,i[z]=nt,i.pop();for(let q=0,Z=d;q!==Z;++q){const ut=u[q],ct=ut[z],lt=ut[j];ut[H]=ct,ut[z]=lt,ut.pop()}}else{const z=--B,J=i[z];z>0&&(a[J.uuid]=H),i[H]=J,i.pop();for(let j=0,nt=d;j!==nt;++j){const q=u[j];q[H]=q[z],q.pop()}}}this.nCachedObjects_=E}subscribe_(i,a){const u=this._bindingsIndicesByPath;let d=u[i];const E=this._bindings;if(d!==void 0)return E[d];const B=this._paths,M=this._parsedPaths,Q=this._objects,P=Q.length,O=this.nCachedObjects_,H=new Array(P);d=E.length,u[i]=d,B.push(i),M.push(a),E.push(H);for(let z=O,J=Q.length;z!==J;++z){const j=Q[z];H[z]=new Ki(j,i,a)}return H}unsubscribe_(i){const a=this._bindingsIndicesByPath,u=a[i];if(u!==void 0){const d=this._paths,E=this._parsedPaths,B=this._bindings,M=B.length-1,Q=B[M],P=i[M];a[P]=u,B[u]=Q,B.pop(),E[u]=E[M],E.pop(),d[u]=d[M],d.pop()}}}class Ld{constructor(i,a,u=null,d=a.blendMode){this._mixer=i,this._clip=a,this._localRoot=u,this.blendMode=d;const E=a.tracks,B=E.length,M=new Array(B),Q={endingStart:vf,endingEnd:vf};for(let P=0;P!==B;++P){const O=E[P].createInterpolant(null);M[P]=O,O.settings=Q}this._interpolantSettings=Q,this._interpolants=M,this._propertyBindings=new Array(B),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=HT,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(i){return this._startTime=i,this}setLoop(i,a){return this.loop=i,this.repetitions=a,this}setEffectiveWeight(i){return this.weight=i,this._effectiveWeight=this.enabled?i:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(i){return this._scheduleFading(i,0,1)}fadeOut(i){return this._scheduleFading(i,1,0)}crossFadeFrom(i,a,u){if(i.fadeOut(a),this.fadeIn(a),u){const d=this._clip.duration,E=i._clip.duration,B=E/d,M=d/E;i.warp(1,B,a),this.warp(M,1,a)}return this}crossFadeTo(i,a,u){return i.crossFadeFrom(this,a,u)}stopFading(){const i=this._weightInterpolant;return i!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}setEffectiveTimeScale(i){return this.timeScale=i,this._effectiveTimeScale=this.paused?0:i,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(i){return this.timeScale=this._clip.duration/i,this.stopWarping()}syncWith(i){return this.time=i.time,this.timeScale=i.timeScale,this.stopWarping()}halt(i){return this.warp(this._effectiveTimeScale,0,i)}warp(i,a,u){const d=this._mixer,E=d.time,B=this.timeScale;let M=this._timeScaleInterpolant;M===null&&(M=d._lendControlInterpolant(),this._timeScaleInterpolant=M);const Q=M.parameterPositions,P=M.sampleValues;return Q[0]=E,Q[1]=E+u,P[0]=i/B,P[1]=a/B,this}stopWarping(){const i=this._timeScaleInterpolant;return i!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(i)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(i,a,u,d){if(!this.enabled){this._updateWeight(i);return}const E=this._startTime;if(E!==null){const Q=(i-E)*u;Q<0||u===0?a=0:(this._startTime=null,a=u*Q)}a*=this._updateTimeScale(i);const B=this._updateTime(a),M=this._updateWeight(i);if(M>0){const Q=this._interpolants,P=this._propertyBindings;switch(this.blendMode){case Tv:for(let O=0,H=Q.length;O!==H;++O)Q[O].evaluate(B),P[O].accumulateAdditive(M);break;case t3:default:for(let O=0,H=Q.length;O!==H;++O)Q[O].evaluate(B),P[O].accumulate(d,M)}}}_updateWeight(i){let a=0;if(this.enabled){a=this.weight;const u=this._weightInterpolant;if(u!==null){const d=u.evaluate(i)[0];a*=d,i>u.parameterPositions[1]&&(this.stopFading(),d===0&&(this.enabled=!1))}}return this._effectiveWeight=a,a}_updateTimeScale(i){let a=0;if(!this.paused){a=this.timeScale;const u=this._timeScaleInterpolant;if(u!==null){const d=u.evaluate(i)[0];a*=d,i>u.parameterPositions[1]&&(this.stopWarping(),a===0?this.paused=!0:this.timeScale=a)}}return this._effectiveTimeScale=a,a}_updateTime(i){const a=this._clip.duration,u=this.loop;let d=this.time+i,E=this._loopCount;const B=u===Sv;if(i===0)return E===-1?d:B&&(E&1)===1?a-d:d;if(u===VT){E===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(d>=a)d=a;else if(d<0)d=0;else{this.time=d;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=d,this._mixer.dispatchEvent({type:"finished",action:this,direction:i<0?-1:1})}}else{if(E===-1&&(i>=0?(E=0,this._setEndings(!0,this.repetitions===0,B)):this._setEndings(this.repetitions===0,!0,B)),d>=a||d<0){const M=Math.floor(d/a);d-=a*M,E+=Math.abs(M);const Q=this.repetitions-E;if(Q<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,d=i>0?a:0,this.time=d,this._mixer.dispatchEvent({type:"finished",action:this,direction:i>0?1:-1});else{if(Q===1){const P=i<0;this._setEndings(P,!P,B)}else this._setEndings(!1,!1,B);this._loopCount=E,this.time=d,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:M})}}else this.time=d;if(B&&(E&1)===1)return a-d}return d}_setEndings(i,a,u){const d=this._interpolantSettings;u?(d.endingStart=ra,d.endingEnd=ra):(i?d.endingStart=this.zeroSlopeAtStart?ra:vf:d.endingStart=bf,a?d.endingEnd=this.zeroSlopeAtEnd?ra:vf:d.endingEnd=bf)}_scheduleFading(i,a,u){const d=this._mixer,E=d.time;let B=this._weightInterpolant;B===null&&(B=d._lendControlInterpolant(),this._weightInterpolant=B);const M=B.parameterPositions,Q=B.sampleValues;return M[0]=E,Q[0]=a,M[1]=E+i,Q[1]=u,this}}const hR=new Float32Array(1);class H9 extends dh{constructor(i){super(),this._root=i,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(i,a){const u=i._localRoot||this._root,d=i._clip.tracks,E=d.length,B=i._propertyBindings,M=i._interpolants,Q=u.uuid,P=this._bindingsByRootAndName;let O=P[Q];O===void 0&&(O={},P[Q]=O);for(let H=0;H!==E;++H){const z=d[H],J=z.name;let j=O[J];if(j!==void 0)++j.referenceCount,B[H]=j;else{if(j=B[H],j!==void 0){j._cacheIndex===null&&(++j.referenceCount,this._addInactiveBinding(j,Q,J));continue}const nt=a&&a._propertyBindings[H].binding.parsedPath;j=new LI(Ki.create(u,J,nt),z.ValueTypeName,z.getValueSize()),++j.referenceCount,this._addInactiveBinding(j,Q,J),B[H]=j}M[H].resultBuffer=j.buffer}}_activateAction(i){if(!this._isActiveAction(i)){if(i._cacheIndex===null){const u=(i._localRoot||this._root).uuid,d=i._clip.uuid,E=this._actionsByClip[d];this._bindAction(i,E&&E.knownActions[0]),this._addInactiveAction(i,d,u)}const a=i._propertyBindings;for(let u=0,d=a.length;u!==d;++u){const E=a[u];E.useCount++===0&&(this._lendBinding(E),E.saveOriginalState())}this._lendAction(i)}}_deactivateAction(i){if(this._isActiveAction(i)){const a=i._propertyBindings;for(let u=0,d=a.length;u!==d;++u){const E=a[u];--E.useCount===0&&(E.restoreOriginalState(),this._takeBackBinding(E))}this._takeBackAction(i)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const i=this;this.stats={actions:{get total(){return i._actions.length},get inUse(){return i._nActiveActions}},bindings:{get total(){return i._bindings.length},get inUse(){return i._nActiveBindings}},controlInterpolants:{get total(){return i._controlInterpolants.length},get inUse(){return i._nActiveControlInterpolants}}}}_isActiveAction(i){const a=i._cacheIndex;return a!==null&&a<this._nActiveActions}_addInactiveAction(i,a,u){const d=this._actions,E=this._actionsByClip;let B=E[a];if(B===void 0)B={knownActions:[i],actionByRoot:{}},i._byClipCacheIndex=0,E[a]=B;else{const M=B.knownActions;i._byClipCacheIndex=M.length,M.push(i)}i._cacheIndex=d.length,d.push(i),B.actionByRoot[u]=i}_removeInactiveAction(i){const a=this._actions,u=a[a.length-1],d=i._cacheIndex;u._cacheIndex=d,a[d]=u,a.pop(),i._cacheIndex=null;const E=i._clip.uuid,B=this._actionsByClip,M=B[E],Q=M.knownActions,P=Q[Q.length-1],O=i._byClipCacheIndex;P._byClipCacheIndex=O,Q[O]=P,Q.pop(),i._byClipCacheIndex=null;const H=M.actionByRoot,z=(i._localRoot||this._root).uuid;delete H[z],Q.length===0&&delete B[E],this._removeInactiveBindingsForAction(i)}_removeInactiveBindingsForAction(i){const a=i._propertyBindings;for(let u=0,d=a.length;u!==d;++u){const E=a[u];--E.referenceCount===0&&this._removeInactiveBinding(E)}}_lendAction(i){const a=this._actions,u=i._cacheIndex,d=this._nActiveActions++,E=a[d];i._cacheIndex=d,a[d]=i,E._cacheIndex=u,a[u]=E}_takeBackAction(i){const a=this._actions,u=i._cacheIndex,d=--this._nActiveActions,E=a[d];i._cacheIndex=d,a[d]=i,E._cacheIndex=u,a[u]=E}_addInactiveBinding(i,a,u){const d=this._bindingsByRootAndName,E=this._bindings;let B=d[a];B===void 0&&(B={},d[a]=B),B[u]=i,i._cacheIndex=E.length,E.push(i)}_removeInactiveBinding(i){const a=this._bindings,u=i.binding,d=u.rootNode.uuid,E=u.path,B=this._bindingsByRootAndName,M=B[d],Q=a[a.length-1],P=i._cacheIndex;Q._cacheIndex=P,a[P]=Q,a.pop(),delete M[E],Object.keys(M).length===0&&delete B[d]}_lendBinding(i){const a=this._bindings,u=i._cacheIndex,d=this._nActiveBindings++,E=a[d];i._cacheIndex=d,a[d]=i,E._cacheIndex=u,a[u]=E}_takeBackBinding(i){const a=this._bindings,u=i._cacheIndex,d=--this._nActiveBindings,E=a[d];i._cacheIndex=d,a[d]=i,E._cacheIndex=u,a[u]=E}_lendControlInterpolant(){const i=this._controlInterpolants,a=this._nActiveControlInterpolants++;let u=i[a];return u===void 0&&(u=new By(new Float32Array(2),new Float32Array(2),1,hR),u.__cacheIndex=a,i[a]=u),u}_takeBackControlInterpolant(i){const a=this._controlInterpolants,u=i.__cacheIndex,d=--this._nActiveControlInterpolants,E=a[d];i.__cacheIndex=d,a[d]=i,E.__cacheIndex=u,a[u]=E}clipAction(i,a,u){const d=a||this._root,E=d.uuid;let B=typeof i=="string"?TI.findByName(d,i):i;const M=B!==null?B.uuid:i,Q=this._actionsByClip[M];let P=null;if(u===void 0&&(B!==null?u=B.blendMode:u=t3),Q!==void 0){const H=Q.actionByRoot[E];if(H!==void 0&&H.blendMode===u)return H;P=Q.knownActions[0],B===null&&(B=P._clip)}if(B===null)return null;const O=new Ld(this,B,a,u);return this._bindAction(O,P),this._addInactiveAction(O,M,E),O}existingAction(i,a){const u=a||this._root,d=u.uuid,E=typeof i=="string"?TI.findByName(u,i):i,B=E?E.uuid:i,M=this._actionsByClip[B];return M!==void 0&&M.actionByRoot[d]||null}stopAllAction(){const i=this._actions,a=this._nActiveActions;for(let u=a-1;u>=0;--u)i[u].stop();return this}update(i){i*=this.timeScale;const a=this._actions,u=this._nActiveActions,d=this.time+=i,E=Math.sign(i),B=this._accuIndex^=1;for(let P=0;P!==u;++P)a[P]._update(d,i,E,B);const M=this._bindings,Q=this._nActiveBindings;for(let P=0;P!==Q;++P)M[P].apply(B);return this}setTime(i){this.time=0;for(let a=0;a<this._actions.length;a++)this._actions[a].time=0;return this.update(i)}getRoot(){return this._root}uncacheClip(i){const a=this._actions,u=i.uuid,d=this._actionsByClip,E=d[u];if(E!==void 0){const B=E.knownActions;for(let M=0,Q=B.length;M!==Q;++M){const P=B[M];this._deactivateAction(P);const O=P._cacheIndex,H=a[a.length-1];P._cacheIndex=null,P._byClipCacheIndex=null,H._cacheIndex=O,a[O]=H,a.pop(),this._removeInactiveBindingsForAction(P)}delete d[u]}}uncacheRoot(i){const a=i.uuid,u=this._actionsByClip;for(const B in u){const M=u[B].actionByRoot,Q=M[a];Q!==void 0&&(this._deactivateAction(Q),this._removeInactiveAction(Q))}const d=this._bindingsByRootAndName,E=d[a];if(E!==void 0)for(const B in E){const M=E[B];M.restoreOriginalState(),this._removeInactiveBinding(M)}}uncacheAction(i,a){const u=this.existingAction(i,a);u!==null&&(this._deactivateAction(u),this._removeInactiveAction(u))}}class PI{constructor(i){this.value=i}clone(){return new PI(this.value.clone===void 0?this.value:this.value.clone())}}let uR=0;class dR extends dh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:uR++}),this.name="",this.usage=ME,this.uniforms=[]}add(i){return this.uniforms.push(i),this}remove(i){const a=this.uniforms.indexOf(i);return a!==-1&&this.uniforms.splice(a,1),this}setName(i){return this.name=i,this}setUsage(i){return this.usage=i,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(i){this.name=i.name,this.usage=i.usage;const a=i.uniforms;this.uniforms.length=0;for(let u=0,d=a.length;u<d;u++){const E=Array.isArray(a[u])?a[u]:[a[u]];for(let B=0;B<E.length;B++)this.uniforms.push(E[B].clone())}return this}clone(){return new this.constructor().copy(this)}}class fR extends $3{constructor(i,a,u=1){super(i,a),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=u}copy(i){return super.copy(i),this.meshPerAttribute=i.meshPerAttribute,this}clone(i){const a=super.clone(i);return a.meshPerAttribute=this.meshPerAttribute,a}toJSON(i){const a=super.toJSON(i);return a.isInstancedInterleavedBuffer=!0,a.meshPerAttribute=this.meshPerAttribute,a}}class z9{constructor(i,a,u,d,E){this.isGLBufferAttribute=!0,this.name="",this.buffer=i,this.type=a,this.itemSize=u,this.elementSize=d,this.count=E,this.version=0}set needsUpdate(i){i===!0&&this.version++}setBuffer(i){return this.buffer=i,this}setType(i,a){return this.type=i,this.elementSize=a,this}setItemSize(i){return this.itemSize=i,this}setCount(i){return this.count=i,this}}const FI=new ui;class pR{constructor(i,a,u=0,d=1/0){this.ray=new Gm(i,a),this.near=u,this.far=d,this.camera=null,this.layers=new Vm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(i,a){this.ray.set(i,a)}setFromCamera(i,a){a.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(a.matrixWorld),this.ray.direction.set(i.x,i.y,.5).unproject(a).sub(this.ray.origin).normalize(),this.camera=a):a.isOrthographicCamera?(this.ray.origin.set(i.x,i.y,(a.near+a.far)/(a.near-a.far)).unproject(a),this.ray.direction.set(0,0,-1).transformDirection(a.matrixWorld),this.camera=a):console.error("THREE.Raycaster: Unsupported camera type: "+a.type)}setFromXRController(i){return FI.identity().extractRotation(i.matrixWorld),this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(FI),this}intersectObject(i,a=!0,u=[]){return W2(i,this,u,a),u.sort(F_),u}intersectObjects(i,a=!0,u=[]){for(let d=0,E=i.length;d<E;d++)W2(i[d],this,u,a);return u.sort(F_),u}}function F_(C,i){return C.distance-i.distance}function W2(C,i,a,u){let d=!0;if(C.layers.test(i.layers)&&C.raycast(i,a)===!1&&(d=!1),d===!0&&u===!0){const E=C.children;for(let B=0,M=E.length;B<M;B++)W2(E[B],i,a,!0)}}class W9{constructor(i=1,a=0,u=0){return this.radius=i,this.phi=a,this.theta=u,this}set(i,a,u){return this.radius=i,this.phi=a,this.theta=u,this}copy(i){return this.radius=i.radius,this.phi=i.phi,this.theta=i.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(i){return this.setFromCartesianCoords(i.x,i.y,i.z)}setFromCartesianCoords(i,a,u){return this.radius=Math.sqrt(i*i+a*a+u*u),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(i,u),this.phi=Math.acos(Ws(a/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class J9{constructor(i=1,a=0,u=0){return this.radius=i,this.theta=a,this.y=u,this}set(i,a,u){return this.radius=i,this.theta=a,this.y=u,this}copy(i){return this.radius=i.radius,this.theta=i.theta,this.y=i.y,this}setFromVector3(i){return this.setFromCartesianCoords(i.x,i.y,i.z)}setFromCartesianCoords(i,a,u){return this.radius=Math.sqrt(i*i+u*u),this.theta=Math.atan2(i,u),this.y=a,this}clone(){return new this.constructor().copy(this)}}class J2{constructor(i,a,u,d){J2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],i!==void 0&&this.set(i,a,u,d)}identity(){return this.set(1,0,0,1),this}fromArray(i,a=0){for(let u=0;u<4;u++)this.elements[u]=i[u+a];return this}set(i,a,u,d){const E=this.elements;return E[0]=i,E[2]=a,E[1]=u,E[3]=d,this}}const gR=new Le;class Y9{constructor(i=new Le(1/0,1/0),a=new Le(-1/0,-1/0)){this.isBox2=!0,this.min=i,this.max=a}set(i,a){return this.min.copy(i),this.max.copy(a),this}setFromPoints(i){this.makeEmpty();for(let a=0,u=i.length;a<u;a++)this.expandByPoint(i[a]);return this}setFromCenterAndSize(i,a){const u=gR.copy(a).multiplyScalar(.5);return this.min.copy(i).sub(u),this.max.copy(i).add(u),this}clone(){return new this.constructor().copy(this)}copy(i){return this.min.copy(i.min),this.max.copy(i.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(i){return this.isEmpty()?i.set(0,0):i.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(i){return this.isEmpty()?i.set(0,0):i.subVectors(this.max,this.min)}expandByPoint(i){return this.min.min(i),this.max.max(i),this}expandByVector(i){return this.min.sub(i),this.max.add(i),this}expandByScalar(i){return this.min.addScalar(-i),this.max.addScalar(i),this}containsPoint(i){return i.x>=this.min.x&&i.x<=this.max.x&&i.y>=this.min.y&&i.y<=this.max.y}containsBox(i){return this.min.x<=i.min.x&&i.max.x<=this.max.x&&this.min.y<=i.min.y&&i.max.y<=this.max.y}getParameter(i,a){return a.set((i.x-this.min.x)/(this.max.x-this.min.x),(i.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(i){return i.max.x>=this.min.x&&i.min.x<=this.max.x&&i.max.y>=this.min.y&&i.min.y<=this.max.y}clampPoint(i,a){return a.copy(i).clamp(this.min,this.max)}distanceToPoint(i){return this.clampPoint(i,gR).distanceTo(i)}intersect(i){return this.min.max(i.min),this.max.min(i.max),this.isEmpty()&&this.makeEmpty(),this}union(i){return this.min.min(i.min),this.max.max(i.max),this}translate(i){return this.min.add(i),this.max.add(i),this}equals(i){return i.min.equals(this.min)&&i.max.equals(this.max)}}const mR=new Dt,U_=new Dt;class N_{constructor(i=new Dt,a=new Dt){this.start=i,this.end=a}set(i,a){return this.start.copy(i),this.end.copy(a),this}copy(i){return this.start.copy(i.start),this.end.copy(i.end),this}getCenter(i){return i.addVectors(this.start,this.end).multiplyScalar(.5)}delta(i){return i.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(i,a){return this.delta(a).multiplyScalar(i).add(this.start)}closestPointToPointParameter(i,a){mR.subVectors(i,this.start),U_.subVectors(this.end,this.start);const u=U_.dot(U_);let E=U_.dot(mR)/u;return a&&(E=Ws(E,0,1)),E}closestPointToPoint(i,a,u){const d=this.closestPointToPointParameter(i,a);return this.delta(u).multiplyScalar(d).add(this.start)}applyMatrix4(i){return this.start.applyMatrix4(i),this.end.applyMatrix4(i),this}equals(i){return i.start.equals(this.start)&&i.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const G_=new Dt;class yR extends os{constructor(i,a){super(),this.light=i,this.matrixAutoUpdate=!1,this.color=a,this.type="SpotLightHelper";const u=new Ri,d=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let B=0,M=1,Q=32;B<Q;B++,M++){const P=B/Q*Math.PI*2,O=M/Q*Math.PI*2;d.push(Math.cos(P),Math.sin(P),1,Math.cos(O),Math.sin(O),1)}u.setAttribute("position",new Sn(d,3));const E=new Go({fog:!1,toneMapped:!1});this.cone=new Iu(u,E),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const i=this.light.distance?this.light.distance:1e3,a=i*Math.tan(this.light.angle);this.cone.scale.set(a,a,i),G_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(G_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pd=new Dt,UI=new ui,NI=new ui;class xR extends Iu{constructor(i){const a=Y2(i),u=new Ri,d=[],E=[],B=new gn(0,0,1),M=new gn(0,1,0);for(let P=0;P<a.length;P++){const O=a[P];O.parent&&O.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),E.push(B.r,B.g,B.b),E.push(M.r,M.g,M.b))}u.setAttribute("position",new Sn(d,3)),u.setAttribute("color",new Sn(E,3));const Q=new Go({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(u,Q),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=i,this.bones=a,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(i){const a=this.bones,u=this.geometry,d=u.getAttribute("position");NI.copy(this.root.matrixWorld).invert();for(let E=0,B=0;E<a.length;E++){const M=a[E];M.parent&&M.parent.isBone&&(UI.multiplyMatrices(NI,M.matrixWorld),Pd.setFromMatrixPosition(UI),d.setXYZ(B,Pd.x,Pd.y,Pd.z),UI.multiplyMatrices(NI,M.parent.matrixWorld),Pd.setFromMatrixPosition(UI),d.setXYZ(B+1,Pd.x,Pd.y,Pd.z),B+=2)}u.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(i)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Y2(C){const i=[];C.isBone===!0&&i.push(C);for(let a=0;a<C.children.length;a++)i.push.apply(i,Y2(C.children[a]));return i}class CR extends go{constructor(i,a,u){const d=new Kp(a,4,2),E=new kf({wireframe:!0,fog:!1,toneMapped:!1});super(d,E),this.light=i,this.color=u,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Z2=new Dt,K2=new gn,ER=new gn;class IR extends os{constructor(i,a,u){super(),this.light=i,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,this.type="HemisphereLightHelper";const d=new II(a);d.rotateY(Math.PI*.5),this.material=new kf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const E=d.getAttribute("position"),B=new Float32Array(E.count*3);d.setAttribute("color",new Bs(B,3)),this.add(new go(d,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const i=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const a=i.geometry.getAttribute("color");K2.copy(this.light.color),ER.copy(this.light.groundColor);for(let u=0,d=a.count;u<d;u++){const E=u<d/2?K2:ER;a.setXYZ(u,E.r,E.g,E.b)}a.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),i.lookAt(Z2.setFromMatrixPosition(this.light.matrixWorld).negate())}}class wR extends Iu{constructor(i=10,a=10,u=4473924,d=8947848){u=new gn(u),d=new gn(d);const E=a/2,B=i/a,M=i/2,Q=[],P=[];for(let z=0,J=0,j=-M;z<=a;z++,j+=B){Q.push(-M,0,j,M,0,j),Q.push(j,0,-M,j,0,M);const nt=z===E?u:d;nt.toArray(P,J),J+=3,nt.toArray(P,J),J+=3,nt.toArray(P,J),J+=3,nt.toArray(P,J),J+=3}const O=new Ri;O.setAttribute("position",new Sn(Q,3)),O.setAttribute("color",new Sn(P,3));const H=new Go({vertexColors:!0,toneMapped:!1});super(O,H),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class _R extends Iu{constructor(i=10,a=16,u=8,d=64,E=4473924,B=8947848){E=new gn(E),B=new gn(B);const M=[],Q=[];if(a>1)for(let H=0;H<a;H++){const z=H/a*(Math.PI*2),J=Math.sin(z)*i,j=Math.cos(z)*i;M.push(0,0,0),M.push(J,0,j);const nt=H&1?E:B;Q.push(nt.r,nt.g,nt.b),Q.push(nt.r,nt.g,nt.b)}for(let H=0;H<u;H++){const z=H&1?E:B,J=i-i/u*H;for(let j=0;j<d;j++){let nt=j/d*(Math.PI*2),q=Math.sin(nt)*J,Z=Math.cos(nt)*J;M.push(q,0,Z),Q.push(z.r,z.g,z.b),nt=(j+1)/d*(Math.PI*2),q=Math.sin(nt)*J,Z=Math.cos(nt)*J,M.push(q,0,Z),Q.push(z.r,z.g,z.b)}}const P=new Ri;P.setAttribute("position",new Sn(M,3)),P.setAttribute("color",new Sn(Q,3));const O=new Go({vertexColors:!0,toneMapped:!1});super(P,O),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const X2=new Dt,GI=new Dt,Rl=new Dt;class _h extends os{constructor(i,a,u){super(),this.light=i,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=u,this.type="DirectionalLightHelper",a===void 0&&(a=1);let d=new Ri;d.setAttribute("position",new Sn([-a,a,0,a,a,0,a,-a,0,-a,-a,0,-a,a,0],3));const E=new Go({fog:!1,toneMapped:!1});this.lightPlane=new zf(d,E),this.add(this.lightPlane),d=new Ri,d.setAttribute("position",new Sn([0,0,0,0,0,1],3)),this.targetLine=new zf(d,E),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),X2.setFromMatrixPosition(this.light.matrixWorld),GI.setFromMatrixPosition(this.light.target.matrixWorld),Rl.subVectors(GI,X2),this.lightPlane.lookAt(GI),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(GI),this.targetLine.scale.z=Rl.length()}}const qp=new Dt,Ar=new VE;class BR extends Iu{constructor(i){const a=new Ri,u=new Go({color:16777215,vertexColors:!0,toneMapped:!1}),d=[],E=[],B={};M("n1","n2"),M("n2","n4"),M("n4","n3"),M("n3","n1"),M("f1","f2"),M("f2","f4"),M("f4","f3"),M("f3","f1"),M("n1","f1"),M("n2","f2"),M("n3","f3"),M("n4","f4"),M("p","n1"),M("p","n2"),M("p","n3"),M("p","n4"),M("u1","u2"),M("u2","u3"),M("u3","u1"),M("c","t"),M("p","c"),M("cn1","cn2"),M("cn3","cn4"),M("cf1","cf2"),M("cf3","cf4");function M(j,nt){Q(j),Q(nt)}function Q(j){d.push(0,0,0),E.push(0,0,0),B[j]===void 0&&(B[j]=[]),B[j].push(d.length/3-1)}a.setAttribute("position",new Sn(d,3)),a.setAttribute("color",new Sn(E,3)),super(a,u),this.type="CameraHelper",this.camera=i,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=B,this.update();const P=new gn(16755200),O=new gn(16711680),H=new gn(43775),z=new gn(16777215),J=new gn(3355443);this.setColors(P,O,H,z,J)}setColors(i,a,u,d,E){const M=this.geometry.getAttribute("color");M.setXYZ(0,i.r,i.g,i.b),M.setXYZ(1,i.r,i.g,i.b),M.setXYZ(2,i.r,i.g,i.b),M.setXYZ(3,i.r,i.g,i.b),M.setXYZ(4,i.r,i.g,i.b),M.setXYZ(5,i.r,i.g,i.b),M.setXYZ(6,i.r,i.g,i.b),M.setXYZ(7,i.r,i.g,i.b),M.setXYZ(8,i.r,i.g,i.b),M.setXYZ(9,i.r,i.g,i.b),M.setXYZ(10,i.r,i.g,i.b),M.setXYZ(11,i.r,i.g,i.b),M.setXYZ(12,i.r,i.g,i.b),M.setXYZ(13,i.r,i.g,i.b),M.setXYZ(14,i.r,i.g,i.b),M.setXYZ(15,i.r,i.g,i.b),M.setXYZ(16,i.r,i.g,i.b),M.setXYZ(17,i.r,i.g,i.b),M.setXYZ(18,i.r,i.g,i.b),M.setXYZ(19,i.r,i.g,i.b),M.setXYZ(20,i.r,i.g,i.b),M.setXYZ(21,i.r,i.g,i.b),M.setXYZ(22,i.r,i.g,i.b),M.setXYZ(23,i.r,i.g,i.b),M.setXYZ(24,a.r,a.g,a.b),M.setXYZ(25,a.r,a.g,a.b),M.setXYZ(26,a.r,a.g,a.b),M.setXYZ(27,a.r,a.g,a.b),M.setXYZ(28,a.r,a.g,a.b),M.setXYZ(29,a.r,a.g,a.b),M.setXYZ(30,a.r,a.g,a.b),M.setXYZ(31,a.r,a.g,a.b),M.setXYZ(32,u.r,u.g,u.b),M.setXYZ(33,u.r,u.g,u.b),M.setXYZ(34,u.r,u.g,u.b),M.setXYZ(35,u.r,u.g,u.b),M.setXYZ(36,u.r,u.g,u.b),M.setXYZ(37,u.r,u.g,u.b),M.setXYZ(38,d.r,d.g,d.b),M.setXYZ(39,d.r,d.g,d.b),M.setXYZ(40,E.r,E.g,E.b),M.setXYZ(41,E.r,E.g,E.b),M.setXYZ(42,E.r,E.g,E.b),M.setXYZ(43,E.r,E.g,E.b),M.setXYZ(44,E.r,E.g,E.b),M.setXYZ(45,E.r,E.g,E.b),M.setXYZ(46,E.r,E.g,E.b),M.setXYZ(47,E.r,E.g,E.b),M.setXYZ(48,E.r,E.g,E.b),M.setXYZ(49,E.r,E.g,E.b),M.needsUpdate=!0}update(){const i=this.geometry,a=this.pointMap,u=1,d=1;Ar.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),wr("c",a,i,Ar,0,0,-1),wr("t",a,i,Ar,0,0,1),wr("n1",a,i,Ar,-u,-d,-1),wr("n2",a,i,Ar,u,-d,-1),wr("n3",a,i,Ar,-u,d,-1),wr("n4",a,i,Ar,u,d,-1),wr("f1",a,i,Ar,-u,-d,1),wr("f2",a,i,Ar,u,-d,1),wr("f3",a,i,Ar,-u,d,1),wr("f4",a,i,Ar,u,d,1),wr("u1",a,i,Ar,u*.7,d*1.1,-1),wr("u2",a,i,Ar,-u*.7,d*1.1,-1),wr("u3",a,i,Ar,0,d*2,-1),wr("cf1",a,i,Ar,-u,0,1),wr("cf2",a,i,Ar,u,0,1),wr("cf3",a,i,Ar,0,-d,1),wr("cf4",a,i,Ar,0,d,1),wr("cn1",a,i,Ar,-u,0,-1),wr("cn2",a,i,Ar,u,0,-1),wr("cn3",a,i,Ar,0,-d,-1),wr("cn4",a,i,Ar,0,d,-1),i.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function wr(C,i,a,u,d,E,B){qp.set(d,E,B).unproject(u);const M=i[C];if(M!==void 0){const Q=a.getAttribute("position");for(let P=0,O=M.length;P<O;P++)Q.setXYZ(M[P],qp.x,qp.y,qp.z)}}const O_=new ba;class Z9 extends Iu{constructor(i,a=16776960){const u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(8*3),E=new Ri;E.setIndex(new Bs(u,1)),E.setAttribute("position",new Bs(d,3)),super(E,new Go({color:a,toneMapped:!1})),this.object=i,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(i){if(i!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&O_.setFromObject(this.object),O_.isEmpty())return;const a=O_.min,u=O_.max,d=this.geometry.attributes.position,E=d.array;E[0]=u.x,E[1]=u.y,E[2]=u.z,E[3]=a.x,E[4]=u.y,E[5]=u.z,E[6]=a.x,E[7]=a.y,E[8]=u.z,E[9]=u.x,E[10]=a.y,E[11]=u.z,E[12]=u.x,E[13]=u.y,E[14]=a.z,E[15]=a.x,E[16]=u.y,E[17]=a.z,E[18]=a.x,E[19]=a.y,E[20]=a.z,E[21]=u.x,E[22]=a.y,E[23]=a.z,d.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(i){return this.object=i,this.update(),this}copy(i,a){return super.copy(i,a),this.object=i.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class K9 extends Iu{constructor(i,a=16776960){const u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],E=new Ri;E.setIndex(new Bs(u,1)),E.setAttribute("position",new Sn(d,3)),super(E,new Go({color:a,toneMapped:!1})),this.box=i,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(i){const a=this.box;a.isEmpty()||(a.getCenter(this.position),a.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(i))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qf extends zf{constructor(i,a=1,u=16776960){const d=u,E=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],B=new Ri;B.setAttribute("position",new Sn(E,3)),B.computeBoundingSphere(),super(B,new Go({color:d,toneMapped:!1})),this.type="PlaneHelper",this.plane=i,this.size=a;const M=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Q=new Ri;Q.setAttribute("position",new Sn(M,3)),Q.computeBoundingSphere(),this.add(new go(Q,new kf({color:d,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(i){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(i)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const j2=new Dt;let OI,Ry;class X9 extends os{constructor(i=new Dt(0,0,1),a=new Dt(0,0,0),u=1,d=16776960,E=u*.2,B=E*.2){super(),this.type="ArrowHelper",OI===void 0&&(OI=new Ri,OI.setAttribute("position",new Sn([0,0,0,0,1,0],3)),Ry=new my(0,.5,1,5,1),Ry.translate(0,-.5,0)),this.position.copy(a),this.line=new zf(OI,new Go({color:d,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new go(Ry,new kf({color:d,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(u,E,B)}setDirection(i){if(i.y>.99999)this.quaternion.set(0,0,0,1);else if(i.y<-.99999)this.quaternion.set(1,0,0,0);else{j2.set(i.z,0,-i.x).normalize();const a=Math.acos(i.y);this.quaternion.setFromAxisAngle(j2,a)}}setLength(i,a=i*.2,u=a*.2){this.line.scale.set(1,Math.max(1e-4,i-a),1),this.line.updateMatrix(),this.cone.scale.set(u,a,u),this.cone.position.y=i,this.cone.updateMatrix()}setColor(i){this.line.material.color.set(i),this.cone.material.color.set(i)}copy(i){return super.copy(i,!1),this.line.copy(i.line),this.cone.copy(i.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class j9 extends Iu{constructor(i=1){const a=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],u=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],d=new Ri;d.setAttribute("position",new Sn(a,3)),d.setAttribute("color",new Sn(u,3));const E=new Go({vertexColors:!0,toneMapped:!1});super(d,E),this.type="AxesHelper"}setColors(i,a,u){const d=new gn,E=this.geometry.attributes.color.array;return d.set(i),d.toArray(E,0),d.toArray(E,3),d.set(a),d.toArray(E,6),d.toArray(E,9),d.set(u),d.toArray(E,12),d.toArray(E,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class q9{constructor(){this.type="ShapePath",this.color=new gn,this.subPaths=[],this.currentPath=null}moveTo(i,a){return this.currentPath=new Yp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(i,a),this}lineTo(i,a){return this.currentPath.lineTo(i,a),this}quadraticCurveTo(i,a,u,d){return this.currentPath.quadraticCurveTo(i,a,u,d),this}bezierCurveTo(i,a,u,d,E,B){return this.currentPath.bezierCurveTo(i,a,u,d,E,B),this}splineThru(i){return this.currentPath.splineThru(i),this}toShapes(i){function a(Z){const ut=[];for(let ct=0,lt=Z.length;ct<lt;ct++){const Vt=Z[ct],Tt=new Co;Tt.curves=Vt.curves,ut.push(Tt)}return ut}function u(Z,ut){const ct=ut.length;let lt=!1;for(let Vt=ct-1,Tt=0;Tt<ct;Vt=Tt++){let Qt=ut[Vt],Ut=ut[Tt],xt=Ut.x-Qt.x,pt=Ut.y-Qt.y;if(Math.abs(pt)>Number.EPSILON){if(pt<0&&(Qt=ut[Tt],xt=-xt,Ut=ut[Vt],pt=-pt),Z.y<Qt.y||Z.y>Ut.y)continue;if(Z.y===Qt.y){if(Z.x===Qt.x)return!0}else{const Ht=pt*(Z.x-Qt.x)-xt*(Z.y-Qt.y);if(Ht===0)return!0;if(Ht<0)continue;lt=!lt}}else{if(Z.y!==Qt.y)continue;if(Ut.x<=Z.x&&Z.x<=Qt.x||Qt.x<=Z.x&&Z.x<=Ut.x)return!0}}return lt}const d=_u.isClockWise,E=this.subPaths;if(E.length===0)return[];let B,M,Q;const P=[];if(E.length===1)return M=E[0],Q=new Co,Q.curves=M.curves,P.push(Q),P;let O=!d(E[0].getPoints());O=i?!O:O;const H=[],z=[];let J=[],j=0,nt;z[j]=void 0,J[j]=[];for(let Z=0,ut=E.length;Z<ut;Z++)M=E[Z],nt=M.getPoints(),B=d(nt),B=i?!B:B,B?(!O&&z[j]&&j++,z[j]={s:new Co,p:nt},z[j].s.curves=M.curves,O&&j++,J[j]=[]):J[j].push({h:M,p:nt[0]});if(!z[0])return a(E);if(z.length>1){let Z=!1,ut=0;for(let ct=0,lt=z.length;ct<lt;ct++)H[ct]=[];for(let ct=0,lt=z.length;ct<lt;ct++){const Vt=J[ct];for(let Tt=0;Tt<Vt.length;Tt++){const Qt=Vt[Tt];let Ut=!0;for(let xt=0;xt<z.length;xt++)u(Qt.p,z[xt].p)&&(ct!==xt&&ut++,Ut?(Ut=!1,H[xt].push(Qt)):Z=!0);Ut&&H[ct].push(Qt)}}ut>0&&Z===!1&&(J=H)}let q;for(let Z=0,ut=z.length;Z<ut;Z++){Q=z[Z].s,P.push(Q),q=J[Z];for(let ct=0,lt=q.length;ct<lt;ct++)Q.holes.push(q[ct].h)}return P}}class $9 extends dh{constructor(i,a=null){super(),this.object=i,this.domElement=a,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class vR extends wc{constructor(i=1,a=1,u=1,d={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(i,a,{...d,count:u}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}return typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Do}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Do),At.ACESFilmicToneMapping=UT,At.AddEquation=ch,At.AddOperation=kT,At.AdditiveAnimationBlendMode=Tv,At.AdditiveBlending=Cf,At.AgXToneMapping=GT,At.AlphaFormat=fE,At.AlwaysCompare=jT,At.AlwaysDepth=Rw,At.AlwaysStencilFunc=i3,At.AmbientLight=U2,At.AnimationAction=Ld,At.AnimationClip=TI,At.AnimationLoader=k9,At.AnimationMixer=H9,At.AnimationObjectGroup=cR,At.AnimationUtils=OD,At.ArcCurve=gD,At.ArrayCamera=j4,At.ArrowHelper=X9,At.AttachedBindMode=Bv,At.Audio=Bu,At.AudioAnalyser=Za,At.AudioContext=QI,At.AudioListener=nR,At.AudioLoader=N9,At.AxesHelper=j9,At.BackSide=Ro,At.BasicDepthPacking=e3,At.BasicShadowMap=xl,At.BatchedMesh=lD,At.Bone=s_,At.BooleanKeyframeTrack=Xp,At.Box2=Y9,At.Box3=ba,At.Box3Helper=K9,At.BoxGeometry=Nf,At.BoxHelper=Z9,At.BufferAttribute=Bs,At.BufferGeometry=Ri,At.BufferGeometryLoader=KD,At.ByteType=oA,At.Cache=Rd,At.Camera=VE,At.CameraHelper=BR,At.CanvasTexture=pD,At.CapsuleGeometry=Sd,At.CatmullRomCurve3=mD,At.CineonToneMapping=FT,At.CircleGeometry=mI,At.ClampToEdgeWrapping=xc,At.Clock=$D,At.Color=gn,At.ColorKeyframeTrack=vy,At.ColorManagement=Ui,At.CompressedArrayTexture=dD,At.CompressedCubeTexture=fD,At.CompressedTexture=y_,At.CompressedTextureLoader=Qr,At.ConeGeometry=yI,At.ConstantAlphaFactor=DT,At.ConstantColorFactor=ST,At.Controls=$9,At.CubeCamera=C6,At.CubeReflectionMapping=sA,At.CubeRefractionMapping=md,At.CubeTexture=fu,At.CubeTextureLoader=WD,At.CubeUVReflectionMapping=wf,At.CubicBezierCurve=ys,At.CubicBezierCurve3=Da,At.CubicInterpolant=_y,At.CullFaceBack=yi,At.CullFaceFront=vn,At.CullFaceFrontBack=Cr,At.CullFaceNone=D,At.Curve=Mc,At.CurvePath=gI,At.CustomBlending=oE,At.CustomToneMapping=NT,At.CylinderGeometry=my,At.Cylindrical=J9,At.Data3DTexture=A3,At.DataArrayTexture=PE,At.DataTexture=Cu,At.DataTextureLoader=T_,At.DataUtils=Kv,At.DecrementStencilOp=bE,At.DecrementWrapStencilOp=Rv,At.DefaultLoadingManager=zD,At.DepthFormat=Bf,At.DepthStencilFormat=mp,At.DepthTexture=ry,At.DetachedBindMode=OT,At.DirectionalLight=ZD,At.DirectionalLightHelper=_h,At.DiscreteInterpolant=VD,At.DodecahedronGeometry=Sc,At.DoubleSide=gs,At.DstAlphaFactor=BT,At.DstColorFactor=vT,At.DynamicCopyUsage=BP,At.DynamicDrawUsage=xP,At.DynamicReadUsage=IP,At.EdgesGeometry=g2,At.EllipseCurve=fI,At.EqualCompare=Lv,At.EqualDepth=kw,At.EqualStencilFunc=yP,At.EquirectangularReflectionMapping=Bm,At.EquirectangularRefractionMapping=cp,At.Euler=cA,At.EventDispatcher=dh,At.ExtrudeGeometry=B_,At.FileLoader=yA,At.Float16BufferAttribute=FP,At.Float32BufferAttribute=Sn,At.FloatType=aA,At.Fog=q3,At.FogExp2=rI,At.FramebufferTexture=_9,At.FrontSide=PA,At.Frustum=qm,At.GLBufferAttribute=z9,At.GLSL1=bP,At.GLSL3=Fv,At.GreaterCompare=Pv,At.GreaterDepth=Pw,At.GreaterEqualCompare=XT,At.GreaterEqualDepth=Lw,At.GreaterEqualStencilFunc=Qv,At.GreaterStencilFunc=lA,At.GridHelper=wR,At.Group=oy,At.HalfFloatType=dp,At.HemisphereLight=L2,At.HemisphereLightHelper=IR,At.IcosahedronGeometry=Cn,At.ImageBitmapLoader=qD,At.ImageLoader=Zf,At.ImageUtils=LE,At.IncrementStencilOp=mP,At.IncrementWrapStencilOp=YT,At.InstancedBufferAttribute=fy,At.InstancedBufferGeometry=Xf,At.InstancedInterleavedBuffer=fR,At.InstancedMesh=Vp,At.Int16BufferAttribute=PP,At.Int32BufferAttribute=x6,At.Int8BufferAttribute=LP,At.IntType=hE,At.InterleavedBuffer=$3,At.InterleavedBufferAttribute=Gp,At.Interpolant=SI,At.InterpolateDiscrete=Sm,At.InterpolateLinear=Tm,At.InterpolateSmooth=BE,At.InvertStencilOp=ZT,At.KeepStencilOp=xd,At.KeyframeTrack=Eh,At.LOD=eD,At.LatheGeometry=Dl,At.Layers=Vm,At.LessCompare=kv,At.LessDepth=Qw,At.LessEqualCompare=r3,At.LessEqualDepth=Ap,At.LessEqualStencilFunc=ko,At.LessStencilFunc=KT,At.Light=Tc,At.LightProbe=G2,At.Line=zf,At.Line3=N_,At.LineBasicMaterial=Go,At.LineCurve=I_,At.LineCurve3=p2,At.LineDashedMaterial=R2,At.LineLoop=c2,At.LineSegments=Iu,At.LinearFilter=Qo,At.LinearInterpolant=By,At.LinearMipMapLinearFilter=dP,At.LinearMipMapNearestFilter=bv,At.LinearMipmapLinearFilter=iu,At.LinearMipmapNearestFilter=up,At.LinearSRGBColorSpace=Mf,At.LinearToneMapping=LT,At.LinearTransfer=Rm,At.Loader=mA,At.LoaderUtils=P_,At.LoadingManager=k2,At.LoopOnce=VT,At.LoopPingPong=Sv,At.LoopRepeat=HT,At.LuminanceAlphaFormat=gp,At.LuminanceFormat=pp,At.MOUSE=tn,At.Material=la,At.MaterialLoader=Kf,At.MathUtils=DP,At.Matrix2=J2,At.Matrix3=Ii,At.Matrix4=ui,At.MaxEquation=gd,At.Mesh=go,At.MeshBasicMaterial=kf,At.MeshDepthMaterial=Kb,At.MeshDistanceMaterial=sI,At.MeshLambertMaterial=D2,At.MeshMatcapMaterial=M_,At.MeshNormalMaterial=bI,At.MeshPhongMaterial=PD,At.MeshPhysicalMaterial=T2,At.MeshStandardMaterial=S2,At.MeshToonMaterial=FD,At.MinEquation=If,At.MirroredRepeatWrapping=cE,At.MixOperation=QT,At.MultiplyBlending=Ef,At.MultiplyOperation=AE,At.NearestFilter=va,At.NearestMipMapLinearFilter=uP,At.NearestMipMapNearestFilter=hp,At.NearestMipmapLinearFilter=rA,At.NearestMipmapNearestFilter=vv,At.NeutralToneMapping=_v,At.NeverCompare=s3,At.NeverDepth=Dw,At.NeverStencilFunc=n3,At.NoBlending=qn,At.NoColorSpace=Cc,At.NoToneMapping=nu,At.NormalAnimationBlendMode=t3,At.NormalBlending=El,At.NotEqualCompare=o3,At.NotEqualDepth=Fw,At.NotEqualStencilFunc=Ec,At.NumberKeyframeTrack=by,At.Object3D=os,At.ObjectLoader=F9,At.ObjectSpaceNormalMap=Dm,At.OctahedronGeometry=II,At.OneFactor=wT,At.OneMinusConstantAlphaFactor=RT,At.OneMinusConstantColorFactor=TT,At.OneMinusDstAlphaFactor=Vi,At.OneMinusDstColorFactor=bT,At.OneMinusSrcAlphaFactor=lE,At.OneMinusSrcColorFactor=_T,At.OrthographicCamera=KE,At.PCFShadowMap=pd,At.PCFSoftShadowMap=mc,At.PMREMGenerator=iy,At.Path=Yp,At.PerspectiveCamera=Uo,At.Plane=vd,At.PlaneGeometry=$m,At.PlaneHelper=qf,At.PointLight=k_,At.PointLightHelper=CR,At.Points=hD,At.PointsMaterial=u_,At.PolarGridHelper=_R,At.PolyhedronGeometry=ha,At.PositionalAudio=sR,At.PropertyBinding=Ki,At.PropertyMixer=LI,At.QuadraticBezierCurve=w_,At.QuadraticBezierCurve3=Md,At.Quaternion=vl,At.QuaternionKeyframeTrack=My,At.QuaternionLinearInterpolant=HD,At.RED_GREEN_RGTC2_Format=qw,At.RED_RGTC1_Format=wE,At.REVISION=Do,At.RGBADepthPacking=Dv,At.RGBAFormat=to,At.RGBAIntegerFormat=Nw,At.RGBA_ASTC_10x10_Format=jw,At.RGBA_ASTC_10x5_Format=CE,At.RGBA_ASTC_10x6_Format=EE,At.RGBA_ASTC_10x8_Format=Xw,At.RGBA_ASTC_12x10_Format=xp,At.RGBA_ASTC_12x12_Format=Mm,At.RGBA_ASTC_4x4_Format=sa,At.RGBA_ASTC_5x4_Format=zw,At.RGBA_ASTC_5x5_Format=Ww,At.RGBA_ASTC_6x5_Format=Jw,At.RGBA_ASTC_6x6_Format=Yw,At.RGBA_ASTC_8x5_Format=Zw,At.RGBA_ASTC_8x6_Format=Kw,At.RGBA_ASTC_8x8_Format=xE,At.RGBA_BPTC_Format=ru,At.RGBA_ETC2_EAC_Format=Er,At.RGBA_PVRTC_2BPPV1_Format=Vw,At.RGBA_PVRTC_4BPPV1_Format=Ow,At.RGBA_S3TC_DXT1_Format=pE,At.RGBA_S3TC_DXT3_Format=gE,At.RGBA_S3TC_DXT5_Format=mE,At.RGBDepthPacking=zT,At.RGBFormat=zs,At.RGBIntegerFormat=fP,At.RGB_BPTC_SIGNED_Format=IE,At.RGB_BPTC_UNSIGNED_Format=Cp,At.RGB_ETC1_Format=Hw,At.RGB_ETC2_Format=Bi,At.RGB_PVRTC_2BPPV1_Format=yE,At.RGB_PVRTC_4BPPV1_Format=Gw,At.RGB_S3TC_DXT1_Format=_l,At.RGDepthPacking=WT,At.RGFormat=FA,At.RGIntegerFormat=bm,At.RawShaderMaterial=M2,At.Ray=Gm,At.Raycaster=pR,At.RectAreaLight=L_,At.RedFormat=Uw,At.RedIntegerFormat=yp,At.ReinhardToneMapping=PT,At.RenderTarget=Gv,At.RepeatWrapping=yc,At.ReplaceStencilOp=Sf,At.ReverseSubtractEquation=Sw,At.RingGeometry=wI,At.SIGNED_RED_GREEN_RGTC2_Format=$w,At.SIGNED_RED_RGTC1_Format=_E,At.SRGBColorSpace=Na,At.SRGBTransfer=hs,At.Scene=$4,At.ShaderChunk=Qi,At.ShaderLib=Ch,At.ShaderMaterial=GA,At.ShadowMaterial=b2,At.Shape=Co,At.ShapeGeometry=v_,At.ShapePath=q9,At.ShapeUtils=_u,At.ShortType=_f,At.Skeleton=r_,At.SkeletonHelper=xR,At.SkinnedMesh=i_,At.Source=Df,At.Sphere=Lo,At.SphereGeometry=Kp,At.Spherical=W9,At.SphericalHarmonics3=N2,At.SplineCurve=gA,At.SpotLight=JD,At.SpotLightHelper=yR,At.Sprite=tD,At.SpriteMaterial=e2,At.SrcAlphaFactor=aE,At.SrcAlphaSaturateFactor=MT,At.SrcColorFactor=Tw,At.StaticCopyUsage=_P,At.StaticDrawUsage=ME,At.StaticReadUsage=EP,At.StereoCamera=Dy,At.StreamCopyUsage=vP,At.StreamDrawUsage=CP,At.StreamReadUsage=wP,At.StringKeyframeTrack=VA,At.SubtractEquation=uo,At.SubtractiveBlending=Il,At.TOUCH=cn,At.TangentSpaceNormalMap=yd,At.TetrahedronGeometry=b_,At.Texture=Dr,At.TextureLoader=D_,At.TextureUtils=c9,At.TorusGeometry=_I,At.TorusKnotGeometry=BI,At.Triangle=hA,At.TriangleFanDrawMode=vE,At.TriangleStripDrawMode=gP,At.TrianglesDrawMode=pP,At.TubeGeometry=vI,At.UVMapping=wl,At.Uint16BufferAttribute=jv,At.Uint32BufferAttribute=qv,At.Uint8BufferAttribute=Xv,At.Uint8ClampedBufferAttribute=Rp,At.Uniform=PI,At.UniformsGroup=dR,At.UniformsLib=on,At.UniformsUtils=jm,At.UnsignedByteType=hh,At.UnsignedInt248Type=fp,At.UnsignedInt5999Type=Mv,At.UnsignedIntType=su,At.UnsignedShort4444Type=uE,At.UnsignedShort5551Type=dE,At.UnsignedShortType=vm,At.VSMShadowMap=Cl,At.Vector2=Le,At.Vector3=Dt,At.Vector4=qi,At.VectorKeyframeTrack=Dd,At.VideoTexture=m_,At.WebGL3DRenderTarget=u6,At.WebGLArrayRenderTarget=h6,At.WebGLCoordinateSystem=uh,At.WebGLCubeRenderTarget=sb,At.WebGLMultipleRenderTargets=vR,At.WebGLRenderTarget=wc,At.WebGLRenderer=q4,At.WebGLUtils=X4,At.WebGPUCoordinateSystem=SE,At.WireframeGeometry=B2,At.WrapAroundEnding=bf,At.ZeroCurvatureEnding=vf,At.ZeroFactor=IT,At.ZeroSlopeEnding=ra,At.ZeroStencilOp=JT,At.createCanvasElement=RE,At}(function(Do,tn){(function(cn,D){D(tn,oet())})(TG,function(cn,D){function yi(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const vn=yi(D);var Cr=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return e===1?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return e===0?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Cr.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Cr.Bounce.In(2*e):.5*Cr.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),xl=function(){return performance.now()},pd=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,t)}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,l=n;o<l.length;o++){var c=l[o];(t=c._group)===null||t===void 0||t.remove(c),c._group=this,this._tweens[c.getId()]=c,this._tweensAddedDuringUpdate[c.getId()]=c}},e.prototype.remove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var l=o[r];l._group=void 0,delete this._tweens[l.getId()],delete this._tweensAddedDuringUpdate[l.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(t){return!t.isPlaying()})},e.prototype.update=function(t,n){t===void 0&&(t=xl()),n===void 0&&(n=!0);var r=Object.keys(this._tweens);if(r.length!==0)for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<r.length;o++){var l=this._tweens[r[o]],c=!n;l&&l.update(t,c)===!1&&!n&&this.remove(l)}r=Object.keys(this._tweensAddedDuringUpdate)}},e}(),mc={Linear:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),l=mc.Utils.Linear;return t<0?l(e[0],e[1],r):t>1?l(e[n],e[n-1],n-r):l(e[o],e[o+1>n?n:o+1],r-o)},Bezier:function(e,t){for(var n=0,r=e.length-1,o=Math.pow,l=mc.Utils.Bernstein,c=0;c<=r;c++)n+=o(1-t,r-c)*o(t,c)*e[c]*l(r,c);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,o=Math.floor(r),l=mc.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(o=Math.floor(r=n*(1+t))),l(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],r-o)):t<0?e[0]-(l(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(l(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):l(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],r-o)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=mc.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,o){var l=.5*(n-e),c=.5*(r-t),h=o*o;return(2*t-2*n+l+c)*(o*h)+(-3*t+3*n-2*l-c)*h+l*o+t}}},Cl=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),PA=new pd,Ro=function(){function e(t,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Cr.Linear.None,this._interpolationFunction=mc.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Cl.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=t,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=PA,PA.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(t,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=t,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(t){return t===void 0&&(t=1e3),this._duration=t<0?0:t,this},e.prototype.dynamic=function(t){return t===void 0&&(t=!1),this._isDynamic=t,this},e.prototype.start=function(t,n){if(t===void 0&&(t=xl()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed)for(var r in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var l in this._valuesEnd)o[l]=this._valuesEnd[l];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(t){return this.start(t,!0)},e.prototype._setupProperties=function(t,n,r,o,l){for(var c in r){var h=t[c],f=Array.isArray(h),p=f?"array":typeof h,m=!f&&Array.isArray(r[c]);if(p!=="undefined"&&p!=="function"){if(m){if((k=r[c]).length===0)continue;for(var I=[h],w=0,_=k.length;w<_;w+=1){var b=this._handleRelativeValue(h,k[w]);if(isNaN(b)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}I.push(b)}m&&(r[c]=I)}if(p!=="object"&&!f||!h||m)(n[c]===void 0||l)&&(n[c]=h),f||(n[c]*=1),o[c]=m?r[c].slice().reverse():n[c]||0;else{n[c]=f?[]:{};var T=h;for(var S in T)n[c][S]=T[S];o[c]=f?[]:{};var k=r[c];if(!this._isDynamic){var F={};for(var S in k)F[S]=k[S];r[c]=k=F}this._setupProperties(T,n[c],k,o[c],l)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(t){return t===void 0&&(t=xl()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t),this},e.prototype.resume=function(t){return t===void 0&&(t=xl()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this):this},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return t?(t.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var t;return(t=this._group)===null||t===void 0||t.remove(this),this},e.prototype.delay=function(t){return t===void 0&&(t=0),this._delayTime=t,this},e.prototype.repeat=function(t){return t===void 0&&(t=0),this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return t===void 0&&(t=!1),this._yoyo=t,this},e.prototype.easing=function(t){return t===void 0&&(t=Cr.Linear.None),this._easingFunction=t,this},e.prototype.interpolation=function(t){return t===void 0&&(t=mc.Linear),this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onEveryStart=function(t){return this._onEveryStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){var r,o,l=this;if(t===void 0&&(t=xl()),n===void 0&&(n=e.autoStartOnUpdate),this._isPaused)return!0;if(!this._goToEnd&&!this._isPlaying){if(!n)return!1;this.start(t,!0)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var c=t-this._startTime,h=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),f=this._duration+this._repeat*h,p=function(){if(l._duration===0||c>f)return 1;var b=Math.trunc(c/h),T=c-b*h,S=Math.min(T/l._duration,1);return S===0&&c===l._duration?1:S}(),m=this._easingFunction(p);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,m),this._onUpdateCallback&&this._onUpdateCallback(this._object,p),this._duration===0||c>=this._duration){if(this._repeat>0){var I=Math.min(Math.trunc((c-this._duration)/h)+1,this._repeat);for(o in isFinite(this._repeat)&&(this._repeat-=I),this._valuesStartRepeat)this._yoyo||typeof this._valuesEnd[o]!="string"||(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=h*I,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var w=0,_=this._chainedTweens.length;w<_;w++)this._chainedTweens[w].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,r,o){for(var l in r)if(n[l]!==void 0){var c=n[l]||0,h=r[l],f=Array.isArray(t[l]),p=Array.isArray(h);!f&&p?t[l]=this._interpolationFunction(h,o):typeof h=="object"&&h?this._updateProperties(t[l],c,h,o):typeof(h=this._handleRelativeValue(c,h))=="number"&&(t[l]=c+(h-c)*o)}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];this._valuesStartRepeat[t]=typeof r=="string"?this._valuesStartRepeat[t]+parseFloat(r):this._valuesEnd[t],this._valuesEnd[t]=n},e.autoStartOnUpdate=!1,e}(),gs=Cl.nextId,qn=PA,El=qn.getAll.bind(qn),Cf=qn.removeAll.bind(qn),Il=qn.add.bind(qn),Ef=qn.remove.bind(qn),oE=qn.update.bind(qn),ch={Easing:Cr,Group:pd,Interpolation:mc,now:xl,Sequence:Cl,nextId:gs,Tween:Ro,VERSION:"25.0.0",getAll:El,removeAll:Cf,add:Il,remove:Ef,update:oE};const uo=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];for(let e=0;e<256;e++)uo[256+e]=uo[e];function Sw(e){return e*e*e*(e*(6*e-15)+10)}function If(e,t,n){return t+e*(n-t)}function gd(e,t,n,r){const o=15&e,l=o<8?t:n,c=o<4?n:o==12||o==14?t:r;return(1&o?-l:l)+(2&o?-c:c)}class IT{noise(t,n,r){const o=Math.floor(t),l=Math.floor(n),c=Math.floor(r),h=255&o,f=255&l,p=255&c,m=(t-=o)-1,I=(n-=l)-1,w=(r-=c)-1,_=Sw(t),b=Sw(n),T=Sw(r),S=uo[h]+f,k=uo[S]+p,F=uo[S+1]+p,N=uo[h+1]+f,G=uo[N]+p,V=uo[N+1]+p;return If(T,If(b,If(_,gd(uo[k],t,n,r),gd(uo[G],m,n,r)),If(_,gd(uo[F],t,I,r),gd(uo[V],m,I,r))),If(b,If(_,gd(uo[k+1],t,n,w),gd(uo[G+1],m,n,w)),If(_,gd(uo[F+1],t,I,w),gd(uo[V+1],m,I,w))))}}const wT=D.SRGBColorSpace;class Tw extends D.Loader{constructor(t){super(t),this.defaultDPI=90,this.defaultUnit="px"}load(t,n,r,o){const l=this,c=new D.FileLoader(l.manager);c.setPath(l.path),c.setRequestHeader(l.requestHeader),c.setWithCredentials(l.withCredentials),c.load(t,function(h){try{n(l.parse(h))}catch(f){o?o(f):console.error(f),l.manager.itemError(t)}},r,o)}parse(t){const n=this;function r(et,it,ot,ht,vt,Ct,wt,mt){if(it==0||ot==0)return void et.lineTo(mt.x,mt.y);ht=ht*Math.PI/180,it=Math.abs(it),ot=Math.abs(ot);const Rt=(wt.x-mt.x)/2,Mt=(wt.y-mt.y)/2,Bt=Math.cos(ht)*Rt+Math.sin(ht)*Mt,at=-Math.sin(ht)*Rt+Math.cos(ht)*Mt;let kt=it*it,_t=ot*ot;const zt=Bt*Bt,Ft=at*at,qt=zt/kt+Ft/_t;if(qt>1){const Ne=Math.sqrt(qt);kt=(it*=Ne)*it,_t=(ot*=Ne)*ot}const Gt=kt*Ft+_t*zt,ge=(kt*_t-Gt)/Gt;let Fe=Math.sqrt(Math.max(0,ge));vt===Ct&&(Fe=-Fe);const ee=Fe*it*at/ot,pn=-Fe*ot*Bt/it,Te=Math.cos(ht)*ee-Math.sin(ht)*pn+(wt.x+mt.x)/2,Wt=Math.sin(ht)*ee+Math.cos(ht)*pn+(wt.y+mt.y)/2,Ot=o(1,0,(Bt-ee)/it,(at-pn)/ot),ue=o((Bt-ee)/it,(at-pn)/ot,(-Bt-ee)/it,(-at-pn)/ot)%(2*Math.PI);et.currentPath.absellipse(Te,Wt,it,ot,Ot,Ot+ue,Ct===0,ht)}function o(et,it,ot,ht){const vt=et*ot+it*ht,Ct=Math.sqrt(et*et+it*it)*Math.sqrt(ot*ot+ht*ht);let wt=Math.acos(Math.max(-1,Math.min(1,vt/Ct)));return et*ht-it*ot<0&&(wt=-wt),wt}function l(et,it){it=Object.assign({},it);let ot={};if(et.hasAttribute("class")){const wt=et.getAttribute("class").split(/\s/).filter(Boolean).map(mt=>mt.trim());for(let mt=0;mt<wt.length;mt++)ot=Object.assign(ot,S["."+wt[mt]])}function ht(wt,mt,Rt){Rt===void 0&&(Rt=function(Mt){return Mt.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),Mt}),et.hasAttribute(wt)&&(it[mt]=Rt(et.getAttribute(wt))),ot[wt]&&(it[mt]=Rt(ot[wt])),et.style&&et.style[wt]!==""&&(it[mt]=Rt(et.style[wt]))}function vt(wt){return Math.max(0,Math.min(1,m(wt)))}function Ct(wt){return Math.max(0,m(wt))}return et.hasAttribute("id")&&(ot=Object.assign(ot,S["#"+et.getAttribute("id")])),ht("fill","fill"),ht("fill-opacity","fillOpacity",vt),ht("fill-rule","fillRule"),ht("opacity","opacity",vt),ht("stroke","stroke"),ht("stroke-opacity","strokeOpacity",vt),ht("stroke-width","strokeWidth",Ct),ht("stroke-linejoin","strokeLineJoin"),ht("stroke-linecap","strokeLineCap"),ht("stroke-miterlimit","strokeMiterLimit",Ct),ht("visibility","visibility"),it}function c(et,it){return et-(it-et)}function h(et,it,ot){if(typeof et!="string")throw new TypeError("Invalid input: "+typeof et);const ht={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let vt=0,Ct=!0,wt="",mt="";const Rt=[];function Mt(_t,zt,Ft){const qt=new SyntaxError('Unexpected character "'+_t+'" at index '+zt+".");throw qt.partial=Ft,qt}function Bt(){wt!==""&&(mt===""?Rt.push(Number(wt)):Rt.push(Number(wt)*Math.pow(10,Number(mt)))),wt="",mt=""}let at;const kt=et.length;for(let _t=0;_t<kt;_t++)if(at=et[_t],Array.isArray(it)&&it.includes(Rt.length%ot)&&ht.FLAGS.test(at))vt=1,wt=at,Bt();else{if(vt===0){if(ht.WHITESPACE.test(at))continue;if(ht.DIGIT.test(at)||ht.SIGN.test(at)){vt=1,wt=at;continue}if(ht.POINT.test(at)){vt=2,wt=at;continue}ht.COMMA.test(at)&&(Ct&&Mt(at,_t,Rt),Ct=!0)}if(vt===1){if(ht.DIGIT.test(at)){wt+=at;continue}if(ht.POINT.test(at)){wt+=at,vt=2;continue}if(ht.EXP.test(at)){vt=3;continue}ht.SIGN.test(at)&&wt.length===1&&ht.SIGN.test(wt[0])&&Mt(at,_t,Rt)}if(vt===2){if(ht.DIGIT.test(at)){wt+=at;continue}if(ht.EXP.test(at)){vt=3;continue}ht.POINT.test(at)&&wt[wt.length-1]==="."&&Mt(at,_t,Rt)}if(vt===3){if(ht.DIGIT.test(at)){mt+=at;continue}if(ht.SIGN.test(at)){if(mt===""){mt+=at;continue}mt.length===1&&ht.SIGN.test(mt)&&Mt(at,_t,Rt)}}ht.WHITESPACE.test(at)?(Bt(),vt=0,Ct=!1):ht.COMMA.test(at)?(Bt(),vt=0,Ct=!0):ht.SIGN.test(at)?(Bt(),vt=1,wt=at):ht.POINT.test(at)?(Bt(),vt=2,wt=at):Mt(at,_t,Rt)}return Bt(),Rt}const f=["mm","cm","in","pt","pc","px"],p={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function m(et){let it,ot="px";if(typeof et=="string"||et instanceof String)for(let ht=0,vt=f.length;ht<vt;ht++){const Ct=f[ht];if(et.endsWith(Ct)){ot=Ct,et=et.substring(0,et.length-Ct.length);break}}return ot==="px"&&n.defaultUnit!=="px"?it=p.in[n.defaultUnit]/n.defaultDPI:(it=p[ot][n.defaultUnit],it<0&&(it=p[ot].in*n.defaultDPI)),it*parseFloat(et)}function I(et){const it=et.elements;return it[0]*it[4]-it[1]*it[3]<0}function w(et){const it=et.elements,ot=it[0]*it[3]+it[1]*it[4];if(ot===0)return!1;const ht=_(et),vt=b(et);return Math.abs(ot/(ht*vt))>Number.EPSILON}function _(et){const it=et.elements;return Math.sqrt(it[0]*it[0]+it[1]*it[1])}function b(et){const it=et.elements;return Math.sqrt(it[3]*it[3]+it[4]*it[4])}const T=[],S={},k=[],F=new D.Matrix3,N=new D.Matrix3,G=new D.Matrix3,V=new D.Matrix3,W=new D.Vector2,X=new D.Vector3,K=new D.Matrix3,st=new DOMParser().parseFromString(t,"image/svg+xml");return function et(it,ot){if(it.nodeType!==1)return;const ht=function(mt){if(!(mt.hasAttribute("transform")||mt.nodeName==="use"&&(mt.hasAttribute("x")||mt.hasAttribute("y"))))return null;const Rt=function(Mt){const Bt=new D.Matrix3,at=F;if(Mt.nodeName==="use"&&(Mt.hasAttribute("x")||Mt.hasAttribute("y"))){const kt=m(Mt.getAttribute("x")),_t=m(Mt.getAttribute("y"));Bt.translate(kt,_t)}if(Mt.hasAttribute("transform")){const kt=Mt.getAttribute("transform").split(")");for(let _t=kt.length-1;_t>=0;_t--){const zt=kt[_t].trim();if(zt==="")continue;const Ft=zt.indexOf("("),qt=zt.length;if(Ft>0&&Ft<qt){const Gt=zt.slice(0,Ft),ge=h(zt.slice(Ft+1));switch(at.identity(),Gt){case"translate":if(ge.length>=1){const Fe=ge[0];let ee=0;ge.length>=2&&(ee=ge[1]),at.translate(Fe,ee)}break;case"rotate":if(ge.length>=1){let Fe=0,ee=0,pn=0;Fe=ge[0]*Math.PI/180,ge.length>=3&&(ee=ge[1],pn=ge[2]),N.makeTranslation(-ee,-pn),G.makeRotation(Fe),V.multiplyMatrices(G,N),N.makeTranslation(ee,pn),at.multiplyMatrices(N,V)}break;case"scale":if(ge.length>=1){const Fe=ge[0];let ee=Fe;ge.length>=2&&(ee=ge[1]),at.scale(Fe,ee)}break;case"skewX":ge.length===1&&at.set(1,Math.tan(ge[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":ge.length===1&&at.set(1,0,0,Math.tan(ge[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":ge.length===6&&at.set(ge[0],ge[2],ge[4],ge[1],ge[3],ge[5],0,0,1)}}Bt.premultiply(at)}}return Bt}(mt);return k.length>0&&Rt.premultiply(k[k.length-1]),K.copy(Rt),k.push(Rt),Rt}(it);let vt=!1,Ct=null;switch(it.nodeName){case"svg":case"g":ot=l(it,ot);break;case"style":(function(Mt){if(!(!Mt.sheet||!Mt.sheet.cssRules||!Mt.sheet.cssRules.length))for(let Bt=0;Bt<Mt.sheet.cssRules.length;Bt++){const at=Mt.sheet.cssRules[Bt];if(at.type!==1)continue;const kt=at.selectorText.split(/,/gm).filter(Boolean).map(_t=>_t.trim());for(let _t=0;_t<kt.length;_t++){const zt=Object.fromEntries(Object.entries(at.style).filter(([,Ft])=>Ft!==""));S[kt[_t]]=Object.assign(S[kt[_t]]||{},zt)}}})(it);break;case"path":ot=l(it,ot),it.hasAttribute("d")&&(Ct=function(Mt){const Bt=new D.ShapePath,at=new D.Vector2,kt=new D.Vector2,_t=new D.Vector2;let zt=!0,Ft=!1;const qt=Mt.getAttribute("d");if(qt===""||qt==="none")return null;const Gt=qt.match(/[a-df-z][^a-df-z]*/gi);for(let ge=0,Fe=Gt.length;ge<Fe;ge++){const ee=Gt[ge],pn=ee.charAt(0),Te=ee.slice(1).trim();let Wt;switch(zt===!0&&(Ft=!0,zt=!1),pn){case"M":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2)at.x=Wt[Ot+0],at.y=Wt[Ot+1],kt.x=at.x,kt.y=at.y,Ot===0?Bt.moveTo(at.x,at.y):Bt.lineTo(at.x,at.y),Ot===0&&_t.copy(at);break;case"H":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot++)at.x=Wt[Ot],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"V":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot++)at.y=Wt[Ot],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"L":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2)at.x=Wt[Ot+0],at.y=Wt[Ot+1],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"C":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=6)Bt.bezierCurveTo(Wt[Ot+0],Wt[Ot+1],Wt[Ot+2],Wt[Ot+3],Wt[Ot+4],Wt[Ot+5]),kt.x=Wt[Ot+2],kt.y=Wt[Ot+3],at.x=Wt[Ot+4],at.y=Wt[Ot+5],Ot===0&&Ft===!0&&_t.copy(at);break;case"S":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=4)Bt.bezierCurveTo(c(at.x,kt.x),c(at.y,kt.y),Wt[Ot+0],Wt[Ot+1],Wt[Ot+2],Wt[Ot+3]),kt.x=Wt[Ot+0],kt.y=Wt[Ot+1],at.x=Wt[Ot+2],at.y=Wt[Ot+3],Ot===0&&Ft===!0&&_t.copy(at);break;case"Q":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=4)Bt.quadraticCurveTo(Wt[Ot+0],Wt[Ot+1],Wt[Ot+2],Wt[Ot+3]),kt.x=Wt[Ot+0],kt.y=Wt[Ot+1],at.x=Wt[Ot+2],at.y=Wt[Ot+3],Ot===0&&Ft===!0&&_t.copy(at);break;case"T":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2){const Ne=c(at.x,kt.x),si=c(at.y,kt.y);Bt.quadraticCurveTo(Ne,si,Wt[Ot+0],Wt[Ot+1]),kt.x=Ne,kt.y=si,at.x=Wt[Ot+0],at.y=Wt[Ot+1],Ot===0&&Ft===!0&&_t.copy(at)}break;case"A":Wt=h(Te,[3,4],7);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=7){if(Wt[Ot+5]==at.x&&Wt[Ot+6]==at.y)continue;const Ne=at.clone();at.x=Wt[Ot+5],at.y=Wt[Ot+6],kt.x=at.x,kt.y=at.y,r(Bt,Wt[Ot],Wt[Ot+1],Wt[Ot+2],Wt[Ot+3],Wt[Ot+4],Ne,at),Ot===0&&Ft===!0&&_t.copy(at)}break;case"m":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2)at.x+=Wt[Ot+0],at.y+=Wt[Ot+1],kt.x=at.x,kt.y=at.y,Ot===0?Bt.moveTo(at.x,at.y):Bt.lineTo(at.x,at.y),Ot===0&&_t.copy(at);break;case"h":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot++)at.x+=Wt[Ot],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"v":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot++)at.y+=Wt[Ot],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"l":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2)at.x+=Wt[Ot+0],at.y+=Wt[Ot+1],kt.x=at.x,kt.y=at.y,Bt.lineTo(at.x,at.y),Ot===0&&Ft===!0&&_t.copy(at);break;case"c":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=6)Bt.bezierCurveTo(at.x+Wt[Ot+0],at.y+Wt[Ot+1],at.x+Wt[Ot+2],at.y+Wt[Ot+3],at.x+Wt[Ot+4],at.y+Wt[Ot+5]),kt.x=at.x+Wt[Ot+2],kt.y=at.y+Wt[Ot+3],at.x+=Wt[Ot+4],at.y+=Wt[Ot+5],Ot===0&&Ft===!0&&_t.copy(at);break;case"s":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=4)Bt.bezierCurveTo(c(at.x,kt.x),c(at.y,kt.y),at.x+Wt[Ot+0],at.y+Wt[Ot+1],at.x+Wt[Ot+2],at.y+Wt[Ot+3]),kt.x=at.x+Wt[Ot+0],kt.y=at.y+Wt[Ot+1],at.x+=Wt[Ot+2],at.y+=Wt[Ot+3],Ot===0&&Ft===!0&&_t.copy(at);break;case"q":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=4)Bt.quadraticCurveTo(at.x+Wt[Ot+0],at.y+Wt[Ot+1],at.x+Wt[Ot+2],at.y+Wt[Ot+3]),kt.x=at.x+Wt[Ot+0],kt.y=at.y+Wt[Ot+1],at.x+=Wt[Ot+2],at.y+=Wt[Ot+3],Ot===0&&Ft===!0&&_t.copy(at);break;case"t":Wt=h(Te);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=2){const Ne=c(at.x,kt.x),si=c(at.y,kt.y);Bt.quadraticCurveTo(Ne,si,at.x+Wt[Ot+0],at.y+Wt[Ot+1]),kt.x=Ne,kt.y=si,at.x=at.x+Wt[Ot+0],at.y=at.y+Wt[Ot+1],Ot===0&&Ft===!0&&_t.copy(at)}break;case"a":Wt=h(Te,[3,4],7);for(let Ot=0,ue=Wt.length;Ot<ue;Ot+=7){if(Wt[Ot+5]==0&&Wt[Ot+6]==0)continue;const Ne=at.clone();at.x+=Wt[Ot+5],at.y+=Wt[Ot+6],kt.x=at.x,kt.y=at.y,r(Bt,Wt[Ot],Wt[Ot+1],Wt[Ot+2],Wt[Ot+3],Wt[Ot+4],Ne,at),Ot===0&&Ft===!0&&_t.copy(at)}break;case"Z":case"z":Bt.currentPath.autoClose=!0,Bt.currentPath.curves.length>0&&(at.copy(_t),Bt.currentPath.currentPoint.copy(at),zt=!0);break;default:console.warn(ee)}Ft=!1}return Bt}(it));break;case"rect":ot=l(it,ot),Ct=function(Mt){const Bt=m(Mt.getAttribute("x")||0),at=m(Mt.getAttribute("y")||0),kt=m(Mt.getAttribute("rx")||Mt.getAttribute("ry")||0),_t=m(Mt.getAttribute("ry")||Mt.getAttribute("rx")||0),zt=m(Mt.getAttribute("width")),Ft=m(Mt.getAttribute("height")),qt=.448084975506,Gt=new D.ShapePath;return Gt.moveTo(Bt+kt,at),Gt.lineTo(Bt+zt-kt,at),(kt!==0||_t!==0)&&Gt.bezierCurveTo(Bt+zt-kt*qt,at,Bt+zt,at+_t*qt,Bt+zt,at+_t),Gt.lineTo(Bt+zt,at+Ft-_t),(kt!==0||_t!==0)&&Gt.bezierCurveTo(Bt+zt,at+Ft-_t*qt,Bt+zt-kt*qt,at+Ft,Bt+zt-kt,at+Ft),Gt.lineTo(Bt+kt,at+Ft),(kt!==0||_t!==0)&&Gt.bezierCurveTo(Bt+kt*qt,at+Ft,Bt,at+Ft-_t*qt,Bt,at+Ft-_t),Gt.lineTo(Bt,at+_t),(kt!==0||_t!==0)&&Gt.bezierCurveTo(Bt,at+_t*qt,Bt+kt*qt,at,Bt+kt,at),Gt}(it);break;case"polygon":ot=l(it,ot),Ct=function(Mt){function Bt(zt,Ft,qt){const Gt=m(Ft),ge=m(qt);_t===0?kt.moveTo(Gt,ge):kt.lineTo(Gt,ge),_t++}const at=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,kt=new D.ShapePath;let _t=0;return Mt.getAttribute("points").replace(at,Bt),kt.currentPath.autoClose=!0,kt}(it);break;case"polyline":ot=l(it,ot),Ct=function(Mt){function Bt(zt,Ft,qt){const Gt=m(Ft),ge=m(qt);_t===0?kt.moveTo(Gt,ge):kt.lineTo(Gt,ge),_t++}const at=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,kt=new D.ShapePath;let _t=0;return Mt.getAttribute("points").replace(at,Bt),kt.currentPath.autoClose=!1,kt}(it);break;case"circle":ot=l(it,ot),Ct=function(Mt){const Bt=m(Mt.getAttribute("cx")||0),at=m(Mt.getAttribute("cy")||0),kt=m(Mt.getAttribute("r")||0),_t=new D.Path;_t.absarc(Bt,at,kt,0,2*Math.PI);const zt=new D.ShapePath;return zt.subPaths.push(_t),zt}(it);break;case"ellipse":ot=l(it,ot),Ct=function(Mt){const Bt=m(Mt.getAttribute("cx")||0),at=m(Mt.getAttribute("cy")||0),kt=m(Mt.getAttribute("rx")||0),_t=m(Mt.getAttribute("ry")||0),zt=new D.Path;zt.absellipse(Bt,at,kt,_t,0,2*Math.PI);const Ft=new D.ShapePath;return Ft.subPaths.push(zt),Ft}(it);break;case"line":ot=l(it,ot),Ct=function(Mt){const Bt=m(Mt.getAttribute("x1")||0),at=m(Mt.getAttribute("y1")||0),kt=m(Mt.getAttribute("x2")||0),_t=m(Mt.getAttribute("y2")||0),zt=new D.ShapePath;return zt.moveTo(Bt,at),zt.lineTo(kt,_t),zt.currentPath.autoClose=!1,zt}(it);break;case"defs":vt=!0;break;case"use":ot=l(it,ot);const mt=(it.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),Rt=it.viewportElement.getElementById(mt);Rt?et(Rt,ot):console.warn("SVGLoader: 'use node' references non-existent node id: "+mt)}Ct&&(ot.fill!==void 0&&ot.fill!=="none"&&Ct.color.setStyle(ot.fill,wT),function(mt,Rt){function Mt(_t){X.set(_t.x,_t.y,1).applyMatrix3(Rt),_t.set(X.x,X.y)}function Bt(_t){const zt=_t.xRadius,Ft=_t.yRadius,qt=Math.cos(_t.aRotation),Gt=Math.sin(_t.aRotation),ge=new D.Vector3(zt*qt,zt*Gt,0),Fe=new D.Vector3(-Ft*Gt,Ft*qt,0),ee=ge.applyMatrix3(Rt),pn=Fe.applyMatrix3(Rt),Te=F.set(ee.x,pn.x,0,ee.y,pn.y,0,0,0,1),Wt=N.copy(Te).invert(),Ot=G.copy(Wt).transpose().multiply(Wt).elements,ue=function(Ti,hi,Ci){let Zi,Je,be,me,se;const we=Ti+Ci,Me=Ti-Ci,Ee=Math.sqrt(Me*Me+4*hi*hi);return we>0?(Zi=.5*(we+Ee),se=1/Zi,Je=Ti*se*Ci-hi*se*hi):we<0?Je=.5*(we-Ee):(Zi=.5*Ee,Je=-.5*Ee),be=Me>0?Me+Ee:Me-Ee,Math.abs(be)>2*Math.abs(hi)?(se=-2*hi/be,me=1/Math.sqrt(1+se*se),be=se*me):Math.abs(hi)===0?(be=1,me=0):(se=-.5*be/hi,be=1/Math.sqrt(1+se*se),me=se*be),Me>0&&(se=be,be=-me,me=se),{rt1:Zi,rt2:Je,cs:be,sn:me}}(Ot[0],Ot[1],Ot[4]),Ne=Math.sqrt(ue.rt1),si=Math.sqrt(ue.rt2);if(_t.xRadius=1/Ne,_t.yRadius=1/si,_t.aRotation=Math.atan2(ue.sn,ue.cs),!((_t.aEndAngle-_t.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Ti=N.set(Ne,0,0,0,si,0,0,0,1),hi=G.set(ue.cs,ue.sn,0,-ue.sn,ue.cs,0,0,0,1),Ci=Ti.multiply(hi).multiply(Te),Zi=Je=>{const{x:be,y:me}=new D.Vector3(Math.cos(Je),Math.sin(Je),0).applyMatrix3(Ci);return Math.atan2(me,be)};_t.aStartAngle=Zi(_t.aStartAngle),_t.aEndAngle=Zi(_t.aEndAngle),I(Rt)&&(_t.aClockwise=!_t.aClockwise)}}function at(_t){const zt=_(Rt),Ft=b(Rt);_t.xRadius*=zt,_t.yRadius*=Ft;const qt=zt>Number.EPSILON?Math.atan2(Rt.elements[1],Rt.elements[0]):Math.atan2(-Rt.elements[3],Rt.elements[4]);_t.aRotation+=qt,I(Rt)&&(_t.aStartAngle*=-1,_t.aEndAngle*=-1,_t.aClockwise=!_t.aClockwise)}const kt=mt.subPaths;for(let _t=0,zt=kt.length;_t<zt;_t++){const Ft=kt[_t].curves;for(let qt=0;qt<Ft.length;qt++){const Gt=Ft[qt];Gt.isLineCurve?(Mt(Gt.v1),Mt(Gt.v2)):Gt.isCubicBezierCurve?(Mt(Gt.v0),Mt(Gt.v1),Mt(Gt.v2),Mt(Gt.v3)):Gt.isQuadraticBezierCurve?(Mt(Gt.v0),Mt(Gt.v1),Mt(Gt.v2)):Gt.isEllipseCurve&&(W.set(Gt.aX,Gt.aY),Mt(W),Gt.aX=W.x,Gt.aY=W.y,w(Rt)?Bt(Gt):at(Gt))}}}(Ct,K),T.push(Ct),Ct.userData={node:it,style:ot});const wt=it.childNodes;for(let mt=0;mt<wt.length;mt++){const Rt=wt[mt];vt&&Rt.nodeName!=="style"&&Rt.nodeName!=="defs"||et(Rt,ot)}ht&&(k.pop(),k.length>0?K.copy(k[k.length-1]):K.identity())}(st.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:T,xml:st.documentElement}}static createShapes(t){const m={loc:0,t:0};function I(N,G,V,W){const X=N.x,K=G.x,st=V.x,et=W.x,it=N.y,ot=G.y,ht=V.y,vt=W.y,Ct=(et-st)*(it-ht)-(vt-ht)*(X-st),wt=(vt-ht)*(K-X)-(et-st)*(ot-it),mt=Ct/wt,Rt=((K-X)*(it-ht)-(ot-it)*(X-st))/wt;if(wt===0&&Ct!==0||mt<=0||mt>=1||Rt<0||Rt>1)return null;if(Ct===0&&wt===0){for(let Mt=0;Mt<2;Mt++){if(w(Mt===0?V:W,N,G),m.loc==0){const Bt=Mt===0?V:W;return{x:Bt.x,y:Bt.y,t:m.t}}if(m.loc==2)return{x:+(X+m.t*(K-X)).toPrecision(10),y:+(it+m.t*(ot-it)).toPrecision(10),t:m.t}}return null}for(let Mt=0;Mt<2;Mt++)if(w(Mt===0?V:W,N,G),m.loc==0){const Bt=Mt===0?V:W;return{x:Bt.x,y:Bt.y,t:m.t}}return{x:+(X+mt*(K-X)).toPrecision(10),y:+(it+mt*(ot-it)).toPrecision(10),t:mt}}function w(N,G,V){const W=V.x-G.x,X=V.y-G.y,K=N.x-G.x,st=N.y-G.y,et=W*st-K*X;if(N.x===G.x&&N.y===G.y)return m.loc=0,void(m.t=0);if(N.x===V.x&&N.y===V.y)return m.loc=1,void(m.t=1);if(et<-Number.EPSILON)return void(m.loc=3);if(et>Number.EPSILON)return void(m.loc=4);if(W*K<0||X*st<0)return void(m.loc=5);if(Math.sqrt(W*W+X*X)<Math.sqrt(K*K+st*st))return void(m.loc=6);let it;it=W!==0?K/W:st/X,m.loc=2,m.t=it}function _(N,G,V){const W=new D.Vector2;G.getCenter(W);const X=[];return V.forEach(K=>{K.boundingBox.containsPoint(W)&&function(et,it){const ot=[],ht=[];for(let vt=1;vt<et.length;vt++){const Ct=et[vt-1],wt=et[vt];for(let mt=1;mt<it.length;mt++){const Rt=I(Ct,wt,it[mt-1],it[mt]);Rt!==null&&ot.find(Mt=>Mt.t<=Rt.t+Number.EPSILON&&Mt.t>=Rt.t-Number.EPSILON)===void 0&&(ot.push(Rt),ht.push(new D.Vector2(Rt.x,Rt.y)))}}return ht}(N,K.points).forEach(et=>{X.push({identifier:K.identifier,isCW:K.isCW,point:et})})}),X.sort((K,st)=>K.point.x-st.point.x),X}let b=999999999,T=-999999999,S=t.subPaths.map(N=>{const G=N.getPoints();let V=-999999999,W=999999999,X=-999999999,K=999999999;for(let st=0;st<G.length;st++){const et=G[st];et.y>V&&(V=et.y),et.y<W&&(W=et.y),et.x>X&&(X=et.x),et.x<K&&(K=et.x)}return T<=X&&(T=X+1),b>=K&&(b=K-1),{curves:N.curves,points:G,isCW:D.ShapeUtils.isClockWise(G),identifier:-1,boundingBox:new D.Box2(new D.Vector2(K,W),new D.Vector2(X,V))}});S=S.filter(N=>N.points.length>1);for(let N=0;N<S.length;N++)S[N].identifier=N;const k=S.map(N=>function(G,V,W,X,K){K!=null&&K!==""||(K="nonzero");const st=new D.Vector2;G.boundingBox.getCenter(st);const et=_([new D.Vector2(W,st.y),new D.Vector2(X,st.y)],G.boundingBox,V);et.sort((wt,mt)=>wt.point.x-mt.point.x);const it=[],ot=[];et.forEach(wt=>{wt.identifier===G.identifier?it.push(wt):ot.push(wt)});const ht=it[0].point.x,vt=[];let Ct=0;for(;Ct<ot.length&&ot[Ct].point.x<ht;)vt.length>0&&vt[vt.length-1]===ot[Ct].identifier?vt.pop():vt.push(ot[Ct].identifier),Ct++;if(vt.push(G.identifier),K==="evenodd"){const wt=vt.length%2==0,mt=vt[vt.length-2];return{identifier:G.identifier,isHole:wt,for:mt}}if(K==="nonzero"){let wt=!0,mt=null,Rt=null;for(let Mt=0;Mt<vt.length;Mt++){const Bt=vt[Mt];wt?(Rt=V[Bt].isCW,wt=!1,mt=Bt):Rt!==V[Bt].isCW&&(Rt=V[Bt].isCW,wt=!0)}return{identifier:G.identifier,isHole:wt,for:mt}}console.warn('fill-rule: "'+K+'" is currently not implemented.')}(N,S,b,T,t.userData?t.userData.style.fillRule:void 0)),F=[];return S.forEach(N=>{if(!k[N.identifier].isHole){const G=new D.Shape;G.curves=N.curves,k.filter(W=>W.isHole&&W.for===N.identifier).forEach(W=>{const X=S[W.identifier],K=new D.Path;K.curves=X.curves,G.holes.push(K)}),F.push(G)}}),F}static getStrokeStyle(t,n,r,o,l){return{strokeColor:n=n!==void 0?n:"#000",strokeWidth:t=t!==void 0?t:1,strokeLineJoin:r=r!==void 0?r:"miter",strokeLineCap:o=o!==void 0?o:"butt",strokeMiterLimit:l=l!==void 0?l:4}}static pointsToStroke(t,n,r,o){const l=[],c=[],h=[];if(Tw.pointsToStrokeWithBuffers(t,n,r,o,l,c,h)===0)return null;const f=new D.BufferGeometry;return f.setAttribute("position",new D.Float32BufferAttribute(l,3)),f.setAttribute("normal",new D.Float32BufferAttribute(c,3)),f.setAttribute("uv",new D.Float32BufferAttribute(h,2)),f}static pointsToStrokeWithBuffers(t,n,r,o,l,c,h,f){const p=new D.Vector2,m=new D.Vector2,I=new D.Vector2,w=new D.Vector2,_=new D.Vector2,b=new D.Vector2,T=new D.Vector2,S=new D.Vector2,k=new D.Vector2,F=new D.Vector2,N=new D.Vector2,G=new D.Vector2,V=new D.Vector2,W=new D.Vector2,X=new D.Vector2,K=new D.Vector2,st=new D.Vector2;r=r!==void 0?r:12,o=o!==void 0?o:.001,f=f!==void 0?f:0,t=function(Wt){let Ot=!1;for(let Ne=1,si=Wt.length-1;Ne<si;Ne++)if(Wt[Ne].distanceTo(Wt[Ne+1])<o){Ot=!0;break}if(!Ot)return Wt;const ue=[];ue.push(Wt[0]);for(let Ne=1,si=Wt.length-1;Ne<si;Ne++)Wt[Ne].distanceTo(Wt[Ne+1])>=o&&ue.push(Wt[Ne]);return ue.push(Wt[Wt.length-1]),ue}(t);const et=t.length;if(et<2)return 0;const it=t[0].equals(t[et-1]);let ot,ht,vt=t[0];const Ct=n.strokeWidth/2,wt=1/(et-1);let mt,Rt,Mt,Bt,at=0,kt=!1,_t=0,zt=3*f,Ft=2*f;qt(t[0],t[1],p).multiplyScalar(Ct),S.copy(t[0]).sub(p),k.copy(t[0]).add(p),F.copy(S),N.copy(k);for(let Wt=1;Wt<et;Wt++){ot=t[Wt],ht=Wt===et-1?it?t[1]:void 0:t[Wt+1];const Ot=p;if(qt(vt,ot,Ot),I.copy(Ot).multiplyScalar(Ct),G.copy(ot).sub(I),V.copy(ot).add(I),mt=at+wt,Rt=!1,ht!==void 0){qt(ot,ht,m),I.copy(m).multiplyScalar(Ct),W.copy(ot).sub(I),X.copy(ot).add(I),Mt=!0,I.subVectors(ht,vt),Ot.dot(I)<0&&(Mt=!1),Wt===1&&(kt=Mt),I.subVectors(ht,ot),I.normalize();const ue=Math.abs(Ot.dot(I));if(ue>Number.EPSILON){const Ne=Ct/ue;I.multiplyScalar(-Ne),w.subVectors(ot,vt),_.copy(w).setLength(Ne).add(I),K.copy(_).negate();const si=_.length(),Ti=w.length();w.divideScalar(Ti),b.subVectors(ht,ot);const hi=b.length();switch(b.divideScalar(hi),w.dot(K)<Ti&&b.dot(K)<hi&&(Rt=!0),st.copy(_).add(ot),K.add(ot),Bt=!1,Rt?Mt?(X.copy(K),V.copy(K)):(W.copy(K),G.copy(K)):Fe(),n.strokeLineJoin){case"bevel":ee(Mt,Rt,mt);break;case"round":pn(Mt,Rt),Mt?ge(ot,G,W,mt,0):ge(ot,X,V,mt,1);break;default:const Ci=Ct*n.strokeMiterLimit/si;if(Ci<1){if(n.strokeLineJoin!=="miter-clip"){ee(Mt,Rt,mt);break}pn(Mt,Rt),Mt?(b.subVectors(st,G).multiplyScalar(Ci).add(G),T.subVectors(st,W).multiplyScalar(Ci).add(W),Gt(G,mt,0),Gt(b,mt,0),Gt(ot,mt,.5),Gt(ot,mt,.5),Gt(b,mt,0),Gt(T,mt,0),Gt(ot,mt,.5),Gt(T,mt,0),Gt(W,mt,0)):(b.subVectors(st,V).multiplyScalar(Ci).add(V),T.subVectors(st,X).multiplyScalar(Ci).add(X),Gt(V,mt,1),Gt(b,mt,1),Gt(ot,mt,.5),Gt(ot,mt,.5),Gt(b,mt,1),Gt(T,mt,1),Gt(ot,mt,.5),Gt(T,mt,1),Gt(X,mt,1))}else Rt?(Mt?(Gt(k,at,1),Gt(S,at,0),Gt(st,mt,0),Gt(k,at,1),Gt(st,mt,0),Gt(K,mt,1)):(Gt(k,at,1),Gt(S,at,0),Gt(st,mt,1),Gt(S,at,0),Gt(K,mt,0),Gt(st,mt,1)),Mt?W.copy(st):X.copy(st)):Mt?(Gt(G,mt,0),Gt(st,mt,0),Gt(ot,mt,.5),Gt(ot,mt,.5),Gt(st,mt,0),Gt(W,mt,0)):(Gt(V,mt,1),Gt(st,mt,1),Gt(ot,mt,.5),Gt(ot,mt,.5),Gt(st,mt,1),Gt(X,mt,1)),Bt=!0}}else Fe()}else Fe();it||Wt!==et-1||Te(t[0],F,N,Mt,!0,at),at=mt,vt=ot,S.copy(W),k.copy(X)}if(it){if(Rt&&l){let Wt=st,Ot=K;kt!==Mt&&(Wt=K,Ot=st),Mt?(Bt||kt)&&(Ot.toArray(l,0),Ot.toArray(l,9),Bt&&Wt.toArray(l,3)):!Bt&&kt||(Ot.toArray(l,3),Ot.toArray(l,9),Bt&&Wt.toArray(l,0))}}else Te(ot,G,V,Mt,!1,mt);return _t;function qt(Wt,Ot,ue){return ue.subVectors(Ot,Wt),ue.set(-ue.y,ue.x).normalize()}function Gt(Wt,Ot,ue){l&&(l[zt]=Wt.x,l[zt+1]=Wt.y,l[zt+2]=0,c&&(c[zt]=0,c[zt+1]=0,c[zt+2]=1),zt+=3,h&&(h[Ft]=Ot,h[Ft+1]=ue,Ft+=2)),_t+=3}function ge(Wt,Ot,ue,Ne,si){p.copy(Ot).sub(Wt).normalize(),m.copy(ue).sub(Wt).normalize();let Ti=Math.PI;const hi=p.dot(m);Math.abs(hi)<1&&(Ti=Math.abs(Math.acos(hi))),Ti/=r,I.copy(Ot);for(let Ci=0,Zi=r-1;Ci<Zi;Ci++)w.copy(I).rotateAround(Wt,Ti),Gt(I,Ne,si),Gt(w,Ne,si),Gt(Wt,Ne,.5),I.copy(w);Gt(w,Ne,si),Gt(ue,Ne,si),Gt(Wt,Ne,.5)}function Fe(){Gt(k,at,1),Gt(S,at,0),Gt(G,mt,0),Gt(k,at,1),Gt(G,mt,0),Gt(V,mt,1)}function ee(Wt,Ot,ue){Ot?Wt?(Gt(k,at,1),Gt(S,at,0),Gt(G,mt,0),Gt(k,at,1),Gt(G,mt,0),Gt(K,mt,1),Gt(G,ue,0),Gt(W,ue,0),Gt(K,ue,.5)):(Gt(k,at,1),Gt(S,at,0),Gt(V,mt,1),Gt(S,at,0),Gt(K,mt,0),Gt(V,mt,1),Gt(V,ue,1),Gt(K,ue,0),Gt(X,ue,1)):Wt?(Gt(G,ue,0),Gt(W,ue,0),Gt(ot,ue,.5)):(Gt(V,ue,1),Gt(X,ue,0),Gt(ot,ue,.5))}function pn(Wt,Ot){Ot&&(Wt?(Gt(k,at,1),Gt(S,at,0),Gt(G,mt,0),Gt(k,at,1),Gt(G,mt,0),Gt(K,mt,1),Gt(G,at,0),Gt(ot,mt,.5),Gt(K,mt,1),Gt(ot,mt,.5),Gt(W,at,0),Gt(K,mt,1)):(Gt(k,at,1),Gt(S,at,0),Gt(V,mt,1),Gt(S,at,0),Gt(K,mt,0),Gt(V,mt,1),Gt(V,at,1),Gt(K,mt,0),Gt(ot,mt,.5),Gt(ot,mt,.5),Gt(K,mt,0),Gt(X,at,1)))}function Te(Wt,Ot,ue,Ne,si,Ti){switch(n.strokeLineCap){case"round":si?ge(Wt,ue,Ot,Ti,.5):ge(Wt,Ot,ue,Ti,.5);break;case"square":if(si)p.subVectors(Ot,Wt),m.set(p.y,-p.x),I.addVectors(p,m).add(Wt),w.subVectors(m,p).add(Wt),Ne?(I.toArray(l,3),w.toArray(l,0),w.toArray(l,9)):(I.toArray(l,3),h[7]===1?w.toArray(l,9):I.toArray(l,9),w.toArray(l,0));else{p.subVectors(ue,Wt),m.set(p.y,-p.x),I.addVectors(p,m).add(Wt),w.subVectors(m,p).add(Wt);const hi=l.length;Ne?(I.toArray(l,hi-3),w.toArray(l,hi-6),w.toArray(l,hi-12)):(w.toArray(l,hi-6),I.toArray(l,hi-3),w.toArray(l,hi-12))}}}}}class _T extends D.DataTextureLoader{constructor(t){super(t),this.type=D.HalfFloatType}parse(t){const n=function(b,T){switch(b){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(T||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(T||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(T||""));default:throw new Error("THREE.RGBELoader: Memory Error: "+(T||""))}},r=function(b,T,S){T=T||1024;let k=b.pos,F=-1,N=0,G="",V=String.fromCharCode.apply(null,new Uint16Array(b.subarray(k,k+128)));for(;0>(F=V.indexOf(`
`))&&N<T&&k<b.byteLength;)G+=V,N+=V.length,k+=128,V+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(k,k+128)));return-1<F&&(b.pos+=N+F+1,G+V.slice(0,F))},o=function(b,T,S,k){const F=b[T+3],N=Math.pow(2,F-128)/255;S[k+0]=b[T+0]*N,S[k+1]=b[T+1]*N,S[k+2]=b[T+2]*N,S[k+3]=1},l=function(b,T,S,k){const F=b[T+3],N=Math.pow(2,F-128)/255;S[k+0]=D.DataUtils.toHalfFloat(Math.min(b[T+0]*N,65504)),S[k+1]=D.DataUtils.toHalfFloat(Math.min(b[T+1]*N,65504)),S[k+2]=D.DataUtils.toHalfFloat(Math.min(b[T+2]*N,65504)),S[k+3]=D.DataUtils.toHalfFloat(1)},c=new Uint8Array(t);c.pos=0;const h=function(b){const T=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*FORMAT=(\S+)\s*$/,F=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,N={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let G,V;for((b.pos>=b.byteLength||!(G=r(b)))&&n(1,"no header found"),(V=G.match(/^#\?(\S+)/))||n(3,"bad initial token"),N.valid|=1,N.programtype=V[1],N.string+=G+`
`;G=r(b),G!==!1;)if(N.string+=G+`
`,G.charAt(0)!=="#"){if((V=G.match(T))&&(N.gamma=parseFloat(V[1])),(V=G.match(S))&&(N.exposure=parseFloat(V[1])),(V=G.match(k))&&(N.valid|=2,N.format=V[1]),(V=G.match(F))&&(N.valid|=4,N.height=parseInt(V[1],10),N.width=parseInt(V[2],10)),2&N.valid&&4&N.valid)break}else N.comments+=G+`
`;return 2&N.valid||n(3,"missing format specifier"),4&N.valid||n(3,"missing image size specifier"),N}(c),f=h.width,p=h.height,m=function(b,T,S){const k=T;if(k<8||k>32767||b[0]!==2||b[1]!==2||128&b[2])return new Uint8Array(b);k!==(b[2]<<8|b[3])&&n(3,"wrong scanline width");const F=new Uint8Array(4*T*S);F.length||n(4,"unable to allocate buffer space");let N=0,G=0;const V=4*k,W=new Uint8Array(4),X=new Uint8Array(V);let K=S;for(;K>0&&G<b.byteLength;){G+4>b.byteLength&&n(1),W[0]=b[G++],W[1]=b[G++],W[2]=b[G++],W[3]=b[G++],W[0]==2&&W[1]==2&&(W[2]<<8|W[3])==k||n(3,"bad rgbe scanline format");let st,et=0;for(;et<V&&G<b.byteLength;){st=b[G++];const ot=st>128;if(ot&&(st-=128),(st===0||et+st>V)&&n(3,"bad scanline data"),ot){const ht=b[G++];for(let vt=0;vt<st;vt++)X[et++]=ht}else X.set(b.subarray(G,G+st),et),et+=st,G+=st}const it=k;for(let ot=0;ot<it;ot++){let ht=0;F[N]=X[ot+ht],ht+=k,F[N+1]=X[ot+ht],ht+=k,F[N+2]=X[ot+ht],ht+=k,F[N+3]=X[ot+ht],N+=4}K--}return F}(c.subarray(c.pos),f,p);let I,w,_;switch(this.type){case D.FloatType:_=m.length/4;const b=new Float32Array(4*_);for(let S=0;S<_;S++)o(m,4*S,b,4*S);I=b,w=D.FloatType;break;case D.HalfFloatType:_=m.length/4;const T=new Uint16Array(4*_);for(let S=0;S<_;S++)l(m,4*S,T,4*S);I=T,w=D.HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:f,height:p,data:I,header:h.string,gamma:h.gamma,exposure:h.exposure,type:w}}setDataType(t){return this.type=t,this}load(t,n,r,o){return super.load(t,function(l,c){switch(l.type){case D.FloatType:case D.HalfFloatType:l.colorSpace=D.LinearSRGBColorSpace,l.minFilter=D.LinearFilter,l.magFilter=D.LinearFilter,l.generateMipmaps=!1,l.flipY=!0}n&&n(l,c)},r,o)}}function aE(e,t){if(t===D.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===D.TriangleFanDrawMode||t===D.TriangleStripDrawMode){let n=e.getIndex();if(n===null){const c=[],h=e.getAttribute("position");if(h===void 0)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let f=0;f<h.count;f++)c.push(f);e.setIndex(c),n=e.getIndex()}const r=n.count-2,o=[];if(t===D.TriangleFanDrawMode)for(let c=1;c<=r;c++)o.push(n.getX(0)),o.push(n.getX(c)),o.push(n.getX(c+1));else for(let c=0;c<r;c++)c%2==0?(o.push(n.getX(c)),o.push(n.getX(c+1)),o.push(n.getX(c+2))):(o.push(n.getX(c+2)),o.push(n.getX(c+1)),o.push(n.getX(c)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=e.clone();return l.setIndex(o),l.clearGroups(),l}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}class lE extends D.Loader{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new ST(n)}),this.register(function(n){return new TT(n)}),this.register(function(n){return new Pw(n)}),this.register(function(n){return new Fw(n)}),this.register(function(n){return new AE(n)}),this.register(function(n){return new RT(n)}),this.register(function(n){return new Dw(n)}),this.register(function(n){return new Rw(n)}),this.register(function(n){return new Qw(n)}),this.register(function(n){return new MT(n)}),this.register(function(n){return new Ap(n)}),this.register(function(n){return new DT(n)}),this.register(function(n){return new Lw(n)}),this.register(function(n){return new kw(n)}),this.register(function(n){return new vT(n)}),this.register(function(n){return new QT(n)}),this.register(function(n){return new kT(n)})}load(t,n,r,o){const l=this;let c;if(this.resourcePath!=="")c=this.resourcePath;else if(this.path!==""){const p=D.LoaderUtils.extractUrlBase(t);c=D.LoaderUtils.resolveURL(p,this.path)}else c=D.LoaderUtils.extractUrlBase(t);this.manager.itemStart(t);const h=function(p){o?o(p):console.error(p),l.manager.itemError(t),l.manager.itemEnd(t)},f=new D.FileLoader(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(t,function(p){try{l.parse(p,c,function(m){n(m),l.manager.itemEnd(t)},h)}catch(m){h(m)}},r,h)}setDRACOLoader(t){return this.dracoLoader=t,this}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,r,o){let l;const c={},h={},f=new TextDecoder;if(typeof t=="string")l=JSON.parse(t);else if(t instanceof ArrayBuffer)if(f.decode(new Uint8Array(t,0,4))===nu){try{c[Vi.KHR_BINARY_GLTF]=new FT(t)}catch(m){return void(o&&o(m))}l=JSON.parse(c[Vi.KHR_BINARY_GLTF].content)}else l=JSON.parse(f.decode(t));else l=t;if(l.asset===void 0||l.asset.version[0]<2)return void(o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const p=new dP(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(let m=0;m<this.pluginCallbacks.length;m++){const I=this.pluginCallbacks[m](p);I.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),h[I.name]=I,c[I.name]=!0}if(l.extensionsUsed)for(let m=0;m<l.extensionsUsed.length;++m){const I=l.extensionsUsed[m],w=l.extensionsRequired||[];switch(I){case Vi.KHR_MATERIALS_UNLIT:c[I]=new bT;break;case Vi.KHR_DRACO_MESH_COMPRESSION:c[I]=new UT(l,this.dracoLoader);break;case Vi.KHR_TEXTURE_TRANSFORM:c[I]=new NT;break;case Vi.KHR_MESH_QUANTIZATION:c[I]=new GT;break;default:w.indexOf(I)>=0&&h[I]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+I+'".')}}p.setExtensions(c),p.setPlugins(h),p.parse(r,o)}parseAsync(t,n){const r=this;return new Promise(function(o,l){r.parse(t,n,o,l)})}}function BT(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Vi={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class vT{constructor(t){this.parser=t,this.name=Vi.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let r=0,o=n.length;r<o;r++){const l=n[r];l.extensions&&l.extensions[this.name]&&l.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(t){const n=this.parser,r="light:"+t;let o=n.cache.get(r);if(o)return o;const l=n.json,c=((l.extensions&&l.extensions[this.name]||{}).lights||[])[t];let h;const f=new D.Color(16777215);c.color!==void 0&&f.setRGB(c.color[0],c.color[1],c.color[2],D.LinearSRGBColorSpace);const p=c.range!==void 0?c.range:0;switch(c.type){case"directional":h=new D.DirectionalLight(f),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new D.PointLight(f),h.distance=p;break;case"spot":h=new D.SpotLight(f),h.distance=p,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,h.angle=c.spot.outerConeAngle,h.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return h.position.set(0,0,0),h.decay=2,rA(h,c),c.intensity!==void 0&&(h.intensity=c.intensity),h.name=n.createUniqueName(c.name||"light_"+t),o=Promise.resolve(h),n.cache.add(r,o),o}getDependency(t,n){if(t==="light")return this._loadLight(n)}createNodeAttachment(t){const n=this,r=this.parser,o=r.json.nodes[t],l=(o.extensions&&o.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return r._getNodeRef(n.cache,l,c)})}}class bT{constructor(){this.name=Vi.KHR_MATERIALS_UNLIT}getMaterialType(){return D.MeshBasicMaterial}extendParams(t,n,r){const o=[];t.color=new D.Color(1,1,1),t.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const c=l.baseColorFactor;t.color.setRGB(c[0],c[1],c[2],D.LinearSRGBColorSpace),t.opacity=c[3]}l.baseColorTexture!==void 0&&o.push(r.assignTexture(t,"map",l.baseColorTexture,D.SRGBColorSpace))}return Promise.all(o)}}class MT{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class ST{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];if(c.clearcoatFactor!==void 0&&(n.clearcoat=c.clearcoatFactor),c.clearcoatTexture!==void 0&&l.push(r.assignTexture(n,"clearcoatMap",c.clearcoatTexture)),c.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=c.clearcoatRoughnessFactor),c.clearcoatRoughnessTexture!==void 0&&l.push(r.assignTexture(n,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),c.clearcoatNormalTexture!==void 0&&(l.push(r.assignTexture(n,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0)){const h=c.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new D.Vector2(h,h)}return Promise.all(l)}}class TT{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_DISPERSION}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return n.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class DT{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];return c.iridescenceFactor!==void 0&&(n.iridescence=c.iridescenceFactor),c.iridescenceTexture!==void 0&&l.push(r.assignTexture(n,"iridescenceMap",c.iridescenceTexture)),c.iridescenceIor!==void 0&&(n.iridescenceIOR=c.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),c.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),c.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),c.iridescenceThicknessTexture!==void 0&&l.push(r.assignTexture(n,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(l)}}class RT{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[];n.sheenColor=new D.Color(0,0,0),n.sheenRoughness=0,n.sheen=1;const c=o.extensions[this.name];if(c.sheenColorFactor!==void 0){const h=c.sheenColorFactor;n.sheenColor.setRGB(h[0],h[1],h[2],D.LinearSRGBColorSpace)}return c.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=c.sheenRoughnessFactor),c.sheenColorTexture!==void 0&&l.push(r.assignTexture(n,"sheenColorMap",c.sheenColorTexture,D.SRGBColorSpace)),c.sheenRoughnessTexture!==void 0&&l.push(r.assignTexture(n,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(l)}}class Dw{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];return c.transmissionFactor!==void 0&&(n.transmission=c.transmissionFactor),c.transmissionTexture!==void 0&&l.push(r.assignTexture(n,"transmissionMap",c.transmissionTexture)),Promise.all(l)}}class Rw{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];n.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0&&l.push(r.assignTexture(n,"thicknessMap",c.thicknessTexture)),n.attenuationDistance=c.attenuationDistance||1/0;const h=c.attenuationColor||[1,1,1];return n.attenuationColor=new D.Color().setRGB(h[0],h[1],h[2],D.LinearSRGBColorSpace),Promise.all(l)}}class Qw{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=r.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Ap{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];n.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0&&l.push(r.assignTexture(n,"specularIntensityMap",c.specularTexture));const h=c.specularColorFactor||[1,1,1];return n.specularColor=new D.Color().setRGB(h[0],h[1],h[2],D.LinearSRGBColorSpace),c.specularColorTexture!==void 0&&l.push(r.assignTexture(n,"specularColorMap",c.specularColorTexture,D.SRGBColorSpace)),Promise.all(l)}}class kw{constructor(t){this.parser=t,this.name=Vi.EXT_MATERIALS_BUMP}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];return n.bumpScale=c.bumpFactor!==void 0?c.bumpFactor:1,c.bumpTexture!==void 0&&l.push(r.assignTexture(n,"bumpMap",c.bumpTexture)),Promise.all(l)}}class Lw{constructor(t){this.parser=t,this.name=Vi.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?D.MeshPhysicalMaterial:null}extendMaterialParams(t,n){const r=this.parser,o=r.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],c=o.extensions[this.name];return c.anisotropyStrength!==void 0&&(n.anisotropy=c.anisotropyStrength),c.anisotropyRotation!==void 0&&(n.anisotropyRotation=c.anisotropyRotation),c.anisotropyTexture!==void 0&&l.push(r.assignTexture(n,"anisotropyMap",c.anisotropyTexture)),Promise.all(l)}}class Pw{constructor(t){this.parser=t,this.name=Vi.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,r=n.json,o=r.textures[t];if(!o.extensions||!o.extensions[this.name])return null;const l=o.extensions[this.name],c=n.options.ktx2Loader;if(!c){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,l.source,c)}}class Fw{constructor(t){this.parser=t,this.name=Vi.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const n=this.name,r=this.parser,o=r.json,l=o.textures[t];if(!l.extensions||!l.extensions[n])return null;const c=l.extensions[n],h=o.images[c.source];let f=r.textureLoader;if(h.uri){const p=r.options.manager.getHandler(h.uri);p!==null&&(f=p)}return this.detectSupport().then(function(p){if(p)return r.loadTextureImage(t,c.source,f);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class AE{constructor(t){this.parser=t,this.name=Vi.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const n=this.name,r=this.parser,o=r.json,l=o.textures[t];if(!l.extensions||!l.extensions[n])return null;const c=l.extensions[n],h=o.images[c.source];let f=r.textureLoader;if(h.uri){const p=r.options.manager.getHandler(h.uri);p!==null&&(f=p)}return this.detectSupport().then(function(p){if(p)return r.loadTextureImage(t,c.source,f);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class QT{constructor(t){this.name=Vi.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,r=n.bufferViews[t];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],l=this.parser.getDependency("buffer",o.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(h){const f=o.byteOffset||0,p=o.byteLength||0,m=o.count,I=o.byteStride,w=new Uint8Array(h,f,p);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(m,I,w,o.mode,o.filter).then(function(_){return _.buffer}):c.ready.then(function(){const _=new ArrayBuffer(m*I);return c.decodeGltfBuffer(new Uint8Array(_),m,I,w,o.mode,o.filter),_})})}return null}}class kT{constructor(t){this.name=Vi.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const n=this.parser.json,r=n.nodes[t];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=n.meshes[r.mesh];for(const f of o.primitives)if(f.mode!==wl.TRIANGLES&&f.mode!==wl.TRIANGLE_STRIP&&f.mode!==wl.TRIANGLE_FAN&&f.mode!==void 0)return null;const l=r.extensions[this.name].attributes,c=[],h={};for(const f in l)c.push(this.parser.getDependency("accessor",l[f]).then(p=>(h[f]=p,h[f])));return c.length<1?null:(c.push(this.parser.createNodeMesh(t)),Promise.all(c).then(f=>{const p=f.pop(),m=p.isGroup?p.children:[p],I=f[0].count,w=[];for(const _ of m){const b=new D.Matrix4,T=new D.Vector3,S=new D.Quaternion,k=new D.Vector3(1,1,1),F=new D.InstancedMesh(_.geometry,_.material,I);for(let N=0;N<I;N++)h.TRANSLATION&&T.fromBufferAttribute(h.TRANSLATION,N),h.ROTATION&&S.fromBufferAttribute(h.ROTATION,N),h.SCALE&&k.fromBufferAttribute(h.SCALE,N),F.setMatrixAt(N,b.compose(T,S,k));for(const N in h)if(N==="_COLOR_0"){const G=h[N];F.instanceColor=new D.InstancedBufferAttribute(G.array,G.itemSize,G.normalized)}else N!=="TRANSLATION"&&N!=="ROTATION"&&N!=="SCALE"&&_.geometry.setAttribute(N,h[N]);D.Object3D.prototype.copy.call(F,_),this.parser.assignFinalMaterial(F),w.push(F)}return p.isGroup?(p.clear(),p.add(...w),p):w[0]}))}}const nu="glTF",LT=1313821514,PT=5130562;class FT{constructor(t){this.name=Vi.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==nu)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-12,l=new DataView(t,12);let c=0;for(;c<o;){const h=l.getUint32(c,!0);c+=4;const f=l.getUint32(c,!0);if(c+=4,f===LT){const p=new Uint8Array(t,12+c,h);this.content=r.decode(p)}else if(f===PT){const p=12+c;this.body=t.slice(p,p+h)}c+=h}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class UT{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Vi.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const r=this.json,o=this.dracoLoader,l=t.extensions[this.name].bufferView,c=t.extensions[this.name].attributes,h={},f={},p={};for(const m in c){const I=wf[m]||m.toLowerCase();h[I]=c[m]}for(const m in t.attributes){const I=wf[m]||m.toLowerCase();if(c[m]!==void 0){const w=r.accessors[t.attributes[m]],_=sA[w.componentType];p[I]=_.name,f[I]=w.normalized===!0}}return n.getDependency("bufferView",l).then(function(m){return new Promise(function(I,w){o.decodeDracoFile(m,function(_){for(const b in _.attributes){const T=_.attributes[b],S=f[b];S!==void 0&&(T.normalized=S)}I(_)},h,p,D.LinearSRGBColorSpace,w)})})}}class NT{constructor(){this.name=Vi.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(n.texCoord!==void 0&&n.texCoord!==t.channel||n.offset!==void 0||n.rotation!==void 0||n.scale!==void 0)&&(t=t.clone(),n.texCoord!==void 0&&(t.channel=n.texCoord),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class GT{constructor(){this.name=Vi.KHR_MESH_QUANTIZATION}}class _v extends D.Interpolant{constructor(t,n,r,o){super(t,n,r,o)}copySampleValue_(t){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=t*o*3+o;for(let c=0;c!==o;c++)n[c]=r[l+c];return n}interpolate_(t,n,r,o){const l=this.resultBuffer,c=this.sampleValues,h=this.valueSize,f=2*h,p=3*h,m=o-n,I=(r-n)/m,w=I*I,_=w*I,b=t*p,T=b-p,S=-2*_+3*w,k=_-w,F=1-S,N=k-w+I;for(let G=0;G!==h;G++){const V=c[T+G+h],W=c[T+G+f]*m,X=c[b+G+h],K=c[b+G]*m;l[G]=F*V+N*W+S*X+k*K}return l}}const Bv=new D.Quaternion;class OT extends _v{interpolate_(t,n,r,o){const l=super.interpolate_(t,n,r,o);return Bv.fromArray(l).normalize().toArray(l),l}}const wl={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},sA={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},md={9728:D.NearestFilter,9729:D.LinearFilter,9984:D.NearestMipmapNearestFilter,9985:D.LinearMipmapNearestFilter,9986:D.NearestMipmapLinearFilter,9987:D.LinearMipmapLinearFilter},Bm={33071:D.ClampToEdgeWrapping,33648:D.MirroredRepeatWrapping,10497:D.RepeatWrapping},cp={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wf={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xc={CUBICSPLINE:void 0,LINEAR:D.InterpolateLinear,STEP:D.InterpolateDiscrete},cE="OPAQUE",va="MASK",vv="BLEND";function hp(e,t,n){for(const r in n.extensions)e[r]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function rA(e,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function uP(e,t){if(e.updateMorphTargets(),t.weights!==void 0)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++)e.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Qo(e){let t;const n=e.extensions&&e.extensions[Vi.KHR_DRACO_MESH_COMPRESSION];if(t=n?"draco:"+n.bufferView+":"+n.indices+":"+up(n.attributes):e.indices+":"+up(e.attributes)+":"+e.mode,e.targets!==void 0)for(let r=0,o=e.targets.length;r<o;r++)t+=":"+up(e.targets[r]);return t}function up(e){let t="";const n=Object.keys(e).sort();for(let r=0,o=n.length;r<o;r++)t+=n[r]+":"+e[n[r]]+";";return t}function bv(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const iu=new D.Matrix4;class dP{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new BT,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=-1,l=!1,c=-1;if(typeof navigator<"u"){const h=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(h)===!0;const f=h.match(/Version\/(\d+)/);o=r&&f?parseInt(f[1],10):-1,l=h.indexOf("Firefox")>-1,c=l?h.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&o<17||l&&c<98?this.textureLoader=new D.TextureLoader(this.options.manager):this.textureLoader=new D.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new D.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const r=this,o=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(c){const h={scene:c[0][o.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:o.asset,parser:r,userData:{}};return hp(l,h,o),rA(h,o),Promise.all(r._invokeAll(function(f){return f.afterRoot&&f.afterRoot(h)})).then(function(){for(const f of h.scenes)f.updateMatrixWorld();t(h)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let o=0,l=n.length;o<l;o++){const c=n[o].joints;for(let h=0,f=c.length;h<f;h++)t[c[h]].isBone=!0}for(let o=0,l=t.length;o<l;o++){const c=t[o];c.mesh!==void 0&&(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0&&(r[c.mesh].isSkinnedMesh=!0)),c.camera!==void 0&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,r){if(t.refs[n]<=1)return r;const o=r.clone(),l=(c,h)=>{const f=this.associations.get(c);f!=null&&this.associations.set(h,f);for(const[p,m]of c.children.entries())l(m,h.children[p])};return l(r,o),o.name+="_instance_"+t.uses[n]++,o}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const o=t(n[r]);if(o)return o}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let o=0;o<n.length;o++){const l=t(n[o]);l&&r.push(l)}return r}getDependency(t,n){const r=t+":"+n;let o=this.cache.get(r);if(!o){switch(t){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(l){return l.loadNode&&l.loadNode(n)});break;case"mesh":o=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(t,n)}),!o)throw new Error("Unknown type: "+t)}this.cache.add(r,o)}return o}getDependencies(t){let n=this.cache.get(t);if(!n){const r=this,o=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(l,c){return r.getDependency(t,c)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[Vi.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(l,c){r.load(D.LoaderUtils.resolveURL(n.uri,o.path),l,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(r){const o=n.byteLength||0,l=n.byteOffset||0;return r.slice(l,l+o)})}loadAccessor(t){const n=this,r=this.json,o=this.json.accessors[t];if(o.bufferView===void 0&&o.sparse===void 0){const c=cp[o.type],h=sA[o.componentType],f=o.normalized===!0,p=new h(o.count*c);return Promise.resolve(new D.BufferAttribute(p,c,f))}const l=[];return o.bufferView!==void 0?l.push(this.getDependency("bufferView",o.bufferView)):l.push(null),o.sparse!==void 0&&(l.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(l).then(function(c){const h=c[0],f=cp[o.type],p=sA[o.componentType],m=p.BYTES_PER_ELEMENT,I=m*f,w=o.byteOffset||0,_=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,b=o.normalized===!0;let T,S;if(_&&_!==I){const k=Math.floor(w/_),F="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+k+":"+o.count;let N=n.cache.get(F);N||(T=new p(h,k*_,o.count*_/m),N=new D.InterleavedBuffer(T,_/m),n.cache.add(F,N)),S=new D.InterleavedBufferAttribute(N,f,w%_/m,b)}else T=h===null?new p(o.count*f):new p(h,w,o.count*f),S=new D.BufferAttribute(T,f,b);if(o.sparse!==void 0){const k=cp.SCALAR,F=sA[o.sparse.indices.componentType],N=o.sparse.indices.byteOffset||0,G=o.sparse.values.byteOffset||0,V=new F(c[1],N,o.sparse.count*k),W=new p(c[2],G,o.sparse.count*f);h!==null&&(S=new D.BufferAttribute(S.array.slice(),S.itemSize,S.normalized)),S.normalized=!1;for(let X=0,K=V.length;X<K;X++){const st=V[X];if(S.setX(st,W[X*f]),f>=2&&S.setY(st,W[X*f+1]),f>=3&&S.setZ(st,W[X*f+2]),f>=4&&S.setW(st,W[X*f+3]),f>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}S.normalized=b}return S})}loadTexture(t){const n=this.json,r=this.options,o=n.textures[t].source,l=n.images[o];let c=this.textureLoader;if(l.uri){const h=r.manager.getHandler(l.uri);h!==null&&(c=h)}return this.loadTextureImage(t,o,c)}loadTextureImage(t,n,r){const o=this,l=this.json,c=l.textures[t],h=l.images[n],f=(h.uri||h.bufferView)+":"+c.sampler;if(this.textureCache[f])return this.textureCache[f];const p=this.loadImageSource(n,r).then(function(m){m.flipY=!1,m.name=c.name||h.name||"",m.name===""&&typeof h.uri=="string"&&h.uri.startsWith("data:image/")===!1&&(m.name=h.uri);const I=(l.samplers||{})[c.sampler]||{};return m.magFilter=md[I.magFilter]||D.LinearFilter,m.minFilter=md[I.minFilter]||D.LinearMipmapLinearFilter,m.wrapS=Bm[I.wrapS]||D.RepeatWrapping,m.wrapT=Bm[I.wrapT]||D.RepeatWrapping,m.generateMipmaps=!m.isCompressedTexture&&m.minFilter!==D.NearestFilter&&m.minFilter!==D.LinearFilter,o.associations.set(m,{textures:t}),m}).catch(function(){return null});return this.textureCache[f]=p,p}loadImageSource(t,n){const r=this,o=this.json,l=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(I=>I.clone());const c=o.images[t],h=self.URL||self.webkitURL;let f=c.uri||"",p=!1;if(c.bufferView!==void 0)f=r.getDependency("bufferView",c.bufferView).then(function(I){p=!0;const w=new Blob([I],{type:c.mimeType});return f=h.createObjectURL(w),f});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const m=Promise.resolve(f).then(function(I){return new Promise(function(w,_){let b=w;n.isImageBitmapLoader===!0&&(b=function(T){const S=new D.Texture(T);S.needsUpdate=!0,w(S)}),n.load(D.LoaderUtils.resolveURL(I,l.path),b,void 0,_)})}).then(function(I){var w;return p===!0&&h.revokeObjectURL(f),rA(I,c),I.userData.mimeType=c.mimeType||((w=c.uri).search(/\.jpe?g($|\?)/i)>0||w.search(/^data\:image\/jpeg/)===0?"image/jpeg":w.search(/\.webp($|\?)/i)>0||w.search(/^data\:image\/webp/)===0?"image/webp":w.search(/\.ktx2($|\?)/i)>0||w.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"),I}).catch(function(I){throw console.error("THREE.GLTFLoader: Couldn't load texture",f),I});return this.sourceCache[t]=m,m}assignTexture(t,n,r,o){const l=this;return this.getDependency("texture",r.index).then(function(c){if(!c)return null;if(r.texCoord!==void 0&&r.texCoord>0&&((c=c.clone()).channel=r.texCoord),l.extensions[Vi.KHR_TEXTURE_TRANSFORM]){const h=r.extensions!==void 0?r.extensions[Vi.KHR_TEXTURE_TRANSFORM]:void 0;if(h){const f=l.associations.get(c);c=l.extensions[Vi.KHR_TEXTURE_TRANSFORM].extendTexture(c,h),l.associations.set(c,f)}}return o!==void 0&&(c.colorSpace=o),t[n]=c,c})}assignFinalMaterial(t){const n=t.geometry;let r=t.material;const o=n.attributes.tangent===void 0,l=n.attributes.color!==void 0,c=n.attributes.normal===void 0;if(t.isPoints){const h="PointsMaterial:"+r.uuid;let f=this.cache.get(h);f||(f=new D.PointsMaterial,D.Material.prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,f.sizeAttenuation=!1,this.cache.add(h,f)),r=f}else if(t.isLine){const h="LineBasicMaterial:"+r.uuid;let f=this.cache.get(h);f||(f=new D.LineBasicMaterial,D.Material.prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,this.cache.add(h,f)),r=f}if(o||l||c){let h="ClonedMaterial:"+r.uuid+":";o&&(h+="derivative-tangents:"),l&&(h+="vertex-colors:"),c&&(h+="flat-shading:");let f=this.cache.get(h);f||(f=r.clone(),l&&(f.vertexColors=!0),c&&(f.flatShading=!0),o&&(f.normalScale&&(f.normalScale.y*=-1),f.clearcoatNormalScale&&(f.clearcoatNormalScale.y*=-1)),this.cache.add(h,f),this.associations.set(f,this.associations.get(r))),r=f}t.material=r}getMaterialType(){return D.MeshStandardMaterial}loadMaterial(t){const n=this,r=this.json,o=this.extensions,l=r.materials[t];let c;const h={},f=[];if((l.extensions||{})[Vi.KHR_MATERIALS_UNLIT]){const m=o[Vi.KHR_MATERIALS_UNLIT];c=m.getMaterialType(),f.push(m.extendParams(h,l,n))}else{const m=l.pbrMetallicRoughness||{};if(h.color=new D.Color(1,1,1),h.opacity=1,Array.isArray(m.baseColorFactor)){const I=m.baseColorFactor;h.color.setRGB(I[0],I[1],I[2],D.LinearSRGBColorSpace),h.opacity=I[3]}m.baseColorTexture!==void 0&&f.push(n.assignTexture(h,"map",m.baseColorTexture,D.SRGBColorSpace)),h.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,h.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(f.push(n.assignTexture(h,"metalnessMap",m.metallicRoughnessTexture)),f.push(n.assignTexture(h,"roughnessMap",m.metallicRoughnessTexture))),c=this._invokeOne(function(I){return I.getMaterialType&&I.getMaterialType(t)}),f.push(Promise.all(this._invokeAll(function(I){return I.extendMaterialParams&&I.extendMaterialParams(t,h)})))}l.doubleSided===!0&&(h.side=D.DoubleSide);const p=l.alphaMode||cE;if(p===vv?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,p===va&&(h.alphaTest=l.alphaCutoff!==void 0?l.alphaCutoff:.5)),l.normalTexture!==void 0&&c!==D.MeshBasicMaterial&&(f.push(n.assignTexture(h,"normalMap",l.normalTexture)),h.normalScale=new D.Vector2(1,1),l.normalTexture.scale!==void 0)){const m=l.normalTexture.scale;h.normalScale.set(m,m)}if(l.occlusionTexture!==void 0&&c!==D.MeshBasicMaterial&&(f.push(n.assignTexture(h,"aoMap",l.occlusionTexture)),l.occlusionTexture.strength!==void 0&&(h.aoMapIntensity=l.occlusionTexture.strength)),l.emissiveFactor!==void 0&&c!==D.MeshBasicMaterial){const m=l.emissiveFactor;h.emissive=new D.Color().setRGB(m[0],m[1],m[2],D.LinearSRGBColorSpace)}return l.emissiveTexture!==void 0&&c!==D.MeshBasicMaterial&&f.push(n.assignTexture(h,"emissiveMap",l.emissiveTexture,D.SRGBColorSpace)),Promise.all(f).then(function(){const m=new c(h);return l.name&&(m.name=l.name),rA(m,l),n.associations.set(m,{materials:t}),l.extensions&&hp(o,m,l),m})}createUniqueName(t){const n=D.PropertyBinding.sanitizeNodeName(t||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(t){const n=this,r=this.extensions,o=this.primitiveCache;function l(h){return r[Vi.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(h,n).then(function(f){return hh(f,h,n)})}const c=[];for(let h=0,f=t.length;h<f;h++){const p=t[h],m=Qo(p),I=o[m];if(I)c.push(I.promise);else{let w;w=p.extensions&&p.extensions[Vi.KHR_DRACO_MESH_COMPRESSION]?l(p):hh(new D.BufferGeometry,p,n),o[m]={primitive:p,promise:w},c.push(w)}}return Promise.all(c)}loadMesh(t){const n=this,r=this.json,o=this.extensions,l=r.meshes[t],c=l.primitives,h=[];for(let p=0,m=c.length;p<m;p++){const I=c[p].material===void 0?((f=this.cache).DefaultMaterial===void 0&&(f.DefaultMaterial=new D.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:D.FrontSide})),f.DefaultMaterial):this.getDependency("material",c[p].material);h.push(I)}var f;return h.push(n.loadGeometries(c)),Promise.all(h).then(function(p){const m=p.slice(0,p.length-1),I=p[p.length-1],w=[];for(let b=0,T=I.length;b<T;b++){const S=I[b],k=c[b];let F;const N=m[b];if(k.mode===wl.TRIANGLES||k.mode===wl.TRIANGLE_STRIP||k.mode===wl.TRIANGLE_FAN||k.mode===void 0)F=l.isSkinnedMesh===!0?new D.SkinnedMesh(S,N):new D.Mesh(S,N),F.isSkinnedMesh===!0&&F.normalizeSkinWeights(),k.mode===wl.TRIANGLE_STRIP?F.geometry=aE(F.geometry,D.TriangleStripDrawMode):k.mode===wl.TRIANGLE_FAN&&(F.geometry=aE(F.geometry,D.TriangleFanDrawMode));else if(k.mode===wl.LINES)F=new D.LineSegments(S,N);else if(k.mode===wl.LINE_STRIP)F=new D.Line(S,N);else if(k.mode===wl.LINE_LOOP)F=new D.LineLoop(S,N);else{if(k.mode!==wl.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+k.mode);F=new D.Points(S,N)}Object.keys(F.geometry.morphAttributes).length>0&&uP(F,l),F.name=n.createUniqueName(l.name||"mesh_"+t),rA(F,l),k.extensions&&hp(o,F,k),n.assignFinalMaterial(F),w.push(F)}for(let b=0,T=w.length;b<T;b++)n.associations.set(w[b],{meshes:t,primitives:b});if(w.length===1)return l.extensions&&hp(o,w[0],l),w[0];const _=new D.Group;l.extensions&&hp(o,_,l),n.associations.set(_,{meshes:t});for(let b=0,T=w.length;b<T;b++)_.add(w[b]);return _})}loadCamera(t){let n;const r=this.json.cameras[t],o=r[r.type];if(o)return r.type==="perspective"?n=new D.PerspectiveCamera(D.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(n=new D.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),rA(n,r),Promise.resolve(n);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const n=this.json.skins[t],r=[];for(let o=0,l=n.joints.length;o<l;o++)r.push(this._loadNodeShallow(n.joints[o]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const l=o.pop(),c=o,h=[],f=[];for(let p=0,m=c.length;p<m;p++){const I=c[p];if(I){h.push(I);const w=new D.Matrix4;l!==null&&w.fromArray(l.array,16*p),f.push(w)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[p])}return new D.Skeleton(h,f)})}loadAnimation(t){const n=this.json,r=this,o=n.animations[t],l=o.name?o.name:"animation_"+t,c=[],h=[],f=[],p=[],m=[];for(let I=0,w=o.channels.length;I<w;I++){const _=o.channels[I],b=o.samplers[_.sampler],T=_.target,S=T.node,k=o.parameters!==void 0?o.parameters[b.input]:b.input,F=o.parameters!==void 0?o.parameters[b.output]:b.output;T.node!==void 0&&(c.push(this.getDependency("node",S)),h.push(this.getDependency("accessor",k)),f.push(this.getDependency("accessor",F)),p.push(b),m.push(T))}return Promise.all([Promise.all(c),Promise.all(h),Promise.all(f),Promise.all(p),Promise.all(m)]).then(function(I){const w=I[0],_=I[1],b=I[2],T=I[3],S=I[4],k=[];for(let F=0,N=w.length;F<N;F++){const G=w[F],V=_[F],W=b[F],X=T[F],K=S[F];if(G===void 0)continue;G.updateMatrix&&G.updateMatrix();const st=r._createAnimationTracks(G,V,W,X,K);if(st)for(let et=0;et<st.length;et++)k.push(st[et])}return new D.AnimationClip(l,void 0,k)})}createNodeMesh(t){const n=this.json,r=this,o=n.nodes[t];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(l){const c=r._getNodeRef(r.meshCache,o.mesh,l);return o.weights!==void 0&&c.traverse(function(h){if(h.isMesh)for(let f=0,p=o.weights.length;f<p;f++)h.morphTargetInfluences[f]=o.weights[f]}),c})}loadNode(t){const n=this,r=this.json.nodes[t],o=n._loadNodeShallow(t),l=[],c=r.children||[];for(let f=0,p=c.length;f<p;f++)l.push(n.getDependency("node",c[f]));const h=r.skin===void 0?Promise.resolve(null):n.getDependency("skin",r.skin);return Promise.all([o,Promise.all(l),h]).then(function(f){const p=f[0],m=f[1],I=f[2];I!==null&&p.traverse(function(w){w.isSkinnedMesh&&w.bind(I,iu)});for(let w=0,_=m.length;w<_;w++)p.add(m[w]);return p})}_loadNodeShallow(t){const n=this.json,r=this.extensions,o=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const l=n.nodes[t],c=l.name?o.createUniqueName(l.name):"",h=[],f=o._invokeOne(function(p){return p.createNodeMesh&&p.createNodeMesh(t)});return f&&h.push(f),l.camera!==void 0&&h.push(o.getDependency("camera",l.camera).then(function(p){return o._getNodeRef(o.cameraCache,l.camera,p)})),o._invokeAll(function(p){return p.createNodeAttachment&&p.createNodeAttachment(t)}).forEach(function(p){h.push(p)}),this.nodeCache[t]=Promise.all(h).then(function(p){let m;if(m=l.isBone===!0?new D.Bone:p.length>1?new D.Group:p.length===1?p[0]:new D.Object3D,m!==p[0])for(let I=0,w=p.length;I<w;I++)m.add(p[I]);if(l.name&&(m.userData.name=l.name,m.name=c),rA(m,l),l.extensions&&hp(r,m,l),l.matrix!==void 0){const I=new D.Matrix4;I.fromArray(l.matrix),m.applyMatrix4(I)}else l.translation!==void 0&&m.position.fromArray(l.translation),l.rotation!==void 0&&m.quaternion.fromArray(l.rotation),l.scale!==void 0&&m.scale.fromArray(l.scale);return o.associations.has(m)||o.associations.set(m,{}),o.associations.get(m).nodes=t,m}),this.nodeCache[t]}loadScene(t){const n=this.extensions,r=this.json.scenes[t],o=this,l=new D.Group;r.name&&(l.name=o.createUniqueName(r.name)),rA(l,r),r.extensions&&hp(n,l,r);const c=r.nodes||[],h=[];for(let f=0,p=c.length;f<p;f++)h.push(o.getDependency("node",c[f]));return Promise.all(h).then(function(f){for(let p=0,m=f.length;p<m;p++)l.add(f[p]);return o.associations=(p=>{const m=new Map;for(const[I,w]of o.associations)(I instanceof D.Material||I instanceof D.Texture)&&m.set(I,w);return p.traverse(I=>{const w=o.associations.get(I);w!=null&&m.set(I,w)}),m})(l),l})}_createAnimationTracks(t,n,r,o,l){const c=[],h=t.name?t.name:t.uuid,f=[];let p;switch(yc[l.path]===yc.weights?t.traverse(function(w){w.morphTargetInfluences&&f.push(w.name?w.name:w.uuid)}):f.push(h),yc[l.path]){case yc.weights:p=D.NumberKeyframeTrack;break;case yc.rotation:p=D.QuaternionKeyframeTrack;break;case yc.position:case yc.scale:p=D.VectorKeyframeTrack;break;default:r.itemSize===1?p=D.NumberKeyframeTrack:p=D.VectorKeyframeTrack}const m=o.interpolation!==void 0?xc[o.interpolation]:D.InterpolateLinear,I=this._getArrayFromAccessor(r);for(let w=0,_=f.length;w<_;w++){const b=new p(f[w]+"."+yc[l.path],n.array,I,m);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(b),c.push(b)}return c}_getArrayFromAccessor(t){let n=t.array;if(t.normalized){const r=bv(n.constructor),o=new Float32Array(n.length);for(let l=0,c=n.length;l<c;l++)o[l]=n[l]*r;n=o}return n}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(n){return new(this instanceof D.QuaternionKeyframeTrack?OT:_v)(this.times,this.values,this.getValueSize()/3,n)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function hh(e,t,n){const r=t.attributes,o=[];function l(c,h){return n.getDependency("accessor",c).then(function(f){e.setAttribute(h,f)})}for(const c in r){const h=wf[c]||c.toLowerCase();h in e.attributes||o.push(l(r[c],h))}if(t.indices!==void 0&&!e.index){const c=n.getDependency("accessor",t.indices).then(function(h){e.setIndex(h)});o.push(c)}return D.ColorManagement.workingColorSpace!==D.LinearSRGBColorSpace&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${D.ColorManagement.workingColorSpace}" not supported.`),rA(e,t),function(c,h,f){const p=h.attributes,m=new D.Box3;if(p.POSITION===void 0)return;{const _=f.json.accessors[p.POSITION],b=_.min,T=_.max;if(b===void 0||T===void 0)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(m.set(new D.Vector3(b[0],b[1],b[2]),new D.Vector3(T[0],T[1],T[2])),_.normalized){const S=bv(sA[_.componentType]);m.min.multiplyScalar(S),m.max.multiplyScalar(S)}}const I=h.targets;if(I!==void 0){const _=new D.Vector3,b=new D.Vector3;for(let T=0,S=I.length;T<S;T++){const k=I[T];if(k.POSITION!==void 0){const F=f.json.accessors[k.POSITION],N=F.min,G=F.max;if(N!==void 0&&G!==void 0){if(b.setX(Math.max(Math.abs(N[0]),Math.abs(G[0]))),b.setY(Math.max(Math.abs(N[1]),Math.abs(G[1]))),b.setZ(Math.max(Math.abs(N[2]),Math.abs(G[2]))),F.normalized){const V=bv(sA[F.componentType]);b.multiplyScalar(V)}_.max(b)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}m.expandByVector(_)}c.boundingBox=m;const w=new D.Sphere;m.getCenter(w.center),w.radius=m.min.distanceTo(m.max)/2,c.boundingSphere=w}(e,t,n),Promise.all(o).then(function(){return t.targets!==void 0?function(c,h,f){let p=!1,m=!1,I=!1;for(let T=0,S=h.length;T<S;T++){const k=h[T];if(k.POSITION!==void 0&&(p=!0),k.NORMAL!==void 0&&(m=!0),k.COLOR_0!==void 0&&(I=!0),p&&m&&I)break}if(!p&&!m&&!I)return Promise.resolve(c);const w=[],_=[],b=[];for(let T=0,S=h.length;T<S;T++){const k=h[T];if(p){const F=k.POSITION!==void 0?f.getDependency("accessor",k.POSITION):c.attributes.position;w.push(F)}if(m){const F=k.NORMAL!==void 0?f.getDependency("accessor",k.NORMAL):c.attributes.normal;_.push(F)}if(I){const F=k.COLOR_0!==void 0?f.getDependency("accessor",k.COLOR_0):c.attributes.color;b.push(F)}}return Promise.all([Promise.all(w),Promise.all(_),Promise.all(b)]).then(function(T){const S=T[0],k=T[1],F=T[2];return p&&(c.morphAttributes.position=S),m&&(c.morphAttributes.normal=k),I&&(c.morphAttributes.color=F),c.morphTargetsRelative=!0,c})}(e,t.targets,n):e})}/*!
    fflate - fast JavaScript compression/decompression
    <https://101arrowz.github.io/fflate>
    Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
    version 0.8.2
    */var oA=Uint8Array,_f=Uint16Array,vm=Int32Array,hE=new oA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),su=new oA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aA=new oA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dp=function(e,t){for(var n=new _f(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new vm(n[30]);for(r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)o[l]=l-n[r]<<5|r;return{b:n,r:o}},uE=dp(hE,2),dE=uE.b,fp=uE.r;dE[28]=258,fp[258]=28;for(var Mv=dp(su,0).b,fE=new _f(32768),zs=0;zs<32768;++zs){var to=(43690&zs)>>1|(21845&zs)<<1;to=(61680&(to=(52428&to)>>2|(13107&to)<<2))>>4|(3855&to)<<4,fE[zs]=((65280&to)>>8|(255&to)<<8)>>1}var pp=function(e,t,n){for(var r=e.length,o=0,l=new _f(t);o<r;++o)e[o]&&++l[e[o]-1];var c,h=new _f(t);for(o=1;o<t;++o)h[o]=h[o-1]+l[o-1]<<1;if(n){c=new _f(1<<t);var f=15-t;for(o=0;o<r;++o)if(e[o])for(var p=o<<4|e[o],m=t-e[o],I=h[e[o]-1]++<<m,w=I|(1<<m)-1;I<=w;++I)c[fE[I]>>f]=p}else for(c=new _f(r),o=0;o<r;++o)e[o]&&(c[o]=fE[h[e[o]-1]++]>>15-e[o]);return c},gp=new oA(288);for(zs=0;zs<144;++zs)gp[zs]=8;for(zs=144;zs<256;++zs)gp[zs]=9;for(zs=256;zs<280;++zs)gp[zs]=7;for(zs=280;zs<288;++zs)gp[zs]=8;var Bf=new oA(32);for(zs=0;zs<32;++zs)Bf[zs]=5;var mp=pp(gp,9,1),Uw=pp(Bf,5,1),yp=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},FA=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},bm=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},fP=function(e){return(e+7)/8|0},Nw=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_l=function(e,t,n){var r=new Error(t||Nw[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,_l),!n)throw r;return r},pE=function(e,t,n,r){var o=e.length;if(!o||t.f&&!t.l)return n||new oA(0);var l=!n,c=l||t.i!=2,h=t.i;l&&(n=new oA(3*o));var f=function(ee){var pn=n.length;if(ee>pn){var Te=new oA(Math.max(2*pn,ee));Te.set(n),n=Te}},p=t.f||0,m=t.p||0,I=t.b||0,w=t.l,_=t.d,b=t.m,T=t.n,S=8*o;do{if(!w){p=FA(e,m,1);var k=FA(e,m+1,3);if(m+=3,!k){var F=e[(ht=fP(m)+4)-4]|e[ht-3]<<8,N=ht+F;if(N>o){h&&_l(0);break}c&&f(I+F),n.set(e.subarray(ht,N),I),t.b=I+=F,t.p=m=8*N,t.f=p;continue}if(k==1)w=mp,_=Uw,b=9,T=5;else if(k==2){var G=FA(e,m,31)+257,V=FA(e,m+10,15)+4,W=G+FA(e,m+5,31)+1;m+=14;for(var X=new oA(W),K=new oA(19),st=0;st<V;++st)K[aA[st]]=FA(e,m+3*st,7);m+=3*V;var et=yp(K),it=(1<<et)-1,ot=pp(K,et,1);for(st=0;st<W;){var ht,vt=ot[FA(e,m,it)];if(m+=15&vt,(ht=vt>>4)<16)X[st++]=ht;else{var Ct=0,wt=0;for(ht==16?(wt=3+FA(e,m,3),m+=2,Ct=X[st-1]):ht==17?(wt=3+FA(e,m,7),m+=3):ht==18&&(wt=11+FA(e,m,127),m+=7);wt--;)X[st++]=Ct}}var mt=X.subarray(0,G),Rt=X.subarray(G);b=yp(mt),T=yp(Rt),w=pp(mt,b,1),_=pp(Rt,T,1)}else _l(1);if(m>S){h&&_l(0);break}}c&&f(I+131072);for(var Mt=(1<<b)-1,Bt=(1<<T)-1,at=m;;at=m){var kt=(Ct=w[bm(e,m)&Mt])>>4;if((m+=15&Ct)>S){h&&_l(0);break}if(Ct||_l(2),kt<256)n[I++]=kt;else{if(kt==256){at=m,w=null;break}var _t=kt-254;if(kt>264){var zt=hE[st=kt-257];_t=FA(e,m,(1<<zt)-1)+dE[st],m+=zt}var Ft=_[bm(e,m)&Bt],qt=Ft>>4;if(Ft||_l(3),m+=15&Ft,Rt=Mv[qt],qt>3&&(zt=su[qt],Rt+=bm(e,m)&(1<<zt)-1,m+=zt),m>S){h&&_l(0);break}c&&f(I+131072);var Gt=I+_t;if(I<Rt){var ge=0-Rt,Fe=Math.min(Rt,Gt);for(ge+I<0&&_l(3);I<Fe;++I)n[I]=r[ge+I]}for(;I<Gt;++I)n[I]=n[I-Rt]}}t.l=w,t.p=at,t.b=I,t.f=p,w&&(p=1,t.m=b,t.d=_,t.n=T)}while(!p);return I!=n.length&&l?function(ee,pn,Te){return(Te==null||Te>ee.length)&&(Te=ee.length),new oA(ee.subarray(pn,Te))}(n,0,I):n.subarray(0,I)},gE=new oA(0);function mE(e,t){return pE(e.subarray(function(n){return((15&n[0])!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&_l(6,"invalid zlib data"),(n[1]>>5&1)==1&&_l(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(e),-4),{i:2},t,t)}var Gw=typeof TextDecoder<"u"&&new TextDecoder;try{Gw.decode(gE,{stream:!0})}catch{}function yE(e,t,n){const r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;let o=e,l=r,c=Math.floor((o+l)/2);for(;t<n[c]||t>=n[c+1];)t<n[c]?l=c:o=c,c=Math.floor((o+l)/2);return c}function Ow(e,t){let n=1;for(let o=2;o<=e;++o)n*=o;let r=1;for(let o=2;o<=t;++o)r*=o;for(let o=2;o<=e-t;++o)r*=o;return n/r}function Vw(e,t,n,r,o){const l=function(c,h,f,p,m){const I=m<c?m:c,w=[],_=yE(c,p,h),b=function(S,k,F,N,G){const V=[];for(let it=0;it<=F;++it)V[it]=0;const W=[];for(let it=0;it<=N;++it)W[it]=V.slice(0);const X=[];for(let it=0;it<=F;++it)X[it]=V.slice(0);X[0][0]=1;const K=V.slice(0),st=V.slice(0);for(let it=1;it<=F;++it){K[it]=k-G[S+1-it],st[it]=G[S+it]-k;let ot=0;for(let ht=0;ht<it;++ht){const vt=st[ht+1],Ct=K[it-ht];X[it][ht]=vt+Ct;const wt=X[ht][it-1]/X[it][ht];X[ht][it]=ot+vt*wt,ot=Ct*wt}X[it][it]=ot}for(let it=0;it<=F;++it)W[0][it]=X[it][F];for(let it=0;it<=F;++it){let ot=0,ht=1;const vt=[];for(let Ct=0;Ct<=F;++Ct)vt[Ct]=V.slice(0);vt[0][0]=1;for(let Ct=1;Ct<=N;++Ct){let wt=0;const mt=it-Ct,Rt=F-Ct;it>=Ct&&(vt[ht][0]=vt[ot][0]/X[Rt+1][mt],wt=vt[ht][0]*X[mt][Rt]);const Mt=it-1<=Rt?Ct-1:F-it;for(let at=mt>=-1?1:-mt;at<=Mt;++at)vt[ht][at]=(vt[ot][at]-vt[ot][at-1])/X[Rt+1][mt+at],wt+=vt[ht][at]*X[mt+at][Rt];it<=Rt&&(vt[ht][Ct]=-vt[ot][Ct-1]/X[Rt+1][it],wt+=vt[ht][Ct]*X[it][Rt]),W[Ct][it]=wt;const Bt=ot;ot=ht,ht=Bt}}let et=F;for(let it=1;it<=N;++it){for(let ot=0;ot<=F;++ot)W[it][ot]*=et;et*=F-it}return W}(_,p,c,I,h),T=[];for(let S=0;S<f.length;++S){const k=f[S].clone(),F=k.w;k.x*=F,k.y*=F,k.z*=F,T[S]=k}for(let S=0;S<=I;++S){const k=T[_-c].clone().multiplyScalar(b[S][0]);for(let F=1;F<=c;++F)k.add(T[_-c+F].clone().multiplyScalar(b[S][F]));w[S]=k}for(let S=I+1;S<=m+1;++S)w[S]=new D.Vector4(0,0,0);return w}(e,t,n,r,o);return function(c){const h=c.length,f=[],p=[];for(let I=0;I<h;++I){const w=c[I];f[I]=new D.Vector3(w.x,w.y,w.z),p[I]=w.w}const m=[];for(let I=0;I<h;++I){const w=f[I].clone();for(let _=1;_<=I;++_)w.sub(m[I-_].clone().multiplyScalar(Ow(I,_)*p[_]));m[I]=w.divideScalar(p[0])}return m}(l)}class Hw extends D.Curve{constructor(t,n,r,o,l){super();const c=n?n.length-1:0,h=r?r.length:0;this.degree=t,this.knots=n,this.controlPoints=[],this.startKnot=o||0,this.endKnot=l||c;for(let f=0;f<h;++f){const p=r[f];this.controlPoints[f]=new D.Vector4(p.x,p.y,p.z,p.w)}}getPoint(t,n=new D.Vector3){const r=n,o=this.knots[this.startKnot]+t*(this.knots[this.endKnot]-this.knots[this.startKnot]),l=function(c,h,f,p){const m=yE(c,p,h),I=function(_,b,T,S){const k=[],F=[],N=[];k[0]=1;for(let G=1;G<=T;++G){F[G]=b-S[_+1-G],N[G]=S[_+G]-b;let V=0;for(let W=0;W<G;++W){const X=N[W+1],K=F[G-W],st=k[W]/(X+K);k[W]=V+X*st,V=K*st}k[G]=V}return k}(m,p,c,h),w=new D.Vector4(0,0,0,0);for(let _=0;_<=c;++_){const b=f[m-c+_],T=I[_],S=b.w*T;w.x+=b.x*S,w.y+=b.y*S,w.z+=b.z*S,w.w+=b.w*T}return w}(this.degree,this.knots,this.controlPoints,o);return l.w!==1&&l.divideScalar(l.w),r.set(l.x,l.y,l.z)}getTangent(t,n=new D.Vector3){const r=n,o=this.knots[0]+t*(this.knots[this.knots.length-1]-this.knots[0]),l=Vw(this.degree,this.knots,this.controlPoints,o,1);return r.copy(l[1]).normalize(),r}toJSON(){const t=super.toJSON();return t.degree=this.degree,t.knots=[...this.knots],t.controlPoints=this.controlPoints.map(n=>n.toArray()),t.startKnot=this.startKnot,t.endKnot=this.endKnot,t}fromJSON(t){return super.fromJSON(t),this.degree=t.degree,this.knots=[...t.knots],this.controlPoints=t.controlPoints.map(n=>new D.Vector4(n[0],n[1],n[2],n[3])),this.startKnot=t.startKnot,this.endKnot=t.endKnot,this}}let Bi,Er,sa;class zw extends D.Loader{constructor(t){super(t)}load(t,n,r,o){const l=this,c=l.path===""?D.LoaderUtils.extractUrlBase(t):l.path,h=new D.FileLoader(this.manager);h.setPath(l.path),h.setResponseType("arraybuffer"),h.setRequestHeader(l.requestHeader),h.setWithCredentials(l.withCredentials),h.load(t,function(f){try{n(l.parse(f,c))}catch(p){o?o(p):console.error(p),l.manager.itemError(t)}},r,o)}parse(t,n){if(function(o){const l="Kaydara FBX Binary  \0";return o.byteLength>=l.length&&l===_E(o,0,l.length)}(t))Bi=new Kw().parse(t);else{const o=_E(t);if(!function(l){const c=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let h=0;function f(p){const m=l[p-1];return l=l.slice(h+p),h++,m}for(let p=0;p<c.length;++p)if(f(1)===c[p])return!1;return!0}(o))throw new Error("THREE.FBXLoader: Unknown format.");if(EE(o)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+EE(o));Bi=new Zw().parse(o)}const r=new D.TextureLoader(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin);return new Ww(r,this.manager).parse(Bi)}}class Ww{constructor(t,n){this.textureLoader=t,this.manager=n}parse(){Er=this.parseConnections();const t=this.parseImages(),n=this.parseTextures(t),r=this.parseMaterials(n),o=this.parseDeformers(),l=new Jw().parse(o);return this.parseScene(o,l,r),sa}parseConnections(){const t=new Map;return"Connections"in Bi&&Bi.Connections.connections.forEach(function(n){const r=n[0],o=n[1],l=n[2];t.has(r)||t.set(r,{parents:[],children:[]});const c={ID:o,relationship:l};t.get(r).parents.push(c),t.has(o)||t.set(o,{parents:[],children:[]});const h={ID:r,relationship:l};t.get(o).children.push(h)}),t}parseImages(){const t={},n={};if("Video"in Bi.Objects){const r=Bi.Objects.Video;for(const o in r){const l=r[o];if(t[parseInt(o)]=l.RelativeFilename||l.Filename,"Content"in l){const c=l.Content instanceof ArrayBuffer&&l.Content.byteLength>0,h=typeof l.Content=="string"&&l.Content!=="";if(c||h){const f=this.parseImage(r[o]);n[l.RelativeFilename||l.Filename]=f}}}}for(const r in t){const o=t[r];n[o]!==void 0?t[r]=n[o]:t[r]=t[r].split("\\").pop()}return t}parseImage(t){const n=t.Content,r=t.RelativeFilename||t.Filename,o=r.slice(r.lastIndexOf(".")+1).toLowerCase();let l;switch(o){case"bmp":l="image/bmp";break;case"jpg":case"jpeg":l="image/jpeg";break;case"png":l="image/png";break;case"tif":l="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),l="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+o+'" is not supported.')}if(typeof n=="string")return"data:"+l+";base64,"+n;{const c=new Uint8Array(n);return window.URL.createObjectURL(new Blob([c],{type:l}))}}parseTextures(t){const n=new Map;if("Texture"in Bi.Objects){const r=Bi.Objects.Texture;for(const o in r){const l=this.parseTexture(r[o],t);n.set(parseInt(o),l)}}return n}parseTexture(t,n){const r=this.loadTexture(t,n);r.ID=t.id,r.name=t.attrName;const o=t.WrapModeU,l=t.WrapModeV,c=o!==void 0?o.value:0,h=l!==void 0?l.value:0;if(r.wrapS=c===0?D.RepeatWrapping:D.ClampToEdgeWrapping,r.wrapT=h===0?D.RepeatWrapping:D.ClampToEdgeWrapping,"Scaling"in t){const f=t.Scaling.value;r.repeat.x=f[0],r.repeat.y=f[1]}if("Translation"in t){const f=t.Translation.value;r.offset.x=f[0],r.offset.y=f[1]}return r}loadTexture(t,n){const r=new Set(["tga","tif","tiff","exr","dds","hdr","ktx2"]),o=t.FileName.split(".").pop().toLowerCase(),l=r.has(o)?this.manager.getHandler(`.${o}`):this.textureLoader;if(!l)return console.warn(`FBXLoader: ${o.toUpperCase()} loader not found, creating placeholder texture for`,t.RelativeFilename),new D.Texture;const c=l.path;c||l.setPath(this.textureLoader.path);const h=Er.get(t.id).children;let f;h!==void 0&&h.length>0&&n[h[0].ID]!==void 0&&(f=n[h[0].ID],f.indexOf("blob:")!==0&&f.indexOf("data:")!==0||l.setPath(void 0));const p=l.load(f);return l.setPath(c),p}parseMaterials(t){const n=new Map;if("Material"in Bi.Objects){const r=Bi.Objects.Material;for(const o in r){const l=this.parseMaterial(r[o],t);l!==null&&n.set(parseInt(o),l)}}return n}parseMaterial(t,n){const r=t.id,o=t.attrName;let l=t.ShadingModel;if(typeof l=="object"&&(l=l.value),!Er.has(r))return null;const c=this.parseParameters(t,n,r);let h;switch(l.toLowerCase()){case"phong":h=new D.MeshPhongMaterial;break;case"lambert":h=new D.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',l),h=new D.MeshPhongMaterial}return h.setValues(c),h.name=o,h}parseParameters(t,n,r){const o={};t.BumpFactor&&(o.bumpScale=t.BumpFactor.value),t.Diffuse?o.color=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.Diffuse.value),D.SRGBColorSpace):!t.DiffuseColor||t.DiffuseColor.type!=="Color"&&t.DiffuseColor.type!=="ColorRGB"||(o.color=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.DiffuseColor.value),D.SRGBColorSpace)),t.DisplacementFactor&&(o.displacementScale=t.DisplacementFactor.value),t.Emissive?o.emissive=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.Emissive.value),D.SRGBColorSpace):!t.EmissiveColor||t.EmissiveColor.type!=="Color"&&t.EmissiveColor.type!=="ColorRGB"||(o.emissive=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.EmissiveColor.value),D.SRGBColorSpace)),t.EmissiveFactor&&(o.emissiveIntensity=parseFloat(t.EmissiveFactor.value)),o.opacity=1-(t.TransparencyFactor?parseFloat(t.TransparencyFactor.value):0),o.opacity!==1&&o.opacity!==0||(o.opacity=t.Opacity?parseFloat(t.Opacity.value):null,o.opacity===null&&(o.opacity=1-(t.TransparentColor?parseFloat(t.TransparentColor.value[0]):0))),o.opacity<1&&(o.transparent=!0),t.ReflectionFactor&&(o.reflectivity=t.ReflectionFactor.value),t.Shininess&&(o.shininess=t.Shininess.value),t.Specular?o.specular=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.Specular.value),D.SRGBColorSpace):t.SpecularColor&&t.SpecularColor.type==="Color"&&(o.specular=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(t.SpecularColor.value),D.SRGBColorSpace));const l=this;return Er.get(r).children.forEach(function(c){const h=c.relationship;switch(h){case"Bump":o.bumpMap=l.getTexture(n,c.ID);break;case"Maya|TEX_ao_map":o.aoMap=l.getTexture(n,c.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":o.map=l.getTexture(n,c.ID),o.map!==void 0&&(o.map.colorSpace=D.SRGBColorSpace);break;case"DisplacementColor":o.displacementMap=l.getTexture(n,c.ID);break;case"EmissiveColor":o.emissiveMap=l.getTexture(n,c.ID),o.emissiveMap!==void 0&&(o.emissiveMap.colorSpace=D.SRGBColorSpace);break;case"NormalMap":case"Maya|TEX_normal_map":o.normalMap=l.getTexture(n,c.ID);break;case"ReflectionColor":o.envMap=l.getTexture(n,c.ID),o.envMap!==void 0&&(o.envMap.mapping=D.EquirectangularReflectionMapping,o.envMap.colorSpace=D.SRGBColorSpace);break;case"SpecularColor":o.specularMap=l.getTexture(n,c.ID),o.specularMap!==void 0&&(o.specularMap.colorSpace=D.SRGBColorSpace);break;case"TransparentColor":case"TransparencyFactor":o.alphaMap=l.getTexture(n,c.ID),o.transparent=!0;break;default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",h)}}),o}getTexture(t,n){return"LayeredTexture"in Bi.Objects&&n in Bi.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),n=Er.get(n).children[0].ID),t.get(n)}parseDeformers(){const t={},n={};if("Deformer"in Bi.Objects){const r=Bi.Objects.Deformer;for(const o in r){const l=r[o],c=Er.get(parseInt(o));if(l.attrType==="Skin"){const h=this.parseSkeleton(c,r);h.ID=o,c.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),h.geometryID=c.parents[0].ID,t[o]=h}else if(l.attrType==="BlendShape"){const h={id:o};h.rawTargets=this.parseMorphTargets(c,r),h.id=o,c.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),n[o]=h}}}return{skeletons:t,morphTargets:n}}parseSkeleton(t,n){const r=[];return t.children.forEach(function(o){const l=n[o.ID];if(l.attrType!=="Cluster")return;const c={ID:o.ID,indices:[],weights:[],transformLink:new D.Matrix4().fromArray(l.TransformLink.a)};"Indexes"in l&&(c.indices=l.Indexes.a,c.weights=l.Weights.a),r.push(c)}),{rawBones:r,bones:[]}}parseMorphTargets(t,n){const r=[];for(let o=0;o<t.children.length;o++){const l=t.children[o],c=n[l.ID],h={name:c.attrName,initialWeight:c.DeformPercent,id:c.id,fullWeights:c.FullWeights.a};if(c.attrType!=="BlendShapeChannel")return;h.geoID=Er.get(parseInt(l.ID)).children.filter(function(f){return f.relationship===void 0})[0].ID,r.push(h)}return r}parseScene(t,n,r){sa=new D.Group;const o=this.parseModels(t.skeletons,n,r),l=Bi.Objects.Model,c=this;o.forEach(function(f){const p=l[f.ID];c.setLookAtProperties(f,p),Er.get(f.ID).parents.forEach(function(m){const I=o.get(m.ID);I!==void 0&&I.add(f)}),f.parent===null&&sa.add(f)}),this.bindSkeleton(t.skeletons,n,o),this.addGlobalSceneSettings(),sa.traverse(function(f){if(f.userData.transformData){f.parent&&(f.userData.transformData.parentMatrix=f.parent.matrix,f.userData.transformData.parentMatrixWorld=f.parent.matrixWorld);const p=IE(f.userData.transformData);f.applyMatrix4(p),f.updateWorldMatrix()}});const h=new Yw().parse();sa.children.length===1&&sa.children[0].isGroup&&(sa.children[0].animations=h,sa=sa.children[0]),sa.animations=h}parseModels(t,n,r){const o=new Map,l=Bi.Objects.Model;for(const c in l){const h=parseInt(c),f=l[c],p=Er.get(h);let m=this.buildSkeleton(p,t,h,f.attrName);if(!m){switch(f.attrType){case"Camera":m=this.createCamera(p);break;case"Light":m=this.createLight(p);break;case"Mesh":m=this.createMesh(p,n,r);break;case"NurbsCurve":m=this.createCurve(p,n);break;case"LimbNode":case"Root":m=new D.Bone;break;default:m=new D.Group}m.name=f.attrName?D.PropertyBinding.sanitizeNodeName(f.attrName):"",m.userData.originalName=f.attrName,m.ID=h}this.getTransformData(m,f),o.set(h,m)}return o}buildSkeleton(t,n,r,o){let l=null;return t.parents.forEach(function(c){for(const h in n){const f=n[h];f.rawBones.forEach(function(p,m){if(p.ID===c.ID){const I=l;l=new D.Bone,l.matrixWorld.copy(p.transformLink),l.name=o?D.PropertyBinding.sanitizeNodeName(o):"",l.userData.originalName=o,l.ID=r,f.bones[m]=l,I!==null&&l.add(I)}})}}),l}createCamera(t){let n,r;if(t.children.forEach(function(o){const l=Bi.Objects.NodeAttribute[o.ID];l!==void 0&&(r=l)}),r===void 0)n=new D.Object3D;else{let o=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(o=1);let l=1;r.NearPlane!==void 0&&(l=r.NearPlane.value/1e3);let c=1e3;r.FarPlane!==void 0&&(c=r.FarPlane.value/1e3);let h=window.innerWidth,f=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(h=r.AspectWidth.value,f=r.AspectHeight.value);const p=h/f;let m=45;r.FieldOfView!==void 0&&(m=r.FieldOfView.value);const I=r.FocalLength?r.FocalLength.value:null;switch(o){case 0:n=new D.PerspectiveCamera(m,p,l,c),I!==null&&n.setFocalLength(I);break;case 1:console.warn("THREE.FBXLoader: Orthographic cameras not supported yet."),n=new D.Object3D;break;default:console.warn("THREE.FBXLoader: Unknown camera type "+o+"."),n=new D.Object3D}}return n}createLight(t){let n,r;if(t.children.forEach(function(o){const l=Bi.Objects.NodeAttribute[o.ID];l!==void 0&&(r=l)}),r===void 0)n=new D.Object3D;else{let o;o=r.LightType===void 0?0:r.LightType.value;let l=16777215;r.Color!==void 0&&(l=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(r.Color.value),D.SRGBColorSpace));let c=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(c=0);let h=0;r.FarAttenuationEnd!==void 0&&(h=r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?0:r.FarAttenuationEnd.value);const f=1;switch(o){case 0:n=new D.PointLight(l,c,h,f);break;case 1:n=new D.DirectionalLight(l,c);break;case 2:let p=Math.PI/3;r.InnerAngle!==void 0&&(p=D.MathUtils.degToRad(r.InnerAngle.value));let m=0;r.OuterAngle!==void 0&&(m=D.MathUtils.degToRad(r.OuterAngle.value),m=Math.max(m,1)),n=new D.SpotLight(l,c,h,p,m,f);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new D.PointLight(l,c)}r.CastShadows!==void 0&&r.CastShadows.value===1&&(n.castShadow=!0)}return n}createMesh(t,n,r){let o,l=null,c=null;const h=[];return t.children.forEach(function(f){n.has(f.ID)&&(l=n.get(f.ID)),r.has(f.ID)&&h.push(r.get(f.ID))}),h.length>1?c=h:h.length>0?c=h[0]:(c=new D.MeshPhongMaterial({name:D.Loader.DEFAULT_MATERIAL_NAME,color:13421772}),h.push(c)),"color"in l.attributes&&h.forEach(function(f){f.vertexColors=!0}),l.FBX_Deformer?(o=new D.SkinnedMesh(l,c),o.normalizeSkinWeights()):o=new D.Mesh(l,c),o}createCurve(t,n){const r=t.children.reduce(function(l,c){return n.has(c.ID)&&(l=n.get(c.ID)),l},null),o=new D.LineBasicMaterial({name:D.Loader.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new D.Line(r,o)}getTransformData(t,n){const r={};"InheritType"in n&&(r.inheritType=parseInt(n.InheritType.value)),r.eulerOrder=Cp("RotationOrder"in n?n.RotationOrder.value:0),"Lcl_Translation"in n&&(r.translation=n.Lcl_Translation.value),"PreRotation"in n&&(r.preRotation=n.PreRotation.value),"Lcl_Rotation"in n&&(r.rotation=n.Lcl_Rotation.value),"PostRotation"in n&&(r.postRotation=n.PostRotation.value),"Lcl_Scaling"in n&&(r.scale=n.Lcl_Scaling.value),"ScalingOffset"in n&&(r.scalingOffset=n.ScalingOffset.value),"ScalingPivot"in n&&(r.scalingPivot=n.ScalingPivot.value),"RotationOffset"in n&&(r.rotationOffset=n.RotationOffset.value),"RotationPivot"in n&&(r.rotationPivot=n.RotationPivot.value),t.userData.transformData=r}setLookAtProperties(t,n){"LookAtProperty"in n&&Er.get(t.ID).children.forEach(function(r){if(r.relationship==="LookAtProperty"){const o=Bi.Objects.Model[r.ID];if("Lcl_Translation"in o){const l=o.Lcl_Translation.value;t.target!==void 0?(t.target.position.fromArray(l),sa.add(t.target)):t.lookAt(new D.Vector3().fromArray(l))}}})}bindSkeleton(t,n,r){const o=this.parsePoseNodes();for(const l in t){const c=t[l];Er.get(parseInt(c.ID)).parents.forEach(function(h){if(n.has(h.ID)){const f=h.ID;Er.get(f).parents.forEach(function(p){r.has(p.ID)&&r.get(p.ID).bind(new D.Skeleton(c.bones),o[p.ID])})}})}}parsePoseNodes(){const t={};if("Pose"in Bi.Objects){const n=Bi.Objects.Pose;for(const r in n)if(n[r].attrType==="BindPose"&&n[r].NbPoseNodes>0){const o=n[r].PoseNode;Array.isArray(o)?o.forEach(function(l){t[l.Node]=new D.Matrix4().fromArray(l.Matrix.a)}):t[o.Node]=new D.Matrix4().fromArray(o.Matrix.a)}}return t}addGlobalSceneSettings(){if("GlobalSettings"in Bi){if("AmbientColor"in Bi.GlobalSettings){const t=Bi.GlobalSettings.AmbientColor.value,n=t[0],r=t[1],o=t[2];if(n!==0||r!==0||o!==0){const l=new D.Color().setRGB(n,r,o,D.SRGBColorSpace);sa.add(new D.AmbientLight(l,1))}}"UnitScaleFactor"in Bi.GlobalSettings&&(sa.userData.unitScaleFactor=Bi.GlobalSettings.UnitScaleFactor.value)}}}class Jw{constructor(){this.negativeMaterialIndices=!1}parse(t){const n=new Map;if("Geometry"in Bi.Objects){const r=Bi.Objects.Geometry;for(const o in r){const l=Er.get(parseInt(o)),c=this.parseGeometry(l,r[o],t);n.set(parseInt(o),c)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),n}parseGeometry(t,n,r){switch(n.attrType){case"Mesh":return this.parseMeshGeometry(t,n,r);case"NurbsCurve":return this.parseNurbsGeometry(n)}}parseMeshGeometry(t,n,r){const o=r.skeletons,l=[],c=t.parents.map(function(I){return Bi.Objects.Model[I.ID]});if(c.length===0)return;const h=t.children.reduce(function(I,w){return o[w.ID]!==void 0&&(I=o[w.ID]),I},null);t.children.forEach(function(I){r.morphTargets[I.ID]!==void 0&&l.push(r.morphTargets[I.ID])});const f=c[0],p={};"RotationOrder"in f&&(p.eulerOrder=Cp(f.RotationOrder.value)),"InheritType"in f&&(p.inheritType=parseInt(f.InheritType.value)),"GeometricTranslation"in f&&(p.translation=f.GeometricTranslation.value),"GeometricRotation"in f&&(p.rotation=f.GeometricRotation.value),"GeometricScaling"in f&&(p.scale=f.GeometricScaling.value);const m=IE(p);return this.genGeometry(n,h,l,m)}genGeometry(t,n,r,o){const l=new D.BufferGeometry;t.attrName&&(l.name=t.attrName);const c=this.parseGeoNode(t,n),h=this.genBuffers(c),f=new D.Float32BufferAttribute(h.vertex,3);if(f.applyMatrix4(o),l.setAttribute("position",f),h.colors.length>0&&l.setAttribute("color",new D.Float32BufferAttribute(h.colors,3)),n&&(l.setAttribute("skinIndex",new D.Uint16BufferAttribute(h.weightsIndices,4)),l.setAttribute("skinWeight",new D.Float32BufferAttribute(h.vertexWeights,4)),l.FBX_Deformer=n),h.normal.length>0){const p=new D.Matrix3().getNormalMatrix(o),m=new D.Float32BufferAttribute(h.normal,3);m.applyNormalMatrix(p),l.setAttribute("normal",m)}if(h.uvs.forEach(function(p,m){const I=m===0?"uv":`uv${m}`;l.setAttribute(I,new D.Float32BufferAttribute(h.uvs[m],2))}),c.material&&c.material.mappingType!=="AllSame"){let p=h.materialIndex[0],m=0;if(h.materialIndex.forEach(function(I,w){I!==p&&(l.addGroup(m,w-m,p),p=I,m=w)}),l.groups.length>0){const I=l.groups[l.groups.length-1],w=I.start+I.count;w!==h.materialIndex.length&&l.addGroup(w,h.materialIndex.length-w,p)}l.groups.length===0&&l.addGroup(0,h.materialIndex.length,h.materialIndex[0])}return this.addMorphTargets(l,t,r,o),l}parseGeoNode(t,n){const r={};if(r.vertexPositions=t.Vertices!==void 0?t.Vertices.a:[],r.vertexIndices=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],t.LayerElementColor&&(r.color=this.parseVertexColors(t.LayerElementColor[0])),t.LayerElementMaterial&&(r.material=this.parseMaterialIndices(t.LayerElementMaterial[0])),t.LayerElementNormal&&(r.normal=this.parseNormals(t.LayerElementNormal[0])),t.LayerElementUV){r.uv=[];let o=0;for(;t.LayerElementUV[o];)t.LayerElementUV[o].UV&&r.uv.push(this.parseUVs(t.LayerElementUV[o])),o++}return r.weightTable={},n!==null&&(r.skeleton=n,n.rawBones.forEach(function(o,l){o.indices.forEach(function(c,h){r.weightTable[c]===void 0&&(r.weightTable[c]=[]),r.weightTable[c].push({id:l,weight:o.weights[h]})})})),r}genBuffers(t){const n={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,o=0,l=!1,c=[],h=[],f=[],p=[],m=[],I=[];const w=this;return t.vertexIndices.forEach(function(_,b){let T,S=!1;_<0&&(_=~_,S=!0);let k=[],F=[];if(c.push(3*_,3*_+1,3*_+2),t.color){const N=xp(b,r,_,t.color);f.push(N[0],N[1],N[2])}if(t.skeleton){if(t.weightTable[_]!==void 0&&t.weightTable[_].forEach(function(N){F.push(N.weight),k.push(N.id)}),F.length>4){l||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),l=!0);const N=[0,0,0,0],G=[0,0,0,0];F.forEach(function(V,W){let X=V,K=k[W];G.forEach(function(st,et,it){if(X>st){it[et]=X,X=st;const ot=N[et];N[et]=K,K=ot}})}),k=N,F=G}for(;F.length<4;)F.push(0),k.push(0);for(let N=0;N<4;++N)m.push(F[N]),I.push(k[N])}if(t.normal){const N=xp(b,r,_,t.normal);h.push(N[0],N[1],N[2])}t.material&&t.material.mappingType!=="AllSame"&&(T=xp(b,r,_,t.material)[0],T<0&&(w.negativeMaterialIndices=!0,T=0)),t.uv&&t.uv.forEach(function(N,G){const V=xp(b,r,_,N);p[G]===void 0&&(p[G]=[]),p[G].push(V[0]),p[G].push(V[1])}),o++,S&&(w.genFace(n,t,c,T,h,f,p,m,I,o),r++,o=0,c=[],h=[],f=[],p=[],m=[],I=[])}),n}getNormalNewell(t){const n=new D.Vector3(0,0,0);for(let r=0;r<t.length;r++){const o=t[r],l=t[(r+1)%t.length];n.x+=(o.y-l.y)*(o.z+l.z),n.y+=(o.z-l.z)*(o.x+l.x),n.z+=(o.x-l.x)*(o.y+l.y)}return n.normalize(),n}getNormalTangentAndBitangent(t){const n=this.getNormalNewell(t),r=(Math.abs(n.z)>.5?new D.Vector3(0,1,0):new D.Vector3(0,0,1)).cross(n).normalize(),o=n.clone().cross(r).normalize();return{normal:n,tangent:r,bitangent:o}}flattenVertex(t,n,r){return new D.Vector2(t.dot(n),t.dot(r))}genFace(t,n,r,o,l,c,h,f,p,m){let I;if(m>3){const w=[],_=n.baseVertexPositions||n.vertexPositions;for(let k=0;k<r.length;k+=3)w.push(new D.Vector3(_[r[k]],_[r[k+1]],_[r[k+2]]));const{tangent:b,bitangent:T}=this.getNormalTangentAndBitangent(w),S=[];for(const k of w)S.push(this.flattenVertex(k,b,T));I=D.ShapeUtils.triangulateShape(S,[])}else I=[[0,1,2]];for(const[w,_,b]of I)t.vertex.push(n.vertexPositions[r[3*w]]),t.vertex.push(n.vertexPositions[r[3*w+1]]),t.vertex.push(n.vertexPositions[r[3*w+2]]),t.vertex.push(n.vertexPositions[r[3*_]]),t.vertex.push(n.vertexPositions[r[3*_+1]]),t.vertex.push(n.vertexPositions[r[3*_+2]]),t.vertex.push(n.vertexPositions[r[3*b]]),t.vertex.push(n.vertexPositions[r[3*b+1]]),t.vertex.push(n.vertexPositions[r[3*b+2]]),n.skeleton&&(t.vertexWeights.push(f[4*w]),t.vertexWeights.push(f[4*w+1]),t.vertexWeights.push(f[4*w+2]),t.vertexWeights.push(f[4*w+3]),t.vertexWeights.push(f[4*_]),t.vertexWeights.push(f[4*_+1]),t.vertexWeights.push(f[4*_+2]),t.vertexWeights.push(f[4*_+3]),t.vertexWeights.push(f[4*b]),t.vertexWeights.push(f[4*b+1]),t.vertexWeights.push(f[4*b+2]),t.vertexWeights.push(f[4*b+3]),t.weightsIndices.push(p[4*w]),t.weightsIndices.push(p[4*w+1]),t.weightsIndices.push(p[4*w+2]),t.weightsIndices.push(p[4*w+3]),t.weightsIndices.push(p[4*_]),t.weightsIndices.push(p[4*_+1]),t.weightsIndices.push(p[4*_+2]),t.weightsIndices.push(p[4*_+3]),t.weightsIndices.push(p[4*b]),t.weightsIndices.push(p[4*b+1]),t.weightsIndices.push(p[4*b+2]),t.weightsIndices.push(p[4*b+3])),n.color&&(t.colors.push(c[3*w]),t.colors.push(c[3*w+1]),t.colors.push(c[3*w+2]),t.colors.push(c[3*_]),t.colors.push(c[3*_+1]),t.colors.push(c[3*_+2]),t.colors.push(c[3*b]),t.colors.push(c[3*b+1]),t.colors.push(c[3*b+2])),n.material&&n.material.mappingType!=="AllSame"&&(t.materialIndex.push(o),t.materialIndex.push(o),t.materialIndex.push(o)),n.normal&&(t.normal.push(l[3*w]),t.normal.push(l[3*w+1]),t.normal.push(l[3*w+2]),t.normal.push(l[3*_]),t.normal.push(l[3*_+1]),t.normal.push(l[3*_+2]),t.normal.push(l[3*b]),t.normal.push(l[3*b+1]),t.normal.push(l[3*b+2])),n.uv&&n.uv.forEach(function(T,S){t.uvs[S]===void 0&&(t.uvs[S]=[]),t.uvs[S].push(h[S][2*w]),t.uvs[S].push(h[S][2*w+1]),t.uvs[S].push(h[S][2*_]),t.uvs[S].push(h[S][2*_+1]),t.uvs[S].push(h[S][2*b]),t.uvs[S].push(h[S][2*b+1])})}addMorphTargets(t,n,r,o){if(r.length===0)return;t.morphTargetsRelative=!0,t.morphAttributes.position=[];const l=this;r.forEach(function(c){c.rawTargets.forEach(function(h){const f=Bi.Objects.Geometry[h.geoID];f!==void 0&&l.genMorphGeometry(t,n,f,o,h.name)})})}genMorphGeometry(t,n,r,o,l){const c=n.Vertices!==void 0?n.Vertices.a:[],h=n.PolygonVertexIndex!==void 0?n.PolygonVertexIndex.a:[],f=r.Vertices!==void 0?r.Vertices.a:[],p=r.Indexes!==void 0?r.Indexes.a:[],m=3*t.attributes.position.count,I=new Float32Array(m);for(let T=0;T<p.length;T++){const S=3*p[T];I[S]=f[3*T],I[S+1]=f[3*T+1],I[S+2]=f[3*T+2]}const w={vertexIndices:h,vertexPositions:I,baseVertexPositions:c},_=this.genBuffers(w),b=new D.Float32BufferAttribute(_.vertex,3);b.name=l||r.attrName,b.applyMatrix4(o),t.morphAttributes.position.push(b)}parseNormals(t){const n=t.MappingInformationType,r=t.ReferenceInformationType,o=t.Normals.a;let l=[];return r==="IndexToDirect"&&("NormalIndex"in t?l=t.NormalIndex.a:"NormalsIndex"in t&&(l=t.NormalsIndex.a)),{dataSize:3,buffer:o,indices:l,mappingType:n,referenceType:r}}parseUVs(t){const n=t.MappingInformationType,r=t.ReferenceInformationType,o=t.UV.a;let l=[];return r==="IndexToDirect"&&(l=t.UVIndex.a),{dataSize:2,buffer:o,indices:l,mappingType:n,referenceType:r}}parseVertexColors(t){const n=t.MappingInformationType,r=t.ReferenceInformationType,o=t.Colors.a;let l=[];r==="IndexToDirect"&&(l=t.ColorIndex.a);for(let c=0,h=new D.Color;c<o.length;c+=4)h.fromArray(o,c),D.ColorManagement.toWorkingColorSpace(h,D.SRGBColorSpace),h.toArray(o,c);return{dataSize:4,buffer:o,indices:l,mappingType:n,referenceType:r}}parseMaterialIndices(t){const n=t.MappingInformationType,r=t.ReferenceInformationType;if(n==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const o=t.Materials.a,l=[];for(let c=0;c<o.length;++c)l.push(c);return{dataSize:1,buffer:o,indices:l,mappingType:n,referenceType:r}}parseNurbsGeometry(t){const n=parseInt(t.Order);if(isNaN(n))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",t.Order,t.id),new D.BufferGeometry;const r=n-1,o=t.KnotVector.a,l=[],c=t.Points.a;for(let m=0,I=c.length;m<I;m+=4)l.push(new D.Vector4().fromArray(c,m));let h,f;if(t.Form==="Closed")l.push(l[0]);else if(t.Form==="Periodic"){h=r,f=o.length-1-h;for(let m=0;m<r;++m)l.push(l[m])}const p=new Hw(r,o,l,h,f).getPoints(12*l.length);return new D.BufferGeometry().setFromPoints(p)}}class Yw{parse(){const t=[],n=this.parseClips();if(n!==void 0)for(const r in n){const o=n[r],l=this.addClip(o);t.push(l)}return t}parseClips(){if(Bi.Objects.AnimationCurve===void 0)return;const t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);const n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}parseAnimationCurveNodes(){const t=Bi.Objects.AnimationCurveNode,n=new Map;for(const r in t){const o=t[r];if(o.attrName.match(/S|R|T|DeformPercent/)!==null){const l={id:o.id,attr:o.attrName,curves:{}};n.set(l.id,l)}}return n}parseAnimationCurves(t){const n=Bi.Objects.AnimationCurve;for(const r in n){const o={id:n[r].id,times:n[r].KeyTime.a.map(Xw),values:n[r].KeyValueFloat.a},l=Er.get(o.id);if(l!==void 0){const c=l.parents[0].ID,h=l.parents[0].relationship;h.match(/X/)?t.get(c).curves.x=o:h.match(/Y/)?t.get(c).curves.y=o:h.match(/Z/)?t.get(c).curves.z=o:h.match(/DeformPercent/)&&t.has(c)&&(t.get(c).curves.morph=o)}}}parseAnimationLayers(t){const n=Bi.Objects.AnimationLayer,r=new Map;for(const o in n){const l=[],c=Er.get(parseInt(o));c!==void 0&&(c.children.forEach(function(h,f){if(t.has(h.ID)){const p=t.get(h.ID);if(p.curves.x!==void 0||p.curves.y!==void 0||p.curves.z!==void 0){if(l[f]===void 0){const m=Er.get(h.ID).parents.filter(function(I){return I.relationship!==void 0})[0].ID;if(m!==void 0){const I=Bi.Objects.Model[m.toString()];if(I===void 0)return void console.warn("THREE.FBXLoader: Encountered a unused curve.",h);const w={modelName:I.attrName?D.PropertyBinding.sanitizeNodeName(I.attrName):"",ID:I.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};sa.traverse(function(_){_.ID===I.id&&(w.transform=_.matrix,_.userData.transformData&&(w.eulerOrder=_.userData.transformData.eulerOrder))}),w.transform||(w.transform=new D.Matrix4),"PreRotation"in I&&(w.preRotation=I.PreRotation.value),"PostRotation"in I&&(w.postRotation=I.PostRotation.value),l[f]=w}}l[f]&&(l[f][p.attr]=p)}else if(p.curves.morph!==void 0){if(l[f]===void 0){const m=Er.get(h.ID).parents.filter(function(S){return S.relationship!==void 0})[0].ID,I=Er.get(m).parents[0].ID,w=Er.get(I).parents[0].ID,_=Er.get(w).parents[0].ID,b=Bi.Objects.Model[_],T={modelName:b.attrName?D.PropertyBinding.sanitizeNodeName(b.attrName):"",morphName:Bi.Objects.Deformer[m].attrName};l[f]=T}l[f][p.attr]=p}}}),r.set(parseInt(o),l))}return r}parseAnimStacks(t){const n=Bi.Objects.AnimationStack,r={};for(const o in n){const l=Er.get(parseInt(o)).children;l.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const c=t.get(l[0].ID);r[o]={name:n[o].attrName,layer:c}}return r}addClip(t){let n=[];const r=this;return t.layer.forEach(function(o){n=n.concat(r.generateTracks(o))}),new D.AnimationClip(t.name,-1,n)}generateTracks(t){const n=[];let r=new D.Vector3,o=new D.Vector3;if(t.transform&&t.transform.decompose(r,new D.Quaternion,o),r=r.toArray(),o=o.toArray(),t.T!==void 0&&Object.keys(t.T.curves).length>0){const l=this.generateVectorTrack(t.modelName,t.T.curves,r,"position");l!==void 0&&n.push(l)}if(t.R!==void 0&&Object.keys(t.R.curves).length>0){const l=this.generateRotationTrack(t.modelName,t.R.curves,t.preRotation,t.postRotation,t.eulerOrder);l!==void 0&&n.push(l)}if(t.S!==void 0&&Object.keys(t.S.curves).length>0){const l=this.generateVectorTrack(t.modelName,t.S.curves,o,"scale");l!==void 0&&n.push(l)}if(t.DeformPercent!==void 0){const l=this.generateMorphTrack(t);l!==void 0&&n.push(l)}return n}generateVectorTrack(t,n,r,o){const l=this.getTimesForAllAxes(n),c=this.getKeyframeTrackValues(l,n,r);return new D.VectorKeyframeTrack(t+"."+o,l,c)}generateRotationTrack(t,n,r,o,l){let c,h;if(n.x!==void 0&&n.y!==void 0&&n.z!==void 0){const w=this.interpolateRotations(n.x,n.y,n.z,l);c=w[0],h=w[1]}const f=Cp(0);r!==void 0&&((r=r.map(D.MathUtils.degToRad)).push(f),r=new D.Euler().fromArray(r),r=new D.Quaternion().setFromEuler(r)),o!==void 0&&((o=o.map(D.MathUtils.degToRad)).push(f),o=new D.Euler().fromArray(o),o=new D.Quaternion().setFromEuler(o).invert());const p=new D.Quaternion,m=new D.Euler,I=[];if(!h||!c)return new D.QuaternionKeyframeTrack(t+".quaternion",[0],[0]);for(let w=0;w<h.length;w+=3)m.set(h[w],h[w+1],h[w+2],l),p.setFromEuler(m),r!==void 0&&p.premultiply(r),o!==void 0&&p.multiply(o),w>2&&new D.Quaternion().fromArray(I,(w-3)/3*4).dot(p)<0&&p.set(-p.x,-p.y,-p.z,-p.w),p.toArray(I,w/3*4);return new D.QuaternionKeyframeTrack(t+".quaternion",c,I)}generateMorphTrack(t){const n=t.DeformPercent.curves.morph,r=n.values.map(function(l){return l/100}),o=sa.getObjectByName(t.modelName).morphTargetDictionary[t.morphName];return new D.NumberKeyframeTrack(t.modelName+".morphTargetInfluences["+o+"]",n.times,r)}getTimesForAllAxes(t){let n=[];if(t.x!==void 0&&(n=n.concat(t.x.times)),t.y!==void 0&&(n=n.concat(t.y.times)),t.z!==void 0&&(n=n.concat(t.z.times)),n=n.sort(function(r,o){return r-o}),n.length>1){let r=1,o=n[0];for(let l=1;l<n.length;l++){const c=n[l];c!==o&&(n[r]=c,o=c,r++)}n=n.slice(0,r)}return n}getKeyframeTrackValues(t,n,r){const o=r,l=[];let c=-1,h=-1,f=-1;return t.forEach(function(p){if(n.x&&(c=n.x.times.indexOf(p)),n.y&&(h=n.y.times.indexOf(p)),n.z&&(f=n.z.times.indexOf(p)),c!==-1){const m=n.x.values[c];l.push(m),o[0]=m}else l.push(o[0]);if(h!==-1){const m=n.y.values[h];l.push(m),o[1]=m}else l.push(o[1]);if(f!==-1){const m=n.z.values[f];l.push(m),o[2]=m}else l.push(o[2])}),l}interpolateRotations(t,n,r,o){const l=[],c=[];l.push(t.times[0]),c.push(D.MathUtils.degToRad(t.values[0])),c.push(D.MathUtils.degToRad(n.values[0])),c.push(D.MathUtils.degToRad(r.values[0]));for(let h=1;h<t.values.length;h++){const f=[t.values[h-1],n.values[h-1],r.values[h-1]];if(isNaN(f[0])||isNaN(f[1])||isNaN(f[2]))continue;const p=f.map(D.MathUtils.degToRad),m=[t.values[h],n.values[h],r.values[h]];if(isNaN(m[0])||isNaN(m[1])||isNaN(m[2]))continue;const I=m.map(D.MathUtils.degToRad),w=[m[0]-f[0],m[1]-f[1],m[2]-f[2]],_=[Math.abs(w[0]),Math.abs(w[1]),Math.abs(w[2])];if(_[0]>=180||_[1]>=180||_[2]>=180){const b=Math.max(..._)/180,T=new D.Euler(...p,o),S=new D.Euler(...I,o),k=new D.Quaternion().setFromEuler(T),F=new D.Quaternion().setFromEuler(S);k.dot(F)&&F.set(-F.x,-F.y,-F.z,-F.w);const N=t.times[h-1],G=t.times[h]-N,V=new D.Quaternion,W=new D.Euler;for(let X=0;X<1;X+=1/b)V.copy(k.clone().slerp(F.clone(),X)),l.push(N+X*G),W.setFromQuaternion(V,o),c.push(W.x),c.push(W.y),c.push(W.z)}else l.push(t.times[h]),c.push(D.MathUtils.degToRad(t.values[h])),c.push(D.MathUtils.degToRad(n.values[h])),c.push(D.MathUtils.degToRad(r.values[h]))}return[l,c]}}class Zw{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(t){this.nodeStack.push(t),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(t,n){this.currentProp=t,this.currentPropName=n}parse(t){this.currentIndent=0,this.allNodes=new CE,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const n=this,r=t.split(/[\r\n]+/);return r.forEach(function(o,l){const c=o.match(/^[\s\t]*;/),h=o.match(/^[\s\t]*$/);if(c||h)return;const f=o.match("^\\t{"+n.currentIndent+"}(\\w+):(.*){",""),p=o.match("^\\t{"+n.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),m=o.match("^\\t{"+(n.currentIndent-1)+"}}");f?n.parseNodeBegin(o,f):p?n.parseNodeProperty(o,p,r[++l]):m?n.popStack():o.match(/^[^\s\t}]/)&&n.parseNodePropertyContinued(o)}),this.allNodes}parseNodeBegin(t,n){const r=n[1].trim().replace(/^"/,"").replace(/"$/,""),o=n[2].split(",").map(function(f){return f.trim().replace(/^"/,"").replace(/"$/,"")}),l={name:r},c=this.parseNodeAttr(o),h=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,l):r in h?(r==="PoseNode"?h.PoseNode.push(l):h[r].id!==void 0&&(h[r]={},h[r][h[r].id]=h[r]),c.id!==""&&(h[r][c.id]=l)):typeof c.id=="number"?(h[r]={},h[r][c.id]=l):r!=="Properties70"&&(h[r]=r==="PoseNode"?[l]:l),typeof c.id=="number"&&(l.id=c.id),c.name!==""&&(l.attrName=c.name),c.type!==""&&(l.attrType=c.type),this.pushStack(l)}parseNodeAttr(t){let n=t[0];t[0]!==""&&(n=parseInt(t[0]),isNaN(n)&&(n=t[0]));let r="",o="";return t.length>1&&(r=t[1].replace(/^(\w+)::/,""),o=t[2]),{id:n,name:r,type:o}}parseNodeProperty(t,n,r){let o=n[1].replace(/^"/,"").replace(/"$/,"").trim(),l=n[2].replace(/^"/,"").replace(/"$/,"").trim();o==="Content"&&l===","&&(l=r.replace(/"/g,"").replace(/,$/,"").trim());const c=this.getCurrentNode();if(c.name!=="Properties70"){if(o==="C"){const h=l.split(",").slice(1),f=parseInt(h[0]),p=parseInt(h[1]);let m=l.split(",").slice(3);m=m.map(function(I){return I.trim().replace(/^"/,"")}),o="connections",l=[f,p],function(I,w){for(let _=0,b=I.length,T=w.length;_<T;_++,b++)I[b]=w[_]}(l,m),c[o]===void 0&&(c[o]=[])}o==="Node"&&(c.id=l),o in c&&Array.isArray(c[o])?c[o].push(l):o!=="a"?c[o]=l:c.a=l,this.setCurrentProp(c,o),o==="a"&&l.slice(-1)!==","&&(c.a=wE(l))}else this.parseNodeSpecialProperty(t,o,l)}parseNodePropertyContinued(t){const n=this.getCurrentNode();n.a+=t,t.slice(-1)!==","&&(n.a=wE(n.a))}parseNodeSpecialProperty(t,n,r){const o=r.split('",').map(function(m){return m.trim().replace(/^\"/,"").replace(/\s/,"_")}),l=o[0],c=o[1],h=o[2],f=o[3];let p=o[4];switch(c){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":p=parseFloat(p);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":p=wE(p)}this.getPrevNode()[l]={type:c,type2:h,flag:f,value:p},this.setCurrentProp(this.getPrevNode(),l)}}class Kw{parse(t){const n=new xE(t);n.skip(23);const r=n.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const o=new CE;for(;!this.endOfContent(n);){const l=this.parseNode(n,r);l!==null&&o.add(l.name,l)}return o}endOfContent(t){return t.size()%16==0?(t.getOffset()+160+16&-16)>=t.size():t.getOffset()+160+16>=t.size()}parseNode(t,n){const r={},o=n>=7500?t.getUint64():t.getUint32(),l=n>=7500?t.getUint64():t.getUint32();n>=7500?t.getUint64():t.getUint32();const c=t.getUint8(),h=t.getString(c);if(o===0)return null;const f=[];for(let w=0;w<l;w++)f.push(this.parseProperty(t));const p=f.length>0?f[0]:"",m=f.length>1?f[1]:"",I=f.length>2?f[2]:"";for(r.singleProperty=l===1&&t.getOffset()===o;o>t.getOffset();){const w=this.parseNode(t,n);w!==null&&this.parseSubNode(h,r,w)}return r.propertyList=f,typeof p=="number"&&(r.id=p),m!==""&&(r.attrName=m),I!==""&&(r.attrType=I),h!==""&&(r.name=h),r}parseSubNode(t,n,r){if(r.singleProperty===!0){const o=r.propertyList[0];Array.isArray(o)?(n[r.name]=r,r.a=o):n[r.name]=o}else if(t==="Connections"&&r.name==="C"){const o=[];r.propertyList.forEach(function(l,c){c!==0&&o.push(l)}),n.connections===void 0&&(n.connections=[]),n.connections.push(o)}else if(r.name==="Properties70")Object.keys(r).forEach(function(o){n[o]=r[o]});else if(t==="Properties70"&&r.name==="P"){let o=r.propertyList[0],l=r.propertyList[1];const c=r.propertyList[2],h=r.propertyList[3];let f;o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),l.indexOf("Lcl ")===0&&(l=l.replace("Lcl ","Lcl_")),f=l==="Color"||l==="ColorRGB"||l==="Vector"||l==="Vector3D"||l.indexOf("Lcl_")===0?[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:r.propertyList[4],n[o]={type:l,type2:c,flag:h,value:f}}else n[r.name]===void 0?typeof r.id=="number"?(n[r.name]={},n[r.name][r.id]=r):n[r.name]=r:r.name==="PoseNode"?(Array.isArray(n[r.name])||(n[r.name]=[n[r.name]]),n[r.name].push(r)):n[r.name][r.id]===void 0&&(n[r.name][r.id]=r)}parseProperty(t){const n=t.getString(1);let r;switch(n){case"C":return t.getBoolean();case"D":return t.getFloat64();case"F":return t.getFloat32();case"I":return t.getInt32();case"L":return t.getInt64();case"R":return r=t.getUint32(),t.getArrayBuffer(r);case"S":return r=t.getUint32(),t.getString(r);case"Y":return t.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const o=t.getUint32(),l=t.getUint32(),c=t.getUint32();if(l===0)switch(n){case"b":case"c":return t.getBooleanArray(o);case"d":return t.getFloat64Array(o);case"f":return t.getFloat32Array(o);case"i":return t.getInt32Array(o);case"l":return t.getInt64Array(o)}const h=mE(new Uint8Array(t.getArrayBuffer(c))),f=new xE(h.buffer);switch(n){case"b":case"c":return f.getBooleanArray(o);case"d":return f.getFloat64Array(o);case"f":return f.getFloat32Array(o);case"i":return f.getInt32Array(o);case"l":return f.getInt64Array(o)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+n)}}}class xE{constructor(t,n){this.dv=new DataView(t),this.offset=0,this.littleEndian=n===void 0||n,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(t){this.offset+=t}getBoolean(){return!(1&~this.getUint8())}getBooleanArray(t){const n=[];for(let r=0;r<t;r++)n.push(this.getBoolean());return n}getUint8(){const t=this.dv.getUint8(this.offset);return this.offset+=1,t}getInt16(){const t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}getInt32(){const t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}getInt32Array(t){const n=[];for(let r=0;r<t;r++)n.push(this.getInt32());return n}getUint32(){const t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}getInt64(){let t,n;return this.littleEndian?(t=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),t=this.getUint32()),2147483648&n?(n=4294967295&~n,t=4294967295&~t,t===4294967295&&(n=n+1&4294967295),t=t+1&4294967295,-(4294967296*n+t)):4294967296*n+t}getInt64Array(t){const n=[];for(let r=0;r<t;r++)n.push(this.getInt64());return n}getUint64(){let t,n;return this.littleEndian?(t=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),t=this.getUint32()),4294967296*n+t}getFloat32(){const t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}getFloat32Array(t){const n=[];for(let r=0;r<t;r++)n.push(this.getFloat32());return n}getFloat64(){const t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}getFloat64Array(t){const n=[];for(let r=0;r<t;r++)n.push(this.getFloat64());return n}getArrayBuffer(t){const n=this.dv.buffer.slice(this.offset,this.offset+t);return this.offset+=t,n}getString(t){const n=this.offset;let r=new Uint8Array(this.dv.buffer,n,t);this.skip(t);const o=r.indexOf(0);return o>=0&&(r=new Uint8Array(this.dv.buffer,n,o)),this._textDecoder.decode(r)}}class CE{add(t,n){this[t]=n}}function EE(e){const t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function Xw(e){return e/46186158e3}const jw=[];function xp(e,t,n,r){let o;switch(r.mappingType){case"ByPolygonVertex":o=e;break;case"ByPolygon":o=t;break;case"ByVertice":o=n;break;case"AllSame":o=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(o=r.indices[o]);const l=o*r.dataSize,c=l+r.dataSize;return function(h,f,p,m){for(let I=p,w=0;I<m;I++,w++)h[w]=f[I];return h}(jw,r.buffer,l,c)}const Mm=new D.Euler,ru=new D.Vector3;function IE(e){const t=new D.Matrix4,n=new D.Matrix4,r=new D.Matrix4,o=new D.Matrix4,l=new D.Matrix4,c=new D.Matrix4,h=new D.Matrix4,f=new D.Matrix4,p=new D.Matrix4,m=new D.Matrix4,I=new D.Matrix4,w=new D.Matrix4,_=e.inheritType?e.inheritType:0;e.translation&&t.setPosition(ru.fromArray(e.translation));const b=Cp(0);if(e.preRotation){const it=e.preRotation.map(D.MathUtils.degToRad);it.push(b),n.makeRotationFromEuler(Mm.fromArray(it))}if(e.rotation){const it=e.rotation.map(D.MathUtils.degToRad);it.push(e.eulerOrder||b),r.makeRotationFromEuler(Mm.fromArray(it))}if(e.postRotation){const it=e.postRotation.map(D.MathUtils.degToRad);it.push(b),o.makeRotationFromEuler(Mm.fromArray(it)),o.invert()}e.scale&&l.scale(ru.fromArray(e.scale)),e.scalingOffset&&h.setPosition(ru.fromArray(e.scalingOffset)),e.scalingPivot&&c.setPosition(ru.fromArray(e.scalingPivot)),e.rotationOffset&&f.setPosition(ru.fromArray(e.rotationOffset)),e.rotationPivot&&p.setPosition(ru.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(I.copy(e.parentMatrix),m.copy(e.parentMatrixWorld));const T=n.clone().multiply(r).multiply(o),S=new D.Matrix4;S.extractRotation(m);const k=new D.Matrix4;k.copyPosition(m);const F=k.clone().invert().multiply(m),N=S.clone().invert().multiply(F),G=l,V=new D.Matrix4;if(_===0)V.copy(S).multiply(T).multiply(N).multiply(G);else if(_===1)V.copy(S).multiply(N).multiply(T).multiply(G);else{const it=new D.Matrix4().scale(new D.Vector3().setFromMatrixScale(I)).clone().invert(),ot=N.clone().multiply(it);V.copy(S).multiply(T).multiply(ot).multiply(G)}const W=p.clone().invert(),X=c.clone().invert();let K=t.clone().multiply(f).multiply(p).multiply(n).multiply(r).multiply(o).multiply(W).multiply(h).multiply(c).multiply(l).multiply(X);const st=new D.Matrix4().copyPosition(K),et=m.clone().multiply(st);return w.copyPosition(et),K=w.clone().multiply(V),K.premultiply(m.invert()),K}function Cp(e){const t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return(e=e||0)===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function wE(e){return e.split(",").map(function(t){return parseFloat(t)})}function _E(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=e.byteLength),new TextDecoder().decode(new Uint8Array(e,t,n))}const qw=/^[og]\s*(.+)?/,$w=/^mtllib /,VT=/^usemtl /,HT=/^usemap /,Sv=/\s+/,Sm=new D.Vector3,Tm=new D.Vector3,BE=new D.Vector3,vf=new D.Vector3,ra=new D.Vector3,bf=new D.Color;function t3(){const e={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,n){if(this.object&&this.object.fromDeclaration===!1)return this.object.name=t,void(this.object.fromDeclaration=n!==!1);const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(o,l){const c=this._finalize(!1);c&&(c.inherited||c.groupCount<=0)&&this.materials.splice(c.index,1);const h={index:this.materials.length,name:o||"",mtllib:Array.isArray(l)&&l.length>0?l[l.length-1]:"",smooth:c!==void 0?c.smooth:this.smooth,groupStart:c!==void 0?c.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(f){const p={index:typeof f=="number"?f:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return p.clone=this.clone.bind(p),p}};return this.materials.push(h),h},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(o){const l=this.currentMaterial();if(l&&l.groupEnd===-1&&(l.groupEnd=this.geometry.vertices.length/3,l.groupCount=l.groupEnd-l.groupStart,l.inherited=!1),o&&this.materials.length>1)for(let c=this.materials.length-1;c>=0;c--)this.materials[c].groupCount<=0&&this.materials.splice(c,1);return o&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),l}},r&&r.name&&typeof r.clone=="function"){const o=r.clone(0);o.inherited=!0,this.object.materials.push(o)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(t,n){const r=parseInt(t,10);return 3*(r>=0?r-1:r+n/3)},parseNormalIndex:function(t,n){const r=parseInt(t,10);return 3*(r>=0?r-1:r+n/3)},parseUVIndex:function(t,n){const r=parseInt(t,10);return 2*(r>=0?r-1:r+n/2)},addVertex:function(t,n,r){const o=this.vertices,l=this.object.geometry.vertices;l.push(o[t+0],o[t+1],o[t+2]),l.push(o[n+0],o[n+1],o[n+2]),l.push(o[r+0],o[r+1],o[r+2])},addVertexPoint:function(t){const n=this.vertices;this.object.geometry.vertices.push(n[t+0],n[t+1],n[t+2])},addVertexLine:function(t){const n=this.vertices;this.object.geometry.vertices.push(n[t+0],n[t+1],n[t+2])},addNormal:function(t,n,r){const o=this.normals,l=this.object.geometry.normals;l.push(o[t+0],o[t+1],o[t+2]),l.push(o[n+0],o[n+1],o[n+2]),l.push(o[r+0],o[r+1],o[r+2])},addFaceNormal:function(t,n,r){const o=this.vertices,l=this.object.geometry.normals;Sm.fromArray(o,t),Tm.fromArray(o,n),BE.fromArray(o,r),ra.subVectors(BE,Tm),vf.subVectors(Sm,Tm),ra.cross(vf),ra.normalize(),l.push(ra.x,ra.y,ra.z),l.push(ra.x,ra.y,ra.z),l.push(ra.x,ra.y,ra.z)},addColor:function(t,n,r){const o=this.colors,l=this.object.geometry.colors;o[t]!==void 0&&l.push(o[t+0],o[t+1],o[t+2]),o[n]!==void 0&&l.push(o[n+0],o[n+1],o[n+2]),o[r]!==void 0&&l.push(o[r+0],o[r+1],o[r+2])},addUV:function(t,n,r){const o=this.uvs,l=this.object.geometry.uvs;l.push(o[t+0],o[t+1]),l.push(o[n+0],o[n+1]),l.push(o[r+0],o[r+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const n=this.uvs;this.object.geometry.uvs.push(n[t+0],n[t+1])},addFace:function(t,n,r,o,l,c,h,f,p){const m=this.vertices.length;let I=this.parseVertexIndex(t,m),w=this.parseVertexIndex(n,m),_=this.parseVertexIndex(r,m);if(this.addVertex(I,w,_),this.addColor(I,w,_),h!==void 0&&h!==""){const b=this.normals.length;I=this.parseNormalIndex(h,b),w=this.parseNormalIndex(f,b),_=this.parseNormalIndex(p,b),this.addNormal(I,w,_)}else this.addFaceNormal(I,w,_);if(o!==void 0&&o!==""){const b=this.uvs.length;I=this.parseUVIndex(o,b),w=this.parseUVIndex(l,b),_=this.parseUVIndex(c,b),this.addUV(I,w,_),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const n=this.vertices.length;for(let r=0,o=t.length;r<o;r++){const l=this.parseVertexIndex(t[r],n);this.addVertexPoint(l),this.addColor(l)}},addLineGeometry:function(t,n){this.object.geometry.type="Line";const r=this.vertices.length,o=this.uvs.length;for(let l=0,c=t.length;l<c;l++)this.addVertexLine(this.parseVertexIndex(t[l],r));for(let l=0,c=n.length;l<c;l++)this.addUVLine(this.parseUVIndex(n[l],o))}};return e.startObject("",!1),e}class Tv extends D.Loader{constructor(t){super(t),this.materials=null}load(t,n,r,o){const l=this,c=new D.FileLoader(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(h){try{n(l.parse(h))}catch(f){o?o(f):console.error(f),l.manager.itemError(t)}},r,o)}setMaterials(t){return this.materials=t,this}parse(t){const n=new t3;t.indexOf(`\r
`)!==-1&&(t=t.replace(/\r\n/g,`
`)),t.indexOf(`\\
`)!==-1&&(t=t.replace(/\\\n/g,""));const r=t.split(`
`);let o=[];for(let c=0,h=r.length;c<h;c++){const f=r[c].trimStart();if(f.length===0)continue;const p=f.charAt(0);if(p!=="#")if(p==="v"){const m=f.split(Sv);switch(m[0]){case"v":n.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),m.length>=7?(bf.setRGB(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]),D.SRGBColorSpace),n.colors.push(bf.r,bf.g,bf.b)):n.colors.push(void 0,void 0,void 0);break;case"vn":n.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":n.uvs.push(parseFloat(m[1]),parseFloat(m[2]))}}else if(p==="f"){const m=f.slice(1).trim().split(Sv),I=[];for(let _=0,b=m.length;_<b;_++){const T=m[_];if(T.length>0){const S=T.split("/");I.push(S)}}const w=I[0];for(let _=1,b=I.length-1;_<b;_++){const T=I[_],S=I[_+1];n.addFace(w[0],T[0],S[0],w[1],T[1],S[1],w[2],T[2],S[2])}}else if(p==="l"){const m=f.substring(1).trim().split(" ");let I=[];const w=[];if(f.indexOf("/")===-1)I=m;else for(let _=0,b=m.length;_<b;_++){const T=m[_].split("/");T[0]!==""&&I.push(T[0]),T[1]!==""&&w.push(T[1])}n.addLineGeometry(I,w)}else if(p==="p"){const m=f.slice(1).trim().split(" ");n.addPointGeometry(m)}else if((o=qw.exec(f))!==null){const m=(" "+o[0].slice(1).trim()).slice(1);n.startObject(m)}else if(VT.test(f))n.object.startMaterial(f.substring(7).trim(),n.materialLibraries);else if($w.test(f))n.materialLibraries.push(f.substring(7).trim());else if(HT.test(f))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(p==="s"){if(o=f.split(" "),o.length>1){const I=o[1].trim().toLowerCase();n.object.smooth=I!=="0"&&I!=="off"}else n.object.smooth=!0;const m=n.object.currentMaterial();m&&(m.smooth=n.object.smooth)}else{if(f==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+f+'"')}}n.finalize();const l=new D.Group;if(l.materialLibraries=[].concat(n.materialLibraries),n.objects.length===1&&n.objects[0].geometry.vertices.length===0){if(n.vertices.length>0){const c=new D.PointsMaterial({size:1,sizeAttenuation:!1}),h=new D.BufferGeometry;h.setAttribute("position",new D.Float32BufferAttribute(n.vertices,3)),n.colors.length>0&&n.colors[0]!==void 0&&(h.setAttribute("color",new D.Float32BufferAttribute(n.colors,3)),c.vertexColors=!0);const f=new D.Points(h,c);l.add(f)}}else for(let c=0,h=n.objects.length;c<h;c++){const f=n.objects[c],p=f.geometry,m=f.materials,I=p.type==="Line",w=p.type==="Points";let _=!1;if(p.vertices.length===0)continue;const b=new D.BufferGeometry;b.setAttribute("position",new D.Float32BufferAttribute(p.vertices,3)),p.normals.length>0&&b.setAttribute("normal",new D.Float32BufferAttribute(p.normals,3)),p.colors.length>0&&(_=!0,b.setAttribute("color",new D.Float32BufferAttribute(p.colors,3))),p.hasUVIndices===!0&&b.setAttribute("uv",new D.Float32BufferAttribute(p.uvs,2));const T=[];for(let k=0,F=m.length;k<F;k++){const N=m[k],G=N.name+"_"+N.smooth+"_"+_;let V=n.materials[G];if(this.materials!==null)if(V=this.materials.create(N.name),!I||!V||V instanceof D.LineBasicMaterial){if(w&&V&&!(V instanceof D.PointsMaterial)){const W=new D.PointsMaterial({size:10,sizeAttenuation:!1});D.Material.prototype.copy.call(W,V),W.color.copy(V.color),W.map=V.map,V=W}}else{const W=new D.LineBasicMaterial;D.Material.prototype.copy.call(W,V),W.color.copy(V.color),V=W}V===void 0&&(V=I?new D.LineBasicMaterial:w?new D.PointsMaterial({size:1,sizeAttenuation:!1}):new D.MeshPhongMaterial,V.name=N.name,V.flatShading=!N.smooth,V.vertexColors=_,n.materials[G]=V),T.push(V)}let S;if(T.length>1){for(let k=0,F=m.length;k<F;k++){const N=m[k];b.addGroup(N.groupStart,N.groupCount,k)}S=I?new D.LineSegments(b,T):w?new D.Points(b,T):new D.Mesh(b,T)}else S=I?new D.LineSegments(b,T[0]):w?new D.Points(b,T[0]):new D.Mesh(b,T[0]);S.name=f.name,l.add(S)}return l}}class pP extends D.Loader{constructor(t){super(t)}load(t,n,r,o){const l=this,c=this.path===""?D.LoaderUtils.extractUrlBase(t):this.path,h=new D.FileLoader(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(f){try{n(l.parse(f,c))}catch(p){o?o(p):console.error(p),l.manager.itemError(t)}},r,o)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,n){const r=t.split(`
`);let o={};const l=/\s+/,c={};for(let f=0;f<r.length;f++){let p=r[f];if(p=p.trim(),p.length===0||p.charAt(0)==="#")continue;const m=p.indexOf(" ");let I=m>=0?p.substring(0,m):p;I=I.toLowerCase();let w=m>=0?p.substring(m+1):"";if(w=w.trim(),I==="newmtl")o={name:w},c[w]=o;else if(I==="ka"||I==="kd"||I==="ks"||I==="ke"){const _=w.split(l,3);o[I]=[parseFloat(_[0]),parseFloat(_[1]),parseFloat(_[2])]}else o[I]=w}const h=new gP(this.resourcePath||n,this.materialOptions);return h.setCrossOrigin(this.crossOrigin),h.setManager(this.manager),h.setMaterials(c),h}}class gP{constructor(t="",n={}){this.baseUrl=t,this.options=n,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:D.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:D.RepeatWrapping}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const n={};for(const r in t){const o=t[r],l={};n[r]=l;for(const c in o){let h=!0,f=o[c];const p=c.toLowerCase();switch(p){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(f=[f[0]/255,f[1]/255,f[2]/255]),this.options&&this.options.ignoreZeroRGBs&&f[0]===0&&f[1]===0&&f[2]===0&&(h=!1)}h&&(l[p]=f)}}return n}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const n in this.materialsInfo)this.materialsArray[t]=this.create(n),this.nameLookup[n]=t,t++;return this.materialsArray}create(t){return this.materials[t]===void 0&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const n=this,r=this.materialsInfo[t],o={name:t,side:this.side};function l(c,h){if(o[c])return;const f=n.getTextureParams(h,o),p=n.loadTexture((m=n.baseUrl,typeof(I=f.url)!="string"||I===""?"":/^https?:\/\//i.test(I)?I:m+I));var m,I;p.repeat.copy(f.scale),p.offset.copy(f.offset),p.wrapS=n.wrap,p.wrapT=n.wrap,c!=="map"&&c!=="emissiveMap"||(p.colorSpace=D.SRGBColorSpace),o[c]=p}for(const c in r){const h=r[c];let f;if(h!=="")switch(c.toLowerCase()){case"kd":o.color=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(h),D.SRGBColorSpace);break;case"ks":o.specular=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(h),D.SRGBColorSpace);break;case"ke":o.emissive=D.ColorManagement.toWorkingColorSpace(new D.Color().fromArray(h),D.SRGBColorSpace);break;case"map_kd":l("map",h);break;case"map_ks":l("specularMap",h);break;case"map_ke":l("emissiveMap",h);break;case"norm":l("normalMap",h);break;case"map_bump":case"bump":l("bumpMap",h);break;case"map_d":l("alphaMap",h),o.transparent=!0;break;case"ns":o.shininess=parseFloat(h);break;case"d":f=parseFloat(h),f<1&&(o.opacity=f,o.transparent=!0);break;case"tr":f=parseFloat(h),this.options&&this.options.invertTrProperty&&(f=1-f),f>0&&(o.opacity=1-f,o.transparent=!0)}}return this.materials[t]=new D.MeshPhongMaterial(o),this.materials[t]}getTextureParams(t,n){const r={scale:new D.Vector2(1,1),offset:new D.Vector2(0,0)},o=t.split(/\s+/);let l;return l=o.indexOf("-bm"),l>=0&&(n.bumpScale=parseFloat(o[l+1]),o.splice(l,2)),l=o.indexOf("-s"),l>=0&&(r.scale.set(parseFloat(o[l+1]),parseFloat(o[l+2])),o.splice(l,4)),l=o.indexOf("-o"),l>=0&&(r.offset.set(parseFloat(o[l+1]),parseFloat(o[l+2])),o.splice(l,4)),r.url=o.join(" ").trim(),r}loadTexture(t,n,r,o,l){const c=this.manager!==void 0?this.manager:D.DefaultLoadingManager;let h=c.getHandler(t);h===null&&(h=new D.TextureLoader(c)),h.setCrossOrigin&&h.setCrossOrigin(this.crossOrigin);const f=h.load(t,r,o,l);return n!==void 0&&(f.mapping=n),f}}var vE=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};const e3=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&(typeof t[n]=="object"&&t[n]!==null?(e[n]=typeof e[n]=="object"&&e[n]!==null?e[n]:{},e3(e[n],t[n])):e[n]=t[n]);return e},Dv=e=>new Promise((t,n)=>{new _T().load(e,r=>{t(r)},void 0,r=>{n(r)})}),zT=e=>vE(void 0,[e],void 0,function*({src:t}){let n=new lE;return new Promise(r=>{n.load(t,o=>r(o.scene))})});function WT(e){return vE(this,arguments,void 0,function*({src:t}){let n=new zw;return new Promise(r=>{n.load(t,o=>r(o))})})}function yd(e){return vE(this,arguments,void 0,function*({src:t,mtlSrc:n}){let r=new Tv;return new Promise(o=>{n?new pP().load(n,l=>{l.preload(),r.setMaterials(l),r.load(t,c=>o(c))}):r.load(t,l=>o(l))})})}const Dm=e=>vE(void 0,void 0,void 0,function*(){if(typeof e=="string"){let t=new D.TextureLoader;return t.setCrossOrigin(t.crossOrigin),t.load(e)}return new D.Texture(e)}),Cc=(e,t)=>{e!=="license"?console[e](t):console.error("\u672A\u6388\u6743\u4F7F\u7528C3D\uFF0C\u8BF7\u8054\u7CFB chaoxuelei@qq.com \u6216 13259009221!")},Na=(e,t,n,r)=>{if(e.length%3!=0)throw new Error("Points array length must be a multiple of 3 (x,y,z for each point)");const o=[];for(let h=0;h<e.length;h+=3)o.push(new D.Vector3(e[h],e[h+1],e[h+2]));const l=new D.CatmullRomCurve3(o,r?!r:n);if(r)return l;const c=[];return l.getPoints(t).forEach(h=>{c.push(h.x,h.y,h.z)}),c},Mf=(e,...t)=>vE(void 0,[e,...t],void 0,function*(n,r=!0){let o=new Tw;return r?o.parse(n):new Promise(l=>{o.load(n,c=>{l(c)})})}),Rm=e=>{const t=new D.BufferGeometry,n=[],r=[],o=[];return e.forEach(l=>{l.applyMatrix4(new D.Matrix4().makeTranslation(10*Math.random(),10*Math.random(),0));const c=l.attributes.position.array,h=l.attributes.normal.array,f=l.attributes.uv.array;n.push(...c),r.push(...h),o.push(...f)}),t.setAttribute("position",new D.BufferAttribute(new Float32Array(n),3)),t.setAttribute("normal",new D.BufferAttribute(new Float32Array(r),3)),t.setAttribute("uv",new D.BufferAttribute(new Float32Array(o),2)),t},hs=e=>e.isCObject3D?e:hs(e.parent),JT=(e=128,t=.05)=>{const n=new Uint8Array(e*e*e);let r=0;const o=new IT,l=new D.Vector3;for(let h=0;h<e;h++)for(let f=0;f<e;f++)for(let p=0;p<e;p++){const m=1-l.set(p,f,h).subScalar(e/2).divideScalar(e).length();n[r]=(128+128*o.noise(p*t/1.5,f*t,h*t/1.5))*m*m,r++}const c=new D.Data3DTexture(n,e,e,e);return c.format=D.RedFormat,c.minFilter=D.LinearFilter,c.magFilter=D.LinearFilter,c.unpackAlignment=1,c.needsUpdate=!0,c},xd=e=>{if(typeof e!="object"||e===null)return 0;let t=1;if(e.children&&e.children.length)for(let n in e.children)t+=xd(e.children[n]);return t},Sf=()=>{const e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128,Array.from(e,t=>t.toString(16).padStart(2,"0")).join("").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/).slice(1).join("-")},mP=Object.freeze(Object.defineProperty({__proto__:null,countObjects:xd,deepAssign:e3,findParentC3D:hs,generateNoiseTexture:JT,generateUUID:Sf,loadFBX:WT,loadGLB:zT,loadHDR:Dv,loadOBJ:yd,loadSVG:Mf,loadTexture:Dm,log:Cc,mergedGeometry:Rm,smoothPoints:Na},Symbol.toStringTag,{value:"Module"}));var bE=function(){var e=0,t=document.createElement("div");function n(m){return t.appendChild(m.dom),m}function r(m){for(var I=0;I<t.children.length;I++)t.children[I].style.display=I===m?"block":"none";e=m}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(m){m.preventDefault(),r(++e%t.children.length)},!1);var o=(performance||Date).now(),l=o,c=0,h=n(new bE.Panel("FPS","#0ff","#002")),f=n(new bE.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var p=n(new bE.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:t,addPanel:n,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){c++;var m=(performance||Date).now();if(f.update(m-o,200),m>=l+1e3&&(h.update(1e3*c/(m-l),100),l=m,c=0,p)){var I=performance.memory;p.update(I.usedJSHeapSize/1048576,I.jsHeapSizeLimit/1048576)}return m},update:function(){o=this.end()},domElement:t,setMode:r}};bE.Panel=function(e,t,n){var r=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),h=80*c,f=48*c,p=3*c,m=2*c,I=3*c,w=15*c,_=74*c,b=30*c,T=document.createElement("canvas");T.width=h,T.height=f,T.style.cssText="width:80px;height:48px";var S=T.getContext("2d");return S.font="bold "+9*c+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=n,S.fillRect(0,0,h,f),S.fillStyle=t,S.fillText(e,p,m),S.fillRect(I,w,_,b),S.fillStyle=n,S.globalAlpha=.9,S.fillRect(I,w,_,b),{dom:T,update:function(k,F){r=Math.min(r,k),o=Math.max(o,k),S.fillStyle=n,S.globalAlpha=1,S.fillRect(0,0,h,w),S.fillStyle=t,S.fillText(l(k)+" "+e+" ("+l(r)+"-"+l(o)+")",p,m),S.drawImage(T,I+c,w,_-c,b,I,w,_-c,b),S.fillRect(I+_-c,w,c,b),S.fillStyle=n,S.globalAlpha=.9,S.fillRect(I+_-c,w,c,l((1-k/F)*b))}}};const YT={type:"change"},Rv={type:"start"},ZT={type:"end"},n3=new D.Ray,KT=new D.Plane,yP=Math.cos(70*D.MathUtils.DEG2RAD),ko=new D.Vector3,lA=2*Math.PI,Ec=-1,Qv=0,i3=1,s3=2,kv=3,Lv=4,r3=5,Pv=6,o3=1e-6;class XT extends D.Controls{constructor(t,n=null){super(t,n),this.state=Ec,this.enabled=!0,this.target=new D.Vector3,this.cursor=new D.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:D.MOUSE.ROTATE,MIDDLE:D.MOUSE.DOLLY,RIGHT:D.MOUSE.PAN},this.touches={ONE:D.TOUCH.ROTATE,TWO:D.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new D.Vector3,this._lastQuaternion=new D.Quaternion,this._lastTargetPosition=new D.Vector3,this._quat=new D.Quaternion().setFromUnitVectors(t.up,new D.Vector3(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new D.Spherical,this._sphericalDelta=new D.Spherical,this._scale=1,this._panOffset=new D.Vector3,this._rotateStart=new D.Vector2,this._rotateEnd=new D.Vector2,this._rotateDelta=new D.Vector2,this._panStart=new D.Vector2,this._panEnd=new D.Vector2,this._panDelta=new D.Vector2,this._dollyStart=new D.Vector2,this._dollyEnd=new D.Vector2,this._dollyDelta=new D.Vector2,this._dollyDirection=new D.Vector3,this._mouse=new D.Vector2,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=ME.bind(this),this._onPointerDown=jT.bind(this),this._onPointerUp=xP.bind(this),this._onContextMenu=vP.bind(this),this._onMouseWheel=IP.bind(this),this._onKeyDown=wP.bind(this),this._onTouchStart=_P.bind(this),this._onTouchMove=BP.bind(this),this._onMouseDown=CP.bind(this),this._onMouseMove=EP.bind(this),this._interceptControlDown=bP.bind(this),this._interceptControlUp=Fv.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(YT),this.update(),this.state=Ec}update(t=null){const n=this.object.position;ko.copy(n).sub(this.target),ko.applyQuaternion(this._quat),this._spherical.setFromVector3(ko),this.autoRotate&&this.state===Ec&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let r=this.minAzimuthAngle,o=this.maxAzimuthAngle;isFinite(r)&&isFinite(o)&&(r<-Math.PI?r+=lA:r>Math.PI&&(r-=lA),o<-Math.PI?o+=lA:o>Math.PI&&(o-=lA),this._spherical.theta=r<=o?Math.max(r,Math.min(o,this._spherical.theta)):this._spherical.theta>(r+o)/2?Math.max(r,this._spherical.theta):Math.min(o,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let l=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const c=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),l=c!=this._spherical.radius}if(ko.setFromSpherical(this._spherical),ko.applyQuaternion(this._quatInverse),n.copy(this.target).add(ko),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let c=null;if(this.object.isPerspectiveCamera){const h=ko.length();c=this._clampDistance(h*this._scale);const f=h-c;this.object.position.addScaledVector(this._dollyDirection,f),this.object.updateMatrixWorld(),l=!!f}else if(this.object.isOrthographicCamera){const h=new D.Vector3(this._mouse.x,this._mouse.y,0);h.unproject(this.object);const f=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),l=f!==this.object.zoom;const p=new D.Vector3(this._mouse.x,this._mouse.y,0);p.unproject(this.object),this.object.position.sub(p).add(h),this.object.updateMatrixWorld(),c=ko.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;c!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(c).add(this.object.position):(n3.origin.copy(this.object.position),n3.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(n3.direction))<yP?this.object.lookAt(this.target):(KT.setFromNormalAndCoplanarPoint(this.object.up,this.target),n3.intersectPlane(KT,this.target))))}else if(this.object.isOrthographicCamera){const c=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),c!==this.object.zoom&&(this.object.updateProjectionMatrix(),l=!0)}return this._scale=1,this._performCursorZoom=!1,!!(l||this._lastPosition.distanceToSquared(this.object.position)>o3||8*(1-this._lastQuaternion.dot(this.object.quaternion))>o3||this._lastTargetPosition.distanceToSquared(this.target)>o3)&&(this.dispatchEvent(YT),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(t){return t!==null?lA/60*this.autoRotateSpeed*t:lA/60/60*this.autoRotateSpeed}_getZoomScale(t){const n=Math.abs(.01*t);return Math.pow(.95,this.zoomSpeed*n)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,n){ko.setFromMatrixColumn(n,0),ko.multiplyScalar(-t),this._panOffset.add(ko)}_panUp(t,n){this.screenSpacePanning===!0?ko.setFromMatrixColumn(n,1):(ko.setFromMatrixColumn(n,0),ko.crossVectors(this.object.up,ko)),ko.multiplyScalar(t),this._panOffset.add(ko)}_pan(t,n){const r=this.domElement;if(this.object.isPerspectiveCamera){const o=this.object.position;ko.copy(o).sub(this.target);let l=ko.length();l*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*l/r.clientHeight,this.object.matrix),this._panUp(2*n*l/r.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrix),this._panUp(n*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(t,n){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const r=this.domElement.getBoundingClientRect(),o=t-r.left,l=n-r.top,c=r.width,h=r.height;this._mouse.x=o/c*2-1,this._mouse.y=-l/h*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(lA*this._rotateDelta.x/n.clientHeight),this._rotateUp(lA*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let n=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this._rotateUp(lA*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,this.keyPanSpeed),n=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this._rotateUp(-lA*this.rotateSpeed/this.domElement.clientHeight):this._pan(0,-this.keyPanSpeed),n=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this._rotateLeft(lA*this.rotateSpeed/this.domElement.clientHeight):this._pan(this.keyPanSpeed,0),n=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this._rotateLeft(-lA*this.rotateSpeed/this.domElement.clientHeight):this._pan(-this.keyPanSpeed,0),n=!0}n&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(this._pointers.length===1)this._rotateStart.set(t.pageX,t.pageY);else{const n=this._getSecondPointerPosition(t),r=.5*(t.pageX+n.x),o=.5*(t.pageY+n.y);this._rotateStart.set(r,o)}}_handleTouchStartPan(t){if(this._pointers.length===1)this._panStart.set(t.pageX,t.pageY);else{const n=this._getSecondPointerPosition(t),r=.5*(t.pageX+n.x),o=.5*(t.pageY+n.y);this._panStart.set(r,o)}}_handleTouchStartDolly(t){const n=this._getSecondPointerPosition(t),r=t.pageX-n.x,o=t.pageY-n.y,l=Math.sqrt(r*r+o*o);this._dollyStart.set(0,l)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(this._pointers.length==1)this._rotateEnd.set(t.pageX,t.pageY);else{const r=this._getSecondPointerPosition(t),o=.5*(t.pageX+r.x),l=.5*(t.pageY+r.y);this._rotateEnd.set(o,l)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const n=this.domElement;this._rotateLeft(lA*this._rotateDelta.x/n.clientHeight),this._rotateUp(lA*this._rotateDelta.y/n.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(this._pointers.length===1)this._panEnd.set(t.pageX,t.pageY);else{const n=this._getSecondPointerPosition(t),r=.5*(t.pageX+n.x),o=.5*(t.pageY+n.y);this._panEnd.set(r,o)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){const n=this._getSecondPointerPosition(t),r=t.pageX-n.x,o=t.pageY-n.y,l=Math.sqrt(r*r+o*o);this._dollyEnd.set(0,l),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const c=.5*(t.pageX+n.x),h=.5*(t.pageY+n.y);this._updateZoomParameters(c,h)}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==t.pointerId)return void this._pointers.splice(n,1)}_isTrackingPointer(t){for(let n=0;n<this._pointers.length;n++)if(this._pointers[n]==t.pointerId)return!0;return!1}_trackPointer(t){let n=this._pointerPositions[t.pointerId];n===void 0&&(n=new D.Vector2,this._pointerPositions[t.pointerId]=n),n.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){const n=t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[n]}_customWheelEvent(t){const n=t.deltaMode,r={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(n){case 1:r.deltaY*=16;break;case 2:r.deltaY*=100}return t.ctrlKey&&!this._controlActive&&(r.deltaY*=10),r}}function jT(e){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),this._isTrackingPointer(e)||(this._addPointer(e),e.pointerType==="touch"?this._onTouchStart(e):this._onMouseDown(e)))}function ME(e){this.enabled!==!1&&(e.pointerType==="touch"?this._onTouchMove(e):this._onMouseMove(e))}function xP(e){switch(this._removePointer(e),this._pointers.length){case 0:this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(ZT),this.state=Ec;break;case 1:const t=this._pointers[0],n=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:n.x,pageY:n.y})}}function CP(e){let t;switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case D.MOUSE.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(e),this.state=i3;break;case D.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(e),this.state=s3}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(e),this.state=Qv}break;case D.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(e),this.state=Qv}else{if(this.enablePan===!1)return;this._handleMouseDownPan(e),this.state=s3}break;default:this.state=Ec}this.state!==Ec&&this.dispatchEvent(Rv)}function EP(e){switch(this.state){case Qv:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(e);break;case i3:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(e);break;case s3:if(this.enablePan===!1)return;this._handleMouseMovePan(e)}}function IP(e){this.enabled!==!1&&this.enableZoom!==!1&&this.state===Ec&&(e.preventDefault(),this.dispatchEvent(Rv),this._handleMouseWheel(this._customWheelEvent(e)),this.dispatchEvent(ZT))}function wP(e){this.enabled!==!1&&this.enablePan!==!1&&this._handleKeyDown(e)}function _P(e){switch(this._trackPointer(e),this._pointers.length){case 1:switch(this.touches.ONE){case D.TOUCH.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(e),this.state=kv;break;case D.TOUCH.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(e),this.state=Lv;break;default:this.state=Ec}break;case 2:switch(this.touches.TWO){case D.TOUCH.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(e),this.state=r3;break;case D.TOUCH.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(e),this.state=Pv;break;default:this.state=Ec}break;default:this.state=Ec}this.state!==Ec&&this.dispatchEvent(Rv)}function BP(e){switch(this._trackPointer(e),this.state){case kv:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(e),this.update();break;case Lv:if(this.enablePan===!1)return;this._handleTouchMovePan(e),this.update();break;case r3:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(e),this.update();break;case Pv:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(e),this.update();break;default:this.state=Ec}}function vP(e){this.enabled!==!1&&e.preventDefault()}function bP(e){e.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Fv(e){e.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const uh=new D.Vector3,SE=new D.Quaternion,dh=new D.Vector3;class Ga extends D.Object3D{constructor(t=document.createElement("div")){super(),this.isCSS3DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof n.element.ownerDocument.defaultView.Element&&n.element.parentNode!==null&&n.element.remove()})})}copy(t,n){return super.copy(t,n),this.element=t.element.cloneNode(!0),this}}const fh=new D.Matrix4,Ep=new D.Matrix4;class Qm{constructor(t={}){const n=this;let r,o,l,c;const h={camera:{style:""},objects:new WeakMap},f=t.element!==void 0?t.element:document.createElement("div");f.style.overflow="hidden",this.domElement=f;const p=document.createElement("div");p.style.transformOrigin="0 0",p.style.pointerEvents="none",f.appendChild(p);const m=document.createElement("div");function I(S){return Math.abs(S)<1e-10?0:S}function w(S){const k=S.elements;return"matrix3d("+I(k[0])+","+I(-k[1])+","+I(k[2])+","+I(k[3])+","+I(k[4])+","+I(-k[5])+","+I(k[6])+","+I(k[7])+","+I(k[8])+","+I(-k[9])+","+I(k[10])+","+I(k[11])+","+I(k[12])+","+I(-k[13])+","+I(k[14])+","+I(k[15])+")"}function _(S){const k=S.elements;return"translate(-50%,-50%)"+("matrix3d("+I(k[0])+","+I(k[1])+","+I(k[2])+","+I(k[3])+","+I(-k[4])+","+I(-k[5])+","+I(-k[6])+","+I(-k[7])+","+I(k[8])+","+I(k[9])+","+I(k[10])+","+I(k[11])+","+I(k[12])+","+I(k[13])+","+I(k[14])+","+I(k[15])+")")}function b(S){S.isCSS3DObject&&(S.element.style.display="none");for(let k=0,F=S.children.length;k<F;k++)b(S.children[k])}function T(S,k,F,N){if(S.visible!==!1){if(S.isCSS3DObject){const G=S.layers.test(F.layers)===!0,V=S.element;if(V.style.display=G===!0?"":"none",G===!0){let W;S.onBeforeRender(n,k,F),S.isCSS3DSprite?(fh.copy(F.matrixWorldInverse),fh.transpose(),S.rotation2D!==0&&fh.multiply(Ep.makeRotationZ(S.rotation2D)),S.matrixWorld.decompose(uh,SE,dh),fh.setPosition(uh),fh.scale(dh),fh.elements[3]=0,fh.elements[7]=0,fh.elements[11]=0,fh.elements[15]=1,W=_(fh)):W=_(S.matrixWorld);const X=h.objects.get(S);if(X===void 0||X.style!==W){V.style.transform=W;const K={style:W};h.objects.set(S,K)}V.parentNode!==m&&m.appendChild(V),S.onAfterRender(n,k,F)}}for(let G=0,V=S.children.length;G<V;G++)T(S.children[G],k,F)}else b(S)}m.style.transformStyle="preserve-3d",p.appendChild(m),this.getSize=function(){return{width:r,height:o}},this.render=function(S,k){const F=k.projectionMatrix.elements[5]*c;let N,G;k.view&&k.view.enabled?(p.style.transform=`translate( ${-k.view.offsetX*(r/k.view.width)}px, ${-k.view.offsetY*(o/k.view.height)}px )`,p.style.transform+=`scale( ${k.view.fullWidth/k.view.width}, ${k.view.fullHeight/k.view.height} )`):p.style.transform="",S.matrixWorldAutoUpdate===!0&&S.updateMatrixWorld(),k.parent===null&&k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),k.isOrthographicCamera&&(N=-(k.right+k.left)/2,G=(k.top+k.bottom)/2);const V=k.view&&k.view.enabled?k.view.height/k.view.fullHeight:1,W=k.isOrthographicCamera?`scale( ${V} )scale(`+F+")translate("+I(N)+"px,"+I(G)+"px)"+w(k.matrixWorldInverse):`scale( ${V} )translateZ(`+F+"px)"+w(k.matrixWorldInverse),X=(k.isPerspectiveCamera?"perspective("+F+"px) ":"")+W+"translate("+l+"px,"+c+"px)";h.camera.style!==X&&(m.style.transform=X,h.camera.style=X),T(S,S,k)},this.setSize=function(S,k){r=S,o=k,l=r/2,c=o/2,f.style.width=S+"px",f.style.height=k+"px",p.style.width=S+"px",p.style.height=k+"px",m.style.width=S+"px",m.style.height=k+"px"}}}class UA extends D.Object3D{constructor(t=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=t,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new D.Vector2(.5,.5),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof n.element.ownerDocument.defaultView.Element&&n.element.parentNode!==null&&n.element.remove()})})}copy(t,n){return super.copy(t,n),this.element=t.element.cloneNode(!0),this.center=t.center,this}}const Ws=new D.Vector3,a3=new D.Matrix4,qT=new D.Matrix4,$T=new D.Vector3,km=new D.Vector3;class MP{constructor(t={}){const n=this;let r,o,l,c;const h={objects:new WeakMap},f=t.element!==void 0?t.element:document.createElement("div");function p(w){w.isCSS2DObject&&(w.element.style.display="none");for(let _=0,b=w.children.length;_<b;_++)p(w.children[_])}function m(w,_,b){if(w.visible!==!1){if(w.isCSS2DObject){Ws.setFromMatrixPosition(w.matrixWorld),Ws.applyMatrix4(qT);const T=Ws.z>=-1&&Ws.z<=1&&w.layers.test(b.layers)===!0,S=w.element;S.style.display=T===!0?"":"none",T===!0&&(w.onBeforeRender(n,_,b),S.style.transform="translate("+-100*w.center.x+"%,"+-100*w.center.y+"%)translate("+(Ws.x*l+l)+"px,"+(-Ws.y*c+c)+"px)",S.parentNode!==f&&f.appendChild(S),w.onAfterRender(n,_,b));const k={distanceToCameraSquared:I(b,w)};h.objects.set(w,k)}for(let T=0,S=w.children.length;T<S;T++)m(w.children[T],_,b)}else p(w)}function I(w,_){return $T.setFromMatrixPosition(w.matrixWorld),km.setFromMatrixPosition(_.matrixWorld),$T.distanceToSquared(km)}f.style.overflow="hidden",this.domElement=f,this.getSize=function(){return{width:r,height:o}},this.render=function(w,_){w.matrixWorldAutoUpdate===!0&&w.updateMatrixWorld(),_.parent===null&&_.matrixWorldAutoUpdate===!0&&_.updateMatrixWorld(),a3.copy(_.matrixWorldInverse),qT.multiplyMatrices(_.projectionMatrix,a3),m(w,w,_),function(b){const T=function(k){const F=[];return k.traverseVisible(function(N){N.isCSS2DObject&&F.push(N)}),F}(b).sort(function(k,F){return k.renderOrder!==F.renderOrder?F.renderOrder-k.renderOrder:h.objects.get(k).distanceToCameraSquared-h.objects.get(F).distanceToCameraSquared}),S=T.length;for(let k=0,F=T.length;k<F;k++)T[k].element.style.zIndex=S-k}(w)},this.setSize=function(w,_){r=w,o=_,l=r/2,c=o/2,f.style.width=w+"px",f.style.height=_+"px"}}}class SP{constructor(t){if(this.cameraAndScene={c:[],s:[]},this.el=null,this.width=0,this.height=0,this.camera=null,this.renderer=null,this.css3dRenderer=null,this.css2dRenderer=null,this.scene=null,this.control=null,this.stats=null,this.light={},this.sky=null,this.onControlChange=null,this.animationFrameTimes=0,this.opts={},this.animations=null,this.clock=new D.Clock,this.delta=0,this.readyCallbacks=[],!t)throw new Error("el is required--c3d");this.el=typeof t=="string"?document.getElementById(t):t,this.width=this.el.offsetWidth,this.height=this.el.offsetHeight,this.startAnimation=this.startAnimation.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.onControlChange&&(this.onControlChange=this.onControlChange.bind(this))}init(t){this.opts=e3({antialias:!0,clearColor:null,precision:"lowp",logarithmicDepthBuffer:!1,helper:{},css3d:!1,maxFPS:60,opacity:0,position:[0,0,0],camera:{position:[0,100,3e3],far:1e4,near:1,up:[0,1,0],lookAt:[0,0,0]},control:{enabel:!0,target:[0,0,0],minDistance:0,maxDistance:300,enablePan:!0,maxAzimuthAngle:180,maxPolarAngle:180,enableDamping:!1},light:{ambient:{color:16777215,intensity:.5},directional:{color:16777215,intensity:.5,position:[0,1500,3e3],target:[0,0,0]}},sky:null,stats:!1},t),this.initRenderer(),this.initScene(),this.initCamera(),this.initLight(),this.initControls(),this.onWindowResize(),this.initHelper(),this.opts.sky&&this.initSky(),this.opts.css3d&&this.initCSS3dRenderer(),this.opts.stats&&this.initStats(),this.startAnimation(),this.ready(),window.addEventListener("resize",this.onWindowResize)}ready(){this.readyCallbacks.forEach(t=>t())}initLight(){this.light={ambient:new D.AmbientLight(this.opts.light.ambient.color,this.opts.light.ambient.intensity),directional:new D.DirectionalLight(this.opts.light.directional.color,this.opts.light.directional.intensity)},this.light.directional.position.set(...this.opts.light.directional.position),this.light.directional.target.position.set(...this.opts.light.directional.target),this.scene.add(this.light.ambient),this.scene.add(this.light.directional)}addLight(t,n){this.light[t]=n,this.scene.add(n)}initCamera(){let{position:[t,n,r],near:o,far:l,up:c,lookAt:h}=this.opts.camera;this.camera=new D.PerspectiveCamera(45,this.width/this.height,o,l),this.camera.name="main",this.camera.position.set(t,n,r),this.camera.up.set(...c),this.opts.control.enabel||this.camera.lookAt(...h),this.cameraAndScene.c.push(this.camera)}initControls(){var t;const{maxAzimuthAngle:n,maxPolarAngle:r,maxDistance:o,minDistance:l,target:c,enablePan:h,enableDamping:f}=this.opts.control;this.control=new XT(this.camera,(t=this.renderer)===null||t===void 0?void 0:t.domElement),this.control.screenSpacePanning=!1,this.control.listenToKeyEvents(window),this.control.enableDamping=f,this.control.maxDistance=o,this.control.minDistance=l,this.control.enablePan=h,this.control.target=new D.Vector3(...c),this.control.maxAzimuthAngle=n/180*Math.PI,this.control.maxPolarAngle=r/180*Math.PI,this.control.saveState(),this.onControlChange&&this.control.addEventListener("change",this.onControlChange)}initHelper(){let{grid:t,axes:n}=this.opts.helper;if(t){const{size:r,divisions:o,color:l,axisColor:c}=t;let h=new D.GridHelper(r||1e3,o||50,c||4473924,l||8947848);this.scene.add(h)}if(n){let r=new D.AxesHelper(n||10);this.scene.add(r)}}initSky(){this.setSky(this.opts.sky)}setSky(t){Dv(t).then(n=>{n.mapping=D.EquirectangularReflectionMapping,this.sky=n,this.scene.environment=n,this.scene.background=n}).catch(console.log)}initStats(){this.stats||(this.stats=new bE,this.stats.dom.style.position="absolute",this.el.appendChild(this.stats.dom))}initCSS2dRenderer(){let t=new MP;t.setSize(this.width,this.height),t.domElement.className="css2d_render",t.domElement.style.position="absolute",t.domElement.style.zIndex="9999",t.domElement.style.left="0px",t.domElement.style.top="0px",t.domElement.style.pointerEvents="none",this.el.appendChild(t.domElement),this.css2dRenderer=t}initCSS3dRenderer(){let t=new Qm;t.setSize(this.width,this.height),t.domElement.className="css3d_render",t.domElement.style.position="absolute",t.domElement.style.zIndex="9999",t.domElement.style.left="0px",t.domElement.style.top="0px",t.domElement.style.pointerEvents="none",this.el.appendChild(t.domElement),this.css3dRenderer=t}initRenderer(){let{antialias:t,opacity:n,clearColor:r,precision:o,logarithmicDepthBuffer:l}=this.opts;this.renderer=new D.WebGLRenderer({alpha:!0,precision:o,antialias:t,logarithmicDepthBuffer:l}),this.renderer.setSize(this.width,this.height),this.el.append(this.renderer.domElement),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setClearColor(r,n),this.renderer.shadowMap.enabled=!0,this.renderer.outputColorSpace=D.SRGBColorSpace,this.renderer.toneMapping=D.ACESFilmicToneMapping,this.renderer.toneMappingExposure=1}initScene(){this.scene=new D.Scene;const[t,n,r]=this.opts.position;this.scene.position.set(t,n,r),this.scene.name="main",this.cameraAndScene.s.push(this.scene)}addScene(t,n=[0,0,0]){if(t==="main")throw new Error('Scene name cannot be "main"');const r=new D.Scene;return r.name=t,r.position.set(...n),this.cameraAndScene.s.push(r),this}addCamera(t,n={position:[0,5,5],near:.1,far:1e3,up:[0,1,0],lookAt:[0,0,0]}){if(t==="main")throw new Error('Camera name cannot be "main"');const r=new D.PerspectiveCamera(75,this.width/this.height,n.near,n.far);return r.name=t,r.position.set(...n.position),r.lookAt(...n.lookAt),r.up.set(...n.up),r.updateProjectionMatrix(),this.cameraAndScene.c.push(r),this}switchCamera(t){this.camera=this.cameraAndScene.c.find(n=>n.name===t)}switchScene(t){this.scene=this.cameraAndScene.s.find(n=>n.name===t)}onWindowResize(){var t;let{offsetWidth:n,offsetHeight:r}=this.el;this.camera.aspect=n/r,this.camera.updateProjectionMatrix(),(t=this.renderer)===null||t===void 0||t.setSize(n,r),this.css3dRenderer&&this.css3dRenderer.setSize(n,r),this.css2dRenderer&&this.css2dRenderer.setSize(n,r)}resize(){this.onWindowResize()}addModelToScene(t,n="main"){this.cameraAndScene.s.find(r=>r.name===n).add(t)}stopAnimation(){cancelAnimationFrame(this.animationFrameTimes)}startAnimation(){var t;this.startAnimation&&(this.animationFrameTimes=requestAnimationFrame(this.startAnimation)),this.delta+=this.clock.getDelta(),this.delta<1/this.opts.maxFPS||(this.delta%=1/this.opts.maxFPS,(t=this.renderer)===null||t===void 0||t.render(this.scene,this.camera),this.css3dRenderer&&this.css3dRenderer.render(this.scene,this.camera),this.css2dRenderer&&this.css2dRenderer.render(this.scene,this.camera),this.stats&&this.stats.update(),this.animations&&Object.keys(this.animations).length&&Object.keys(this.animations).map(n=>this.animations[n]()),this.control&&this.control.update())}setMaxFPS(t){this.opts.maxFPS=t}dispose(){var t,n;this.stopAnimation(),(t=this.renderer)===null||t===void 0||t.dispose(),(n=this.renderer)===null||n===void 0||n.forceContextLoss(),this.renderer.domElement=null,this.renderer=null}}class Ip{constructor(t){this.isPlugin=!0,this.core=null,this.core=t}dispose(){this.core=null}}Ip.PLUGIN_NAME=null;class t6 extends Ip{constructor(t){super(t),this.protectedAnimates=["tweening"],this.tweenGroup=new pd,this.animations={},this.core.animations={tweening:()=>{this.tweenGroup.update()}},this.animations=t.animations}register(t,n){if(this.protectedAnimates.includes(t))return console.error(t+"\u662F\u7CFB\u7EDF\u4FDD\u7559\u7684\u52A8\u753B\u540D\u79F0\uFF0C\u8BF7\u6362\u4E00\u4E2A\uFF01");this.core.animations[t]=n}remove(t){if(this.protectedAnimates.includes(t))return console.error(t+"\u662F\u7CFB\u7EDF\u4FDD\u7559\u7684\u52A8\u753B\u540D\u79F0\uFF0C\u8BF7\u6362\u4E00\u4E2A\uFF01");delete this.core.animations[t]}tween({meshs:t,beforMove:n,afterMove:r,speed:o,yoyo:l,easing:c,repeat:h}){let f={},p={};t.forEach(({mesh:I,attr:w,target:_},b)=>{let T=null;Array.isArray(w)?w.map(S=>T=T?T[S]:I[S]):T=I[w],Object.keys(_).forEach(S=>{f[b+"_"+w+"_"+S]=T[S],p[b+"_"+w+"_"+S]=_[S]})});let m=new Ro(f);this.tweenGroup.add(m),n&&n(m),m.to(p,o),m.onUpdate(()=>{t.forEach(({mesh:I,attr:w,target:_},b)=>{let T=null;Array.isArray(w)?w.map(S=>T=T?T[S]:I[S]):T=I[w],Object.keys(_).forEach(S=>{T[S]=f[b+"_"+w+"_"+S]})})}),h&&m.delay(20).repeat(h),l&&m.delay(20).yoyo(!0),c&&m.easing(Cr[c[0]][c[1]]),r&&r(m),m.onComplete(()=>{this.tweenGroup.remove(m)}),m.start()}tweenMesh(t,{attrs:n,beforMove:r,afterMove:o,speed:l,yoyo:c,easing:h,repeat:f}){let p={},m={};n.forEach(({attr:w,target:_})=>{let b=Array.isArray(w)?w.reduce((T,S)=>T[S],t):t[w];Object.keys(_).forEach(T=>{p[w+"_"+T]=b[T],m[w+"_"+T]=_[T]})});let I=new Ro(p);this.tweenGroup.add(I),r&&r(I),I.to(m,l),I.onUpdate(()=>{n.forEach(({attr:w,target:_})=>{let b=Array.isArray(w)?w.reduce((T,S)=>T[S],t):t[w];Object.keys(_).forEach(T=>{b[T]=p[w+"_"+T]})})}),f&&I.repeat(f),c&&I.delay(20).yoyo(!0),h&&I.easing(Cr[h[0]][h[1]]),o&&o(I),I.onComplete(()=>{this.tweenGroup.remove(I)}),I.start()}}t6.PLUGIN_NAME="animate";const wp=new D.Raycaster,Oa=new D.Vector3,Tf=new D.Vector3,Ir=new D.Quaternion,e6={X:new D.Vector3(1,0,0),Y:new D.Vector3(0,1,0),Z:new D.Vector3(0,0,1)},Uv={type:"change"},n6={type:"mouseDown",mode:null},i6={type:"mouseUp",mode:null},s6={type:"objectChange"};class TP extends D.Controls{constructor(t,n=null){super(void 0,n);const r=new o6(this);this._root=r;const o=new a6;this._gizmo=o,r.add(o);const l=new l6;this._plane=l,r.add(l);const c=this;function h(F,N){let G=N;Object.defineProperty(c,F,{get:function(){return G!==void 0?G:N},set:function(V){G!==V&&(G=V,l[F]=V,o[F]=V,c.dispatchEvent({type:F+"-changed",value:V}),c.dispatchEvent(Uv))}}),c[F]=N,l[F]=N,o[F]=N}h("camera",t),h("object",void 0),h("enabled",!0),h("axis",null),h("mode","translate"),h("translationSnap",null),h("rotationSnap",null),h("scaleSnap",null),h("space","world"),h("size",1),h("dragging",!1),h("showX",!0),h("showY",!0),h("showZ",!0),h("minX",-1/0),h("maxX",1/0),h("minY",-1/0),h("maxY",1/0),h("minZ",-1/0),h("maxZ",1/0);const f=new D.Vector3,p=new D.Vector3,m=new D.Quaternion,I=new D.Quaternion,w=new D.Vector3,_=new D.Quaternion,b=new D.Vector3,T=new D.Vector3,S=new D.Vector3,k=new D.Vector3;h("worldPosition",f),h("worldPositionStart",p),h("worldQuaternion",m),h("worldQuaternionStart",I),h("cameraPosition",w),h("cameraQuaternion",_),h("pointStart",b),h("pointEnd",T),h("rotationAxis",S),h("rotationAngle",0),h("eye",k),this._offset=new D.Vector3,this._startNorm=new D.Vector3,this._endNorm=new D.Vector3,this._cameraScale=new D.Vector3,this._parentPosition=new D.Vector3,this._parentQuaternion=new D.Quaternion,this._parentQuaternionInv=new D.Quaternion,this._parentScale=new D.Vector3,this._worldScaleStart=new D.Vector3,this._worldQuaternionInv=new D.Quaternion,this._worldScale=new D.Vector3,this._positionStart=new D.Vector3,this._quaternionStart=new D.Quaternion,this._scaleStart=new D.Vector3,this._getPointer=Bl.bind(this),this._onPointerDown=DP.bind(this),this._onPointerHover=vi.bind(this),this._onPointerMove=Le.bind(this),this._onPointerUp=Ii.bind(this),n!==null&&this.connect()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(t){if(this.object===void 0||this.dragging===!0)return;t!==null&&wp.setFromCamera(t,this.camera);const n=TE(this._gizmo.picker[this.mode],wp);this.axis=n?n.object.name:null}pointerDown(t){if(this.object!==void 0&&this.dragging!==!0&&(t==null||t.button===0)&&this.axis!==null){t!==null&&wp.setFromCamera(t,this.camera);const n=TE(this._plane,wp,!0);n&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(n.point).sub(this.worldPositionStart)),this.dragging=!0,n6.mode=this.mode,this.dispatchEvent(n6)}}pointerMove(t){const n=this.axis,r=this.mode,o=this.object;let l=this.space;if(r==="scale"?l="local":n!=="E"&&n!=="XYZE"&&n!=="XYZ"||(l="world"),o===void 0||n===null||this.dragging===!1||t!==null&&t.button!==-1)return;t!==null&&wp.setFromCamera(t,this.camera);const c=TE(this._plane,wp,!0);if(c){if(this.pointEnd.copy(c.point).sub(this.worldPositionStart),r==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),l==="local"&&n!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),n.indexOf("X")===-1&&(this._offset.x=0),n.indexOf("Y")===-1&&(this._offset.y=0),n.indexOf("Z")===-1&&(this._offset.z=0),l==="local"&&n!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),o.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(l==="local"&&(o.position.applyQuaternion(Ir.copy(this._quaternionStart).invert()),n.search("X")!==-1&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.position.applyQuaternion(this._quaternionStart)),l==="world"&&(o.parent&&o.position.add(Oa.setFromMatrixPosition(o.parent.matrixWorld)),n.search("X")!==-1&&(o.position.x=Math.round(o.position.x/this.translationSnap)*this.translationSnap),n.search("Y")!==-1&&(o.position.y=Math.round(o.position.y/this.translationSnap)*this.translationSnap),n.search("Z")!==-1&&(o.position.z=Math.round(o.position.z/this.translationSnap)*this.translationSnap),o.parent&&o.position.sub(Oa.setFromMatrixPosition(o.parent.matrixWorld)))),o.position.x=Math.max(this.minX,Math.min(this.maxX,o.position.x)),o.position.y=Math.max(this.minY,Math.min(this.maxY,o.position.y)),o.position.z=Math.max(this.minZ,Math.min(this.maxZ,o.position.z));else if(r==="scale"){if(n.search("XYZ")!==-1){let h=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(h*=-1),Tf.set(h,h,h)}else Oa.copy(this.pointStart),Tf.copy(this.pointEnd),Oa.applyQuaternion(this._worldQuaternionInv),Tf.applyQuaternion(this._worldQuaternionInv),Tf.divide(Oa),n.search("X")===-1&&(Tf.x=1),n.search("Y")===-1&&(Tf.y=1),n.search("Z")===-1&&(Tf.z=1);o.scale.copy(this._scaleStart).multiply(Tf),this.scaleSnap&&(n.search("X")!==-1&&(o.scale.x=Math.round(o.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Y")!==-1&&(o.scale.y=Math.round(o.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),n.search("Z")!==-1&&(o.scale.z=Math.round(o.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(r==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const h=20/this.worldPosition.distanceTo(Oa.setFromMatrixPosition(this.camera.matrixWorld));let f=!1;n==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(Oa.copy(this.rotationAxis).cross(this.eye))*h):n!=="X"&&n!=="Y"&&n!=="Z"||(this.rotationAxis.copy(e6[n]),Oa.copy(e6[n]),l==="local"&&Oa.applyQuaternion(this.worldQuaternion),Oa.cross(this.eye),Oa.length()===0?f=!0:this.rotationAngle=this._offset.dot(Oa.normalize())*h),(n==="E"||f)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),l==="local"&&n!=="E"&&n!=="XYZE"?(o.quaternion.copy(this._quaternionStart),o.quaternion.multiply(Ir.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),o.quaternion.copy(Ir.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),o.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Uv),this.dispatchEvent(s6)}}pointerUp(t){t!==null&&t.button!==0||(this.dragging&&this.axis!==null&&(i6.mode=this.mode,this.dispatchEvent(i6)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(t){return this.object=t,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Uv),this.dispatchEvent(s6),this.pointStart.copy(this.pointEnd))}getRaycaster(){return wp}getMode(){return this.mode}setMode(t){this.mode=t}setTranslationSnap(t){this.translationSnap=t}setRotationSnap(t){this.rotationSnap=t}setScaleSnap(t){this.scaleSnap=t}setSize(t){this.size=t}setSpace(t){this.space=t}}function Bl(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}}function vi(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e))}}function DP(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function Le(e){this.enabled&&this.pointerMove(this._getPointer(e))}function Ii(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function TE(e,t,n){const r=t.intersectObject(e,!0);for(let o=0;o<r.length;o++)if(r[o].object.visible||n)return r[o];return!1}const DE=new D.Euler,Js=new D.Vector3(0,1,0),_p=new D.Vector3(0,0,0),Lm=new D.Matrix4,RE=new D.Quaternion,QE=new D.Quaternion,AA=new D.Vector3,r6=new D.Matrix4,kE=new D.Vector3(1,0,0),Bp=new D.Vector3(0,1,0),Ui=new D.Vector3(0,0,1),Ic=new D.Vector3,ou=new D.Vector3,Pm=new D.Vector3;class o6 extends D.Object3D{constructor(t){super(),this.isTransformControlsRoot=!0,this.controls=t,this.visible=!1}updateMatrixWorld(t){const n=this.controls;n.object!==void 0&&(n.object.updateMatrixWorld(),n.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):n.object.parent.matrixWorld.decompose(n._parentPosition,n._parentQuaternion,n._parentScale),n.object.matrixWorld.decompose(n.worldPosition,n.worldQuaternion,n._worldScale),n._parentQuaternionInv.copy(n._parentQuaternion).invert(),n._worldQuaternionInv.copy(n.worldQuaternion).invert()),n.camera.updateMatrixWorld(),n.camera.matrixWorld.decompose(n.cameraPosition,n.cameraQuaternion,n._cameraScale),n.camera.isOrthographicCamera?n.camera.getWorldDirection(n.eye).negate():n.eye.copy(n.cameraPosition).sub(n.worldPosition).normalize(),super.updateMatrixWorld(t)}dispose(){this.traverse(function(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose()})}}class a6 extends D.Object3D{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const t=new D.MeshBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),n=new D.LineBasicMaterial({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),r=t.clone();r.opacity=.15;const o=n.clone();o.opacity=.5;const l=t.clone();l.color.setHex(16711680);const c=t.clone();c.color.setHex(65280);const h=t.clone();h.color.setHex(255);const f=t.clone();f.color.setHex(16711680),f.opacity=.5;const p=t.clone();p.color.setHex(65280),p.opacity=.5;const m=t.clone();m.color.setHex(255),m.opacity=.5;const I=t.clone();I.opacity=.25;const w=t.clone();w.color.setHex(16776960),w.opacity=.25,t.clone().color.setHex(16776960);const _=t.clone();_.color.setHex(7895160);const b=new D.CylinderGeometry(0,.04,.1,12);b.translate(0,.05,0);const T=new D.BoxGeometry(.08,.08,.08);T.translate(0,.04,0);const S=new D.BufferGeometry;S.setAttribute("position",new D.Float32BufferAttribute([0,0,0,1,0,0],3));const k=new D.CylinderGeometry(.0075,.0075,.5,3);function F(ht,vt){const Ct=new D.TorusGeometry(ht,.0075,3,64,vt*Math.PI*2);return Ct.rotateY(Math.PI/2),Ct.rotateX(Math.PI/2),Ct}k.translate(0,.25,0);const N={X:[[new D.Mesh(b,l),[.5,0,0],[0,0,-Math.PI/2]],[new D.Mesh(b,l),[-.5,0,0],[0,0,Math.PI/2]],[new D.Mesh(k,l),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new D.Mesh(b,c),[0,.5,0]],[new D.Mesh(b,c),[0,-.5,0],[Math.PI,0,0]],[new D.Mesh(k,c)]],Z:[[new D.Mesh(b,h),[0,0,.5],[Math.PI/2,0,0]],[new D.Mesh(b,h),[0,0,-.5],[-Math.PI/2,0,0]],[new D.Mesh(k,h),null,[Math.PI/2,0,0]]],XYZ:[[new D.Mesh(new D.OctahedronGeometry(.1,0),I.clone()),[0,0,0]]],XY:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),m.clone()),[.15,.15,0]]],YZ:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),f.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),p.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},G={X:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,.3,0]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new D.Mesh(new D.OctahedronGeometry(.2,0),r)]],XY:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]]},V={START:[[new D.Mesh(new D.OctahedronGeometry(.01,2),o),null,null,null,"helper"]],END:[[new D.Mesh(new D.OctahedronGeometry(.01,2),o),null,null,null,"helper"]],DELTA:[[new D.Line(function(){const ht=new D.BufferGeometry;return ht.setAttribute("position",new D.Float32BufferAttribute([0,0,0,1,1,1],3)),ht}(),o),null,null,null,"helper"]],X:[[new D.Line(S,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new D.Line(S,o.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new D.Line(S,o.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},W={XYZE:[[new D.Mesh(F(.5,1),_),null,[0,Math.PI/2,0]]],X:[[new D.Mesh(F(.5,.5),l)]],Y:[[new D.Mesh(F(.5,.5),c),null,[0,0,-Math.PI/2]]],Z:[[new D.Mesh(F(.5,.5),h),null,[0,Math.PI/2,0]]],E:[[new D.Mesh(F(.75,1),w),null,[0,Math.PI/2,0]]]},X={AXIS:[[new D.Line(S,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},K={XYZE:[[new D.Mesh(new D.SphereGeometry(.25,10,8),r)]],X:[[new D.Mesh(new D.TorusGeometry(.5,.1,4,24),r),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new D.Mesh(new D.TorusGeometry(.5,.1,4,24),r),[0,0,0],[Math.PI/2,0,0]]],Z:[[new D.Mesh(new D.TorusGeometry(.5,.1,4,24),r),[0,0,0],[0,0,-Math.PI/2]]],E:[[new D.Mesh(new D.TorusGeometry(.75,.1,2,24),r)]]},st={X:[[new D.Mesh(T,l),[.5,0,0],[0,0,-Math.PI/2]],[new D.Mesh(k,l),[0,0,0],[0,0,-Math.PI/2]],[new D.Mesh(T,l),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new D.Mesh(T,c),[0,.5,0]],[new D.Mesh(k,c)],[new D.Mesh(T,c),[0,-.5,0],[0,0,Math.PI]]],Z:[[new D.Mesh(T,h),[0,0,.5],[Math.PI/2,0,0]],[new D.Mesh(k,h),[0,0,0],[Math.PI/2,0,0]],[new D.Mesh(T,h),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),m),[.15,.15,0]]],YZ:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),f),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new D.Mesh(new D.BoxGeometry(.15,.15,.01),p),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new D.Mesh(new D.BoxGeometry(.1,.1,.1),I.clone())]]},et={X:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[.3,0,0],[0,0,-Math.PI/2]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,.3,0]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,-.3,0],[0,0,Math.PI]]],Z:[[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,0,.3],[Math.PI/2,0,0]],[new D.Mesh(new D.CylinderGeometry(.2,0,.6,4),r),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[.15,.15,0]]],YZ:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new D.Mesh(new D.BoxGeometry(.2,.2,.01),r),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new D.Mesh(new D.BoxGeometry(.2,.2,.2),r),[0,0,0]]]},it={X:[[new D.Line(S,o.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new D.Line(S,o.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new D.Line(S,o.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function ot(ht){const vt=new D.Object3D;for(const Ct in ht)for(let wt=ht[Ct].length;wt--;){const mt=ht[Ct][wt][0].clone(),Rt=ht[Ct][wt][1],Mt=ht[Ct][wt][2],Bt=ht[Ct][wt][3],at=ht[Ct][wt][4];mt.name=Ct,mt.tag=at,Rt&&mt.position.set(Rt[0],Rt[1],Rt[2]),Mt&&mt.rotation.set(Mt[0],Mt[1],Mt[2]),Bt&&mt.scale.set(Bt[0],Bt[1],Bt[2]),mt.updateMatrix();const kt=mt.geometry.clone();kt.applyMatrix4(mt.matrix),mt.geometry=kt,mt.renderOrder=1/0,mt.position.set(0,0,0),mt.rotation.set(0,0,0),mt.scale.set(1,1,1),vt.add(mt)}return vt}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=ot(N)),this.add(this.gizmo.rotate=ot(W)),this.add(this.gizmo.scale=ot(st)),this.add(this.picker.translate=ot(G)),this.add(this.picker.rotate=ot(K)),this.add(this.picker.scale=ot(et)),this.add(this.helper.translate=ot(V)),this.add(this.helper.rotate=ot(X)),this.add(this.helper.scale=ot(it)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(t){const n=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:QE;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let r=[];r=r.concat(this.picker[this.mode].children),r=r.concat(this.gizmo[this.mode].children),r=r.concat(this.helper[this.mode].children);for(let o=0;o<r.length;o++){const l=r[o];let c;l.visible=!0,l.rotation.set(0,0,0),l.position.copy(this.worldPosition),c=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),l.scale.set(1,1,1).multiplyScalar(c*this.size/4),l.tag!=="helper"?(l.quaternion.copy(n),this.mode==="translate"||this.mode==="scale"?(l.name==="X"&&Math.abs(Js.copy(kE).applyQuaternion(n).dot(this.eye))>.99&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1),l.name==="Y"&&Math.abs(Js.copy(Bp).applyQuaternion(n).dot(this.eye))>.99&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1),l.name==="Z"&&Math.abs(Js.copy(Ui).applyQuaternion(n).dot(this.eye))>.99&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1),l.name==="XY"&&Math.abs(Js.copy(Ui).applyQuaternion(n).dot(this.eye))<.2&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1),l.name==="YZ"&&Math.abs(Js.copy(kE).applyQuaternion(n).dot(this.eye))<.2&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1),l.name==="XZ"&&Math.abs(Js.copy(Bp).applyQuaternion(n).dot(this.eye))<.2&&(l.scale.set(1e-10,1e-10,1e-10),l.visible=!1)):this.mode==="rotate"&&(RE.copy(n),Js.copy(this.eye).applyQuaternion(Ir.copy(n).invert()),l.name.search("E")!==-1&&l.quaternion.setFromRotationMatrix(Lm.lookAt(this.eye,_p,Bp)),l.name==="X"&&(Ir.setFromAxisAngle(kE,Math.atan2(-Js.y,Js.z)),Ir.multiplyQuaternions(RE,Ir),l.quaternion.copy(Ir)),l.name==="Y"&&(Ir.setFromAxisAngle(Bp,Math.atan2(Js.x,Js.z)),Ir.multiplyQuaternions(RE,Ir),l.quaternion.copy(Ir)),l.name==="Z"&&(Ir.setFromAxisAngle(Ui,Math.atan2(Js.y,Js.x)),Ir.multiplyQuaternions(RE,Ir),l.quaternion.copy(Ir))),l.visible=l.visible&&(l.name.indexOf("X")===-1||this.showX),l.visible=l.visible&&(l.name.indexOf("Y")===-1||this.showY),l.visible=l.visible&&(l.name.indexOf("Z")===-1||this.showZ),l.visible=l.visible&&(l.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),l.material._color=l.material._color||l.material.color.clone(),l.material._opacity=l.material._opacity||l.material.opacity,l.material.color.copy(l.material._color),l.material.opacity=l.material._opacity,this.enabled&&this.axis&&(l.name===this.axis||this.axis.split("").some(function(h){return l.name===h}))&&(l.material.color.setHex(16776960),l.material.opacity=1)):(l.visible=!1,l.name==="AXIS"?(l.visible=!!this.axis,this.axis==="X"&&(Ir.setFromEuler(DE.set(0,0,0)),l.quaternion.copy(n).multiply(Ir),Math.abs(Js.copy(kE).applyQuaternion(n).dot(this.eye))>.9&&(l.visible=!1)),this.axis==="Y"&&(Ir.setFromEuler(DE.set(0,0,Math.PI/2)),l.quaternion.copy(n).multiply(Ir),Math.abs(Js.copy(Bp).applyQuaternion(n).dot(this.eye))>.9&&(l.visible=!1)),this.axis==="Z"&&(Ir.setFromEuler(DE.set(0,Math.PI/2,0)),l.quaternion.copy(n).multiply(Ir),Math.abs(Js.copy(Ui).applyQuaternion(n).dot(this.eye))>.9&&(l.visible=!1)),this.axis==="XYZE"&&(Ir.setFromEuler(DE.set(0,Math.PI/2,0)),Js.copy(this.rotationAxis),l.quaternion.setFromRotationMatrix(Lm.lookAt(_p,Js,Bp)),l.quaternion.multiply(Ir),l.visible=this.dragging),this.axis==="E"&&(l.visible=!1)):l.name==="START"?(l.position.copy(this.worldPositionStart),l.visible=this.dragging):l.name==="END"?(l.position.copy(this.worldPosition),l.visible=this.dragging):l.name==="DELTA"?(l.position.copy(this.worldPositionStart),l.quaternion.copy(this.worldQuaternionStart),Oa.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),Oa.applyQuaternion(this.worldQuaternionStart.clone().invert()),l.scale.copy(Oa),l.visible=this.dragging):(l.quaternion.copy(n),this.dragging?l.position.copy(this.worldPositionStart):l.position.copy(this.worldPosition),this.axis&&(l.visible=this.axis.search(l.name)!==-1)))}super.updateMatrixWorld(t)}}class l6 extends D.Mesh{constructor(){super(new D.PlaneGeometry(1e5,1e5,2,2),new D.MeshBasicMaterial({visible:!1,wireframe:!0,side:D.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(t){let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),Ic.copy(kE).applyQuaternion(n==="local"?this.worldQuaternion:QE),ou.copy(Bp).applyQuaternion(n==="local"?this.worldQuaternion:QE),Pm.copy(Ui).applyQuaternion(n==="local"?this.worldQuaternion:QE),Js.copy(ou),this.mode){case"translate":case"scale":switch(this.axis){case"X":Js.copy(this.eye).cross(Ic),AA.copy(Ic).cross(Js);break;case"Y":Js.copy(this.eye).cross(ou),AA.copy(ou).cross(Js);break;case"Z":Js.copy(this.eye).cross(Pm),AA.copy(Pm).cross(Js);break;case"XY":AA.copy(Pm);break;case"YZ":AA.copy(Ic);break;case"XZ":Js.copy(Pm),AA.copy(ou);break;case"XYZ":case"E":AA.set(0,0,0)}break;default:AA.set(0,0,0)}AA.length()===0?this.quaternion.copy(this.cameraQuaternion):(r6.lookAt(Oa.set(0,0,0),AA,Js),this.quaternion.setFromRotationMatrix(r6)),super.updateMatrixWorld(t)}}class Nv extends Ip{constructor(t){super(t),this.raycaster=new D.Raycaster,this.mouse=new D.Vector2,this.onClick=null,this.onHover=null,this.meshes=new Set,this.hoveredMesh=null,this.transformControls=null,this.gizmo=null,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseClick=this.onMouseClick.bind(this),this.core.renderer.domElement.addEventListener("click",this.onMouseClick,!1),this.core.renderer.domElement.addEventListener("mousemove",this.onMouseMove,!1),this.transformControls=new TP(this.core.camera,this.core.renderer.domElement),this.transformControls.addEventListener("dragging-changed",n=>{this.core.control.enabled=!n.value}),this.gizmo=this.transformControls.getHelper()}on(t,n,r){this.meshes.add(t),t.event||(t.event=new D.EventDispatcher),t.event.addEventListener(n,o=>r?r(o):this.onClick?this.onClick(o):"")}off(t,n="click"){this.meshes.delete(t),delete t.event._listeners[n]}onMouseMove(t){if(!this.meshes.size)return;const n=this.core.renderer.domElement.getBoundingClientRect();this.mouse.x=(t.clientX-n.left)/n.width*2-1,this.mouse.y=-(t.clientY-n.top)/n.height*2+1,this.raycaster.setFromCamera(this.mouse,this.core.camera);const r=this.raycaster.intersectObjects(Array.from(this.meshes));if(r.length>0){const o=hs(r[0].object);r[0].object=o,this.hoveredMesh!==o&&(this.hoveredMesh&&this.hoveredMesh.event.dispatchEvent({type:"hover",intersect:null}),o.event.dispatchEvent({type:"hover",intersect:r[0]}),this.hoveredMesh=o)}else this.hoveredMesh&&(this.hoveredMesh.event.dispatchEvent({type:"hover",intersect:null}),this.hoveredMesh=null)}onMouseClick(){this.raycaster.setFromCamera(this.mouse,this.core.camera);const t=this.raycaster.intersectObjects(Array.from(this.meshes));if(t.length>0){const n=hs(t[0].object);t[0].object=n,n.event.dispatchEvent({type:"click",intersect:t[0]})}}drager(t,n={scale:!0,rotate:!0,translate:!0}){this.transformControls.attach(t),this.core.scene.add(this.gizmo),this.onKeyDown(n)}onKeyDown(t){if(!this.transformControls)return;const n=(o=["x","y","z"])=>{this.transformControls.showX=o.includes("x"),this.transformControls.showY=o.includes("y"),this.transformControls.showZ=o.includes("z")},r={e:{mode:"scale",axes:t.scale},r:{mode:"rotate",axes:t.rotate},w:{mode:"translate",axes:t.translate}};this.keydownHandler=o=>{n();const l=r[o.key];l&&l.axes!==!1&&(this.transformControls.setMode(l.mode),Array.isArray(l.axes)&&n(l.axes))},window.addEventListener("keydown",this.keydownHandler)}undrager(){this.core.scene.remove(this.gizmo),this.keydownHandler&&window.removeEventListener("keydown",this.keydownHandler)}}Nv.PLUGIN_NAME="event";const vp=new D.Box3,LE=new D.Vector3;class A6 extends D.InstancedBufferGeometry{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new D.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new D.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(t){const n=this.attributes.instanceStart,r=this.attributes.instanceEnd;return n!==void 0&&(n.applyMatrix4(t),r.applyMatrix4(t),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(t){let n;t instanceof Float32Array?n=t:Array.isArray(t)&&(n=new Float32Array(t));const r=new D.InstancedInterleavedBuffer(n,6,1);return this.setAttribute("instanceStart",new D.InterleavedBufferAttribute(r,3,0)),this.setAttribute("instanceEnd",new D.InterleavedBufferAttribute(r,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let n;t instanceof Float32Array?n=t:Array.isArray(t)&&(n=new Float32Array(t));const r=new D.InstancedInterleavedBuffer(n,6,1);return this.setAttribute("instanceColorStart",new D.InterleavedBufferAttribute(r,3,0)),this.setAttribute("instanceColorEnd",new D.InterleavedBufferAttribute(r,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new D.WireframeGeometry(t.geometry)),this}fromLineSegments(t){const n=t.geometry;return this.setPositions(n.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new D.Box3);const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;t!==void 0&&n!==void 0&&(this.boundingBox.setFromBufferAttribute(t),vp.setFromBufferAttribute(n),this.boundingBox.union(vp))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new D.Sphere),this.boundingBox===null&&this.computeBoundingBox();const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(t!==void 0&&n!==void 0){const r=this.boundingSphere.center;this.boundingBox.getCenter(r);let o=0;for(let l=0,c=t.count;l<c;l++)LE.fromBufferAttribute(t,l),o=Math.max(o,r.distanceToSquared(LE)),LE.fromBufferAttribute(n,l),o=Math.max(o,r.distanceToSquared(LE));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}class Df extends A6{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(t){const n=t.length-3,r=new Float32Array(2*n);for(let o=0;o<n;o+=3)r[2*o]=t[o],r[2*o+1]=t[o+1],r[2*o+2]=t[o+2],r[2*o+3]=t[o+3],r[2*o+4]=t[o+4],r[2*o+5]=t[o+5];return super.setPositions(r),this}setColors(t){const n=t.length-3,r=new Float32Array(2*n);for(let o=0;o<n;o+=3)r[2*o]=t[o],r[2*o+1]=t[o+1],r[2*o+2]=t[o+2],r[2*o+3]=t[o+3],r[2*o+4]=t[o+4],r[2*o+5]=t[o+5];return super.setColors(r),this}fromLine(t){const n=t.geometry;return this.setPositions(n.attributes.position.array),this}}const l3=9,c6=15,Dr=16,qi=22,Gv=37,wc=43,PE=76,h6=83,A3=97,u6=100,vl=103,Dt=109,c3=165,Ov=166,ba=1000066e3;let Cd=class{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}},bl=class{constructor(e,t,n,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,n),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){t===void 0&&(t=0);const n=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}};const oa=[171,75,84,88,32,50,48,187,13,10,26,10];function bp(e){return new TextDecoder().decode(e)}class Fm extends D.ExtrudeGeometry{constructor(t,n={}){const r=n.font;if(r===void 0)super();else{const o=r.generateShapes(t,n.size);n.depth===void 0&&n.height!==void 0&&console.warn("THREE.TextGeometry: .height is now depreciated. Please use .depth instead"),n.depth=n.depth!==void 0?n.depth:n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(o,n)}this.type="TextGeometry"}}D.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new D.Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},D.ShaderLib.line={uniforms:D.UniformsUtils.merge([D.UniformsLib.common,D.UniformsLib.fog,D.UniformsLib.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class Rf extends D.ShaderMaterial{static get type(){return"LineMaterial"}constructor(t){super({uniforms:D.UniformsUtils.clone(D.ShaderLib.line.uniforms),vertexShader:D.ShaderLib.line.vertexShader,fragmentShader:D.ShaderLib.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(t)}get color(){return this.uniforms.diffuse.value}set color(t){this.uniforms.diffuse.value=t}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(t){this.uniforms.linewidth&&(this.uniforms.linewidth.value=t)}get dashed(){return"USE_DASH"in this.defines}set dashed(t){t===!0!==this.dashed&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(t){this.uniforms.dashScale.value=t}get dashSize(){return this.uniforms.dashSize.value}set dashSize(t){this.uniforms.dashSize.value=t}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(t){this.uniforms.dashOffset.value=t}get gapSize(){return this.uniforms.gapSize.value}set gapSize(t){this.uniforms.gapSize.value=t}get opacity(){return this.uniforms.opacity.value}set opacity(t){this.uniforms&&(this.uniforms.opacity.value=t)}get resolution(){return this.uniforms.resolution.value}set resolution(t){this.uniforms.resolution.value.copy(t)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(t){this.defines&&(t===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),t===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const au=new D.Vector4,Ed=new D.Vector3,Qf=new D.Vector3,eo=new D.Vector4,fo=new D.Vector4,NA=new D.Vector4,Id=new D.Vector3,FE=new D.Matrix4,Ma=new D.Line3,Um=new D.Vector3,Nm=new D.Box3,Lo=new D.Sphere,aa=new D.Vector4;let _c,lu;function wd(e,t,n){return aa.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),aa.multiplyScalar(1/aa.w),aa.x=lu/n.width,aa.y=lu/n.height,aa.applyMatrix4(e.projectionMatrixInverse),aa.multiplyScalar(1/aa.w),Math.abs(Math.max(aa.x,aa.y))}class Vv extends D.Mesh{constructor(t=new A6,n=new Rf({color:16777215*Math.random()})){super(t,n),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,n=t.attributes.instanceStart,r=t.attributes.instanceEnd,o=new Float32Array(2*n.count);for(let c=0,h=0,f=n.count;c<f;c++,h+=2)Ed.fromBufferAttribute(n,c),Qf.fromBufferAttribute(r,c),o[h]=h===0?0:o[h-1],o[h+1]=o[h]+Ed.distanceTo(Qf);const l=new D.InstancedInterleavedBuffer(o,2,1);return t.setAttribute("instanceDistanceStart",new D.InterleavedBufferAttribute(l,1,0)),t.setAttribute("instanceDistanceEnd",new D.InterleavedBufferAttribute(l,1,1)),this}raycast(t,n){const r=this.material.worldUnits,o=t.camera;o!==null||r||console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const l=t.params.Line2!==void 0&&t.params.Line2.threshold||0;_c=t.ray;const c=this.matrixWorld,h=this.geometry,f=this.material;let p,m;lu=f.linewidth+l,h.boundingSphere===null&&h.computeBoundingSphere(),Lo.copy(h.boundingSphere).applyMatrix4(c),r?p=.5*lu:p=wd(o,Math.max(o.near,Lo.distanceToPoint(_c.origin)),f.resolution),Lo.radius+=p,_c.intersectsSphere(Lo)!==!1&&(h.boundingBox===null&&h.computeBoundingBox(),Nm.copy(h.boundingBox).applyMatrix4(c),r?m=.5*lu:m=wd(o,Math.max(o.near,Nm.distanceToPoint(_c.origin)),f.resolution),Nm.expandByScalar(m),_c.intersectsBox(Nm)!==!1&&(r?function(I,w){const _=I.matrixWorld,b=I.geometry,T=b.attributes.instanceStart,S=b.attributes.instanceEnd;for(let k=0,F=Math.min(b.instanceCount,T.count);k<F;k++){Ma.start.fromBufferAttribute(T,k),Ma.end.fromBufferAttribute(S,k),Ma.applyMatrix4(_);const N=new D.Vector3,G=new D.Vector3;_c.distanceSqToSegment(Ma.start,Ma.end,G,N),G.distanceTo(N)<.5*lu&&w.push({point:G,pointOnLine:N,distance:_c.origin.distanceTo(G),object:I,face:null,faceIndex:k,uv:null,uv1:null})}}(this,n):function(I,w,_){const b=w.projectionMatrix,T=I.material.resolution,S=I.matrixWorld,k=I.geometry,F=k.attributes.instanceStart,N=k.attributes.instanceEnd,G=Math.min(k.instanceCount,F.count),V=-w.near;_c.at(1,NA),NA.w=1,NA.applyMatrix4(w.matrixWorldInverse),NA.applyMatrix4(b),NA.multiplyScalar(1/NA.w),NA.x*=T.x/2,NA.y*=T.y/2,NA.z=0,Id.copy(NA),FE.multiplyMatrices(w.matrixWorldInverse,S);for(let W=0,X=G;W<X;W++){if(eo.fromBufferAttribute(F,W),fo.fromBufferAttribute(N,W),eo.w=1,fo.w=1,eo.applyMatrix4(FE),fo.applyMatrix4(FE),eo.z>V&&fo.z>V)continue;if(eo.z>V){const ot=eo.z-fo.z,ht=(eo.z-V)/ot;eo.lerp(fo,ht)}else if(fo.z>V){const ot=fo.z-eo.z,ht=(fo.z-V)/ot;fo.lerp(eo,ht)}eo.applyMatrix4(b),fo.applyMatrix4(b),eo.multiplyScalar(1/eo.w),fo.multiplyScalar(1/fo.w),eo.x*=T.x/2,eo.y*=T.y/2,fo.x*=T.x/2,fo.y*=T.y/2,Ma.start.copy(eo),Ma.start.z=0,Ma.end.copy(fo),Ma.end.z=0;const K=Ma.closestPointToPointParameter(Id,!0);Ma.at(K,Um);const st=D.MathUtils.lerp(eo.z,fo.z,K),et=st>=-1&&st<=1,it=Id.distanceTo(Um)<.5*lu;if(et&&it){Ma.start.fromBufferAttribute(F,W),Ma.end.fromBufferAttribute(N,W),Ma.start.applyMatrix4(S),Ma.end.applyMatrix4(S);const ot=new D.Vector3,ht=new D.Vector3;_c.distanceSqToSegment(Ma.start,Ma.end,ht,ot),_.push({point:ht,pointOnLine:ot,distance:_c.origin.distanceTo(ht),object:I,face:null,faceIndex:W,uv:null,uv1:null})}}}(this,o,n)))}onBeforeRender(t){const n=this.material.uniforms;n&&n.resolution&&(t.getViewport(au),this.material.uniforms.resolution.value.set(au.z,au.w))}}class h3 extends Vv{constructor(t=new Df,n=new Rf({color:16777215*Math.random()})){super(t,n),this.isLine2=!0,this.type="Line2"}}const UE=new WeakMap;class Gm extends D.Loader{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,r,o){const l=new D.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,c=>{this.parse(c,n,o)},r,o)}parse(t,n,r=()=>{}){this.decodeDracoFile(t,n,null,null,D.SRGBColorSpace,r).catch(r)}decodeDracoFile(t,n,r,o,l=D.LinearSRGBColorSpace,c=()=>{}){const h={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:l};return this.decodeGeometry(t,h).then(n).catch(c)}decodeGeometry(t,n){const r=JSON.stringify(n);if(UE.has(t)){const f=UE.get(t);if(f.key===r)return f.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const l=this.workerNextTaskID++,c=t.byteLength,h=this._getWorker(l,c).then(f=>(o=f,new Promise((p,m)=>{o._callbacks[l]={resolve:p,reject:m},o.postMessage({type:"decode",id:l,taskConfig:n,buffer:t},[t])}))).then(f=>this._createGeometry(f.geometry));return h.catch(()=>!0).then(()=>{o&&l&&this._releaseTask(o,l)}),UE.set(t,{key:r,promise:h}),h}_createGeometry(t){const n=new D.BufferGeometry;t.index&&n.setIndex(new D.BufferAttribute(t.index.array,1));for(let r=0;r<t.attributes.length;r++){const o=t.attributes[r],l=o.name,c=o.array,h=o.itemSize,f=new D.BufferAttribute(c,h);l==="color"&&(this._assignVertexColorSpace(f,o.vertexColorSpace),f.normalized=!(c instanceof Float32Array)),n.setAttribute(l,f)}return n}_assignVertexColorSpace(t,n){if(n!==D.SRGBColorSpace)return;const r=new D.Color;for(let o=0,l=t.count;o<l;o++)r.fromBufferAttribute(t,o),D.ColorManagement.toWorkingColorSpace(r,D.SRGBColorSpace),t.setXYZ(o,r.r,r.g,r.b)}_loadLibrary(t,n){const r=new D.FileLoader(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((o,l)=>{r.load(t,o,void 0,l)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const o=r[0];t||(this.decoderConfig.wasmBinary=r[1]);const l=ui.toString(),c=["/* draco decoder */",o,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(l){const c=l.data;switch(c.type){case"decode":o._callbacks[c.id].resolve(c);break;case"error":o._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,l){return o._taskLoad>l._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[t]=n,r._taskLoad+=n,r})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function ui(){let e,t;function n(r,o,l,c,h,f){const p=f.num_components(),m=l.num_points()*p,I=m*h.BYTES_PER_ELEMENT,w=function(T,S){switch(S){case Float32Array:return T.DT_FLOAT32;case Int8Array:return T.DT_INT8;case Int16Array:return T.DT_INT16;case Int32Array:return T.DT_INT32;case Uint8Array:return T.DT_UINT8;case Uint16Array:return T.DT_UINT16;case Uint32Array:return T.DT_UINT32}}(r,h),_=r._malloc(I);o.GetAttributeDataArrayForAllPoints(l,f,w,I,_);const b=new h(r.HEAPF32.buffer,_,m).slice();return r._free(_),{name:c,array:b,itemSize:p}}onmessage=function(r){const o=r.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise(function(h){e.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(e)});break;case"decode":const l=o.buffer,c=o.taskConfig;t.then(h=>{const f=h.draco,p=new f.Decoder;try{const m=function(w,_,b,T){const S=T.attributeIDs,k=T.attributeTypes;let F,N;const G=_.GetEncodedGeometryType(b);if(G===w.TRIANGULAR_MESH)F=new w.Mesh,N=_.DecodeArrayToMesh(b,b.byteLength,F);else{if(G!==w.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");F=new w.PointCloud,N=_.DecodeArrayToPointCloud(b,b.byteLength,F)}if(!N.ok()||F.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+N.error_msg());const V={index:null,attributes:[]};for(const W in S){const X=self[k[W]];let K,st;if(T.useUniqueIDs)st=S[W],K=_.GetAttributeByUniqueId(F,st);else{if(st=_.GetAttributeId(F,w[S[W]]),st===-1)continue;K=_.GetAttribute(F,st)}const et=n(w,_,F,W,X,K);W==="color"&&(et.vertexColorSpace=T.vertexColorSpace),V.attributes.push(et)}return G===w.TRIANGULAR_MESH&&(V.index=function(W,X,K){const st=K.num_faces(),et=3*st,it=4*et,ot=W._malloc(it);X.GetTrianglesUInt32Array(K,it,ot);const ht=new Uint32Array(W.HEAPF32.buffer,ot,et).slice();return W._free(ot),{array:ht,itemSize:1}}(w,_,F)),w.destroy(F),V}(f,p,new Int8Array(l),c),I=m.attributes.map(w=>w.array.buffer);m.index&&I.push(m.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:m},I)}catch(m){console.error(m),self.postMessage({type:"error",id:o.id,error:m.message})}finally{f.destroy(p)}})}}}class Om extends D.Loader{constructor(t){super(t)}load(t,n,r,o){const l=this,c=new D.FileLoader(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(h){const f=l.parse(JSON.parse(h));n&&n(f)},r,o)}parse(t){return new ph(t)}}class ph{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,n=100){const r=[],o=function(l,c,h){const f=Array.from(l),p=c/h.resolution,m=(h.boundingBox.yMax-h.boundingBox.yMin+h.underlineThickness)*p,I=[];let w=0,_=0;for(let b=0;b<f.length;b++){const T=f[b];if(T===`
`)w=0,_-=m;else{const S=RP(T,p,w,_,h);w+=S.offsetX,I.push(S.path)}}return I}(t,n,this.data);for(let l=0,c=o.length;l<c;l++)r.push(...o[l].toShapes());return r}}function RP(e,t,n,r,o){const l=o.glyphs[e]||o.glyphs["?"];if(!l)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+o.familyName+".");const c=new D.ShapePath;let h,f,p,m,I,w,_,b;if(l.o){const T=l._cachedOutline||(l._cachedOutline=l.o.split(" "));for(let S=0,k=T.length;S<k;)switch(T[S++]){case"m":h=T[S++]*t+n,f=T[S++]*t+r,c.moveTo(h,f);break;case"l":h=T[S++]*t+n,f=T[S++]*t+r,c.lineTo(h,f);break;case"q":p=T[S++]*t+n,m=T[S++]*t+r,I=T[S++]*t+n,w=T[S++]*t+r,c.quadraticCurveTo(I,w,p,m);break;case"b":p=T[S++]*t+n,m=T[S++]*t+r,I=T[S++]*t+n,w=T[S++]*t+r,_=T[S++]*t+n,b=T[S++]*t+r,c.bezierCurveTo(I,w,_,b,p,m)}}return{offsetX:l.ha*t,path:c}}class QP{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=n}}_getIdleWorker(){for(let t=0;t<this.pool;t++)if(!(this.workerStatus&1<<t))return t;return-1}_onMessage(t,n){const r=this.workersResolve[t];if(r&&r(n),this.queue.length){const{resolve:o,msg:l,transfer:c}=this.queue.shift();this.workersResolve[t]=o,this.workers[t].postMessage(l,c)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,n){return new Promise(r=>{const o=this._getIdleWorker();o!==-1?(this._initWorker(o),this.workerStatus|=1<<o,this.workersResolve[o]=r,this.workers[o].postMessage(t,n)):this.queue.push({resolve:r,msg:t,transfer:n})})}dispose(){this.workers.forEach(t=>t.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}let Au,Bc,Ml;const u3={env:{emscripten_notify_memory_growth:function(e){Ml=new Uint8Array(Bc.exports.memory.buffer)}}};let d6=class{init(){return Au||(Au=typeof fetch<"u"?fetch("data:application/wasm;base64,"+cA).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,u3)).then(this._init):WebAssembly.instantiate(Buffer.from(cA,"base64"),u3).then(this._init),Au)}_init(e){Bc=e.instance,u3.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Bc)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=Bc.exports.malloc(n);Ml.set(e,r),t=t||Number(Bc.exports.ZSTD_findDecompressedSize(r,n));const o=Bc.exports.malloc(t),l=Bc.exports.ZSTD_decompress(o,t,r,n),c=Ml.slice(o,o+l);return Bc.exports.free(r),Bc.exports.free(o),c}};const cA="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",Vm=new WeakMap;let Hv,d3=0;class Sa extends D.Loader{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new QP,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}async detectSupportAsync(t){return this.workerConfig={astcSupported:await t.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await t.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await t.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await t.hasFeatureAsync("texture-compression-bc"),bptcSupported:await t.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await t.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(t){return t.isWebGPURenderer===!0?this.workerConfig={astcSupported:t.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:t.hasFeature("texture-compression-etc1"),etc2Supported:t.hasFeature("texture-compression-etc2"),dxtSupported:t.hasFeature("texture-compression-bc"),bptcSupported:t.hasFeature("texture-compression-bptc"),pvrtcSupported:t.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:t.extensions.has("WEBGL_compressed_texture_astc")&&t.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const t=new D.FileLoader(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const n=t.loadAsync("basis_transcoder.js"),r=new D.FileLoader(this.manager);r.setPath(this.transcoderPath),r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);const o=r.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([n,o]).then(([l,c])=>{const h=Sa.BasisWorker.toString(),f=["/* constants */","let _EngineFormat = "+JSON.stringify(Sa.EngineFormat),"let _EngineType = "+JSON.stringify(Sa.EngineType),"let _TranscoderFormat = "+JSON.stringify(Sa.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Sa.BasisFormat),"/* basis_transcoder.js */",l,"/* worker */",h.substring(h.indexOf("{")+1,h.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([f])),this.transcoderBinary=c,this.workerPool.setWorkerCreator(()=>{const p=new Worker(this.workerSourceURL),m=this.transcoderBinary.slice(0);return p.postMessage({type:"init",config:this.workerConfig,transcoderBinary:m},[m]),p})}),d3>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),d3++}return this.transcoderPending}load(t,n,r,o){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const l=new D.FileLoader(this.manager);l.setResponseType("arraybuffer"),l.setWithCredentials(this.withCredentials),l.load(t,c=>{this.parse(c,n,o)},r,o)}parse(t,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(Vm.has(t))return Vm.get(t).promise.then(n).catch(r);this._createTexture(t).then(o=>n?n(o):null).catch(r)}_createTextureFrom(t,n){const{type:r,error:o,data:{faces:l,width:c,height:h,format:f,type:p,dfdFlags:m}}=t;if(r==="error")return Promise.reject(o);let I;if(n.faceCount===6)I=new D.CompressedCubeTexture(l,f,p);else{const w=l[0].mipmaps;I=n.layerCount>1?new D.CompressedArrayTexture(w,c,h,n.layerCount,f,p):new D.CompressedTexture(w,c,h,f,p)}return I.minFilter=l[0].mipmaps.length===1?D.LinearFilter:D.LinearMipmapLinearFilter,I.magFilter=D.LinearFilter,I.generateMipmaps=!1,I.needsUpdate=!0,I.colorSpace=f6(n),I.premultiplyAlpha=!!(1&m),I}async _createTexture(t,n={}){const r=function(h){const f=new Uint8Array(h.buffer,h.byteOffset,oa.length);if(f[0]!==oa[0]||f[1]!==oa[1]||f[2]!==oa[2]||f[3]!==oa[3]||f[4]!==oa[4]||f[5]!==oa[5]||f[6]!==oa[6]||f[7]!==oa[7]||f[8]!==oa[8]||f[9]!==oa[9]||f[10]!==oa[10]||f[11]!==oa[11])throw new Error("Missing KTX 2.0 identifier.");const p=new Cd,m=17*Uint32Array.BYTES_PER_ELEMENT,I=new bl(h,oa.length,m,!0);p.vkFormat=I._nextUint32(),p.typeSize=I._nextUint32(),p.pixelWidth=I._nextUint32(),p.pixelHeight=I._nextUint32(),p.pixelDepth=I._nextUint32(),p.layerCount=I._nextUint32(),p.faceCount=I._nextUint32();const w=I._nextUint32();p.supercompressionScheme=I._nextUint32();const _=I._nextUint32(),b=I._nextUint32(),T=I._nextUint32(),S=I._nextUint32(),k=I._nextUint64(),F=I._nextUint64(),N=new bl(h,oa.length+m,3*w*8,!0);for(let zt=0;zt<w;zt++)p.levels.push({levelData:new Uint8Array(h.buffer,h.byteOffset+N._nextUint64(),N._nextUint64()),uncompressedByteLength:N._nextUint64()});const G=new bl(h,_,b,!0),V={vendorId:G._skip(4)._nextUint16(),descriptorType:G._nextUint16(),versionNumber:G._nextUint16(),descriptorBlockSize:G._nextUint16(),colorModel:G._nextUint8(),colorPrimaries:G._nextUint8(),transferFunction:G._nextUint8(),flags:G._nextUint8(),texelBlockDimension:[G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8()],bytesPlane:[G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8()],samples:[]},W=(V.descriptorBlockSize/4-6)/4;for(let zt=0;zt<W;zt++){const Ft={bitOffset:G._nextUint16(),bitLength:G._nextUint8(),channelType:G._nextUint8(),samplePosition:[G._nextUint8(),G._nextUint8(),G._nextUint8(),G._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&Ft.channelType?(Ft.sampleLower=G._nextInt32(),Ft.sampleUpper=G._nextInt32()):(Ft.sampleLower=G._nextUint32(),Ft.sampleUpper=G._nextUint32()),V.samples[zt]=Ft}p.dataFormatDescriptor.length=0,p.dataFormatDescriptor.push(V);const X=new bl(h,T,S,!0);for(;X._offset<S;){const zt=X._nextUint32(),Ft=X._scan(zt),qt=bp(Ft);if(p.keyValue[qt]=X._nextUint8Array(zt-Ft.byteLength-1),qt.match(/^ktx/i)){const Gt=bp(p.keyValue[qt]);p.keyValue[qt]=Gt.substring(0,Gt.lastIndexOf("\0"))}X._skip(zt%4?4-zt%4:0)}if(F<=0)return p;const K=new bl(h,k,F,!0),st=K._nextUint16(),et=K._nextUint16(),it=K._nextUint32(),ot=K._nextUint32(),ht=K._nextUint32(),vt=K._nextUint32(),Ct=[];for(let zt=0;zt<w;zt++)Ct.push({imageFlags:K._nextUint32(),rgbSliceByteOffset:K._nextUint32(),rgbSliceByteLength:K._nextUint32(),alphaSliceByteOffset:K._nextUint32(),alphaSliceByteLength:K._nextUint32()});const wt=k+K._offset,mt=wt+it,Rt=mt+ot,Mt=Rt+ht,Bt=new Uint8Array(h.buffer,h.byteOffset+wt,it),at=new Uint8Array(h.buffer,h.byteOffset+mt,ot),kt=new Uint8Array(h.buffer,h.byteOffset+Rt,ht),_t=new Uint8Array(h.buffer,h.byteOffset+Mt,vt);return p.globalData={endpointCount:st,selectorCount:et,imageDescs:Ct,endpointsData:Bt,selectorsData:at,tablesData:kt,extendedData:_t},p}(new Uint8Array(t)),o=r.vkFormat===ba&&r.dataFormatDescriptor[0].colorModel===167;if(!(r.vkFormat===0||o&&!this.workerConfig.astcHDRSupported))return async function(h){const{vkFormat:f}=h;if(Hm[f]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let p;h.supercompressionScheme===2&&(Hv||(Hv=new Promise(async w=>{const _=new d6;await _.init(),w(_)})),p=await Hv);const m=[];for(let w=0;w<h.levels.length;w++){const _=Math.max(1,h.pixelWidth>>w),b=Math.max(1,h.pixelHeight>>w),T=h.pixelDepth?Math.max(1,h.pixelDepth>>w):0,S=h.levels[w];let k,F;if(h.supercompressionScheme===0)k=S.levelData;else{if(h.supercompressionScheme!==2)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");k=p.decode(S.levelData,S.uncompressedByteLength)}F=Mp[f]===D.FloatType?new Float32Array(k.buffer,k.byteOffset,k.byteLength/Float32Array.BYTES_PER_ELEMENT):Mp[f]===D.HalfFloatType?new Uint16Array(k.buffer,k.byteOffset,k.byteLength/Uint16Array.BYTES_PER_ELEMENT):k,m.push({data:F,width:_,height:b,depth:T})}let I;if(_d.has(Hm[f]))I=h.pixelDepth===0?new D.DataTexture(m[0].data,h.pixelWidth,h.pixelHeight):new D.Data3DTexture(m[0].data,h.pixelWidth,h.pixelHeight,h.pixelDepth);else{if(h.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");I=new D.CompressedTexture(m,h.pixelWidth,h.pixelHeight)}return I.mipmaps=m,I.type=Mp[f],I.format=Hm[f],I.colorSpace=f6(h),I.needsUpdate=!0,Promise.resolve(I)}(r);const l=n,c=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:l},[t])).then(h=>this._createTextureFrom(h.data,r));return Vm.set(t,{promise:c}),c}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),d3--,this}}Sa.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2},Sa.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25},Sa.EngineFormat={RGBAFormat:D.RGBAFormat,RGBA_ASTC_4x4_Format:D.RGBA_ASTC_4x4_Format,RGB_BPTC_UNSIGNED_Format:D.RGB_BPTC_UNSIGNED_Format,RGBA_BPTC_Format:D.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:D.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:D.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:D.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:D.RGB_ETC1_Format,RGB_ETC2_Format:D.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:D.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:D.RGBA_S3TC_DXT1_Format},Sa.EngineType={UnsignedByteType:D.UnsignedByteType,HalfFloatType:D.HalfFloatType,FloatType:D.FloatType},Sa.BasisWorker=function(){let e,t,n;const r=_EngineFormat,o=_EngineType,l=_TranscoderFormat,c=_BasisFormat;self.addEventListener("message",function(I){const w=I.data;switch(w.type){case"init":e=w.config,_=w.transcoderBinary,t=new Promise(b=>{n={wasmBinary:_,onRuntimeInitialized:b},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")});break;case"transcode":t.then(()=>{try{const{faces:b,buffers:T,width:S,height:k,hasAlpha:F,format:N,type:G,dfdFlags:V}=function(W){const X=new n.KTX2File(new Uint8Array(W));function K(){X.close(),X.delete()}if(!X.isValid())throw K(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let st;if(X.isUASTC())st=c.UASTC;else if(X.isETC1S())st=c.ETC1S;else{if(!X.isHDR())throw new Error("THREE.KTX2Loader: Unknown Basis encoding");st=c.UASTC_HDR}const et=X.getWidth(),it=X.getHeight(),ot=X.getLayers()||1,ht=X.getLevels(),vt=X.getFaces(),Ct=X.getHasAlpha(),wt=X.getDFDFlags(),{transcoderFormat:mt,engineFormat:Rt,engineType:Mt}=function(kt,_t,zt,Ft){const qt=f[kt];for(let Gt=0;Gt<qt.length;Gt++){const ge=qt[Gt];if(!(ge.if&&!e[ge.if])&&ge.basisFormat.includes(kt)&&!(Ft&&ge.transcoderFormat.length<2)&&!(ge.needsPowerOfTwo&&(!p(_t)||!p(zt))))return{transcoderFormat:ge.transcoderFormat[Ft?1:0],engineFormat:ge.engineFormat[Ft?1:0],engineType:ge.engineType[0]}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}(st,et,it,Ct);if(!et||!it||!ht)throw K(),new Error("THREE.KTX2Loader:	Invalid texture");if(!X.startTranscoding())throw K(),new Error("THREE.KTX2Loader: .startTranscoding failed");const Bt=[],at=[];for(let kt=0;kt<vt;kt++){const _t=[];for(let zt=0;zt<ht;zt++){const Ft=[];let qt,Gt;for(let Fe=0;Fe<ot;Fe++){const ee=X.getImageLevelInfo(zt,Fe,kt);kt!==0||zt!==0||Fe!==0||ee.origWidth%4==0&&ee.origHeight%4==0||console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),ht>1?(qt=ee.origWidth,Gt=ee.origHeight):(qt=ee.width,Gt=ee.height);let pn=new Uint8Array(X.getImageTranscodedSizeInBytes(zt,Fe,0,mt));const Te=X.transcodeImage(pn,zt,Fe,kt,mt,0,-1,-1);if(Mt===o.HalfFloatType&&(pn=new Uint16Array(pn.buffer,pn.byteOffset,pn.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!Te)throw K(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Ft.push(pn)}const ge=m(Ft);_t.push({data:ge,width:qt,height:Gt}),at.push(ge.buffer)}Bt.push({mipmaps:_t,width:et,height:it,format:Rt,type:Mt})}return K(),{faces:Bt,buffers:at,width:et,height:it,hasAlpha:Ct,dfdFlags:wt,format:Rt,type:Mt}}(w.buffer);self.postMessage({type:"transcode",id:w.id,data:{faces:b,width:S,height:k,hasAlpha:F,format:N,type:G,dfdFlags:V}},T)}catch(b){console.error(b),self.postMessage({type:"error",id:w.id,error:b.message})}})}var _});const h=[{if:"astcSupported",basisFormat:[c.UASTC],transcoderFormat:[l.ASTC_4x4,l.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],engineType:[o.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.BC7_M5,l.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],engineType:[o.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.BC1,l.BC3],engineFormat:[r.RGBA_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],engineType:[o.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.ETC1,l.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],engineType:[o.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.ETC1],engineFormat:[r.RGB_ETC1_Format],engineType:[o.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.PVRTC1_4_RGB,l.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],engineType:[o.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[c.UASTC_HDR],transcoderFormat:[l.BC6H],engineFormat:[r.RGB_BPTC_UNSIGNED_Format],engineType:[o.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[c.ETC1S,c.UASTC],transcoderFormat:[l.RGBA32,l.RGBA32],engineFormat:[r.RGBAFormat,r.RGBAFormat],engineType:[o.UnsignedByteType,o.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[c.UASTC_HDR],transcoderFormat:[l.RGBA_HALF],engineFormat:[r.RGBAFormat],engineType:[o.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],f={[c.ETC1S]:h.filter(I=>I.basisFormat.includes(c.ETC1S)).sort((I,w)=>I.priorityUASTC-w.priorityUASTC),[c.UASTC]:h.filter(I=>I.basisFormat.includes(c.UASTC)).sort((I,w)=>I.priorityUASTC-w.priorityUASTC),[c.UASTC_HDR]:h.filter(I=>I.basisFormat.includes(c.UASTC_HDR)).sort((I,w)=>I.priorityHDR-w.priorityHDR)};function p(I){return I<=2||!(I&I-1)&&I!==0}function m(I){if(I.length===1)return I[0];let w=0;for(let T=0;T<I.length;T++)w+=I[T].byteLength;const _=new Uint8Array(w);let b=0;for(let T=0;T<I.length;T++){const S=I[T];_.set(S,b),b+=S.byteLength}return _}};const _d=new Set([D.RGBAFormat,D.RGFormat,D.RedFormat]),Hm={[Dt]:D.RGBAFormat,[A3]:D.RGBAFormat,[Gv]:D.RGBAFormat,[wc]:D.RGBAFormat,[vl]:D.RGFormat,[h6]:D.RGFormat,[Dr]:D.RGFormat,[qi]:D.RGFormat,[u6]:D.RedFormat,[PE]:D.RedFormat,[c6]:D.RedFormat,[l3]:D.RedFormat,[ba]:D.RGBA_ASTC_4x4_Format,[Ov]:D.RGBA_ASTC_6x6_Format,[c3]:D.RGBA_ASTC_6x6_Format},Mp={[Dt]:D.FloatType,[A3]:D.HalfFloatType,[Gv]:D.UnsignedByteType,[wc]:D.UnsignedByteType,[vl]:D.FloatType,[h6]:D.HalfFloatType,[Dr]:D.UnsignedByteType,[qi]:D.UnsignedByteType,[u6]:D.FloatType,[PE]:D.HalfFloatType,[c6]:D.UnsignedByteType,[l3]:D.UnsignedByteType,[ba]:D.HalfFloatType,[Ov]:D.UnsignedByteType,[c3]:D.UnsignedByteType};function f6(e){const t=e.dataFormatDescriptor[0];return t.colorPrimaries===1?t.transferFunction===2?D.SRGBColorSpace:D.LinearSRGBColorSpace:t.colorPrimaries===10?t.transferFunction===2?"display-p3":"display-p3-linear":(t.colorPrimaries===0||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${t.colorPrimaries}"`),D.NoColorSpace)}var zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof TG<"u"?TG:typeof self<"u"?self:{};function Va(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function p6(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}class g6 extends D.Mesh{constructor(t,n={}){super(t),this.isWater=!0;const r=this,o=n.textureWidth!==void 0?n.textureWidth:512,l=n.textureHeight!==void 0?n.textureHeight:512,c=n.clipBias!==void 0?n.clipBias:0,h=n.alpha!==void 0?n.alpha:1,f=n.time!==void 0?n.time:0,p=n.waterNormals!==void 0?n.waterNormals:null,m=n.sunDirection!==void 0?n.sunDirection:new D.Vector3(.70707,.70707,0),I=new D.Color(n.sunColor!==void 0?n.sunColor:16777215),w=new D.Color(n.waterColor!==void 0?n.waterColor:8355711),_=n.eye!==void 0?n.eye:new D.Vector3(0,0,0),b=n.distortionScale!==void 0?n.distortionScale:20,T=n.side!==void 0?n.side:D.FrontSide,S=n.fog!==void 0&&n.fog,k=new D.Plane,F=new D.Vector3,N=new D.Vector3,G=new D.Vector3,V=new D.Matrix4,W=new D.Vector3(0,0,-1),X=new D.Vector4,K=new D.Vector3,st=new D.Vector3,et=new D.Vector4,it=new D.Matrix4,ot=new D.PerspectiveCamera,ht=new D.WebGLRenderTarget(o,l),vt={name:"MirrorShader",uniforms:D.UniformsUtils.merge([D.UniformsLib.fog,D.UniformsLib.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new D.Matrix4},sunColor:{value:new D.Color(8355711)},sunDirection:{value:new D.Vector3(.70707,.70707,0)},eye:{value:new D.Vector3},waterColor:{value:new D.Color(5592405)}}]),vertexShader:`
				uniform mat4 textureMatrix;
				uniform float time;

				varying vec4 mirrorCoord;
				varying vec4 worldPosition;

				#include <common>
				#include <fog_pars_vertex>
				#include <shadowmap_pars_vertex>
				#include <logdepthbuf_pars_vertex>

				void main() {
					mirrorCoord = modelMatrix * vec4( position, 1.0 );
					worldPosition = mirrorCoord.xyzw;
					mirrorCoord = textureMatrix * mirrorCoord;
					vec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );
					gl_Position = projectionMatrix * mvPosition;

				#include <beginnormal_vertex>
				#include <defaultnormal_vertex>
				#include <logdepthbuf_vertex>
				#include <fog_vertex>
				#include <shadowmap_vertex>
			}`,fragmentShader:`
				uniform sampler2D mirrorSampler;
				uniform float alpha;
				uniform float time;
				uniform float size;
				uniform float distortionScale;
				uniform sampler2D normalSampler;
				uniform vec3 sunColor;
				uniform vec3 sunDirection;
				uniform vec3 eye;
				uniform vec3 waterColor;

				varying vec4 mirrorCoord;
				varying vec4 worldPosition;

				vec4 getNoise( vec2 uv ) {
					vec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);
					vec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );
					vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );
					vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );
					vec4 noise = texture2D( normalSampler, uv0 ) +
						texture2D( normalSampler, uv1 ) +
						texture2D( normalSampler, uv2 ) +
						texture2D( normalSampler, uv3 );
					return noise * 0.5 - 1.0;
				}

				void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {
					vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );
					float direction = max( 0.0, dot( eyeDirection, reflection ) );
					specularColor += pow( direction, shiny ) * sunColor * spec;
					diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;
				}

				#include <common>
				#include <packing>
				#include <bsdfs>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <lights_pars_begin>
				#include <shadowmap_pars_fragment>
				#include <shadowmask_pars_fragment>

				void main() {

					#include <logdepthbuf_fragment>
					vec4 noise = getNoise( worldPosition.xz * size );
					vec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );

					vec3 diffuseLight = vec3(0.0);
					vec3 specularLight = vec3(0.0);

					vec3 worldToEye = eye-worldPosition.xyz;
					vec3 eyeDirection = normalize( worldToEye );
					sunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );

					float distance = length(worldToEye);

					vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;
					vec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.w + distortion ) );

					float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );
					float rf0 = 0.3;
					float reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );
					vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;
					vec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);
					vec3 outgoingLight = albedo;
					gl_FragColor = vec4( outgoingLight, alpha );

					#include <tonemapping_fragment>
					#include <colorspace_fragment>
					#include <fog_fragment>	
				}`},Ct=new D.ShaderMaterial({name:vt.name,uniforms:D.UniformsUtils.clone(vt.uniforms),vertexShader:vt.vertexShader,fragmentShader:vt.fragmentShader,lights:!0,side:T,fog:S});Ct.uniforms.mirrorSampler.value=ht.texture,Ct.uniforms.textureMatrix.value=it,Ct.uniforms.alpha.value=h,Ct.uniforms.time.value=f,Ct.uniforms.normalSampler.value=p,Ct.uniforms.sunColor.value=I,Ct.uniforms.waterColor.value=w,Ct.uniforms.sunDirection.value=m,Ct.uniforms.distortionScale.value=b,Ct.uniforms.eye.value=_,r.material=Ct,r.onBeforeRender=function(wt,mt,Rt){if(N.setFromMatrixPosition(r.matrixWorld),G.setFromMatrixPosition(Rt.matrixWorld),V.extractRotation(r.matrixWorld),F.set(0,0,1),F.applyMatrix4(V),K.subVectors(N,G),K.dot(F)>0)return;K.reflect(F).negate(),K.add(N),V.extractRotation(Rt.matrixWorld),W.set(0,0,-1),W.applyMatrix4(V),W.add(G),st.subVectors(N,W),st.reflect(F).negate(),st.add(N),ot.position.copy(K),ot.up.set(0,1,0),ot.up.applyMatrix4(V),ot.up.reflect(F),ot.lookAt(st),ot.far=Rt.far,ot.updateMatrixWorld(),ot.projectionMatrix.copy(Rt.projectionMatrix),it.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),it.multiply(ot.projectionMatrix),it.multiply(ot.matrixWorldInverse),k.setFromNormalAndCoplanarPoint(F,N),k.applyMatrix4(ot.matrixWorldInverse),X.set(k.normal.x,k.normal.y,k.normal.z,k.constant);const Mt=ot.projectionMatrix;et.x=(Math.sign(X.x)+Mt.elements[8])/Mt.elements[0],et.y=(Math.sign(X.y)+Mt.elements[9])/Mt.elements[5],et.z=-1,et.w=(1+Mt.elements[10])/Mt.elements[14],X.multiplyScalar(2/X.dot(et)),Mt.elements[2]=X.x,Mt.elements[6]=X.y,Mt.elements[10]=X.z+1-c,Mt.elements[14]=X.w,_.setFromMatrixPosition(Rt.matrixWorld);const Bt=wt.getRenderTarget(),at=wt.xr.enabled,kt=wt.shadowMap.autoUpdate;r.visible=!1,wt.xr.enabled=!1,wt.shadowMap.autoUpdate=!1,wt.setRenderTarget(ht),wt.state.buffers.depth.setMask(!0),wt.autoClear===!1&&wt.clear(),wt.render(mt,ot),r.visible=!0,wt.xr.enabled=at,wt.shadowMap.autoUpdate=kt,wt.setRenderTarget(Bt);const _t=Rt.viewport;_t!==void 0&&wt.state.viewport(_t)}}}var m6=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};class kP{constructor(){this.materials={}}createMaterial(){return m6(this,arguments,void 0,function*(t={},n){if(Array.isArray(t)&&t.every(f=>f.isMaterial)||t instanceof D.Material)return t;if(this.materials[JSON.stringify(t)])return this.materials[JSON.stringify(t)];const{color:r=16777215,opacity:o=1,blending:l,wireframe:c}=t;let h={color:r,opacity:o,transparent:o<1,side:D.DoubleSide};if("native"in t&&(h=Object.assign(Object.assign({},h),t.native)),l&&(h.blending=D.AdditiveBlending),c&&(h.wireframe=!0),"shader"in t)return this.materialPostProcessing(new D.ShaderMaterial(Object.assign(Object.assign({},h),t.shader)),t);if(n==="line")return this.materialPostProcessing(new Rf(h),t);if("bumpTexture"in t){const f=t.bumpTexture;if(f&&f.src){const p=yield Dm(f.src);p.anisotropy=f.anisotropy,p.center.set(f.center[0]||1,f.center[1]||1),f.wrapS&&(p.wrapS=f.wrapS),f.wrapT&&(p.wrapT=f.wrapT),h.bumpMap=p}}if("texture"in t){const f=t.texture;if(f&&f.src){const p=yield Dm(f.src);p.anisotropy=f.anisotropy,p.repeat.set(f.repeat[0]||1,f.repeat[1]||1),f.wrapS&&(p.wrapS=f.wrapS),f.wrapT&&(p.wrapT=f.wrapT),h.map=p}}return"phong"in t?(h=Object.assign(h,t.phong),this.materialPostProcessing(new D.MeshPhongMaterial(h),t)):this.materialPostProcessing(new D.MeshBasicMaterial(h),t)})}materialPostProcessing(t,n){return this.materials[JSON.stringify(n)]=t,n.needUpdate&&(t.needsUpdate=!0),t}}const zm=`
data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QO0aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA2LjAtYzAwMiA3OS4xNjQ0NjAsIDIwMjAvMDUvMTItMTY6MDQ6MTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6QzUyMUNCMjQzQzVERTMxMUJDRjE5RDcwMEE5NDMwQUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RTQ2MUNFMzRGNEFEMTFFRkI5RDdEN0QxMUY4QkI2RjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RTQ2MUNFMzNGNEFEMTFFRkI5RDdEN0QxMUY4QkI2RjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSAoMTIuMHgyMDEwMDExNSBbMjAxMDAxMTUubS45OTggMjAxMC8wMS8xNTowMjowMDowMCBjdXRvZmY7IG0gYnJhbmNoXSkgIFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDNjIxQ0IyNDNDNURFMzExQkNGMTlENzAwQTk0MzBBQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpD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
`;var Po=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};class os extends kP{constructor(t){super(),this.model=null,this.fonts={},this.create={},this.enabelBoolShape=[],this.model=t,this.create={plane:this.createPlane,box:this.createBox,glb:n=>this.load(n),fbx:n=>this.load(n),obj:n=>this.load(n),extrude:this.createExtrude,group:this.createGroup,array:this.createArray,line:this.createLine,tube:this.createTube,cPlane:this.createCPlane,cylinder:this.createCylinder,text:this.createText,html:this.createHtml,sprite:this.createSprite,capsule:this.createCapsule,cloud:this.createCloud,pipe:this.createPipe,water:this.createWater},this.enabelBoolShape=["extrude","cylinder","box","plane","capsule"]}load(t){return Po(this,void 0,void 0,function*(){let n;switch(t.type){case"obj":n=yield yd(t.shape);break;case"fbx":n=yield WT(t.shape);break;case"glb":n=yield zT(t.shape)}return n})}createBox(t,n){return Po(this,void 0,void 0,function*(){const{width:r=1,height:o=1,depth:l=1,widthSegments:c=1,heightSegments:h=1,depthSegments:f=1}=t.shape,p=new D.BoxGeometry(r,o,l,c,h,f);if(n)return p;const m=yield this.createMaterial(t.style);return new D.Mesh(p,m)})}createWater(t){return Po(this,void 0,void 0,function*(){const{width:n=10,height:r=10,scale:o=3.7,texture:l=zm,size:c=512}=t.shape,{style:h={color:0}}=t,f=new D.PlaneGeometry(n,r,1,1),p=yield Dm(l);p.wrapS=p.wrapT=D.RepeatWrapping;const m={textureWidth:c,textureHeight:c,waterNormals:p,sunDirection:new D.Vector3,waterColor:h.color,distortionScale:o,fog:this.model.core.scene.fog!==void 0};return new g6(f,m)})}createLine(t,n){return Po(this,void 0,void 0,function*(){let{points:r=[],smooth:o=null}=t.shape;o&&(r=Na(r,o.sgments,o.closed));const l=new Df;if(l.setPositions(r),n)return l;const c=yield this.createMaterial(t.style,t.type);return new h3(l,c)})}createTube(t,n){return Po(this,void 0,void 0,function*(){let{points:r=[],tubularSegments:o=5,radius:l=1,closed:c=!1,radialSegments:h=8}=t.shape,f=Na(r,0,!1,!0);const p=new D.TubeGeometry(f,o,l,h,c);if(n)return p;const m=yield this.createMaterial(t.style,t.type);return new D.Mesh(p,m)})}createHtml(t){return Po(this,void 0,void 0,function*(){const{el:n,className:r="c3d_html",css3d:o=!0}=t.shape;let l=null;return n instanceof HTMLElement?l=n:(l=document.createElement("div"),l.innerHTML=n||"",l.className=r,l.style.pointerEvents="none",l.style.visibility="visible",l.style.position="absolute"),o?(this.model.core.css3dRenderer||this.model.core.initCSS3dRenderer(),new Ga(l)):(this.model.core.css2dRenderer||this.model.core.initCSS2dRenderer(),new UA(l))})}createSprite(t){return Po(this,void 0,void 0,function*(){const{src:n}=t.shape,r=yield Dm(n),{style:o={color:16777215}}=t,l=new D.SpriteMaterial({map:r,color:o.color});return new D.Sprite(l)})}createGroup(t,n){return Po(this,void 0,void 0,function*(){const r=new D.Group;if(t.children&&t.children.length)for(let o in t.children)yield this.model.parse(t.children[o],r,n);return r})}createCylinder(t,n){return Po(this,void 0,void 0,function*(){const{radiusT:r=8,radiusB:o=8,depth:l=12,sides:c=16}=t.shape,h=new D.CylinderGeometry(r,o,l,c);if(n)return h;const f=yield this.createMaterial(t.style);return new D.Mesh(h,f)})}createCapsule(t,n){return Po(this,void 0,void 0,function*(){const{radius:r=5,length:o=3,capSegments:l=4,radialSegments:c=12}=t.shape,h=new D.CapsuleGeometry(r,o,l,c);if(n)return h;const f=yield this.createMaterial(t.style,t.type);return new D.Mesh(h,f)})}createExtrude(t,n){return Po(this,void 0,void 0,function*(){const{path:r,depth:o=10,curveSegments:l=5}=t.shape,c=r.indexOf("<svg>")?r:`<svg> <path d='${r}'/> </svg>`,h=yield Mf(c),f=[];h.paths.forEach(I=>{I.toShapes(!0).forEach(w=>{const _={depth:o,curveSegments:l};f.push(new D.ExtrudeGeometry(w,_))})});const p=Rm(f);if(n)return p;const m=yield this.createMaterial(t.style);return new D.Mesh(p,m)})}createPlane(t,n){return Po(this,void 0,void 0,function*(){const{width:r=1,height:o=1,widthSegments:l=1,heightSegments:c=1}=t.shape,h=new D.PlaneGeometry(r,o,l,c);if(n)return h;const f=yield this.createMaterial(t.style);return new D.Mesh(h,f)})}createCPlane(t,n){return Po(this,void 0,void 0,function*(){const{radius:r=200,sides:o=32}=t.shape,l=new D.CircleGeometry(r,o);if(n)return l;const c=yield this.createMaterial(t.style);return new D.Mesh(l,c)})}createText(t,n){return Po(this,void 0,void 0,function*(){const{text:r,fontSrc:o,size:l=10,depth:c=5,bevel:h=!1}=t.shape;if(!this.fonts[o]){const m=new Om,I=yield m.loadAsync(o);this.fonts[o]=I}const f=new Fm(r,{font:this.fonts[o],size:l,depth:c,bevelEnabled:!!h,bevelSize:h||0});if(n)return f;const p=yield this.createMaterial(t.style);return new D.Mesh(f,p)})}createArray(t,n){return Po(this,void 0,void 0,function*(){const r=new D.Group,{model:o,array:l=[]}=t.shape,c=yield this.model.parse(o,null,n);for(let h in l){const f=c.clone(),p={position:l[h][0],scale:l[h][1],rotation:l[h][2]};this.model.setPose(f,p),f.name=`${o.name}_${h}`,f.isArrayMesh=!0,r.add(f)}return r})}createCloud(t){return Po(this,void 0,void 0,function*(){const{threshold:n=.25,range:r=.1,noise:o=.05,steps:l=50,opacity:c=.2,backColor:h=7965344}=t.shape,f=new D.BoxGeometry(1,1,1);let p=this.materials[JSON.stringify(t.shape)];return p||(p=new D.RawShaderMaterial({glslVersion:D.GLSL3,uniforms:{base:{value:new D.Color(h)},map:{value:JT(40,o)},cameraPos:{value:this.model.core.camera.position},threshold:{value:n},opacity:{value:c},range:{value:r},steps:{value:l}},vertexShader:`
					in vec3 position;

					uniform mat4 modelMatrix;
					uniform mat4 modelViewMatrix;
					uniform mat4 projectionMatrix;
					uniform vec3 cameraPos;

					out vec3 vOrigin;
					out vec3 vDirection;

					void main() {
						vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

						vOrigin = vec3( inverse( modelMatrix ) * vec4( cameraPos, 1.0 ) ).xyz;
						vDirection = position - vOrigin;

						gl_Position = projectionMatrix * mvPosition;
					}
				`,fragmentShader:`
          precision highp float;
          precision highp sampler3D;

          uniform mat4 modelViewMatrix;
          uniform mat4 projectionMatrix;

          in vec3 vOrigin;
          in vec3 vDirection;

          out vec4 color;

          uniform vec3 base;
          uniform sampler3D map;

          uniform float threshold;
          uniform float range;
          uniform float opacity;
          uniform float steps;
          uniform float frame;

          uint wang_hash(uint seed)
          {
              seed = (seed ^ 61u) ^ (seed >> 16u);
              seed *= 9u;
              seed = seed ^ (seed >> 4u);
              seed *= 0x27d4eb2du;
              seed = seed ^ (seed >> 15u);
              return seed;
          }

          float randomFloat(inout uint seed)
          {
              return float(wang_hash(seed)) / 4294967296.;
          }

          vec2 hitBox( vec3 orig, vec3 dir ) {
            const vec3 box_min = vec3( - 0.5 );
            const vec3 box_max = vec3( 0.5 );
            vec3 inv_dir = 1.0 / dir;
            vec3 tmin_tmp = ( box_min - orig ) * inv_dir;
            vec3 tmax_tmp = ( box_max - orig ) * inv_dir;
            vec3 tmin = min( tmin_tmp, tmax_tmp );
            vec3 tmax = max( tmin_tmp, tmax_tmp );
            float t0 = max( tmin.x, max( tmin.y, tmin.z ) );
            float t1 = min( tmax.x, min( tmax.y, tmax.z ) );
            return vec2( t0, t1 );
          }

          float sample1( vec3 p ) {
            return texture( map, p ).r;
          }

          float shading( vec3 coord ) {
            float step = 0.01;
            return sample1( coord + vec3( - step ) ) - sample1( coord + vec3( step ) );
          }

          vec4 linearToSRGB( in vec4 value ) {
            return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
          }

          void main(){
            vec3 rayDir = normalize( vDirection );
            vec2 bounds = hitBox( vOrigin, rayDir );

            if ( bounds.x > bounds.y ) discard;

            bounds.x = max( bounds.x, 0.0 );

            vec3 p = vOrigin + bounds.x * rayDir;
            vec3 inc = 1.0 / abs( rayDir );
            float delta = min( inc.x, min( inc.y, inc.z ) );
            delta /= steps;

            // Jitter

            // Nice little seed from
            // https://blog.demofox.org/2020/05/25/casual-shadertoy-path-tracing-1-basic-camera-diffuse-emissive/
            uint seed = uint( gl_FragCoord.x ) * uint( 1973 ) + uint( gl_FragCoord.y ) * uint( 9277 ) + uint( frame ) * uint( 26699 );
            vec3 size = vec3( textureSize( map, 0 ) );
            float randNum = randomFloat( seed ) * 2.0 - 1.0;
            p += rayDir * randNum * ( 1.0 / size );

            //

            vec4 ac = vec4( base, 0.0 );

            for ( float t = bounds.x; t < bounds.y; t += delta ) {

              float d = sample1( p + 0.5 );

              d = smoothstep( threshold - range, threshold + range, d ) * opacity;

              float col = shading( p + 0.5 ) * 3.0 + ( ( p.x + p.y ) * 0.25 ) + 0.2;

              ac.rgb += ( 1.0 - ac.a ) * d * col;

              ac.a += ( 1.0 - ac.a ) * d;

              if ( ac.a >= 0.95 ) break;

              p += rayDir * delta;

            }

            color = linearToSRGB( ac );

            if ( color.a == 0.0 ) discard;

          }
`,side:D.BackSide,transparent:!0})),p.uniformsNeedUpdate=!0,new D.Mesh(f,p)})}createPipe(t,n){return Po(this,void 0,void 0,function*(){const{width:r,inner:o=[0,0],sides:l,radius:c,depth:h}=t.shape;let f=new D.Shape;f.moveTo(0,0),f.arc(0,0,c||20,0,2*Math.PI);let p=new D.Shape;p.arc(o[0],o[1],c-r||20,0,2*Math.PI),f.holes.push(p);let m=new D.ExtrudeGeometry(f,{depth:h||100,bevelEnabled:!1,curveSegments:l||28,steps:1});if(n)return m;const I=yield this.createMaterial(t.style);return new D.Mesh(m,I)})}}var vc=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};class cu extends Ip{constructor(t){if(!t)throw new Error("Model plugin need c3d core");super(t),this.meshs=[],this.shape=null,this.LoadingQueue={},this.progress=null,this.shape=new os(this),this.loadModel=this.loadModel.bind(this),this.setAnmate=this.setAnmate.bind(this),this.setPose=this.setPose.bind(this),this.setEvent=this.setEvent.bind(this)}loadModel(t,n){return vc(this,arguments,void 0,function*(r,o,l="main"){const c=Sf();this.LoadingQueue[c]=xd(r);const h=yield this.parse(r,null,c);return this.LoadingQueue[c]==0&&delete this.LoadingQueue[c],o?typeof o=="string"?o=this.findObject3D(o):o.add(h):this.core.addModelToScene(h,l),h})}parse(t,n,r){return vc(this,void 0,void 0,function*(){if(!t)return Promise.reject("data is required");if(!t.type)return Promise.reject("type is required");if(!this.shape.create[t.type])return Promise.reject(`${t.type} is not registered`);t.startLoad&&t.startLoad(t);const o=[t];["group","array"].includes(t.type)&&o.push(r);const l=yield this.shape.create[t.type].bind(this.shape)(...o);return l.name=t.name,l.userInfo=t.userInfo,l.isCObject3D=!0,this.setPose(l,t),t.event&&this.setEvent(l,t),t.animate&&this.setAnmate(l,t),t.loaded&&t.loaded(l,t),this.meshs.push(l),r&&(this.LoadingQueue[r]-=1),this.progress&&this.progress(this.LoadingQueue),n?(typeof n=="string"?n=this.findObject3D(n):n.add(l),n):l})}removeModelFromMeshs(t){this.meshs=this.meshs.filter(n=>n.name!==t.name),(t.isCSS2DObject||t.isCSS3DObject)&&t.element.remove(),t.children&&t.children.forEach(n=>this.removeModelFromMeshs(n))}findObject3D(t){return this.meshs.find(n=>n.name===t)}registerType(t,n,r=!1){Object.keys(this.shape.create).includes(t)&&Cc("error",`${t} is already registered`),this.shape.create[t]=n,r&&this.shape.enabelBoolShape.push(t)}setEvent(t,n){if(!this.core.event)return console.error("event \u63D2\u4EF6\u6CA1\u6709\u6B63\u786E\u5B89\u88C5\uFF0C\u6A21\u578B\u4E2D\u7684\u914D\u7F6E\u5C06\u4E0D\u751F\u6548\uFF01 ");for(let r in n.event)this.core.event.on(t,r,n.event[r])}setPose(t,n){const{position:r=[0,0,0],scale:o=1,rotation:l=0}=n;if(Array.isArray(o)?t.scale.set(...o):t.scale.set(o,o,o),Array.isArray(l)){let c=l.map(h=>D.MathUtils.degToRad(h||0));t.rotation.set(c[0],c[1],c[2])}else{let c=D.MathUtils.degToRad(l||0);t.rotation.set(c,c,c)}return Array.isArray(r)?t.position.set(...r):t.position.set(r,r,r),t}setAnmate(t,n){if(!this.core.animate)return console.log("anmate \u63D2\u4EF6\u6CA1\u6709\u6B63\u786E\u5B89\u88C5\uFF0C\u6A21\u578B\u4E2D\u7684\u914D\u7F6E\u5C06\u4E0D\u751F\u6548\uFF01 ");for(let r in n.animate)if(r==="tween"){const{speed:o=1e3,repeat:l=0,yoyo:c=!1,easing:h,attrs:f}=n.animate.tween;this.core.animate.tweenMesh(t,{attrs:f,speed:o,repeat:l,easing:h,yoyo:c})}else r==="loop"&&this.core.animate.register(t.name+"_loop_animate",()=>n.animate.loop(t))}dispose(){}}cu.PLUGIN_NAME="model";class Wv{constructor(t,n){this.particles=null,this.group=new D.Group,this.speed=1,this.position=new D.Vector3(0,0,0),this.area=new D.Vector3(400,300,400),this.velocities=[],this.edgeFactors=[],this.core=t,this.COUNT=n.count||1e4,this.PARTICLE_SIZE=n.size||1,this.speed=n.speed||1,n.position&&this.position.set(n.position[0]||0,n.position[1]||0,n.position[2]||0),n.area&&this.area.set(n.area[0]||400,n.area[1]||300,n.area[2]||400),this.group.position.copy(this.position),this.core.scene.add(this.group)}addRaindropTexture(){if(!this.particles)return;const t=this.particles.material,n=document.createElement("canvas"),r=32;n.width=r,n.height=r;const o=n.getContext("2d");if(o){o.clearRect(0,0,r,r);const l=16,c=16,h=r/3,f=2;if(this.speed>=f){const m=Math.min(28.8,9.6*this.speed),I=o.createLinearGradient(l,c-m/2,l,c+m/2);I.addColorStop(0,"rgba(200, 200, 255, 0.1)"),I.addColorStop(.3,"rgba(200, 200, 255, 0.6)"),I.addColorStop(.7,"rgba(200, 200, 255, 0.8)"),I.addColorStop(1,"rgba(200, 200, 255, 0.9)"),o.beginPath(),o.strokeStyle=I,o.lineWidth=4,o.lineCap="round",o.moveTo(l,c-m/2),o.lineTo(l,c+m/2),o.stroke()}else{const m=3*Math.min(3,Math.max(1,this.speed)),I=o.createRadialGradient(l,c,0,l,c,h);I.addColorStop(0,"rgba(200, 200, 255, 0.8)"),I.addColorStop(.2,"rgba(180, 180, 255, 0.6)"),I.addColorStop(1,"rgba(150, 150, 255, 0)"),o.save(),o.scale(.5,m),o.beginPath(),o.arc(2*l,c/m,h,0,2*Math.PI),o.restore(),o.fillStyle=I,o.fill(),o.beginPath(),o.arc(l-h/4,c-h/3,h/6,0,2*Math.PI),o.fillStyle="rgba(255, 255, 255, 0.8)",o.fill()}const p=new vn.Texture(n);p.needsUpdate=!0,t.map=p,t.needsUpdate=!0,t.alphaTest=.1,t.depthWrite=!1,t.sizeAttenuation=!0}}create(){const t=new D.BufferGeometry,n=[],r=[];this.velocities=[],this.edgeFactors=[];for(let c=0;c<this.COUNT;c++){const h=Math.random()*this.area.x-this.area.x/2,f=Math.random()*this.area.y,p=Math.random()*this.area.z-this.area.z/2,m=this.getEdgeFactor(h,p);if(Math.random()>m)n.push(2*this.area.x,2*this.area.y,2*this.area.z),this.velocities.push(0),this.edgeFactors.push(0),r.push(0);else{n.push(h,f,p);const I=1.5*-Math.random()*this.speed-.5*this.speed;this.velocities.push(I),this.edgeFactors.push(m);const w=(.3*Math.random()+.7)*this.PARTICLE_SIZE;r.push(w)}}t.setAttribute("position",new D.Float32BufferAttribute(n,3)),t.setAttribute("size",new D.Float32BufferAttribute(r,1));const o=new D.PointsMaterial({color:11197951,size:this.PARTICLE_SIZE*(this.speed>=2?.25:.15),transparent:!0,opacity:.6,blending:D.AdditiveBlending,alphaTest:.1,depthWrite:!1,sizeAttenuation:!0});this.particles=new D.Points(t,o),this.group.add(this.particles),this.addRaindropTexture();const l="rain_animation_"+Date.now();this.core.animate.register(l,()=>this.update())}update(){if(!this.particles)return;const t=this.particles.geometry.attributes.position.array,n=this.particles.geometry.attributes.size.array;let r=0;for(let o=0,l=0;o<t.length;o+=3,l++)if(this.edgeFactors[l]!==0&&r++,this.edgeFactors[l]!==0){if(t[o]+=.02*Math.sin(.01*l)*this.speed,t[o+1]+=this.velocities[l],t[o+2]+=.01*Math.cos(.01*l)*this.speed,t[o+1]<0){const c=Math.random()*this.area.x-this.area.x/2,h=Math.random()*this.area.z-this.area.z/2,f=this.getEdgeFactor(c,h);if(this.edgeFactors[l]=f,Math.random()>f)t[o]=2*this.area.x,t[o+1]=2*this.area.y,t[o+2]=2*this.area.z,n[l]=0,this.edgeFactors[l]=0;else{t[o]=c,t[o+1]=this.area.y,t[o+2]=h;const p=(.3*Math.random()+.7)*this.PARTICLE_SIZE;n[l]=p}}}else if(r<.7*this.COUNT&&Math.random()<.1){const c=Math.random()*this.area.x-this.area.x/2,h=Math.random()*this.area.z-this.area.z/2,f=this.getEdgeFactor(c,h);if(Math.random()<=f){t[o]=c,t[o+1]=this.area.y,t[o+2]=h,this.velocities[l]=1.5*-Math.random()*this.speed-.5*this.speed,this.edgeFactors[l]=f;const p=(.3*Math.random()+.7)*this.PARTICLE_SIZE;n[l]=p,r++;continue}}this.particles.geometry.attributes.position.needsUpdate=!0,this.particles.geometry.attributes.size.needsUpdate=!0}dispose(){this.particles&&(this.particles.geometry.dispose(),this.particles.material.dispose(),this.group.remove(this.particles),this.particles=null),this.group.parent&&this.group.parent.remove(this.group),this.velocities=[],this.edgeFactors=[]}setSpeed(t){if(this.speed=t,this.particles){this.addRaindropTexture();for(let n=0;n<this.velocities.length;n++)this.edgeFactors[n]!==0&&(this.velocities[n]=1.5*-Math.random()*this.speed-.5*this.speed)}}setPosition(t){this.position.set(t[0]||0,t[1]||0,t[2]||0),this.group.position.copy(this.position)}setArea(t){this.area.set(t[0]||400,t[1]||300,t[2]||400)}setCount(t){this.COUNT=t,this.particles&&(this.dispose(),this.create())}setSize(t){this.PARTICLE_SIZE=t,this.particles&&(this.particles.material.size=t*(this.speed>=2?.25:.1))}getEdgeFactor(t,n){const r=Math.abs(t)/(this.area.x/2),o=Math.abs(n)/(this.area.z/2),l=Math.max(r,o);return l>.8?1-(l-.8)/.2:1}}class Bd{constructor(t,n){this.particles=null,this.group=new D.Group,this.speed=1,this.position=new D.Vector3(0,0,0),this.area=new D.Vector3(400,300,400),this.velocities=[],this.WIND_STRENGTH=.01,this.time=0,this.edgeFactors=[],this.core=t,this.COUNT=n.count||1e4,this.PARTICLE_SIZE=n.size||1,this.speed=n.speed||1,n.position&&this.position.set(n.position[0]||0,n.position[1]||0,n.position[2]||0),n.area&&this.area.set(n.area[0]||400,n.area[1]||300,n.area[2]||400),this.group.position.copy(this.position),this.core.scene.add(this.group)}addSnowflakeTexture(){if(!this.particles)return;const t=this.particles.material,n=document.createElement("canvas"),r=32;n.width=r,n.height=r;const o=n.getContext("2d");if(o){o.clearRect(0,0,r,r);const l=16,c=16,h=12.8;o.strokeStyle="white",o.lineWidth=h/8,o.beginPath(),o.moveTo(l-h,c),o.lineTo(l+h,c),o.moveTo(l,c-h),o.lineTo(l,c+h),o.moveTo(l-.7*h,c-.7*h),o.lineTo(l+.7*h,c+.7*h),o.moveTo(l+.7*h,c-.7*h),o.lineTo(l-.7*h,c+.7*h),o.stroke();for(let p=0;p<6;p++){const m=Math.PI/3*p;o.save(),o.translate(l,c),o.rotate(m),o.beginPath(),o.moveTo(0,0),o.lineTo(1.5*h,0),o.lineWidth=h/6,o.strokeStyle="white",o.stroke();for(let I=1;I<=2;I++){const w=.4*h,_=.5*h*I;o.beginPath(),o.moveTo(_,0),o.lineTo(_+.6*w,-4.096000000000001),o.lineWidth=h/10,o.strokeStyle="white",o.stroke(),o.beginPath(),o.moveTo(_,0),o.lineTo(_+.6*w,.8*w),o.stroke()}o.restore()}const f=new vn.Texture(n);f.needsUpdate=!0,t.map=f,t.needsUpdate=!0,t.alphaTest=.1,t.depthWrite=!1,t.sizeAttenuation=!0}}create(){const t=new D.BufferGeometry,n=[],r=[];this.velocities=[],this.edgeFactors=[];for(let c=0;c<this.COUNT;c++){const h=Math.random()*this.area.x-this.area.x/2,f=Math.random()*this.area.y,p=Math.random()*this.area.z-this.area.z/2,m=this.getEdgeFactor(h,p);if(Math.random()>m)n.push(2*this.area.x,2*this.area.y,2*this.area.z),this.velocities.push(new D.Vector3(0,0,0)),this.edgeFactors.push(0),r.push(0);else{n.push(h,f,p);const I=(.5*Math.random()+.5)*this.PARTICLE_SIZE;r.push(I),this.velocities.push(new D.Vector3(.1*(Math.random()-.5),.5*-Math.random()*this.speed-.1*this.speed,.1*(Math.random()-.5))),this.edgeFactors.push(m)}}t.setAttribute("position",new D.Float32BufferAttribute(n,3)),t.setAttribute("size",new D.Float32BufferAttribute(r,1));const o=new D.PointsMaterial({color:16777215,size:.3*this.PARTICLE_SIZE,transparent:!0,opacity:.8,blending:D.AdditiveBlending,alphaTest:.1,depthWrite:!1,sizeAttenuation:!0});this.particles=new D.Points(t,o),this.group.add(this.particles),this.addSnowflakeTexture();const l="snow_animation_"+Date.now();this.core.animate.register(l,()=>this.update())}update(){if(!this.particles)return;const t=this.particles.geometry.attributes.position.array,n=this.particles.geometry.attributes.size.array;this.time+=.01;let r=0;for(let o=0,l=0;o<t.length;o+=3,l++){if(this.edgeFactors[l]!==0&&r++,this.edgeFactors[l]===0){if(r<.7*this.COUNT&&Math.random()<.1){const f=Math.random()*this.area.x-this.area.x/2,p=Math.random()*this.area.z-this.area.z/2,m=this.getEdgeFactor(f,p);if(Math.random()<=m){t[o]=f,t[o+1]=this.area.y,t[o+2]=p;const I=(.5*Math.random()+.5)*this.PARTICLE_SIZE;n[l]=I,this.velocities[l]=new D.Vector3(.1*(Math.random()-.5),.5*-Math.random()*this.speed-.1*this.speed,.1*(Math.random()-.5)),this.edgeFactors[l]=m,r++;continue}}continue}const c=Math.sin(this.time+.1*l)*this.WIND_STRENGTH*this.speed,h=Math.cos(.7*this.time+.05*l)*this.WIND_STRENGTH*.5*this.speed;if(t[o]+=this.velocities[l].x+c,t[o+1]+=this.velocities[l].y,t[o+2]+=this.velocities[l].z+h,t[o+1]<0){const f=Math.random()*this.area.x-this.area.x/2,p=Math.random()*this.area.z-this.area.z/2,m=this.getEdgeFactor(f,p);if(this.edgeFactors[l]=m,Math.random()>m)t[o]=2*this.area.x,t[o+1]=2*this.area.y,t[o+2]=2*this.area.z,n[l]=0,this.edgeFactors[l]=0;else{t[o]=f,t[o+1]=this.area.y,t[o+2]=p;const I=(.5*Math.random()+.5)*this.PARTICLE_SIZE;n[l]=I}}if(Math.abs(t[o])>this.area.x/2||Math.abs(t[o+2])>this.area.z/2){const f=Math.min(Math.max(t[o],-this.area.x/2),this.area.x/2),p=Math.min(Math.max(t[o+2],-this.area.z/2),this.area.z/2),m=this.getEdgeFactor(f,p);this.edgeFactors[l]=m,Math.random()>m?(t[o]=2*this.area.x,t[o+1]=2*this.area.y,t[o+2]=2*this.area.z,n[l]=0,this.edgeFactors[l]=0):(t[o]=f,t[o+2]=p)}}this.particles.geometry.attributes.position.needsUpdate=!0,this.particles.geometry.attributes.size.needsUpdate=!0}dispose(){this.particles&&(this.particles.geometry.dispose(),this.particles.material.dispose(),this.group.remove(this.particles),this.particles=null),this.group.parent&&this.group.parent.remove(this.group),this.velocities=[],this.edgeFactors=[]}setSpeed(t){this.speed=t}setPosition(t){this.position.set(t[0]||0,t[1]||0,t[2]||0),this.group.position.copy(this.position)}setArea(t){this.area.set(t[0]||400,t[1]||300,t[2]||400)}setCount(t){this.COUNT=t,this.particles&&(this.dispose(),this.create())}setSize(t){this.PARTICLE_SIZE=t,this.particles&&(this.particles.material.size=.1*t)}getEdgeFactor(t,n){const r=Math.abs(t)/(this.area.x/2),o=Math.abs(n)/(this.area.z/2),l=Math.max(r,o);return l>.8?1-(l-.8)/.2:1}}class Sp extends Ip{constructor(t){if(super(t),this.currentEffect=null,this.currentType="",this.animationIds=[],this.checkInterval=null,!t.animate)throw new Error("\u8BF7\u5148\u6CE8\u518C Animate \u63D2\u4EF6\uFF01")}init(t){const n={type:(t==null?void 0:t.type)||"sunny",speed:(t==null?void 0:t.speed)||1,position:(t==null?void 0:t.position)||[0,0,0],area:(t==null?void 0:t.area)||[400,300,400],count:(t==null?void 0:t.count)||1e4,size:(t==null?void 0:t.size)||1};if(["rain","snow","sunny"].includes(n.type))if(this.clearCurrentEffect(),n.type!=="sunny"){switch(n.type){case"rain":this.createRainEffect(n);break;case"snow":this.createSnowEffect(n)}this.startAnimationCheck()}else this.currentType="sunny";else console.error("\u4E0D\u652F\u6301\u7684\u5929\u6C14\u7C7B\u578B:",n.type)}clearCurrentEffect(){this.currentEffect&&(this.animationIds.forEach(t=>{this.core.animate.remove(t)}),this.animationIds=[],this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null),this.currentEffect.dispose(),this.currentEffect=null)}startAnimationCheck(){this.checkInterval&&clearInterval(this.checkInterval),this.checkInterval=setInterval(()=>{var t;if(!this.currentEffect)return void clearInterval(this.checkInterval);const n=this.currentType+"_animation_"+Date.now();(t=this.animationIds)===null||t===void 0||t.forEach(r=>{try{this.core.animate.remove(r)}catch(o){console.warn("\u6E05\u9664\u65E7\u52A8\u753B\u5931\u8D25:",o)}}),this.animationIds=[n],this.core.animate.register(n,()=>{this.currentEffect&&this.currentEffect.update()})},5e3)}createRainEffect(t){this.currentType="rain";const n="rain_animation_"+Date.now();this.animationIds.push(n),this.currentEffect=new Wv(this.core,{speed:t.speed,position:t.position,area:t.area,count:t.count,size:t.size}),this.currentEffect.create()}createSnowEffect(t){this.core.log("log","\u521B\u5EFA\u4E0B\u96EA\u6548\u679C"),this.currentType="snow";const n="snow_animation_"+Date.now();this.animationIds.push(n),this.currentEffect=new Bd(this.core,{speed:t.speed||1,position:t.position,area:t.area,count:t.count,size:t.size}),this.currentEffect.create()}update(t){if(t.type===this.currentType&&this.currentEffect)return t.speed!==void 0&&this.currentEffect.setSpeed(t.speed),t.position!==void 0&&this.currentEffect.setPosition(t.position),t.area!==void 0&&this.currentEffect.setArea(t.area),t.count!==void 0&&this.currentEffect.setCount(t.count),void(t.size!==void 0&&this.currentEffect.setSize(t.size));this.init(t)}dispose(){this.clearCurrentEffect()}}Sp.PLUGIN_NAME="weather";var Wm=Object.defineProperty,ce=(e,t,n)=>((r,o,l)=>o in r?Wm(r,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[o]=l)(e,typeof t!="symbol"?t+"":t,n);async function Tp(e,t,n,r){return r._parse(e,t,n,r)}function ar(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const Jm=!(typeof process=="object"&&String(process)==="[object process]"&&!process.browser),f3=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);function Jv(e,t){return p3(e||{},t)}function p3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(n>3)return t;const r={...e};for(const[o,l]of Object.entries(t))l&&typeof l=="object"&&!Array.isArray(l)?r[o]=p3(r[o]||{},t[o],n+1):r[o]=t[o];return r}f3&&parseFloat(f3[1]);const hA=function(){var e;return(e=globalThis._loadersgl_)!==null&&e!==void 0&&e.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.1.1"),globalThis._loadersgl_.version}();function hu(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Ta=typeof process!="object"||String(process)!=="[object process]"||process.browser,Ym=typeof importScripts=="function",Yv=typeof window<"u"&&typeof window.orientation<"u",gn=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);gn&&parseFloat(gn[1]);class Ha{constructor(t,n){this.name=void 0,this.workerThread=void 0,this.isRunning=!0,this.result=void 0,this._resolve=()=>{},this._reject=()=>{},this.name=t,this.workerThread=n,this.result=new Promise((r,o)=>{this._resolve=r,this._reject=o})}postMessage(t,n){this.workerThread.postMessage({source:"loaders.gl",type:t,payload:n})}done(t){hu(this.isRunning),this.isRunning=!1,this._resolve(t)}error(t){hu(this.isRunning),this.isRunning=!1,this._reject(t)}}class Zv{terminate(){}}const la=new Map;function kf(e){hu(e.source&&!e.url||!e.source&&e.url);let t=la.get(e.source||e.url);return t||(e.url&&(t=function(n){if(!n.startsWith("http"))return n;const r=function(o){return`try {
  importScripts('${o}');
} catch (error) {
  console.error(error);
  throw error;
}`}(n);return uu(r)}(e.url),la.set(e.url,t)),e.source&&(t=uu(e.source),la.set(e.source,t))),hu(t),t}function uu(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function y6(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(e){if(Sl(e))r.add(e);else if(Sl(e.buffer))r.add(e.buffer);else if(!ArrayBuffer.isView(e)&&t&&typeof e=="object")for(const o in e)y6(e[o],t,r)}return n===void 0?Array.from(r):[]}function Sl(e){return!!e&&(e instanceof ArrayBuffer||typeof MessagePort<"u"&&e instanceof MessagePort||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas)}const Dp=()=>{};let Kv=class{static isSupported(){return typeof Worker<"u"&&Ta||typeof Zv<"u"&&!Ta}constructor(e){this.name=void 0,this.source=void 0,this.url=void 0,this.terminated=!1,this.worker=void 0,this.onMessage=void 0,this.onError=void 0,this._loadableURL="";const{name:t,source:n,url:r}=e;hu(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=Dp,this.onError=o=>console.log(o),this.worker=Ta?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=Dp,this.onError=Dp,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||y6(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+=`worker ${this.name} from ${this.url}. `,e.message&&(t+=`${e.message} in `),e.lineno&&(t+=`:${e.lineno}:${e.colno}`),new Error(t)}_createBrowserWorker(){this._loadableURL=kf({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new Zv(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new Zv(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}};class po{static isSupported(){return Kv.isSupported()}constructor(t){this.name="unnamed",this.source=void 0,this.url=void 0,this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=()=>{},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=t.source,this.url=t.url,this.setProps(t)}destroy(){this.idleQueue.forEach(t=>t.destroy()),this.isDestroyed=!0}setProps(t){this.props={...this.props,...t},t.name!==void 0&&(this.name=t.name),t.maxConcurrency!==void 0&&(this.maxConcurrency=t.maxConcurrency),t.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=t.maxMobileConcurrency),t.reuseWorkers!==void 0&&(this.reuseWorkers=t.reuseWorkers),t.onDebug!==void 0&&(this.onDebug=t.onDebug)}async startJob(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(l,c,h)=>l.done(h),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(l,c)=>l.error(c);const o=new Promise(l=>(this.jobQueue.push({name:t,onMessage:n,onError:r,onStart:l}),this));return this._startQueuedJob(),await o}async _startQueuedJob(){if(!this.jobQueue.length)return;const t=this._getAvailableWorker();if(!t)return;const n=this.jobQueue.shift();if(n){this.onDebug({message:"Starting job",name:n.name,workerThread:t,backlog:this.jobQueue.length});const r=new Ha(n.name,t);t.onMessage=o=>n.onMessage(r,o.type,o.payload),t.onError=o=>n.onError(r,o),n.onStart(r);try{await r.result}catch(o){console.error(`Worker exception: ${o}`)}finally{this.returnWorkerToQueue(t)}}}returnWorkerToQueue(t){!Ta||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const t=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Kv({name:t,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Yv?this.maxMobileConcurrency:this.maxConcurrency}}const g3={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};let Bs=class Iv{static isSupported(){return Kv.isSupported()}static getWorkerFarm(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Iv._workerFarm=Iv._workerFarm||new Iv({}),Iv._workerFarm.setProps(t),Iv._workerFarm}constructor(t){this.props=void 0,this.workerPools=new Map,this.props={...g3},this.setProps(t),this.workerPools=new Map}destroy(){for(const t of this.workerPools.values())t.destroy();this.workerPools=new Map}setProps(t){this.props={...this.props,...t};for(const n of this.workerPools.values())n.setProps(this._getWorkerPoolProps())}getWorkerPool(t){const{name:n,source:r,url:o}=t;let l=this.workerPools.get(n);return l||(l=new po({name:n,source:r,url:o}),l.setProps(this._getWorkerPoolProps()),this.workerPools.set(n,l)),l}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};Bs._workerFarm=void 0;const LP=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),Xv={};async function Rp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return t&&(e=function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!o.useLocalLibraries&&n.startsWith("http"))return n;l=l||n;const c=o.modules||{};return c[l]?c[l]:Ta?o.CDN?(hu(o.CDN.startsWith("http")),`${o.CDN}/${r}@${hA}/dist/libs/${l}`):Ym?`../src/libs/${l}`:`modules/${r}/src/libs/${l}`:`modules/${r}/dist/libs/${l}`}(e,t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},arguments.length>3&&arguments[3]!==void 0?arguments[3]:null)),Xv[e]=Xv[e]||async function(n){if(n.endsWith("wasm"))return await async function(o){return await(await fetch(o)).arrayBuffer()}(n);if(!Ta)try{return LP&&void 0}catch(o){return console.error(o),null}if(Ym)return importScripts(n);const r=await async function(o){return await(await fetch(o)).text()}(n);return function(o,l){if(!Ta)return;if(Ym)return eval.call(globalThis,o),null;const c=document.createElement("script");c.id=l;try{c.appendChild(document.createTextNode(o))}catch{c.text=o}return document.body.appendChild(c),null}(r,n)}(e),await Xv[e]}async function PP(e,t,n,r,o){const l=e.id,c=function(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=m[p.id]||{},w=Ta?`${p.id}-worker.js`:`${p.id}-worker-node.js`;let _=I.workerUrl;if(!_&&p.id==="compression"&&(_=m.workerUrl),m._workerType==="test"&&(_=Ta?`modules/${p.module}/dist/${w}`:`modules/${p.module}/src/workers/${p.id}-worker-node.ts`),!_){let b=p.version;b==="latest"&&(b="latest");const T=b?`@${b}`:"";_=`https://unpkg.com/@loaders.gl/${p.module}${T}/dist/${w}`}return hu(_),_}(e,n),h=Bs.getWorkerFarm(n).getWorkerPool({name:l,url:c});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const f=await h.startJob("process-on-worker",jv.bind(null,o));return f.postMessage("process",{input:t,options:n,context:r}),await(await f.result).result}async function jv(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:o,input:l,options:c}=r;try{const h=await e(l,c);t.postMessage("done",{id:o,result:h})}catch(h){const f=h instanceof Error?h.message:"unknown error";t.postMessage("error",{id:o,error:f})}break;default:console.warn(`parse-with-worker unknown message ${n}`)}}function x6(e,t,n){if(e.byteLength<=t+n)return"";const r=new DataView(e);let o="";for(let l=0;l<n;l++)o+=String.fromCharCode(r.getUint8(t+l));return o}function qv(e){try{return JSON.parse(e)}catch{throw new Error(`Failed to parse JSON from data starting with "${function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof t=="string"?t.slice(0,n):ArrayBuffer.isView(t)?x6(t.buffer,t.byteOffset,n):t instanceof ArrayBuffer?x6(t,0,n):""}(e)}"`)}}function FP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){const o=r.map(f=>f instanceof ArrayBuffer?new Uint8Array(f):f),l=o.reduce((f,p)=>f+p.byteLength,0),c=new Uint8Array(l);let h=0;for(const f of o)c.set(f,h),h+=f.byteLength;return c.buffer}(t)}function Sn(e,t,n){const r=n!==void 0?new Uint8Array(e).subarray(t,t+n):new Uint8Array(e).subarray(t);return new Uint8Array(r).buffer}function NE(e,t){return ar(e>=0),ar(t>0),e+(t-1)&-4}function bc(e,t,n){let r;if(e instanceof ArrayBuffer)r=new Uint8Array(e);else{const o=e.byteOffset,l=e.byteLength;r=new Uint8Array(e.buffer||e.arrayBuffer,o,l)}return t.set(r,n),n+NE(r.byteLength,4)}function m3(){let e;if(typeof window<"u"&&window.performance)e=window.performance.now();else if(typeof process<"u"&&process.hrtime){const t=process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}class Qp{constructor(t,n){this.name=void 0,this.type=void 0,this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=t,this.type=n,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(t){return this.sampleSize=t,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(t){return this._count+=t,this._samples++,this._checkSampling(),this}subtractCount(t){return this._count-=t,this._samples++,this._checkSampling(),this}addTime(t){return this._time+=t,this.lastTiming=t,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=m3(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(m3()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}let uA=class{constructor(e){this.id=void 0,this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const t of Object.values(this.stats))e(t)}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(e=>this._getOrCreate(e))}_getOrCreate(e){const{name:t,type:n}=e;let r=this.stats[t];return r||(r=e instanceof Qp?e:new Qp(t,n),this.stats[t]=r),r}};const Zm={};function Fo(e){if(function(t){return t&&typeof t=="object"&&t.isBuffer}(e)||e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if(typeof e=="string"){const t=e;return new TextEncoder().encode(t).buffer}if(e&&typeof e=="object"&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}function Ri(){var e;if(typeof process<"u"&&typeof process.cwd<"u")return process.cwd();const t=(e=window.location)===null||e===void 0?void 0:e.pathname;return(t==null?void 0:t.slice(0,t.lastIndexOf("/")+1))||""}function $v(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(t+1):""}function Lf(e){const t=e?e.lastIndexOf("/"):-1;return t>=0?e.substr(0,t):""}function y3(){const e=[];for(let o=0;o<arguments.length;o++)e[o]=o<0||arguments.length<=o?void 0:arguments[o];let t,n="",r=!1;for(let o=e.length-1;o>=-1&&!r;o--){let l;o>=0?l=e[o]:(t===void 0&&(t=Ri()),l=t),l.length!==0&&(n=`${l}/${n}`,r=l.charCodeAt(0)===Km)}return n=function(o,l){let c,h="",f=-1,p=0,m=!1;for(let I=0;I<=o.length;++I){if(I<o.length)c=o.charCodeAt(I);else{if(c===Km)break;c=Km}if(c===Km){if(f!==I-1&&p!==1)if(f!==I-1&&p===2){if(h.length<2||!m||h.charCodeAt(h.length-1)!==Xm||h.charCodeAt(h.length-2)!==Xm){if(h.length>2){const w=h.length-1;let _=w;for(;_>=0&&h.charCodeAt(_)!==Km;--_);if(_!==w){h=_===-1?"":h.slice(0,_),f=I,p=0,m=!1;continue}}else if(h.length===2||h.length===1){h="",f=I,p=0,m=!1;continue}}l&&(h.length>0?h+="/..":h="..",m=!0)}else{const w=o.slice(f+1,I);h.length>0?h+=`/${w}`:h=w,m=!1}f=I,p=0}else c===Xm&&p!==-1?++p:p=-1}return h}(n,!r),r?`/${n}`:n.length>0?n:"."}const Km=47,Xm=46,Pf=e=>typeof e=="function",Ff=e=>e!==null&&typeof e=="object",x3=e=>Ff(e)&&e.constructor==={}.constructor,du=e=>typeof Response<"u"&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,Uf=e=>typeof Blob<"u"&&e instanceof Blob,GE=e=>(t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Ff(t)&&Pf(t.tee)&&Pf(t.cancel)&&Pf(t.getReader))(e)||(t=>Ff(t)&&Pf(t.read)&&Pf(t.pipe)&&(n=>typeof n=="boolean")(t.readable))(e),go=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,UP=/^([-\w.]+\/[-\w.+]+)/;function OE(e){const t=go.exec(e);return t?t[1]:""}const Nf=/\?.*/;function Gf(e){return e.replace(Nf,"")}function Aa(e){return du(e)?e.url:Uf(e)?e.name||"":typeof e=="string"?e:""}function tb(e){if(du(e)){const t=e,n=t.headers.get("content-type")||"",r=Gf(t.url);return function(o){const l=UP.exec(o);return l?l[1]:o}(n)||OE(r)}return Uf(e)?e.type||"":typeof e=="string"?OE(e):""}async function eb(e){if(du(e))return e;const t={},n=function(h){return du(h)?h.headers["content-length"]||-1:Uf(h)?h.size:typeof h=="string"?h.length:h instanceof ArrayBuffer||ArrayBuffer.isView(h)?h.byteLength:-1}(e);n>=0&&(t["content-length"]=String(n));const r=Aa(e),o=tb(e);o&&(t["content-type"]=o);const l=await async function(h){if(typeof h=="string")return`data:,${h.slice(0,5)}`;if(h instanceof Blob){const f=h.slice(0,5);return await new Promise(p=>{const m=new FileReader;m.onload=I=>{var w;return p(I==null||(w=I.target)===null||w===void 0?void 0:w.result)},m.readAsDataURL(f)})}return h instanceof ArrayBuffer?`data:base64,${function(f){let p="";const m=new Uint8Array(f);for(let I=0;I<m.byteLength;I++)p+=String.fromCharCode(m[I]);return btoa(p)}(h.slice(0,5))}`:null}(e);l&&(t["x-first-bytes"]=l),typeof e=="string"&&(e=new TextEncoder().encode(e));const c=new Response(e,{headers:t});return Object.defineProperty(c,"url",{value:r}),c}async function jm(e,t){if(typeof e=="string"){const o=function(l){for(const c in Zm)if(l.startsWith(c)){const h=Zm[c];l=l.replace(c,h)}return!l.startsWith("http://")&&!l.startsWith("https://")&&(l=`${l}`),l}(e);var n,r;return function(l){return!function(c){return c.startsWith("http:")||c.startsWith("https:")}(l)&&!function(c){return c.startsWith("data:")}(l)}(o)&&(n=globalThis.loaders)!==null&&n!==void 0&&n.fetchNode?(r=globalThis.loaders)===null||r===void 0?void 0:r.fetchNode(o,t):await fetch(o,t)}return await eb(e)}const nb=globalThis,C3=globalThis.process||{};function GA(){return!(typeof process=="object"&&String(process)==="[object process]"&&(process==null||!process.browser))||function(){var e,t;if(typeof window<"u"&&((e=window.process)==null?void 0:e.type)==="renderer"||typeof process<"u"&&(t=process.versions)!=null&&t.electron)return!0;const n=typeof navigator<"u"&&navigator.userAgent;return!!(n&&n.indexOf("Electron")>=0)}()}const VE="4.0.7";class Of{constructor(t,n,r="sessionStorage"){this.storage=function(o){try{const l=window[o],c="__storage_test__";return l.setItem(c,c),l.removeItem(c),l}catch{return null}}(r),this.id=t,this.config=n,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(t){if(Object.assign(this.config,t),this.storage){const n=JSON.stringify(this.config);this.storage.setItem(this.id,n)}}_loadConfiguration(){let t={};if(this.storage){const n=this.storage.getItem(this.id);t=n?JSON.parse(n):{}}return Object.assign(this.config,t),this}}var HE;(function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(HE||(HE={}));function ib(e){return typeof e!="string"?e:(e=e.toUpperCase(),HE[e]||HE.WHITE)}function Uo(e,t){if(!e)throw new Error("Assertion failed")}function gh(){var e,t,n;let r;if(GA()&&nb.performance)r=(t=(e=nb==null?void 0:nb.performance)==null?void 0:e.now)==null?void 0:t.call(e);else if("hrtime"in C3){const o=(n=C3==null?void 0:C3.hrtime)==null?void 0:n.call(C3);r=1e3*o[0]+o[1]/1e6}else r=Date.now();return r}const mh={debug:GA()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},C6={enabled:!0,level:0};function fu(){}const sb={},E3={once:!0};class I3{constructor({id:t}={id:""}){this.VERSION=VE,this._startTs=gh(),this._deltaTs=gh(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=t,this.userData={},this._storage=new Of(`__probe-${this.id}__`,C6),this.timeStamp(`${this.id} started`),function(n,r=["constructor"]){const o=Object.getPrototypeOf(n),l=Object.getOwnPropertyNames(o),c=n;for(const h of l){const f=c[h];typeof f=="function"&&(r.find(p=>h===p)||(c[h]=f.bind(n)))}}(this),Object.seal(this)}set level(t){this.setLevel(t)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((gh()-this._startTs).toPrecision(10))}getDelta(){return Number((gh()-this._deltaTs).toPrecision(10))}set priority(t){this.level=t}get priority(){return this.level}getPriority(){return this.level}enable(t=!0){return this._storage.setConfiguration({enabled:t}),this}setLevel(t){return this._storage.setConfiguration({level:t}),this}get(t){return this._storage.config[t]}set(t,n){this._storage.setConfiguration({[t]:n})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(t,n){if(!t)throw new Error(n||"Assertion failed")}warn(t){return this._getLogFunction(0,t,mh.warn,arguments,E3)}error(t){return this._getLogFunction(0,t,mh.error,arguments)}deprecated(t,n){return this.warn(`\`${t}\` is deprecated and will be removed in a later version. Use \`${n}\` instead`)}removed(t,n){return this.error(`\`${t}\` has been removed. Use \`${n}\` instead`)}probe(t,n){return this._getLogFunction(t,n,mh.log,arguments,{time:!0,once:!0})}log(t,n){return this._getLogFunction(t,n,mh.debug,arguments)}info(t,n){return this._getLogFunction(t,n,console.info,arguments)}once(t,n){return this._getLogFunction(t,n,mh.debug||mh.info,arguments,E3)}table(t,n,r){return n?this._getLogFunction(t,n,console.table||fu,r&&[r],{tag:kp(n)}):fu}time(t,n){return this._getLogFunction(t,n,console.time?console.time:console.info)}timeEnd(t,n){return this._getLogFunction(t,n,console.timeEnd?console.timeEnd:console.info)}timeStamp(t,n){return this._getLogFunction(t,n,console.timeStamp||fu)}group(t,n,r={collapsed:!1}){const o=vd({logLevel:t,message:n,opts:r}),{collapsed:l}=r;return o.method=(l?console.groupCollapsed:console.group)||console.info,this._getLogFunction(o)}groupCollapsed(t,n,r={}){return this.group(t,n,Object.assign({},r,{collapsed:!0}))}groupEnd(t){return this._getLogFunction(t,"",console.groupEnd||fu)}withGroup(t,n,r){this.group(t,n)();try{r()}finally{this.groupEnd(t)()}}trace(){console.trace&&console.trace()}_shouldLog(t){return this.isEnabled()&&this.getLevel()>=E6(t)}_getLogFunction(t,n,r,o,l){if(this._shouldLog(t)){l=vd({logLevel:t,message:n,args:o,opts:l}),Uo(r=r||l.method),l.total=this.getTotal(),l.delta=this.getDelta(),this._deltaTs=gh();const c=l.tag||l.message;if(l.once&&c){if(sb[c])return fu;sb[c]=gh()}return n=function(h,f,p){if(typeof f=="string"){const m=p.time?function(I,w=8){const _=Math.max(w-I.length,0);return`${" ".repeat(_)}${I}`}(function(I){let w;return w=I<10?`${I.toFixed(2)}ms`:I<100?`${I.toFixed(1)}ms`:I<1e3?`${I.toFixed(0)}ms`:`${(I/1e3).toFixed(2)}s`,w}(p.total)):"";f=function(I,w,_){return!GA&&typeof I=="string"&&(w&&(I=`\x1B[${ib(w)}m${I}\x1B[39m`),_&&(I=`\x1B[${ib(_)+10}m${I}\x1B[49m`)),I}(f=p.time?`${h}: ${m}  ${f}`:`${h}: ${f}`,p.color,p.background)}return f}(this.id,l.message,l),r.bind(console,n,...l.args)}return fu}}function E6(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return Uo(Number.isFinite(t)&&t>=0),t}function vd(e){const{logLevel:t,message:n}=e;e.logLevel=E6(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":n!==void 0&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}typeof e.message=="function"&&(e.message=e.message());const o=typeof e.message;return Uo(o==="string"||o==="object"),Object.assign(e,{args:r},e.opts)}function kp(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}I3.VERSION=VE,globalThis.probe={};const zE=new I3({id:"@probe.gl/log"}),qm=new I3({id:"loaders.gl"});let I6=class{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}};const w6={fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){this.console=void 0,this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}},useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Jm,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},$m={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function _6(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state=e._state||{},e._state}function B6(){const e=_6();return e.globalOptions=e.globalOptions||{...w6},e.globalOptions}function NP(e,t,n,r){return n=n||[],function(o,l){v6(o,null,w6,$m,l);for(const c of l){const h=o&&o[c.id]||{},f=c.options&&c.options[c.id]||{},p=c.deprecatedOptions&&c.deprecatedOptions[c.id]||{};v6(h,c.id,f,p,l)}}(e,n=Array.isArray(n)?n:[n]),function(o,l,c){const h={...o.options||{}};return function(f,p){p&&!("baseUri"in f)&&(f.baseUri=p)}(h,c),h.log===null&&(h.log=new I6),b6(h,B6()),b6(h,l),h}(t,e,r)}function v6(e,t,n,r,o){const l=t||"Top level",c=t?`${t}.`:"";for(const h in e){const f=!t&&Ff(e[h]);if(!(h in n)&&!(h==="baseUri"&&!t)&&!(h==="workerUrl"&&t)){if(h in r)qm.warn(`${l} loader option '${c}${h}' no longer supported, use '${r[h]}'`)();else if(!f){const p=GP(h,o);qm.warn(`${l} loader option '${c}${h}' not recognized. ${p}`)()}}}}function GP(e,t){const n=e.toLowerCase();let r="";for(const o of t)for(const l in o.options){if(e===l)return`Did you mean '${o.id}.${l}'?`;const c=l.toLowerCase();(n.startsWith(c)||c.startsWith(n))&&(r=r||`Did you mean '${o.id}.${l}'?`)}return r}function b6(e,t){for(const n in t)if(n in t){const r=t[n];x3(r)&&x3(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function rb(e){var t;return!!e&&(Array.isArray(e)&&(e=e[0]),Array.isArray((t=e)===null||t===void 0?void 0:t.extensions))}function M6(e){var t,n;let r;return ar(e,"null loader"),ar(rb(e),"invalid loader"),Array.isArray(e)&&(r=e[1],e=e[0],e={...e,options:{...e.options,...r}}),((t=e)!==null&&t!==void 0&&t.parseTextSync||(n=e)!==null&&n!==void 0&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}function OP(){return(()=>{const e=_6();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry})()}const VP=new I3({id:"loaders.gl"}),HP=/\.([^.]+)$/;function S6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!T6(e))return null;if(t&&!Array.isArray(t))return M6(t);let o=[];t&&(o=o.concat(t)),n!=null&&n.ignoreRegisteredLoaders||o.push(...OP()),function(c){for(const h of c)M6(h)}(o);const l=function(c,h,f,p){const m=Aa(c),I=tb(c),w=Gf(m)||(p==null?void 0:p.url);let _=null,b="";var T;return f!=null&&f.mimeType&&(_=ob(h,f==null?void 0:f.mimeType),b=`match forced by supplied MIME type ${f==null?void 0:f.mimeType}`),_=_||function(S,k){const F=k&&HP.exec(k),N=F&&F[1];return N?function(G,V){V=V.toLowerCase();for(const W of G)for(const X of W.extensions)if(X.toLowerCase()===V)return W;return null}(S,N):null}(h,w),b=b||(_?`matched url ${w}`:""),_=_||ob(h,I),b=b||(_?`matched MIME type ${I}`:""),_=_||function(S,k){if(!k)return null;for(const F of S)if(typeof k=="string"){if(zP(k,F))return F}else if(ArrayBuffer.isView(k)){if(R6(k.buffer,k.byteOffset,F))return F}else if(k instanceof ArrayBuffer&&R6(k,0,F))return F;return null}(h,c),b=b||(_?`matched initial data ${Q6(c)}`:""),f!=null&&f.fallbackMimeType&&(_=_||ob(h,f==null?void 0:f.fallbackMimeType),b=b||(_?`matched fallback MIME type ${I}`:"")),b&&VP.log(1,`selectLoader selected ${(T=_)===null||T===void 0?void 0:T.name}: ${b}.`),_}(e,o,n,r);if(!(l||n!=null&&n.nothrow))throw new Error(D6(e));return l}function T6(e){return!(e instanceof Response&&e.status===204)}function D6(e){const t=Aa(e),n=tb(e);let r="No valid loader found (";r+=t?`${$v(t)}, `:"no url provided, ",r+=`MIME type: ${n?`"${n}"`:"not provided"}, `;const o=e?Q6(e):"";return r+=o?` first bytes: "${o}"`:"first bytes: not available",r+=")",r}function ob(e,t){for(const n of e)if(n.mimeTypes&&n.mimeTypes.includes(t)||t===`application/x.${n.id}`)return n;return null}function zP(e,t){return t.testText?t.testText(e):(Array.isArray(t.tests)?t.tests:[t.tests]).some(n=>e.startsWith(n))}function R6(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(r=>function(o,l,c,h){if(h instanceof ArrayBuffer)return function(f,p,m){if(m=m||f.byteLength,f.byteLength<m||p.byteLength<m)return!1;const I=new Uint8Array(f),w=new Uint8Array(p);for(let _=0;_<I.length;++_)if(I[_]!==w[_])return!1;return!0}(h,o,h.byteLength);switch(typeof h){case"function":return h(o);case"string":return h===ab(o,l,h.length);default:return!1}}(e,t,0,r))}function Q6(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;return typeof e=="string"?e.slice(0,t):ArrayBuffer.isView(e)?ab(e.buffer,e.byteOffset,t):e instanceof ArrayBuffer?ab(e,0,t):""}function ab(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let o="";for(let l=0;l<n;l++)o+=String.fromCharCode(r.getUint8(t+l));return o}const WP=262144;function k6(e,t){return Jm?async function*(n,r){const o=n.getReader();let l;try{for(;;){const c=l||o.read();r!=null&&r._streamReadAhead&&(l=o.read());const{done:h,value:f}=await c;if(h)return;yield Fo(f)}}catch{o.releaseLock()}}(e,t):async function*(n){for await(const r of n)yield Fo(r)}(e)}function JP(e,t){if(typeof e=="string")return function*(n,r){const o=(r==null?void 0:r.chunkSize)||262144;let l=0;const c=new TextEncoder;for(;l<n.length;){const h=Math.min(n.length-l,o),f=n.slice(l,l+h);l+=h,yield c.encode(f)}}(e,t);if(e instanceof ArrayBuffer)return function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const{chunkSize:o=WP}=r;let l=0;for(;l<n.byteLength;){const c=Math.min(n.byteLength-l,o),h=new ArrayBuffer(c),f=new Uint8Array(n,l,c);new Uint8Array(h).set(f),l+=c,yield h}}()}(e,t);if(Uf(e))return async function*(n,r){const o=(r==null?void 0:r.chunkSize)||1048576;let l=0;for(;l<n.size;){const c=l+o,h=await n.slice(l,c).arrayBuffer();l=c,yield h}}(e,t);if(GE(e))return k6(e,t);if(du(e))return k6(e.body,t);throw new Error("makeIterator")}const L6="Cannot convert supplied data type";async function YP(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if(typeof e=="string"||r)return function(o,l){if(l.text&&typeof o=="string")return o;if((c=>c&&typeof c=="object"&&c.isBuffer)(o)&&(o=o.buffer),o instanceof ArrayBuffer){const c=o;return l.text&&!l.binary?new TextDecoder("utf8").decode(c):c}if(ArrayBuffer.isView(o)){if(l.text&&!l.binary)return new TextDecoder("utf8").decode(o);let c=o.buffer;const h=o.byteLength||o.length;return(o.byteOffset!==0||h!==c.byteLength)&&(c=c.slice(o.byteOffset,o.byteOffset+h)),c}throw new Error(L6)}(e,t);if(Uf(e)&&(e=await eb(e)),du(e)){const o=e;return await async function(l){if(!l.ok){const c=await async function(h){let f=`Failed to fetch resource ${h.url} (${h.status}): `;try{const p=h.headers.get("Content-Type");let m=h.statusText;p!=null&&p.includes("application/json")&&(m+=` ${await h.text()}`),f+=m,f=f.length>60?`${f.slice(0,60)}...`:f}catch{}return f}(l);throw new Error(c)}}(o),t.binary?await o.arrayBuffer():await o.text()}if(GE(e)&&(e=JP(e,n)),(o=>!!o&&typeof o[Symbol.iterator]=="function")(e)||(o=>o&&typeof o[Symbol.asyncIterator]=="function")(e))return async function(o){const l=[];for await(const c of o)l.push(c);return FP(...l)}(e);throw new Error(L6)}function P6(e,t){const n=B6(),r=e||n;return typeof r.fetch=="function"?r.fetch:Ff(r.fetch)?o=>jm(o,r.fetch):t!=null&&t.fetch?t==null?void 0:t.fetch:jm}function ZP(e,t,n){if(n)return n;const r={fetch:P6(t,e),...e};if(r.url){const o=Gf(r.url);r.baseUrl=o,r.queryString=function(l){const c=l.match(Nf);return c&&c[0]}(r.url),r.filename=$v(o),r.baseUrl=Lf(o)}return Array.isArray(r.loaders)||(r.loaders=null),r}async function lb(e,t,n,r){t&&!Array.isArray(t)&&!rb(t)&&(r=void 0,n=t,t=void 0),n=n||{};const o=Aa(e=await e),l=function(h,f){if(h&&!Array.isArray(h))return h;let p;if(h&&(p=Array.isArray(h)?h:[h]),f&&f.loaders){const m=Array.isArray(f.loaders)?f.loaders:[f.loaders];p=p?[...p,...m]:m}return p&&p.length?p:void 0}(t,r),c=await async function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2?arguments[2]:void 0,m=arguments.length>3?arguments[3]:void 0;if(!T6(h))return null;let I=S6(h,f,{...p,nothrow:!0},m);if(I)return I;if(Uf(h)&&(I=S6(h=await h.slice(0,10).arrayBuffer(),f,p,m)),!(I||p!=null&&p.nothrow))throw new Error(D6(h));return I}(e,l,n);return c?(r=ZP({url:o,_parse:lb,loaders:l},n=NP(n,c,l,o),r||null),await async function(h,f,p,m){if(function(w){hu(w,"no worker provided"),w.version}(h),p=Jv(h.options,p),du(f)){const w=f,{ok:_,redirected:b,status:T,statusText:S,type:k,url:F}=w,N=Object.fromEntries(w.headers.entries());m.response={headers:N,ok:_,redirected:b,status:T,statusText:S,type:k,url:F}}f=await YP(f,h,p);const I=h;if(I.parseTextSync&&typeof f=="string")return I.parseTextSync(f,p,m);if(function(w,_){return!(!Bs.isSupported()||!(Ta||_!=null&&_._nodeWorkers))&&w.worker&&(_==null?void 0:_.worker)}(h,p))return await PP(h,f,p,m,lb);if(I.parseText&&typeof f=="string")return await I.parseText(f,p,m);if(I.parse)return await I.parse(f,p,m);throw hu(!I.parseSync),new Error(`${h.id} loader - no parser found and worker is disabled`)}(c,e,n,r)):null}function KP(e,t,n){const r=function(l){switch(l.constructor){case Int8Array:return"int8";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int16Array:return"int16";case Uint16Array:return"uint16";case Int32Array:return"int32";case Uint32Array:return"uint32";case Float32Array:return"float32";case Float64Array:return"float64";default:return"null"}}(t.value),o=n||function(l){const c={};return"byteOffset"in l&&(c.byteOffset=l.byteOffset.toString(10)),"byteStride"in l&&(c.byteStride=l.byteStride.toString(10)),"normalized"in l&&(c.normalized=l.normalized.toString()),c}(t);return{name:e,type:{type:"fixed-size-list",listSize:t.size,children:[{name:"value",type:r}]},nullable:!1,metadata:o}}async function ty(e,t,n,r){let o,l;Array.isArray(t)||rb(t)?(o=t,l=n):(o=[],l=t);const c=P6(l);let h=e;return typeof e=="string"&&(h=await c(e)),Uf(e)&&(h=await c(e)),await lb(h,o,l)}const XP=1/Math.PI*180,jP=1/180*Math.PI;globalThis.mathgl=globalThis.mathgl||{config:{EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1}};const No=globalThis.mathgl.config;function qP(e,{precision:t=No.precision}={}){return e=function(n){return Math.round(n/No.EPSILON)*No.EPSILON}(e),"".concat(parseFloat(e.toPrecision(t)))}function Lp(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $P(e){return function(t,n){return Ab(t,r=>r*jP,n)}(e)}function tF(e){return yh(e)}function yh(e,t){return Ab(e,n=>n*XP,t)}function Vf(e,t,n){const r=No.EPSILON;n&&(No.EPSILON=n);try{if(e===t)return!0;if(Lp(e)&&Lp(t)){if(e.length!==t.length)return!1;for(let o=0;o<e.length;++o)if(!Vf(e[o],t[o]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):typeof e=="number"&&typeof t=="number"&&Math.abs(e-t)<=No.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{No.EPSILON=r}}function Ab(e,t,n){if(Lp(e)){const r=e;n=n||function(o){return o.clone?o.clone():new Array(o.length)}(r);for(let o=0;o<n.length&&o<r.length;++o){const l=typeof e=="number"?e:e[o];n[o]=t(l,o,n)}return n}return t(e)}class cb extends function(t){function n(){var r=Reflect.construct(t,Array.from(arguments));return Object.setPrototypeOf(r,Object.getPrototypeOf(this)),r}return n.prototype=Object.create(t.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t,n}(Array){clone(){return new this.constructor().copy(this)}fromArray(t,n=0){for(let r=0;r<this.ELEMENTS;++r)this[r]=t[r+n];return this.check()}toArray(t=[],n=0){for(let r=0;r<this.ELEMENTS;++r)t[n+r]=this[r];return t}toObject(t){return t}from(t){return Array.isArray(t)?this.copy(t):this.fromObject(t)}to(t){return t===this?this:Lp(t)?this.toArray(t):this.toObject(t)}toTarget(t){return t?this.to(t):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(No)}formatString(t){let n="";for(let r=0;r<this.ELEMENTS;++r)n+=(r>0?", ":"")+qP(this[r],t);return"".concat(t.printTypes?this.constructor.name:"","[").concat(n,"]")}equals(t){if(!t||this.length!==t.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(!Vf(this[n],t[n]))return!1;return!0}exactEquals(t){if(!t||this.length!==t.length)return!1;for(let n=0;n<this.ELEMENTS;++n)if(this[n]!==t[n])return!1;return!0}negate(){for(let t=0;t<this.ELEMENTS;++t)this[t]=-this[t];return this.check()}lerp(t,n,r){if(r===void 0)return this.lerp(this,t,n);for(let o=0;o<this.ELEMENTS;++o){const l=t[o],c=typeof n=="number"?n:n[o];this[o]=l+r*(c-l)}return this.check()}min(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(t[n],this[n]);return this.check()}max(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.max(t[n],this[n]);return this.check()}clamp(t,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t[r]),n[r]);return this.check()}add(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]+=n[r];return this.check()}subtract(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]-=n[r];return this.check()}scale(t){if(typeof t=="number")for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;else for(let n=0;n<this.ELEMENTS&&n<t.length;++n)this[n]*=t[n];return this.check()}multiplyByScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;return this.check()}check(){if(No.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let t=this.length===this.ELEMENTS;for(let n=0;n<this.ELEMENTS;++n)t=t&&Number.isFinite(this[n]);return t}sub(t){return this.subtract(t)}setScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]=t;return this.check()}addScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]+=t;return this.check()}subScalar(t){return this.addScalar(-t)}multiplyScalar(t){for(let n=0;n<this.ELEMENTS;++n)this[n]*=t;return this.check()}divideScalar(t){return this.multiplyByScalar(1/t)}clampScalar(t,n){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(Math.max(this[r],t),n);return this.check()}get elements(){return this}}function ms(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(JSON.stringify(e)));return e}function WE(e,t,n=""){if(No.debug&&!function(r,o){if(r.length!==o)return!1;for(let l=0;l<r.length;++l)if(!Number.isFinite(r[l]))return!1;return!0}(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}function lr(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}class hb extends cb{get x(){return this[0]}set x(t){this[0]=ms(t)}get y(){return this[1]}set y(t){this[1]=ms(t)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let t=0;for(let n=0;n<this.ELEMENTS;++n)t+=this[n]*this[n];return t}magnitudeSquared(){return this.lengthSquared()}distance(t){return Math.sqrt(this.distanceSquared(t))}distanceSquared(t){let n=0;for(let r=0;r<this.ELEMENTS;++r){const o=this[r]-t[r];n+=o*o}return ms(n)}dot(t){let n=0;for(let r=0;r<this.ELEMENTS;++r)n+=this[r]*t[r];return ms(n)}normalize(){const t=this.magnitude();if(t!==0)for(let n=0;n<this.ELEMENTS;++n)this[n]/=t;return this.check()}multiply(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]*=n[r];return this.check()}divide(...t){for(const n of t)for(let r=0;r<this.ELEMENTS;++r)this[r]/=n[r];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(t){return this.distance(t)}distanceToSquared(t){return this.distanceSquared(t)}getComponent(t){return lr(t>=0&&t<this.ELEMENTS,"index is out of range"),ms(this[t])}setComponent(t,n){return lr(t>=0&&t<this.ELEMENTS,"index is out of range"),this[t]=n,this.check()}addVectors(t,n){return this.copy(t).add(n)}subVectors(t,n){return this.copy(t).subtract(n)}multiplyVectors(t,n){return this.copy(t).multiply(n)}addScaledVector(t,n){return this.add(new this.constructor(t).multiplyScalar(n))}}const JE=1e-6;let xh=typeof Float32Array<"u"?Float32Array:Array;function F6(e,t,n){const r=t[0],o=t[1];return e[0]=n[0]*r+n[3]*o+n[6],e[1]=n[1]*r+n[4]*o+n[7],e}function U6(e,t,n){const r=t[0],o=t[1];return e[0]=n[0]*r+n[4]*o+n[12],e[1]=n[1]*r+n[5]*o+n[13],e}function N6(e,t,n){const r=t[0],o=t[1],l=n[3]*r+n[7]*o||1;return e[0]=(n[0]*r+n[4]*o)/l,e[1]=(n[1]*r+n[5]*o)/l,e}function G6(e,t,n){const r=t[0],o=t[1],l=t[2],c=n[3]*r+n[7]*o+n[11]*l||1;return e[0]=(n[0]*r+n[4]*o+n[8]*l)/c,e[1]=(n[1]*r+n[5]*o+n[9]*l)/c,e[2]=(n[2]*r+n[6]*o+n[10]*l)/c,e}function O6(e,t,n){const r=t[0],o=t[1],l=t[2];return e[0]=n[0]*r+n[3]*o+n[6]*l,e[1]=n[1]*r+n[4]*o+n[7]*l,e[2]=n[2]*r+n[5]*o+n[8]*l,e[3]=t[3],e}(function(){(function(){const e=new xh(2);return xh!=Float32Array&&(e[0]=0,e[1]=0),e})()})();let w3=class extends hb{constructor(e=0,t=0){super(2),Lp(e)&&arguments.length===1?this.copy(e):(No.debug&&(ms(e),ms(t)),this[0]=e,this[1]=t)}set(e,t){return this[0]=e,this[1]=t,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this.check()}fromObject(e){return No.debug&&(ms(e.x),ms(e.y)),this[0]=e.x,this[1]=e.y,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e}get ELEMENTS(){return 2}horizontalAngle(){return Math.atan2(this.y,this.x)}verticalAngle(){return Math.atan2(this.x,this.y)}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return U6(this,this,e),this.check()}transformAsVector(e){return N6(this,this,e),this.check()}transformByMatrix3(e){return F6(this,this,e),this.check()}transformByMatrix2x3(e){return function(t,n,r){const o=n[0],l=n[1];t[0]=r[0]*o+r[2]*l+r[4],t[1]=r[1]*o+r[3]*l+r[5]}(this,this,e),this.check()}transformByMatrix2(e){return function(t,n,r){const o=n[0],l=n[1];t[0]=r[0]*o+r[2]*l,t[1]=r[1]*o+r[3]*l}(this,this,e),this.check()}};function V6(){const e=new xh(3);return xh!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function H6(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function z6(e,t,n){const r=new xh(3);return r[0]=e,r[1]=t,r[2]=n,r}function ub(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _3(e,t,n){const r=t[0],o=t[1],l=t[2],c=n[0],h=n[1],f=n[2];return e[0]=o*f-l*h,e[1]=l*c-r*f,e[2]=r*h-o*c,e}function db(e,t,n){const r=t[0],o=t[1],l=t[2];let c=n[3]*r+n[7]*o+n[11]*l+n[15];return c=c||1,e[0]=(n[0]*r+n[4]*o+n[8]*l+n[12])/c,e[1]=(n[1]*r+n[5]*o+n[9]*l+n[13])/c,e[2]=(n[2]*r+n[6]*o+n[10]*l+n[14])/c,e}function W6(e,t,n){const r=t[0],o=t[1],l=t[2];return e[0]=r*n[0]+o*n[3]+l*n[6],e[1]=r*n[1]+o*n[4]+l*n[7],e[2]=r*n[2]+o*n[5]+l*n[8],e}function J6(e,t,n){const r=n[0],o=n[1],l=n[2],c=n[3],h=t[0],f=t[1],p=t[2];let m=o*p-l*f,I=l*h-r*p,w=r*f-o*h,_=o*w-l*I,b=l*m-r*w,T=r*I-o*m;const S=2*c;return m*=S,I*=S,w*=S,_*=2,b*=2,T*=2,e[0]=h+m+_,e[1]=f+I+b,e[2]=p+w+T,e}const eF=H6;(function(){V6()})();const fb=[0,0,0];let B3,v3,ie=class OK extends hb{static get ZERO(){return B3||(B3=new OK(0,0,0),Object.freeze(B3)),B3}constructor(t=0,n=0,r=0){super(-0,-0,-0),arguments.length===1&&Lp(t)?this.copy(t):(No.debug&&(ms(t),ms(n),ms(r)),this[0]=t,this[1]=n,this[2]=r)}set(t,n,r){return this[0]=t,this[1]=n,this[2]=r,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this.check()}fromObject(t){return No.debug&&(ms(t.x),ms(t.y),ms(t.z)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this.check()}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t}get ELEMENTS(){return 3}get z(){return this[2]}set z(t){this[2]=ms(t)}angle(t){return function(n,r){const o=n[0],l=n[1],c=n[2],h=r[0],f=r[1],p=r[2],m=Math.sqrt((o*o+l*l+c*c)*(h*h+f*f+p*p)),I=m&&ub(n,r)/m;return Math.acos(Math.min(Math.max(I,-1),1))}(this,t)}cross(t){return _3(this,this,t),this.check()}rotateX({radians:t,origin:n=fb}){return function(r,o,l,c){const h=[],f=[];h[0]=o[0]-l[0],h[1]=o[1]-l[1],h[2]=o[2]-l[2],f[0]=h[0],f[1]=h[1]*Math.cos(c)-h[2]*Math.sin(c),f[2]=h[1]*Math.sin(c)+h[2]*Math.cos(c),r[0]=f[0]+l[0],r[1]=f[1]+l[1],r[2]=f[2]+l[2]}(this,this,n,t),this.check()}rotateY({radians:t,origin:n=fb}){return function(r,o,l,c){const h=[],f=[];h[0]=o[0]-l[0],h[1]=o[1]-l[1],h[2]=o[2]-l[2],f[0]=h[2]*Math.sin(c)+h[0]*Math.cos(c),f[1]=h[1],f[2]=h[2]*Math.cos(c)-h[0]*Math.sin(c),r[0]=f[0]+l[0],r[1]=f[1]+l[1],r[2]=f[2]+l[2]}(this,this,n,t),this.check()}rotateZ({radians:t,origin:n=fb}){return function(r,o,l,c){const h=[],f=[];h[0]=o[0]-l[0],h[1]=o[1]-l[1],h[2]=o[2]-l[2],f[0]=h[0]*Math.cos(c)-h[1]*Math.sin(c),f[1]=h[0]*Math.sin(c)+h[1]*Math.cos(c),f[2]=h[2],r[0]=f[0]+l[0],r[1]=f[1]+l[1],r[2]=f[2]+l[2]}(this,this,n,t),this.check()}transform(t){return this.transformAsPoint(t)}transformAsPoint(t){return db(this,this,t),this.check()}transformAsVector(t){return G6(this,this,t),this.check()}transformByMatrix3(t){return W6(this,this,t),this.check()}transformByMatrix2(t){return function(n,r,o){const l=r[0],c=r[1];n[0]=o[0]*l+o[2]*c,n[1]=o[1]*l+o[3]*c,n[2]=r[2]}(this,this,t),this.check()}transformByQuaternion(t){return J6(this,this,t),this.check()}},nF=class VK extends hb{static get ZERO(){return v3||(v3=new VK(0,0,0,0),Object.freeze(v3)),v3}constructor(t=0,n=0,r=0,o=0){super(-0,-0,-0,-0),Lp(t)&&arguments.length===1?this.copy(t):(No.debug&&(ms(t),ms(n),ms(r),ms(o)),this[0]=t,this[1]=n,this[2]=r,this[3]=o)}set(t,n,r,o){return this[0]=t,this[1]=n,this[2]=r,this[3]=o,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return No.debug&&(ms(t.x),ms(t.y),ms(t.z),ms(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=ms(t)}get w(){return this[3]}set w(t){this[3]=ms(t)}transform(t){return db(this,this,t),this.check()}transformByMatrix3(t){return O6(this,this,t),this.check()}transformByMatrix2(t){return function(n,r,o){const l=r[0],c=r[1];n[0]=o[0]*l+o[2]*c,n[1]=o[1]*l+o[3]*c,n[2]=r[2],n[3]=r[3]}(this,this,t),this.check()}transformByQuaternion(t){return J6(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}};class Y6 extends cb{toString(){let t="[";if(No.printRowMajor){t+="row-major:";for(let n=0;n<this.RANK;++n)for(let r=0;r<this.RANK;++r)t+=" ".concat(this[r*this.RANK+n])}else{t+="column-major:";for(let n=0;n<this.ELEMENTS;++n)t+=" ".concat(this[n])}return t+="]",t}getElementIndex(t,n){return n*this.RANK+t}getElement(t,n){return this[n*this.RANK+t]}setElement(t,n,r){return this[n*this.RANK+t]=ms(r),this}getColumn(t,n=new Array(this.RANK).fill(-0)){const r=t*this.RANK;for(let o=0;o<this.RANK;++o)n[o]=this[r+o];return n}setColumn(t,n){const r=t*this.RANK;for(let o=0;o<this.RANK;++o)this[r+o]=n[o];return this}}function Z6(e,t,n){const r=t[0],o=t[1],l=t[2],c=t[3],h=t[4],f=t[5],p=t[6],m=t[7],I=t[8],w=n[0],_=n[1],b=n[2],T=n[3],S=n[4],k=n[5],F=n[6],N=n[7],G=n[8];return e[0]=w*r+_*c+b*p,e[1]=w*o+_*h+b*m,e[2]=w*l+_*f+b*I,e[3]=T*r+S*c+k*p,e[4]=T*o+S*h+k*m,e[5]=T*l+S*f+k*I,e[6]=F*r+N*c+G*p,e[7]=F*o+N*h+G*m,e[8]=F*l+N*f+G*I,e}function K6(e,t,n){const r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}var pb;(function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL1ROW0=3]="COL1ROW0",e[e.COL1ROW1=4]="COL1ROW1",e[e.COL1ROW2=5]="COL1ROW2",e[e.COL2ROW0=6]="COL2ROW0",e[e.COL2ROW1=7]="COL2ROW1",e[e.COL2ROW2=8]="COL2ROW2"})(pb||(pb={}));const iF=Object.freeze([1,0,0,0,1,0,0,0,1]);let b3,zr=class extends Y6{static get IDENTITY(){return M3||(M3=new zr,Object.freeze(M3)),M3}static get ZERO(){return b3||(b3=new zr([0,0,0,0,0,0,0,0,0]),Object.freeze(b3)),b3}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return pb}constructor(e,...t){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):t.length>0?this.copy([e,...t]):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}identity(){return this.copy(iF)}fromObject(e){return this.check()}fromQuaternion(e){return function(t,n){const r=n[0],o=n[1],l=n[2],c=n[3],h=r+r,f=o+o,p=l+l,m=r*h,I=o*h,w=o*f,_=l*h,b=l*f,T=l*p,S=c*h,k=c*f,F=c*p;t[0]=1-w-T,t[3]=I-F,t[6]=_+k,t[1]=I+F,t[4]=1-m-T,t[7]=b-S,t[2]=_-k,t[5]=b+S,t[8]=1-m-w}(this,e),this.check()}set(e,t,n,r,o,l,c,h,f){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=o,this[5]=l,this[6]=c,this[7]=h,this[8]=f,this.check()}setRowMajor(e,t,n,r,o,l,c,h,f){return this[0]=e,this[1]=r,this[2]=c,this[3]=t,this[4]=o,this[5]=h,this[6]=n,this[7]=l,this[8]=f,this.check()}determinant(){return function(e){const t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8];return t*(p*l-c*f)+n*(-p*o+c*h)+r*(f*o-l*h)}(this)}transpose(){return function(e,t){if(e===t){const n=t[1],r=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8]}(this,this),this.check()}invert(){return function(e,t){const n=t[0],r=t[1],o=t[2],l=t[3],c=t[4],h=t[5],f=t[6],p=t[7],m=t[8],I=m*c-h*p,w=-m*l+h*f,_=p*l-c*f;let b=n*I+r*w+o*_;b&&(b=1/b,e[0]=I*b,e[1]=(-m*r+o*p)*b,e[2]=(h*r-o*c)*b,e[3]=w*b,e[4]=(m*n-o*f)*b,e[5]=(-h*n+o*l)*b,e[6]=_*b,e[7]=(-p*n+r*f)*b,e[8]=(c*n-r*l)*b)}(this,this),this.check()}multiplyLeft(e){return Z6(this,e,this),this.check()}multiplyRight(e){return Z6(this,this,e),this.check()}rotate(e){return function(t,n,r){const o=n[0],l=n[1],c=n[2],h=n[3],f=n[4],p=n[5],m=n[6],I=n[7],w=n[8],_=Math.sin(r),b=Math.cos(r);t[0]=b*o+_*h,t[1]=b*l+_*f,t[2]=b*c+_*p,t[3]=b*h-_*o,t[4]=b*f-_*l,t[5]=b*p-_*c,t[6]=m,t[7]=I,t[8]=w}(this,this,e),this.check()}scale(e){return Array.isArray(e)?K6(this,this,e):K6(this,this,[e,e]),this.check()}translate(e){return function(t,n,r){const o=n[0],l=n[1],c=n[2],h=n[3],f=n[4],p=n[5],m=n[6],I=n[7],w=n[8],_=r[0],b=r[1];t[0]=o,t[1]=l,t[2]=c,t[3]=h,t[4]=f,t[5]=p,t[6]=_*o+b*h+m,t[7]=_*l+b*f+I,t[8]=_*c+b*p+w}(this,this,e),this.check()}transform(e,t){let n;switch(e.length){case 2:n=F6(t||[-0,-0],e,this);break;case 3:n=W6(t||[-0,-0,-0],e,this);break;case 4:n=O6(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return WE(n,e.length),n}transformVector(e,t){return this.transform(e,t)}transformVector2(e,t){return this.transform(e,t)}transformVector3(e,t){return this.transform(e,t)}},M3=null;function X6(e,t,n){const r=t[0],o=t[1],l=t[2],c=t[3],h=t[4],f=t[5],p=t[6],m=t[7],I=t[8],w=t[9],_=t[10],b=t[11],T=t[12],S=t[13],k=t[14],F=t[15];let N=n[0],G=n[1],V=n[2],W=n[3];return e[0]=N*r+G*h+V*I+W*T,e[1]=N*o+G*f+V*w+W*S,e[2]=N*l+G*p+V*_+W*k,e[3]=N*c+G*m+V*b+W*F,N=n[4],G=n[5],V=n[6],W=n[7],e[4]=N*r+G*h+V*I+W*T,e[5]=N*o+G*f+V*w+W*S,e[6]=N*l+G*p+V*_+W*k,e[7]=N*c+G*m+V*b+W*F,N=n[8],G=n[9],V=n[10],W=n[11],e[8]=N*r+G*h+V*I+W*T,e[9]=N*o+G*f+V*w+W*S,e[10]=N*l+G*p+V*_+W*k,e[11]=N*c+G*m+V*b+W*F,N=n[12],G=n[13],V=n[14],W=n[15],e[12]=N*r+G*h+V*I+W*T,e[13]=N*o+G*f+V*w+W*S,e[14]=N*l+G*p+V*_+W*k,e[15]=N*c+G*m+V*b+W*F,e}const sF=function(e,t,n,r,o){const l=1/Math.tan(t/2);if(e[0]=l/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,o!=null&&o!==1/0){const c=1/(r-o);e[10]=(o+r)*c,e[14]=2*o*r*c}else e[10]=-1,e[14]=-2*r;return e},rF=function(e,t,n,r,o,l,c){const h=1/(t-n),f=1/(r-o),p=1/(l-c);return e[0]=-2*h,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*f,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*p,e[11]=0,e[12]=(t+n)*h,e[13]=(o+r)*f,e[14]=(c+l)*p,e[15]=1,e};var gb;(function(){(function(){const e=new xh(4);return xh!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e})()})(),function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(gb||(gb={}));const oF=45*Math.PI/180,aF=1,mb=.1,yb=500,lF=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);let S3,T3,Ys=class extends Y6{static get IDENTITY(){return T3||(T3=new Ys,Object.freeze(T3)),T3}static get ZERO(){return S3||(S3=new Ys([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(S3)),S3}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return gb}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,n,r,o,l,c,h,f,p,m,I,w,_,b,T){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=o,this[5]=l,this[6]=c,this[7]=h,this[8]=f,this[9]=p,this[10]=m,this[11]=I,this[12]=w,this[13]=_,this[14]=b,this[15]=T,this.check()}setRowMajor(e,t,n,r,o,l,c,h,f,p,m,I,w,_,b,T){return this[0]=e,this[1]=o,this[2]=f,this[3]=w,this[4]=t,this[5]=l,this[6]=p,this[7]=_,this[8]=n,this[9]=c,this[10]=m,this[11]=b,this[12]=r,this[13]=h,this[14]=I,this[15]=T,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(lF)}fromObject(e){return this.check()}fromQuaternion(e){return function(t,n){const r=n[0],o=n[1],l=n[2],c=n[3],h=r+r,f=o+o,p=l+l,m=r*h,I=o*h,w=o*f,_=l*h,b=l*f,T=l*p,S=c*h,k=c*f,F=c*p;t[0]=1-w-T,t[1]=I+F,t[2]=_-k,t[3]=0,t[4]=I-F,t[5]=1-m-T,t[6]=b+S,t[7]=0,t[8]=_+k,t[9]=b-S,t[10]=1-m-w,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:n,bottom:r,top:o,near:l=mb,far:c=yb}=e;return c===1/0?function(h,f,p,m,I,w){const _=2*w/(p-f),b=2*w/(I-m),T=(p+f)/(p-f),S=(I+m)/(I-m),k=-1,F=-1,N=-2*w;h[0]=_,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=b,h[6]=0,h[7]=0,h[8]=T,h[9]=S,h[10]=k,h[11]=F,h[12]=0,h[13]=0,h[14]=N,h[15]=0}(this,t,n,r,o,l):function(h,f,p,m,I,w,_){const b=1/(p-f),T=1/(I-m),S=1/(w-_);h[0]=2*w*b,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*w*T,h[6]=0,h[7]=0,h[8]=(p+f)*b,h[9]=(I+m)*T,h[10]=(_+w)*S,h[11]=-1,h[12]=0,h[13]=0,h[14]=_*w*2*S,h[15]=0}(this,t,n,r,o,l,c),this.check()}lookAt(e){const{eye:t,center:n=[0,0,0],up:r=[0,1,0]}=e;return function(o,l,c,h){let f,p,m,I,w,_,b,T,S,k;const F=l[0],N=l[1],G=l[2],V=h[0],W=h[1],X=h[2],K=c[0],st=c[1],et=c[2];Math.abs(F-K)<JE&&Math.abs(N-st)<JE&&Math.abs(G-et)<JE?function(it){it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1}(o):(T=F-K,S=N-st,k=G-et,f=1/Math.sqrt(T*T+S*S+k*k),T*=f,S*=f,k*=f,p=W*k-X*S,m=X*T-V*k,I=V*S-W*T,f=Math.sqrt(p*p+m*m+I*I),f?(f=1/f,p*=f,m*=f,I*=f):(p=0,m=0,I=0),w=S*I-k*m,_=k*p-T*I,b=T*m-S*p,f=Math.sqrt(w*w+_*_+b*b),f?(f=1/f,w*=f,_*=f,b*=f):(w=0,_=0,b=0),o[0]=p,o[1]=w,o[2]=T,o[3]=0,o[4]=m,o[5]=_,o[6]=S,o[7]=0,o[8]=I,o[9]=b,o[10]=k,o[11]=0,o[12]=-(p*F+m*N+I*G),o[13]=-(w*F+_*N+b*G),o[14]=-(T*F+S*N+k*G),o[15]=1)}(this,t,n,r),this.check()}ortho(e){const{left:t,right:n,bottom:r,top:o,near:l=mb,far:c=yb}=e;return rF(this,t,n,r,o,l,c),this.check()}orthographic(e){const{fovy:t=oF,aspect:n=aF,focalDistance:r=1,near:o=mb,far:l=yb}=e;j6(t);const c=t/2,h=r*Math.tan(c),f=h*n;return this.ortho({left:-f,right:f,bottom:-h,top:h,near:o,far:l})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:n=1,near:r=.1,far:o=500}=e;return j6(t),sF(this,t,n,r,o),this.check()}determinant(){return function(e){const t=e[0],n=e[1],r=e[2],o=e[3],l=e[4],c=e[5],h=e[6],f=e[7],p=e[8],m=e[9],I=e[10],w=e[11],_=e[12],b=e[13],T=e[14],S=t*c-n*l,k=t*h-r*l,F=n*h-r*c,N=p*b-m*_,G=p*T-I*_,V=m*T-I*b;return f*(t*V-n*G+r*N)-o*(l*V-c*G+h*N)+e[15]*(p*F-m*k+I*S)-w*(_*F-b*k+T*S)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],o=1/n[1],l=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*l,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],o=1/n[1],l=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*l,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*l,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*l,e}transpose(){return function(e,t){if(e===t){const n=t[1],r=t[2],o=t[3],l=t[6],c=t[7],h=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=l,e[11]=t[14],e[12]=o,e[13]=c,e[14]=h}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}invert(){return function(e,t){const n=t[0],r=t[1],o=t[2],l=t[3],c=t[4],h=t[5],f=t[6],p=t[7],m=t[8],I=t[9],w=t[10],_=t[11],b=t[12],T=t[13],S=t[14],k=t[15],F=n*h-r*c,N=n*f-o*c,G=n*p-l*c,V=r*f-o*h,W=r*p-l*h,X=o*p-l*f,K=m*T-I*b,st=m*S-w*b,et=m*k-_*b,it=I*S-w*T,ot=I*k-_*T,ht=w*k-_*S;let vt=F*ht-N*ot+G*it+V*et-W*st+X*K;vt&&(vt=1/vt,e[0]=(h*ht-f*ot+p*it)*vt,e[1]=(o*ot-r*ht-l*it)*vt,e[2]=(T*X-S*W+k*V)*vt,e[3]=(w*W-I*X-_*V)*vt,e[4]=(f*et-c*ht-p*st)*vt,e[5]=(n*ht-o*et+l*st)*vt,e[6]=(S*G-b*X-k*N)*vt,e[7]=(m*X-w*G+_*N)*vt,e[8]=(c*ot-h*et+p*K)*vt,e[9]=(r*et-n*ot-l*K)*vt,e[10]=(b*W-T*G+k*F)*vt,e[11]=(I*G-m*W-_*F)*vt,e[12]=(h*st-c*it-f*K)*vt,e[13]=(n*it-r*st+o*K)*vt,e[14]=(T*N-b*V-S*F)*vt,e[15]=(m*V-I*N+w*F)*vt)}(this,this),this.check()}multiplyLeft(e){return X6(this,e,this),this.check()}multiplyRight(e){return X6(this,this,e),this.check()}rotateX(e){return function(t,n,r){const o=Math.sin(r),l=Math.cos(r),c=n[4],h=n[5],f=n[6],p=n[7],m=n[8],I=n[9],w=n[10],_=n[11];n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=c*l+m*o,t[5]=h*l+I*o,t[6]=f*l+w*o,t[7]=p*l+_*o,t[8]=m*l-c*o,t[9]=I*l-h*o,t[10]=w*l-f*o,t[11]=_*l-p*o}(this,this,e),this.check()}rotateY(e){return function(t,n,r){const o=Math.sin(r),l=Math.cos(r),c=n[0],h=n[1],f=n[2],p=n[3],m=n[8],I=n[9],w=n[10],_=n[11];n!==t&&(t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=c*l-m*o,t[1]=h*l-I*o,t[2]=f*l-w*o,t[3]=p*l-_*o,t[8]=c*o+m*l,t[9]=h*o+I*l,t[10]=f*o+w*l,t[11]=p*o+_*l}(this,this,e),this.check()}rotateZ(e){return function(t,n,r){const o=Math.sin(r),l=Math.cos(r),c=n[0],h=n[1],f=n[2],p=n[3],m=n[4],I=n[5],w=n[6],_=n[7];n!==t&&(t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[0]=c*l+m*o,t[1]=h*l+I*o,t[2]=f*l+w*o,t[3]=p*l+_*o,t[4]=m*l-c*o,t[5]=I*l-h*o,t[6]=w*l-f*o,t[7]=_*l-p*o}(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function(n,r,o,l){let c,h,f,p,m,I,w,_,b,T,S,k,F,N,G,V,W,X,K,st,et,it,ot,ht,vt=l[0],Ct=l[1],wt=l[2],mt=Math.sqrt(vt*vt+Ct*Ct+wt*wt);mt<JE||(mt=1/mt,vt*=mt,Ct*=mt,wt*=mt,h=Math.sin(o),c=Math.cos(o),f=1-c,p=r[0],m=r[1],I=r[2],w=r[3],_=r[4],b=r[5],T=r[6],S=r[7],k=r[8],F=r[9],N=r[10],G=r[11],V=vt*vt*f+c,W=Ct*vt*f+wt*h,X=wt*vt*f-Ct*h,K=vt*Ct*f-wt*h,st=Ct*Ct*f+c,et=wt*Ct*f+vt*h,it=vt*wt*f+Ct*h,ot=Ct*wt*f-vt*h,ht=wt*wt*f+c,n[0]=p*V+_*W+k*X,n[1]=m*V+b*W+F*X,n[2]=I*V+T*W+N*X,n[3]=w*V+S*W+G*X,n[4]=p*K+_*st+k*et,n[5]=m*K+b*st+F*et,n[6]=I*K+T*st+N*et,n[7]=w*K+S*st+G*et,n[8]=p*it+_*ot+k*ht,n[9]=m*it+b*ot+F*ht,n[10]=I*it+T*ot+N*ht,n[11]=w*it+S*ot+G*ht,r!==n&&(n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15]))}(this,this,e,t),this.check()}scale(e){return function(t,n,r){const o=r[0],l=r[1],c=r[2];t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o,t[3]=n[3]*o,t[4]=n[4]*l,t[5]=n[5]*l,t[6]=n[6]*l,t[7]=n[7]*l,t[8]=n[8]*c,t[9]=n[9]*c,t[10]=n[10]*c,t[11]=n[11]*c,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]}(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return function(t,n,r){const o=r[0],l=r[1],c=r[2];let h,f,p,m,I,w,_,b,T,S,k,F;n===t?(t[12]=n[0]*o+n[4]*l+n[8]*c+n[12],t[13]=n[1]*o+n[5]*l+n[9]*c+n[13],t[14]=n[2]*o+n[6]*l+n[10]*c+n[14],t[15]=n[3]*o+n[7]*l+n[11]*c+n[15]):(h=n[0],f=n[1],p=n[2],m=n[3],I=n[4],w=n[5],_=n[6],b=n[7],T=n[8],S=n[9],k=n[10],F=n[11],t[0]=h,t[1]=f,t[2]=p,t[3]=m,t[4]=I,t[5]=w,t[6]=_,t[7]=b,t[8]=T,t[9]=S,t[10]=k,t[11]=F,t[12]=h*o+I*l+T*c+n[12],t[13]=f*o+w*l+S*c+n[13],t[14]=p*o+_*l+k*c+n[14],t[15]=m*o+b*l+F*c+n[15])}(this,this,e),this.check()}transform(e,t){return e.length===4?(t=function(n,r,o){const l=r[0],c=r[1],h=r[2],f=r[3];return n[0]=o[0]*l+o[4]*c+o[8]*h+o[12]*f,n[1]=o[1]*l+o[5]*c+o[9]*h+o[13]*f,n[2]=o[2]*l+o[6]*c+o[10]*h+o[14]*f,n[3]=o[3]*l+o[7]*c+o[11]*h+o[15]*f,n}(t||[-0,-0,-0,-0],e,this),WE(t,4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:n}=e;let r;switch(n){case 2:r=U6(t||[-0,-0],e,this);break;case 3:r=db(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return WE(r,e.length),r}transformAsVector(e,t){let n;switch(e.length){case 2:n=N6(t||[-0,-0],e,this);break;case 3:n=G6(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return WE(n,e.length),n}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,n){return this.identity().translate([e,t,n])}};function j6(e){if(e>2*Math.PI)throw Error("expected radians")}function q6(){const e=new xh(4);return xh!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function $6(e,t,n){n*=.5;const r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function t4(e,t,n){const r=t[0],o=t[1],l=t[2],c=t[3],h=n[0],f=n[1],p=n[2],m=n[3];return e[0]=r*m+c*h+o*p-l*f,e[1]=o*m+c*f+l*h-r*p,e[2]=l*m+c*p+r*f-o*h,e[3]=c*m-r*h-o*f-l*p,e}function AF(e,t,n,r){const o=t[0],l=t[1],c=t[2],h=t[3];let f,p,m,I,w,_=n[0],b=n[1],T=n[2],S=n[3];return f=o*_+l*b+c*T+h*S,f<0&&(f=-f,_=-_,b=-b,T=-T,S=-S),1-f>JE?(p=Math.acos(f),w=Math.sin(p),m=Math.sin((1-r)*p)/w,I=Math.sin(r*p)/w):(m=1-r,I=r),e[0]=m*o+I*_,e[1]=m*l+I*b,e[2]=m*c+I*T,e[3]=m*h+I*S,e}function cF(e,t){const n=t[0]+t[4]+t[8];let r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let o=0;t[4]>t[0]&&(o=1),t[8]>t[3*o+o]&&(o=2);const l=(o+1)%3,c=(o+2)%3;r=Math.sqrt(t[3*o+o]-t[3*l+l]-t[3*c+c]+1),e[o]=.5*r,r=.5/r,e[3]=(t[3*l+c]-t[3*c+l])*r,e[l]=(t[3*l+o]+t[3*o+l])*r,e[c]=(t[3*c+o]+t[3*o+c])*r}return e}const hF=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e},uF=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},dF=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},fF=function(e,t,n,r){const o=t[0],l=t[1],c=t[2],h=t[3];return e[0]=o+r*(n[0]-o),e[1]=l+r*(n[1]-l),e[2]=c+r*(n[2]-c),e[3]=h+r*(n[3]-h),e},pF=function(e){const t=e[0],n=e[1],r=e[2],o=e[3];return Math.sqrt(t*t+n*n+r*r+o*o)},gF=function(e){const t=e[0],n=e[1],r=e[2],o=e[3];return t*t+n*n+r*r+o*o},mF=function(e,t){const n=t[0],r=t[1],o=t[2],l=t[3];let c=n*n+r*r+o*o+l*l;return c>0&&(c=1/Math.sqrt(c)),e[0]=n*c,e[1]=r*c,e[2]=o*c,e[3]=l*c,e},yF=function(){const e=V6(),t=z6(1,0,0),n=z6(0,1,0);return function(r,o,l){const c=ub(o,l);return c<-.999999?(_3(e,t,o),eF(e)<1e-6&&_3(e,n,o),function(h,f){const p=f[0],m=f[1],I=f[2];let w=p*p+m*m+I*I;w>0&&(w=1/Math.sqrt(w)),h[0]=f[0]*w,h[1]=f[1]*w,h[2]=f[2]*w}(e,e),$6(r,e,Math.PI),r):c>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(_3(e,o,l),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+c,mF(r,r))}}();(function(){q6(),q6()})(),function(){(function(){const e=new xh(9);return xh!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e})()}();const xF=[0,0,0,1];class D3 extends cb{constructor(t=0,n=0,r=0,o=1){super(-0,-0,-0,-0),Array.isArray(t)&&arguments.length===1?this.copy(t):this.set(t,n,r,o)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,n,r,o){return this[0]=t,this[1]=n,this[2]=r,this[3]=o,this.check()}fromObject(t){return this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this.check()}fromMatrix3(t){return cF(this,t),this.check()}fromAxisRotation(t,n){return $6(this,t,n),this.check()}identity(){return function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=1}(this),this.check()}setAxisAngle(t,n){return this.fromAxisRotation(t,n)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=ms(t)}get y(){return this[1]}set y(t){this[1]=ms(t)}get z(){return this[2]}set z(t){this[2]=ms(t)}get w(){return this[3]}set w(t){this[3]=ms(t)}len(){return pF(this)}lengthSquared(){return gF(this)}dot(t){return dF(this,t)}rotationTo(t,n){return yF(this,t,n),this.check()}add(t){return hF(this,this,t),this.check()}calculateW(){return function(t,n){const r=n[0],o=n[1],l=n[2];t[0]=r,t[1]=o,t[2]=l,t[3]=Math.sqrt(Math.abs(1-r*r-o*o-l*l))}(this,this),this.check()}conjugate(){return function(t,n){t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3]}(this,this),this.check()}invert(){return function(t,n){const r=n[0],o=n[1],l=n[2],c=n[3],h=r*r+o*o+l*l+c*c,f=h?1/h:0;t[0]=-r*f,t[1]=-o*f,t[2]=-l*f,t[3]=c*f}(this,this),this.check()}lerp(t,n,r){return r===void 0?this.lerp(this,t,n):(fF(this,t,n,r),this.check())}multiplyRight(t){return t4(this,this,t),this.check()}multiplyLeft(t){return t4(this,t,this),this.check()}normalize(){const t=this.len(),n=t>0?1/t:0;return this[0]=this[0]*n,this[1]=this[1]*n,this[2]=this[2]*n,this[3]=this[3]*n,t===0&&(this[3]=1),this.check()}rotateX(t){return function(n,r,o){o*=.5;const l=r[0],c=r[1],h=r[2],f=r[3],p=Math.sin(o),m=Math.cos(o);n[0]=l*m+f*p,n[1]=c*m+h*p,n[2]=h*m-c*p,n[3]=f*m-l*p}(this,this,t),this.check()}rotateY(t){return function(n,r,o){o*=.5;const l=r[0],c=r[1],h=r[2],f=r[3],p=Math.sin(o),m=Math.cos(o);n[0]=l*m-h*p,n[1]=c*m+f*p,n[2]=h*m+l*p,n[3]=f*m-c*p}(this,this,t),this.check()}rotateZ(t){return function(n,r,o){o*=.5;const l=r[0],c=r[1],h=r[2],f=r[3],p=Math.sin(o),m=Math.cos(o);n[0]=l*m+c*p,n[1]=c*m-l*p,n[2]=h*m+f*p,n[3]=f*m-h*p}(this,this,t),this.check()}scale(t){return uF(this,this,t),this.check()}slerp(t,n,r){let o,l,c;switch(arguments.length){case 1:({start:o=xF,target:l,ratio:c}=t);break;case 2:o=this,l=t,c=n;break;default:o=t,l=n,c=r}return AF(this,o,l,c),this.check()}transformVector4(t,n=new nF){return function(r,o,l){const c=o[0],h=o[1],f=o[2],p=l[0],m=l[1],I=l[2],w=l[3],_=w*c+m*f-I*h,b=w*h+I*c-p*f,T=w*f+p*h-m*c,S=-p*c-m*h-I*f;r[0]=_*w+S*-p+b*-I-T*-m,r[1]=b*w+S*-m+T*-p-_*-I,r[2]=T*w+S*-I+_*-m-b*-p,r[3]=o[3]}(n,t,this),WE(n,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,n){return this.setAxisAngle(t,n)}premultiply(t){return this.multiplyLeft(t)}multiply(t){return this.multiplyRight(t)}}function YE(e){return YE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YE(e)}function CF(e){var t=function(n,r){if(YE(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var l=o.call(n,r);if(YE(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return YE(t)=="symbol"?t:String(t)}function li(e,t,n){return(t=CF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R3(e){return e}function EF(e,t=[]){return function(n,r=[],o=R3){return"longitude"in n?(r[0]=o(n.longitude),r[1]=o(n.latitude),r[2]=n.height):"x"in n?(r[0]=o(n.x),r[1]=o(n.y),r[2]=n.z):(r[0]=o(n[0]),r[1]=o(n[1]),r[2]=n[2]),r}(e,t,No._cartographicRadians?R3:$P)}function FG(e,t){return function(n,r,o=R3){return"longitude"in r?(r.longitude=o(n[0]),r.latitude=o(n[1]),r.height=n[2]):"x"in r?(r.x=o(n[0]),r.y=o(n[1]),r.z=n[2]):(r[0]=o(n[0]),r[1]=o(n[1]),r[2]=n[2]),r}(e,t,No._cartographicRadians?R3:tF)}new ie;const UG=new ie,IF={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},e4={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Q3={east:new ie,north:new ie,up:new ie,west:new ie,south:new ie,down:new ie},NG=new ie,GG=new ie,OG=new ie;function wF(e,t,n,r,o,l){const c=IF[t]&&IF[t][n];let h,f,p;lr(c&&(!r||r===c));const m=UG.copy(o);if(Vf(m.x,0,1e-14)&&Vf(m.y,0,1e-14)){const I=Math.sign(m.z);h=NG.fromArray(e4[t]),t!=="east"&&t!=="west"&&h.scale(I),f=GG.fromArray(e4[n]),n!=="east"&&n!=="west"&&f.scale(I),p=OG.fromArray(e4[r]),r!=="east"&&r!=="west"&&p.scale(I)}else{const{up:I,east:w,north:_}=Q3;w.set(-m.y,m.x,0).normalize(),e.geodeticSurfaceNormal(m,I),_.copy(I).cross(w);const{down:b,west:T,south:S}=Q3;b.copy(I).scale(-1),T.copy(w).scale(-1),S.copy(_).scale(-1),h=Q3[t],f=Q3[n],p=Q3[r]}return l[0]=h.x,l[1]=h.y,l[2]=h.z,l[3]=0,l[4]=f.x,l[5]=f.y,l[6]=f.z,l[7]=0,l[8]=p.x,l[9]=p.y,l[10]=p.z,l[11]=0,l[12]=m.x,l[13]=m.y,l[14]=m.z,l[15]=1,l}const ZE=new ie,VG=new ie,HG=new ie,xb=new ie,_F=new ie,zG=new ie,pu=new ie,WG=new ie,Cb=new ie;let Zs=class{constructor(e=0,t=0,n=0){li(this,"radii",void 0),li(this,"radiiSquared",void 0),li(this,"radiiToTheFourth",void 0),li(this,"oneOverRadii",void 0),li(this,"oneOverRadiiSquared",void 0),li(this,"minimumRadius",void 0),li(this,"maximumRadius",void 0),li(this,"centerToleranceSquared",.1),li(this,"squaredXOverSquaredZ",void 0),lr(e>=0),lr(t>=0),lr(n>=0),this.radii=new ie(e,t,n),this.radiiSquared=new ie(e*e,t*t,n*n),this.radiiToTheFourth=new ie(e*e*e*e,t*t*t*t,n*n*n*n),this.oneOverRadii=new ie(e===0?0:1/e,t===0?0:1/t,n===0?0:1/n),this.oneOverRadiiSquared=new ie(e===0?0:1/(e*e),t===0?0:1/(t*t),n===0?0:1/(n*n)),this.minimumRadius=Math.min(e,t,n),this.maximumRadius=Math.max(e,t,n),this.radiiSquared.z!==0&&(this.squaredXOverSquaredZ=this.radiiSquared.x/this.radiiSquared.z),Object.freeze(this)}equals(e){return this===e||!(!e||!this.radii.equals(e.radii))}toString(){return this.radii.toString()}cartographicToCartesian(e,t=[0,0,0]){const n=_F,r=zG,[,,o]=e;this.geodeticSurfaceNormalCartographic(e,n),r.copy(this.radiiSquared).scale(n);const l=Math.sqrt(n.dot(r));return r.scale(1/l),n.scale(o),r.add(n),r.to(t)}cartesianToCartographic(e,t=[0,0,0]){Cb.from(e);const n=this.scaleToGeodeticSurface(Cb,pu);if(!n)return;const r=this.geodeticSurfaceNormal(n,_F),o=WG;return o.copy(Cb).subtract(n),FG([Math.atan2(r.y,r.x),Math.asin(r.z),Math.sign(ub(o,Cb))*H6(o)],t)}eastNorthUpToFixedFrame(e,t=new Ys){return wF(this,"east","north","up",e,t)}localFrameToFixedFrame(e,t,n,r,o=new Ys){return wF(this,e,t,n,r,o)}geocentricSurfaceNormal(e,t=[0,0,0]){return xb.from(e).normalize().to(t)}geodeticSurfaceNormalCartographic(e,t=[0,0,0]){const n=EF(e),r=n[0],o=n[1],l=Math.cos(o);return xb.set(l*Math.cos(r),l*Math.sin(r),Math.sin(o)).normalize(),xb.to(t)}geodeticSurfaceNormal(e,t=[0,0,0]){return xb.from(e).scale(this.oneOverRadiiSquared).normalize().to(t)}scaleToGeodeticSurface(e,t){return function(n,r,o=[]){const{oneOverRadii:l,oneOverRadiiSquared:c,centerToleranceSquared:h}=r;ZE.from(n);const f=ZE.x,p=ZE.y,m=ZE.z,I=l.x,w=l.y,_=l.z,b=f*f*I*I,T=p*p*w*w,S=m*m*_*_,k=b+T+S,F=Math.sqrt(1/k);if(!Number.isFinite(F))return;const N=VG;if(N.copy(n).scale(F),k<h)return N.to(o);const G=c.x,V=c.y,W=c.z,X=HG;X.set(N.x*G*2,N.y*V*2,N.z*W*2);let K,st,et,it,ot=(1-F)*ZE.len()/(.5*X.len()),ht=0;do{ot-=ht,K=1/(1+ot*G),st=1/(1+ot*V),et=1/(1+ot*W);const vt=K*K,Ct=st*st,wt=et*et;it=b*vt+T*Ct+S*wt-1,ht=it/(-2*(b*(vt*K)*G+T*(Ct*st)*V+S*(wt*et)*W))}while(Math.abs(it)>1e-12);return ZE.scale([K,st,et]).to(o)}(e,this,t)}scaleToGeocentricSurface(e,t=[0,0,0]){pu.from(e);const n=pu.x,r=pu.y,o=pu.z,l=this.oneOverRadiiSquared,c=1/Math.sqrt(n*n*l.x+r*r*l.y+o*o*l.z);return pu.multiplyScalar(c).to(t)}transformPositionToScaledSpace(e,t=[0,0,0]){return pu.from(e).scale(this.oneOverRadii).to(t)}transformPositionFromScaledSpace(e,t=[0,0,0]){return pu.from(e).scale(this.radii).to(t)}getSurfaceNormalIntersectionWithZAxis(e,t=0,n=[0,0,0]){lr(Vf(this.radii.x,this.radii.y,1e-15)),lr(this.radii.z>0),pu.from(e);const r=pu.z*(1-this.squaredXOverSquaredZ);if(!(Math.abs(r)>=this.radii.z-t))return pu.set(0,0,r).to(n)}};li(Zs,"WGS84",new Zs(6378137,6378137,6356752314245179e-9));const k3=-1,L3=0,n4=1;new ie,new ie;const P3=new ie,BF=new ie;let i4=class HK{constructor(t=[0,0,0],n=0){li(this,"center",void 0),li(this,"radius",void 0),this.radius=-0,this.center=new ie,this.fromCenterRadius(t,n)}fromCenterRadius(t,n){return this.center.from(t),this.radius=n,this}fromCornerPoints(t,n){return n=P3.from(n),this.center=new ie().from(t).add(n).scale(.5),this.radius=this.center.distance(n),this}equals(t){return this===t||!!t&&this.center.equals(t.center)&&this.radius===t.radius}clone(){return new HK(this.center,this.radius)}union(t){const n=this.center,r=this.radius,o=t.center,l=t.radius,c=P3.copy(o).subtract(n),h=c.magnitude();if(r>=h+l)return this.clone();if(l>=h+r)return t.clone();const f=.5*(r+h+l);return BF.copy(c).scale((-r+f)/h).add(n),this.center.copy(BF),this.radius=f,this}expand(t){const n=P3.from(t).subtract(this.center).magnitude();return n>this.radius&&(this.radius=n),this}transform(t){this.center.transform(t);const n=function(r,o){const l=o[0],c=o[1],h=o[2],f=o[4],p=o[5],m=o[6],I=o[8],w=o[9],_=o[10];return r[0]=Math.sqrt(l*l+c*c+h*h),r[1]=Math.sqrt(f*f+p*p+m*m),r[2]=Math.sqrt(I*I+w*w+_*_),r}(P3,t);return this.radius=Math.max(n[0],Math.max(n[1],n[2]))*this.radius,this}distanceSquaredTo(t){const n=this.distanceTo(t);return n*n}distanceTo(t){const n=P3.from(t).subtract(this.center);return Math.max(0,n.len()-this.radius)}intersectPlane(t){const n=this.center,r=this.radius,o=t.normal.dot(n)+t.distance;return o<-r?k3:o<r?L3:n4}};const JG=new ie,YG=new ie,Eb=new ie,Ib=new ie,wb=new ie,ZG=new ie,KG=new ie,XG=0,jG=1,Qi=2,on=3,Ch=4,F3=5,Pp=6,vF=7,bF=8;let _b=class zK{constructor(t=[0,0,0],n=[0,0,0,0,0,0,0,0,0]){li(this,"center",void 0),li(this,"halfAxes",void 0),this.center=new ie().from(t),this.halfAxes=new zr(n)}get halfSize(){const t=this.halfAxes.getColumn(0),n=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2);return[new ie(t).len(),new ie(n).len(),new ie(r).len()]}get quaternion(){const t=this.halfAxes.getColumn(0),n=this.halfAxes.getColumn(1),r=this.halfAxes.getColumn(2),o=new ie(t).normalize(),l=new ie(n).normalize(),c=new ie(r).normalize();return new D3().fromMatrix3(new zr([...o,...l,...c]))}fromCenterHalfSizeQuaternion(t,n,r){const o=new D3(r),l=new zr().fromQuaternion(o);return l[0]=l[0]*n[0],l[1]=l[1]*n[0],l[2]=l[2]*n[0],l[3]=l[3]*n[1],l[4]=l[4]*n[1],l[5]=l[5]*n[1],l[6]=l[6]*n[2],l[7]=l[7]*n[2],l[8]=l[8]*n[2],this.center=new ie().from(t),this.halfAxes=l,this}clone(){return new zK(this.center,this.halfAxes)}equals(t){return this===t||!!t&&this.center.equals(t.center)&&this.halfAxes.equals(t.halfAxes)}getBoundingSphere(t=new i4){const n=this.halfAxes,r=n.getColumn(0,Eb),o=n.getColumn(1,Ib),l=n.getColumn(2,wb),c=JG.copy(r).add(o).add(l);return t.center.copy(this.center),t.radius=c.magnitude(),t}intersectPlane(t){const n=this.center,r=t.normal,o=this.halfAxes,l=r.x,c=r.y,h=r.z,f=Math.abs(l*o[XG]+c*o[jG]+h*o[Qi])+Math.abs(l*o[on]+c*o[Ch]+h*o[F3])+Math.abs(l*o[Pp]+c*o[vF]+h*o[bF]),p=r.dot(n)+t.distance;return p<=-f?k3:p>=f?n4:L3}distanceTo(t){return Math.sqrt(this.distanceSquaredTo(t))}distanceSquaredTo(t){const n=YG.from(t).subtract(this.center),r=this.halfAxes,o=r.getColumn(0,Eb),l=r.getColumn(1,Ib),c=r.getColumn(2,wb),h=o.magnitude(),f=l.magnitude(),p=c.magnitude();o.normalize(),l.normalize(),c.normalize();let m,I=0;return m=Math.abs(n.dot(o))-h,m>0&&(I+=m*m),m=Math.abs(n.dot(l))-f,m>0&&(I+=m*m),m=Math.abs(n.dot(c))-p,m>0&&(I+=m*m),I}computePlaneDistances(t,n,r=[-0,-0]){let o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;const c=this.center,h=this.halfAxes,f=h.getColumn(0,Eb),p=h.getColumn(1,Ib),m=h.getColumn(2,wb),I=ZG.copy(f).add(p).add(m).add(c),w=KG.copy(I).subtract(t);let _=n.dot(w);return o=Math.min(_,o),l=Math.max(_,l),I.copy(c).add(f).add(p).subtract(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),I.copy(c).add(f).subtract(p).add(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),I.copy(c).add(f).subtract(p).subtract(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),c.copy(I).subtract(f).add(p).add(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),c.copy(I).subtract(f).add(p).subtract(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),c.copy(I).subtract(f).subtract(p).add(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),c.copy(I).subtract(f).subtract(p).subtract(m),w.copy(I).subtract(t),_=n.dot(w),o=Math.min(_,o),l=Math.max(_,l),r[0]=o,r[1]=l,r}transform(t){this.center.transformAsPoint(t);const n=this.halfAxes.getColumn(0,Eb);n.transformAsPoint(t);const r=this.halfAxes.getColumn(1,Ib);r.transformAsPoint(t);const o=this.halfAxes.getColumn(2,wb);return o.transformAsPoint(t),this.halfAxes=new zr([...n,...r,...o]),this}getTransform(){throw new Error("not implemented")}};const s4=new ie,r4=new ie;class ca{constructor(t=[0,0,1],n=0){li(this,"normal",void 0),li(this,"distance",void 0),this.normal=new ie,this.distance=-0,this.fromNormalDistance(t,n)}fromNormalDistance(t,n){return lr(Number.isFinite(n)),this.normal.from(t).normalize(),this.distance=n,this}fromPointNormal(t,n){t=s4.from(t),this.normal.from(n).normalize();const r=-this.normal.dot(t);return this.distance=r,this}fromCoefficients(t,n,r,o){return this.normal.set(t,n,r),lr(Vf(this.normal.len(),1)),this.distance=o,this}clone(){return new ca(this.normal,this.distance)}equals(t){return Vf(this.distance,t.distance)&&Vf(this.normal,t.normal)}getPointDistance(t){return this.normal.dot(t)+this.distance}transform(t){const n=r4.copy(this.normal).transformAsVector(t).normalize(),r=this.normal.scale(-this.distance).transform(t);return this.fromPointNormal(r,n)}projectPointOntoPlane(t,n=[0,0,0]){const r=s4.from(t),o=this.getPointDistance(r),l=r4.copy(this.normal).scale(o);return r.subtract(l).to(n)}}const o4=[new ie([1,0,0]),new ie([0,1,0]),new ie([0,0,1])],KE=new ie,ey=new ie;let gu=class xT{constructor(t=[]){li(this,"planes",void 0),this.planes=t}fromBoundingSphere(t){this.planes.length=2*o4.length;const n=t.center,r=t.radius;let o=0;for(const l of o4){let c=this.planes[o],h=this.planes[o+1];c||(c=this.planes[o]=new ca),h||(h=this.planes[o+1]=new ca);const f=KE.copy(l).scale(-r).add(n);c.fromPointNormal(f,l);const p=KE.copy(l).scale(r).add(n),m=ey.copy(l).negate();h.fromPointNormal(p,m),o+=2}return this}computeVisibility(t){let n=n4;for(const r of this.planes)switch(t.intersectPlane(r)){case k3:return k3;case L3:n=L3}return n}computeVisibilityWithPlaneMask(t,n){if(lr(Number.isFinite(n),"parentPlaneMask is required."),n===xT.MASK_OUTSIDE||n===xT.MASK_INSIDE)return n;let r=xT.MASK_INSIDE;const o=this.planes;for(let l=0;l<this.planes.length;++l){const c=l<31?1<<l:0;if(l<31&&!(n&c))continue;const h=o[l],f=t.intersectPlane(h);if(f===k3)return xT.MASK_OUTSIDE;f===L3&&(r|=c)}return r}};li(gu,"MASK_OUTSIDE",4294967295),li(gu,"MASK_INSIDE",0),li(gu,"MASK_INDETERMINATE",2147483647);const Fp=new ie,Bb=new ie,a4=new ie,vb=new ie,bb=new ie;let Mb=class RG{constructor(t={}){li(this,"left",void 0),li(this,"_left",void 0),li(this,"right",void 0),li(this,"_right",void 0),li(this,"top",void 0),li(this,"_top",void 0),li(this,"bottom",void 0),li(this,"_bottom",void 0),li(this,"near",void 0),li(this,"_near",void 0),li(this,"far",void 0),li(this,"_far",void 0),li(this,"_cullingVolume",new gu([new ca,new ca,new ca,new ca,new ca,new ca])),li(this,"_perspectiveMatrix",new Ys),li(this,"_infinitePerspective",new Ys);const{near:n=1,far:r=5e8}=t;this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=n,this._near=n,this.far=r,this._far=r}clone(){return new RG({right:this.right,left:this.left,top:this.top,bottom:this.bottom,near:this.near,far:this.far})}equals(t){return t&&t instanceof RG&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far}get projectionMatrix(){return this._update(),this._perspectiveMatrix}get infiniteProjectionMatrix(){return this._update(),this._infinitePerspective}computeCullingVolume(t,n,r){lr(t,"position is required."),lr(n,"direction is required."),lr(r,"up is required.");const o=this._cullingVolume.planes;r=Fp.copy(r).normalize();const l=Bb.copy(n).cross(r).normalize(),c=a4.copy(n).multiplyByScalar(this.near).add(t),h=vb.copy(n).multiplyByScalar(this.far).add(t);let f=bb;return f.copy(l).multiplyByScalar(this.left).add(c).subtract(t).cross(r),o[0].fromPointNormal(t,f),f.copy(l).multiplyByScalar(this.right).add(c).subtract(t).cross(r).negate(),o[1].fromPointNormal(t,f),f.copy(r).multiplyByScalar(this.bottom).add(c).subtract(t).cross(l).negate(),o[2].fromPointNormal(t,f),f.copy(r).multiplyByScalar(this.top).add(c).subtract(t).cross(l),o[3].fromPointNormal(t,f),f=new ie().copy(n),o[4].fromPointNormal(c,f),f.negate(),o[5].fromPointNormal(h,f),this._cullingVolume}getPixelDimensions(t,n,r,o){this._update(),lr(Number.isFinite(t)&&Number.isFinite(n)),lr(t>0),lr(n>0),lr(r>0),lr(o);const l=1/this.near;let c=this.top*l;const h=2*r*c/n;c=this.right*l;const f=2*r*c/t;return o.x=f,o.y=h,o}_update(){lr(Number.isFinite(this.right)&&Number.isFinite(this.left)&&Number.isFinite(this.top)&&Number.isFinite(this.bottom)&&Number.isFinite(this.near)&&Number.isFinite(this.far));const{top:t,bottom:n,right:r,left:o,near:l,far:c}=this;(t!==this._top||n!==this._bottom||o!==this._left||r!==this._right||l!==this._near||c!==this._far)&&(lr(this.near>0&&this.near<this.far,"near must be greater than zero and less than far."),this._left=o,this._right=r,this._top=t,this._bottom=n,this._near=l,this._far=c,this._perspectiveMatrix=new Ys().frustum({left:o,right:r,bottom:n,top:t,near:l,far:c}),this._infinitePerspective=new Ys().frustum({left:o,right:r,bottom:n,top:t,near:l,far:1/0}))}},Sb=class QG{constructor(t={}){li(this,"_offCenterFrustum",new Mb),li(this,"fov",void 0),li(this,"_fov",void 0),li(this,"_fovy",void 0),li(this,"_sseDenominator",void 0),li(this,"aspectRatio",void 0),li(this,"_aspectRatio",void 0),li(this,"near",void 0),li(this,"_near",void 0),li(this,"far",void 0),li(this,"_far",void 0),li(this,"xOffset",void 0),li(this,"_xOffset",void 0),li(this,"yOffset",void 0),li(this,"_yOffset",void 0);const{fov:n,aspectRatio:r,near:o=1,far:l=5e8,xOffset:c=0,yOffset:h=0}=t;this.fov=n,this.aspectRatio=r,this.near=o,this.far=l,this.xOffset=c,this.yOffset=h}clone(){return new QG({aspectRatio:this.aspectRatio,fov:this.fov,near:this.near,far:this.far})}equals(t){return!!((n=>n!==null&&typeof n<"u")(t)&&t instanceof QG)&&(this._update(),t._update(),this.fov===t.fov&&this.aspectRatio===t.aspectRatio&&this.near===t.near&&this.far===t.far&&this._offCenterFrustum.equals(t._offCenterFrustum))}get projectionMatrix(){return this._update(),this._offCenterFrustum.projectionMatrix}get infiniteProjectionMatrix(){return this._update(),this._offCenterFrustum.infiniteProjectionMatrix}get fovy(){return this._update(),this._fovy}get sseDenominator(){return this._update(),this._sseDenominator}computeCullingVolume(t,n,r){return this._update(),this._offCenterFrustum.computeCullingVolume(t,n,r)}getPixelDimensions(t,n,r,o){return this._update(),this._offCenterFrustum.getPixelDimensions(t,n,r,o||new w3)}_update(){lr(Number.isFinite(this.fov)&&Number.isFinite(this.aspectRatio)&&Number.isFinite(this.near)&&Number.isFinite(this.far));const t=this._offCenterFrustum;(this.fov!==this._fov||this.aspectRatio!==this._aspectRatio||this.near!==this._near||this.far!==this._far||this.xOffset!==this._xOffset||this.yOffset!==this._yOffset)&&(lr(this.fov>=0&&this.fov<Math.PI),lr(this.aspectRatio>0),lr(this.near>=0&&this.near<this.far),this._aspectRatio=this.aspectRatio,this._fov=this.fov,this._fovy=this.aspectRatio<=1?this.fov:2*Math.atan(Math.tan(.5*this.fov)/this.aspectRatio),this._near=this.near,this._far=this.far,this._sseDenominator=2*Math.tan(.5*this._fovy),this._xOffset=this.xOffset,this._yOffset=this.yOffset,t.top=this.near*Math.tan(.5*this._fovy),t.bottom=-t.top,t.right=this.aspectRatio*t.top,t.left=-t.right,t.near=this.near,t.far=this.far,t.right+=this.xOffset,t.left+=this.xOffset,t.top+=this.yOffset,t.bottom+=this.yOffset)}};new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie;const za=new zr,ny=new zr,l4=new zr,iy=new zr,A4=new zr;function c4(e,t={}){let n=0,r=0;const o=ny,l=l4;o.identity(),l.copy(e);const c=1e-20*function(h){let f=0;for(let p=0;p<9;++p){const m=h[p];f+=m*m}return Math.sqrt(f)}(l);for(;r<10&&h4(l)>c;)u4(l,iy),A4.copy(iy).transpose(),l.multiplyRight(iy),l.multiplyLeft(A4),o.multiplyRight(iy),++n>2&&(++r,n=0);return t.unitary=o.toTarget(t.unitary),t.diagonal=l.toTarget(t.diagonal),t}const sy=[1,0,0],Tb=[2,2,1];function h4(e){let t=0;for(let n=0;n<3;++n){const r=e[za.getElementIndex(Tb[n],sy[n])];t+=2*r*r}return Math.sqrt(t)}function u4(e,t){let n=0,r=1;for(let f=0;f<3;++f){const p=Math.abs(e[za.getElementIndex(Tb[f],sy[f])]);p>n&&(r=f,n=p)}const o=sy[r],l=Tb[r];let c=1,h=0;if(Math.abs(e[za.getElementIndex(l,o)])>1e-15){const f=(e[za.getElementIndex(l,l)]-e[za.getElementIndex(o,o)])/2/e[za.getElementIndex(l,o)];let p;p=f<0?-1/(-f+Math.sqrt(1+f*f)):1/(f+Math.sqrt(1+f*f)),c=1/Math.sqrt(1+p*p),h=p*c}return zr.IDENTITY.to(t),t[za.getElementIndex(o,o)]=t[za.getElementIndex(l,l)]=c,t[za.getElementIndex(l,o)]=h,t[za.getElementIndex(o,l)]=-h,t}const mu=new ie,MF=new ie,SF=new ie,TF=new ie,DF=new ie,RF=new zr,QF={diagonal:new zr,unitary:new zr};let d4=function(e){return e[e.ADD=1]="ADD",e[e.REPLACE=2]="REPLACE",e}({}),ry=function(e){return e.EMPTY="empty",e.SCENEGRAPH="scenegraph",e.POINTCLOUD="pointcloud",e.MESH="mesh",e}({}),f4=function(e){return e.I3S="I3S",e.TILES3D="TILES3D",e}({}),XE=function(e){return e.GEOMETRIC_ERROR="geometricError",e.MAX_SCREEN_THRESHOLD="maxScreenThreshold",e}({});const Db="4.1.1",p4="cmpt",g4="pnts",m4="b3dm",y4="i3dm",x4="glTF";function Rb(e,t,n){ar(e instanceof ArrayBuffer);const r=new TextDecoder("utf8"),o=new Uint8Array(e,t,n);return r.decode(o)}const C4={name:"Draco",id:"draco",module:"draco",version:"4.1.1",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:typeof WebAssembly=="object"?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};function Up(e,t,n){return KP(e,t,n?mo(n.metadata):void 0)}function mo(e){Object.entries(e);const t={};for(const n in e)t[`${n}.string`]=JSON.stringify(e[n]);return t}const yo={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},U3={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};let kF=class{constructor(e){this.draco=void 0,this.decoder=void 0,this.metadataQuerier=void 0,this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new this.draco.DecoderBuffer;n.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(n),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let l;switch(r){case this.draco.TRIANGULAR_MESH:l=this.decoder.DecodeBufferToMesh(n,o);break;case this.draco.POINT_CLOUD:l=this.decoder.DecodeBufferToPointCloud(n,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!l.ok()||!o.ptr){const m=`DRACO decompression failed: ${l.error_msg()}`;throw new Error(m)}const c=this._getDracoLoaderData(o,r,t),h=this._getMeshData(o,c,t),f=function(m){let I=1/0,w=1/0,_=1/0,b=-1/0,T=-1/0,S=-1/0;const k=m.POSITION?m.POSITION.value:[],F=k&&k.length;for(let N=0;N<F;N+=3){const G=k[N],V=k[N+1],W=k[N+2];I=G<I?G:I,w=V<w?V:w,_=W<_?W:_,b=G>b?G:b,T=V>T?V:T,S=W>S?W:S}return[[I,w,_],[b,T,S]]}(h.attributes),p=function(m,I,w){const _=mo(I.metadata),b=[],T=function(S){const k={};for(const F in S){const N=S[F];k[N.name||"undefined"]=N}return k}(I.attributes);for(const S in m){const k=Up(S,m[S],T[S]);b.push(k)}if(w){const S=Up("indices",w);b.push(S)}return{fields:b,metadata:_}}(h.attributes,c,h.indices);return{loader:"draco",loaderData:c,header:{vertexCount:o.num_points(),boundingBox:f},...h,schema:p}}finally{this.draco.destroy(n),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,n){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,n);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const n={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),l=this._getAttributeMetadata(e,r);n[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:l};const c=this._getQuantizationTransform(o,t);c&&(n[o.unique_id()].quantization_transform=c);const h=this._getOctahedronTransform(o,t);h&&(n[o.unique_id()].octahedron_transform=h)}return n}_getMeshData(e,t,n){const r=this._getMeshAttributes(t,e,n);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?n.topology==="triangle-strip"?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,n){const r={};for(const o of Object.values(e.attributes)){const l=this._deduceAttributeName(o,n);o.name=l;const{value:c,size:h}=this._getAttributeValues(t,o);r[l]={value:c,size:h,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const t=3*e.num_faces(),n=4*t,r=this.draco._malloc(n);try{return this.decoder.GetTrianglesUInt32Array(e,n,r),new Uint32Array(this.draco.HEAPF32.buffer,r,t).slice()}finally{this.draco._free(r)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function(n){const r=n.size(),o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=n.GetValue(l);return o}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const n=U3[t.data_type],r=t.num_components,o=e.num_points()*r,l=o*n.BYTES_PER_ELEMENT,c=function(p,m){switch(m){case Float32Array:return p.DT_FLOAT32;case Int8Array:return p.DT_INT8;case Int16Array:return p.DT_INT16;case Int32Array:return p.DT_INT32;case Uint8Array:return p.DT_UINT8;case Uint16Array:return p.DT_UINT16;case Uint32Array:return p.DT_UINT32;default:return p.DT_INVALID}}(this.draco,n);let h;const f=this.draco._malloc(l);try{const p=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,p,c,l,f),h=new n(this.draco.HEAPF32.buffer,f,o).slice()}finally{this.draco._free(f)}return{value:h,size:r}}_deduceAttributeName(e,t){const n=e.unique_id;for(const[l,c]of Object.entries(t.extraAttributes||{}))if(c===n)return l;const r=e.attribute_type;for(const l in yo)if(this.draco[l]===r)return yo[l];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:`CUSTOM_ATTRIBUTE_${n}`}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const n=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(n)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},n=this.metadataQuerier.NumEntries(e);for(let r=0;r<n;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const n=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,n);const r=function(o){const l=o.size(),c=new Int32Array(l);for(let h=0;h<l;h++)c[h]=o.GetValue(h);return c}(n);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(n)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:n=[]}=e,r=[...t,...n];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:n=[]}=t,r=e.attribute_type();if(n.map(o=>this.decoder[o]).includes(r)){const o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits(),range:o.range(),min_values:new Float32Array([1,2,3]).map(l=>o.min_value(l))}}finally{this.draco.destroy(o)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:n=[]}=t,r=e.attribute_type();if(n.map(o=>this.decoder[o]).includes(r)){const o=new this.draco.AttributeQuantizationTransform;try{if(o.InitFromAttribute(e))return{quantization_bits:o.quantization_bits()}}finally{this.draco.destroy(o)}}return null}};const Qb="https://www.gstatic.com/draco/versioned/decoders/1.5.6",N3="draco_wasm_wrapper.js",G3="draco_decoder.wasm",O3="draco_decoder.js",E4="draco_encoder.js",kb={[N3]:`${Qb}/${N3}`,[G3]:`${Qb}/${G3}`,[O3]:`${Qb}/${O3}`,[E4]:`https://raw.githubusercontent.com/google/draco/1.4.1/javascript/${E4}`};let V3;async function LF(e){const t=e.modules||{};return V3=t.draco3d?V3||t.draco3d.createDecoderModule({}).then(n=>({draco:n})):V3||async function(n){let r,o;return(n.draco&&n.draco.decoderType)==="js"?r=await Rp(kb[O3],"draco",n,O3):[r,o]=await Promise.all([await Rp(kb[N3],"draco",n,N3),await Rp(kb[G3],"draco",n,G3)]),r=r||globalThis.DracoDecoderModule,await function(l,c){const h={};return c&&(h.wasmBinary=c),new Promise(f=>{l({...h,onModuleLoaded:p=>f({draco:p})})})}(r,o)}(e),await V3}const I4={...C4,parse:async function(e,t){const{draco:n}=await LF(t),r=new kF(n);try{return r.parseSync(e,t==null?void 0:t.draco)}finally{r.destroy()}}},xo={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},as={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,...xo},Lb={[xo.DOUBLE]:Float64Array,[xo.FLOAT]:Float32Array,[xo.UNSIGNED_SHORT]:Uint16Array,[xo.UNSIGNED_INT]:Uint32Array,[xo.UNSIGNED_BYTE]:Uint8Array,[xo.BYTE]:Int8Array,[xo.SHORT]:Int16Array,[xo.INT]:Int32Array},PF={DOUBLE:xo.DOUBLE,FLOAT:xo.FLOAT,UNSIGNED_SHORT:xo.UNSIGNED_SHORT,UNSIGNED_INT:xo.UNSIGNED_INT,UNSIGNED_BYTE:xo.UNSIGNED_BYTE,BYTE:xo.BYTE,SHORT:xo.SHORT,INT:xo.INT},Pb="Failed to convert GL type";let jE=class CT{static fromTypedArray(t){t=ArrayBuffer.isView(t)?t.constructor:t;for(const n in Lb)if(Lb[n]===t)return n;throw new Error(Pb)}static fromName(t){const n=PF[t];if(!n)throw new Error(Pb);return n}static getArrayType(t){switch(t){case xo.UNSIGNED_SHORT_5_6_5:case xo.UNSIGNED_SHORT_4_4_4_4:case xo.UNSIGNED_SHORT_5_5_5_1:return Uint16Array;default:const n=Lb[t];if(!n)throw new Error(Pb);return n}}static getByteSize(t){return CT.getArrayType(t).BYTES_PER_ELEMENT}static validate(t){return!!CT.getArrayType(t)}static createTypedArray(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;return o===void 0&&(o=(n.byteLength-r)/CT.getByteSize(t)),new(CT.getArrayType(t))(n,r,o)}};function FF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0];const n=e>>11&31,r=e>>5&63,o=31&e;return t[0]=n<<3,t[1]=r<<2,t[2]=o<<3,t}function w4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:255;return function(n,r,o){return Ab(n,l=>Math.max(r,Math.min(o,l)))}(e,0,t)/t*2-1}function _4(e){return e<0?-1:1}function UF(e,t,n,r){if(function(o,l){if(!o)throw new Error(`math.gl assertion failed. ${l}`)}(r),e<0||e>n||t<0||t>n)throw new Error(`x and y must be unsigned normalized integers between 0 and ${n}`);if(r.x=w4(e,n),r.y=w4(t,n),r.z=1-(Math.abs(r.x)+Math.abs(r.y)),r.z<0){const o=r.x;r.x=(1-Math.abs(r.y))*_4(o),r.y=(1-Math.abs(o))*_4(r.y)}return r.normalize()}function NF(e,t,n){return UF(e,t,255,n)}new w3,new ie,new w3,new w3;let Fb=class{constructor(e,t){this.json=void 0,this.buffer=void 0,this.featuresLength=0,this._cachedTypedArrays={},this.json=e,this.buffer=t}getExtension(e){return this.json.extensions&&this.json.extensions[e]}hasProperty(e){return!!this.json[e]}getGlobalProperty(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:as.UNSIGNED_INT,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=this.json[e];return r&&Number.isFinite(r.byteOffset)?this._getTypedArrayFromBinary(e,t,n,1,r.byteOffset):r}getPropertyArray(e,t,n){const r=this.json[e];return r&&Number.isFinite(r.byteOffset)?("componentType"in r&&(t=jE.fromName(r.componentType)),this._getTypedArrayFromBinary(e,t,n,this.featuresLength,r.byteOffset)):this._getTypedArrayFromArray(e,t,r)}getProperty(e,t,n,r,o){const l=this.json[e];if(!l)return l;const c=this.getPropertyArray(e,t,n);if(n===1)return c[r];for(let h=0;h<n;++h)o[h]=c[n*r+h];return o}_getTypedArrayFromBinary(e,t,n,r,o){const l=this._cachedTypedArrays;let c=l[e];return c||(c=jE.createTypedArray(t,this.buffer.buffer,this.buffer.byteOffset+o,r*n),l[e]=c),c}_getTypedArrayFromArray(e,t,n){const r=this._cachedTypedArrays;let o=r[e];return o||(o=jE.createTypedArray(t,n),r[e]=o),o}};const GF={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},OF={SCALAR:(e,t)=>e[t],VEC2:(e,t)=>[e[2*t+0],e[2*t+1]],VEC3:(e,t)=>[e[3*t+0],e[3*t+1],e[3*t+2]],VEC4:(e,t)=>[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]],MAT2:(e,t)=>[e[4*t+0],e[4*t+1],e[4*t+2],e[4*t+3]],MAT3:(e,t)=>[e[9*t+0],e[9*t+1],e[9*t+2],e[9*t+3],e[9*t+4],e[9*t+5],e[9*t+6],e[9*t+7],e[9*t+8]],MAT4:(e,t)=>[e[16*t+0],e[16*t+1],e[16*t+2],e[16*t+3],e[16*t+4],e[16*t+5],e[16*t+6],e[16*t+7],e[16*t+8],e[16*t+9],e[16*t+10],e[16*t+11],e[16*t+12],e[16*t+13],e[16*t+14],e[16*t+15]]},VF={SCALAR:(e,t,n)=>{t[n]=e},VEC2:(e,t,n)=>{t[2*n+0]=e[0],t[2*n+1]=e[1]},VEC3:(e,t,n)=>{t[3*n+0]=e[0],t[3*n+1]=e[1],t[3*n+2]=e[2]},VEC4:(e,t,n)=>{t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT2:(e,t,n)=>{t[4*n+0]=e[0],t[4*n+1]=e[1],t[4*n+2]=e[2],t[4*n+3]=e[3]},MAT3:(e,t,n)=>{t[9*n+0]=e[0],t[9*n+1]=e[1],t[9*n+2]=e[2],t[9*n+3]=e[3],t[9*n+4]=e[4],t[9*n+5]=e[5],t[9*n+6]=e[6],t[9*n+7]=e[7],t[9*n+8]=e[8],t[9*n+9]=e[9]},MAT4:(e,t,n)=>{t[16*n+0]=e[0],t[16*n+1]=e[1],t[16*n+2]=e[2],t[16*n+3]=e[3],t[16*n+4]=e[4],t[16*n+5]=e[5],t[16*n+6]=e[6],t[16*n+7]=e[7],t[16*n+8]=e[8],t[16*n+9]=e[9],t[16*n+10]=e[10],t[16*n+11]=e[11],t[16*n+12]=e[12],t[16*n+13]=e[13],t[16*n+14]=e[14],t[16*n+15]=e[15]}},yu=e=>e!==void 0;function HF(e,t,n){if(!t)return null;let r=e.getExtension("3DTILES_batch_table_hierarchy");const o=t.HIERARCHY;return o&&(console.warn("3D Tile Parser: HIERARCHY is deprecated. Use 3DTILES_batch_table_hierarchy."),t.extensions=t.extensions||{},t.extensions["3DTILES_batch_table_hierarchy"]=o,r=o),r?function(l,c){let h,f,p;const m=l.instancesLength,I=l.classes;let w,_=l.classIds,b=l.parentCounts,T=l.parentIds,S=m;if(yu(_.byteOffset)&&(_.componentType=defaultValue(_.componentType,GL.UNSIGNED_SHORT),_.type=AttributeType.SCALAR,p=getBinaryAccessor(_),_=p.createArrayBufferView(c.buffer,c.byteOffset+_.byteOffset,m)),yu(b))for(yu(b.byteOffset)&&(b.componentType=defaultValue(b.componentType,GL.UNSIGNED_SHORT),b.type=AttributeType.SCALAR,p=getBinaryAccessor(b),b=p.createArrayBufferView(c.buffer,c.byteOffset+b.byteOffset,m)),w=new Uint16Array(m),S=0,h=0;h<m;++h)w[h]=S,S+=b[h];yu(T)&&yu(T.byteOffset)&&(T.componentType=defaultValue(T.componentType,GL.UNSIGNED_SHORT),T.type=AttributeType.SCALAR,p=getBinaryAccessor(T),T=p.createArrayBufferView(c.buffer,c.byteOffset+T.byteOffset,S));const k=I.length;for(h=0;h<k;++h){const V=I[h].length,W=I[h].instances,X=getBinaryProperties(V,W,c);I[h].instances=combine(X,W)}const F=new Array(k).fill(0),N=new Uint16Array(m);for(h=0;h<m;++h)f=_[h],N[h]=F[f],++F[f];const G={classes:I,classIds:_,classIndexes:N,parentCounts:b,parentIndexes:w,parentIds:T};return function(V){const W=V.classIds.length;for(let X=0;X<W;++X)B4(V,X,stack)}(G),G}(r,n):null}function qE(e,t,n){if(!e)return;const r=e.parentCounts;return e.parentIds?n(e,t):r>0?function(o,l,c){const h=o.classIds,f=o.parentCounts,p=o.parentIds,m=o.parentIndexes,I=h.length,w=scratchVisited;w.length=Math.max(w.length,I);const _=++marker,b=scratchStack;for(b.length=0,b.push(l);b.length>0;){if(w[l=b.pop()]===_)continue;w[l]=_;const T=c(o,l);if(yu(T))return T;const S=f[l],k=m[l];for(let F=0;F<S;++F){const N=p[k+F];N!==l&&b.push(N)}}return null}(e,t,n):function(o,l,c){let h=!0;for(;h;){const f=c(o,l);if(yu(f))return f;const p=o.parentIds[l];h=p!==l,l=p}throw new Error("traverseHierarchySingleParent")}(e,t,n)}function B4(e,t,n){const r=e.parentCounts,o=e.parentIds,l=e.parentIndexes,c=e.classIds.length;if(!yu(o))return;assert(t<c,`Parent index ${t} exceeds the total number of instances: ${c}`),assert(n.indexOf(t)===-1,"Circular dependency detected in the batch table hierarchy."),n.push(t);const h=yu(r)?r[t]:1,f=yu(r)?l[t]:t;for(let p=0;p<h;++p){const m=o[f+p];m!==t&&B4(e,m,n)}n.pop(t)}function dA(e){return e!=null}const H3=(e,t)=>e,zF={HIERARCHY:!0,extensions:!0,extras:!0};class v4{constructor(t,n,r){var o;let l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.json=void 0,this.binary=void 0,this.featureCount=void 0,this._extensions=void 0,this._properties=void 0,this._binaryProperties=void 0,this._hierarchy=void 0,ar(r>=0),this.json=t||{},this.binary=n,this.featureCount=r,this._extensions=((o=this.json)===null||o===void 0?void 0:o.extensions)||{},this._properties={};for(const c in this.json)zF[c]||(this._properties[c]=this.json[c]);this._binaryProperties=this._initializeBinaryProperties(),l["3DTILES_batch_table_hierarchy"]&&(this._hierarchy=HF(this,this.json,this.binary))}getExtension(t){return this.json&&this.json.extensions&&this.json.extensions[t]}memorySizeInBytes(){return 0}isClass(t,n){if(this._checkBatchId(t),ar(typeof n=="string",n),this._hierarchy){const r=qE(this._hierarchy,t,(o,l)=>{const c=o.classIds[l];return o.classes[c].name===n});return dA(r)}return!1}isExactClass(t,n){return ar(typeof n=="string",n),this.getExactClassName(t)===n}getExactClassName(t){if(this._checkBatchId(t),this._hierarchy){const n=this._hierarchy.classIds[t];return this._hierarchy.classes[n].name}}hasProperty(t,n){return this._checkBatchId(t),ar(typeof n=="string",n),dA(this._properties[n])||this._hasPropertyInHierarchy(t,n)}getPropertyNames(t,n){this._checkBatchId(t),(n=dA(n)?n:[]).length=0;const r=Object.keys(this._properties);return n.push(...r),this._hierarchy&&this._getPropertyNamesInHierarchy(t,n),n}getProperty(t,n){if(this._checkBatchId(t),ar(typeof n=="string",n),this._binaryProperties){const o=this._binaryProperties[n];if(dA(o))return this._getBinaryProperty(o,t)}const r=this._properties[n];if(dA(r))return H3(r[t]);if(this._hierarchy){const o=this._getHierarchyProperty(t,n);if(dA(o))return o}}setProperty(t,n,r){const o=this.featureCount;if(this._checkBatchId(t),ar(typeof n=="string",n),this._binaryProperties){const c=this._binaryProperties[n];if(c)return void this._setBinaryProperty(c,t,r)}if(this._hierarchy&&this._setHierarchyProperty(this,t,n,r))return;let l=this._properties[n];dA(l)||(this._properties[n]=new Array(o),l=this._properties[n]),l[t]=H3(r)}_checkBatchId(t){if(!(t>=0&&t<this.featureCount))throw new Error("batchId not in range [0, featureCount - 1].")}_getBinaryProperty(t,n){return t.unpack(t.typedArray,n)}_setBinaryProperty(t,n,r){t.pack(r,t.typedArray,n)}_initializeBinaryProperties(){let t=null;for(const n in this._properties){const r=this._properties[n],o=this._initializeBinaryProperty(n,r);o&&(t=t||{},t[n]=o)}return t}_initializeBinaryProperty(t,n){if("byteOffset"in n){const r=n;ar(this.binary,`Property ${t} requires a batch table binary.`),ar(r.type,`Property ${t} requires a type.`);const o=function(l,c,h,f){const{componentType:p}=l;ar(l.componentType);const m=typeof p=="string"?jE.fromName(p):p,I=GF[l.type],w=OF[l.type],_=VF[l.type];return h+=l.byteOffset,{values:jE.createTypedArray(m,c,h,I*f),type:m,size:I,unpacker:w,packer:_}}(r,this.binary.buffer,0|this.binary.byteOffset,this.featureCount);return{typedArray:o.values,componentCount:o.size,unpack:o.unpacker,pack:o.packer}}return null}_hasPropertyInHierarchy(t,n){if(!this._hierarchy)return!1;const r=qE(this._hierarchy,t,(o,l)=>{const c=o.classIds[l];return dA(o.classes[c].instances[n])});return dA(r)}_getPropertyNamesInHierarchy(t,n){qE(this._hierarchy,t,(r,o)=>{const l=r.classIds[o],c=r.classes[l].instances;for(const h in c)c.hasOwnProperty(h)&&n.indexOf(h)===-1&&n.push(h)})}_getHierarchyProperty(t,n){return qE(this._hierarchy,t,(r,o)=>{const l=r.classIds[o],c=r.classes[l],h=r.classIndexes[o],f=c.instances[n];return dA(f)?dA(f.typedArray)?this._getBinaryProperty(f,h):H3(f[h]):null})}_setHierarchyProperty(t,n,r,o){const l=qE(this._hierarchy,n,(c,h)=>{const f=c.classIds[h],p=c.classes[f],m=c.classIndexes[h],I=p.instances[r];return!!dA(I)&&(ar(h===n,`Inherited property "${r}" is read-only.`),dA(I.typedArray)?this._setBinaryProperty(I,m,o):I[m]=H3(o),!0)});return dA(l)}}function z3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const r=new DataView(t);if(e.magic=r.getUint32(n,!0),n+=4,e.version=r.getUint32(n,!0),n+=4,e.byteLength=r.getUint32(n,!0),n+=4,e.version!==1)throw new Error(`3D Tile Version ${e.version} not supported`);return n}const b4="b3dm tile in legacy format.";function Ub(e,t,n){const r=new DataView(t);let o;e.header=e.header||{};let l=r.getUint32(n,!0);n+=4;let c=r.getUint32(n,!0);n+=4;let h=r.getUint32(n,!0);n+=4;let f=r.getUint32(n,!0);return n+=4,h>=570425344?(n-=8,o=l,h=c,f=0,l=0,c=0,console.warn(b4)):f>=570425344&&(n-=4,o=h,h=l,f=c,l=0,c=0,console.warn(b4)),e.header.featureTableJsonByteLength=l,e.header.featureTableBinaryByteLength=c,e.header.batchTableJsonByteLength=h,e.header.batchTableBinaryByteLength=f,e.header.batchLength=o,n}function Nb(e,t,n,r){return n=function(o,l,c){const{featureTableJsonByteLength:h,featureTableBinaryByteLength:f,batchLength:p}=o.header||{};if(o.featureTableJson={BATCH_LENGTH:p||0},h&&h>0){const m=Rb(l,c,h);o.featureTableJson=JSON.parse(m)}return c+=h||0,o.featureTableBinary=new Uint8Array(l,c,f),c+=f||0,c}(e,t,n),n=function(o,l,c){const{batchTableJsonByteLength:h,batchTableBinaryByteLength:f}=o.header||{};if(h&&h>0){const p=Rb(l,c,h);o.batchTableJson=JSON.parse(p),c+=h,f&&f>0&&(o.batchTableBinary=new Uint8Array(l,c,f),o.batchTableBinary=new Uint8Array(o.batchTableBinary),c+=f)}return c}(e,t,n),n}function M4(e,t,n){if(!(t||e&&e.batchIds&&n))return null;const{batchIds:r,isRGB565:o,pointCount:l=0}=e;if(r&&n){const c=new Uint8ClampedArray(3*l);for(let h=0;h<l;h++){const f=r[h],p=n.getProperty(f,"dimensions").map(m=>255*m);c[3*h]=p[0],c[3*h+1]=p[1],c[3*h+2]=p[2]}return{type:as.UNSIGNED_BYTE,value:c,size:3,normalized:!0}}if(t&&o){const c=new Uint8ClampedArray(3*l);for(let h=0;h<l;h++){const f=FF(t[h]);c[3*h]=f[0],c[3*h+1]=f[1],c[3*h+2]=f[2]}return{type:as.UNSIGNED_BYTE,value:c,size:3,normalized:!0}}return t&&t.length===3*l?{type:as.UNSIGNED_BYTE,value:t,size:3,normalized:!0}:{type:as.UNSIGNED_BYTE,value:t||new Uint8ClampedArray,size:4,normalized:!0}}const S4=new ie;function WF(e,t,n){return e.isQuantized?n["3d-tiles"]&&n["3d-tiles"].decodeQuantizedPositions?(e.isQuantized=!1,function(r,o){const l=new ie,c=new Float32Array(3*r.pointCount);for(let h=0;h<r.pointCount;h++)l.set(o[3*h],o[3*h+1],o[3*h+2]).scale(1/r.quantizedRange).multiply(r.quantizedVolumeScale).add(r.quantizedVolumeOffset).toArray(c,3*h);return c}(e,t)):{type:as.UNSIGNED_SHORT,value:t,size:3,normalized:!0}:t}async function JF(e,t,n,r,o){n=Nb(e,t,n=Ub(e,t,n=z3(e,t,n))),function(h){h.attributes={positions:null,colors:null,normals:null,batchIds:null},h.isQuantized=!1,h.isTranslucent=!1,h.isRGB565=!1,h.isOctEncoded16P=!1}(e);const{featureTable:l,batchTable:c}=function(h){const f=new Fb(h.featureTableJson,h.featureTableBinary),p=f.getGlobalProperty("POINTS_LENGTH");if(!Number.isFinite(p))throw new Error("POINTS_LENGTH must be defined");f.featuresLength=p,h.featuresLength=p,h.pointsLength=p,h.pointCount=p,h.rtcCenter=f.getGlobalProperty("RTC_CENTER",as.FLOAT,3);const m=function(I,w){let _=null;if(!I.batchIds&&w.hasProperty("BATCH_ID")&&(I.batchIds=w.getPropertyArray("BATCH_ID",as.UNSIGNED_SHORT,1),I.batchIds)){const b=w.getGlobalProperty("BATCH_LENGTH");if(!b)throw new Error("Global property: BATCH_LENGTH must be defined when BATCH_ID is defined.");const{batchTableJson:T,batchTableBinary:S}=I;_=new v4(T,S,b)}return _}(h,f);return{featureTable:f,batchTable:m}}(e);return await async function(h,f,p,m,I){let w,_,b;const T=h.batchTableJson&&h.batchTableJson.extensions&&h.batchTableJson.extensions["3DTILES_draco_point_compression"];T&&(b=T.properties);const S=f.getExtension("3DTILES_draco_point_compression");if(S){_=S.properties;const F=S.byteOffset,N=S.byteLength;if(!_||!Number.isFinite(F)||!N)throw new Error("Draco properties, byteOffset, and byteLength must be defined");w=(h.featureTableBinary||[]).slice(F,F+N),h.hasPositions=Number.isFinite(_.POSITION),h.hasColors=Number.isFinite(_.RGB)||Number.isFinite(_.RGBA),h.hasNormals=Number.isFinite(_.NORMAL),h.hasBatchIds=Number.isFinite(_.BATCH_ID),h.isTranslucent=Number.isFinite(_.RGBA)}if(!w)return!0;const k={buffer:w,properties:{..._,...b},batchTableProperties:b};return await async function(F,N,G,V){if(!V)return;const W={...G,draco:{...G==null?void 0:G.draco,extraAttributes:N.batchTableProperties||{}}};delete W["3d-tiles"];const X=await Tp(N.buffer,I4,W,V),K=X.attributes.POSITION&&X.attributes.POSITION.value,st=X.attributes.COLOR_0&&X.attributes.COLOR_0.value,et=X.attributes.NORMAL&&X.attributes.NORMAL.value,it=X.attributes.BATCH_ID&&X.attributes.BATCH_ID.value,ot=K&&X.attributes.POSITION.value.quantization,ht=et&&X.attributes.NORMAL.value.quantization;if(ot){const Ct=X.POSITION.data.quantization,wt=Ct.range;F.quantizedVolumeScale=new ie(wt,wt,wt),F.quantizedVolumeOffset=new ie(Ct.minValues),F.quantizedRange=(1<<Ct.quantizationBits)-1,F.isQuantizedDraco=!0}ht&&(F.octEncodedRange=(1<<X.NORMAL.data.quantization.quantizationBits)-1,F.isOctEncodedDraco=!0);const vt={};if(N.batchTableProperties)for(const Ct of Object.keys(N.batchTableProperties))X.attributes[Ct]&&X.attributes[Ct].value&&(vt[Ct.toLowerCase()]=X.attributes[Ct].value);F.attributes={positions:K,colors:M4(F,st,void 0),normals:et,batchIds:it,...vt}}(h,k,m,I)}(e,l,0,r,o),function(h,f,p){if(h.attributes=h.attributes||{positions:null,colors:null,normals:null,batchIds:null},!h.attributes.positions){if(f.hasProperty("POSITION"))h.attributes.positions=f.getPropertyArray("POSITION",as.FLOAT,3);else if(f.hasProperty("POSITION_QUANTIZED")){const m=f.getPropertyArray("POSITION_QUANTIZED",as.UNSIGNED_SHORT,3);if(h.isQuantized=!0,h.quantizedRange=65535,h.quantizedVolumeScale=f.getGlobalProperty("QUANTIZED_VOLUME_SCALE",as.FLOAT,3),!h.quantizedVolumeScale)throw new Error("QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");if(h.quantizedVolumeOffset=f.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",as.FLOAT,3),!h.quantizedVolumeOffset)throw new Error("QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");h.attributes.positions=WF(h,m,p)}}if(!h.attributes.positions)throw new Error("Either POSITION or POSITION_QUANTIZED must be defined.")}(e,l,r),function(h,f,p){if(h.attributes=h.attributes||{positions:null,colors:null,normals:null,batchIds:null},!h.attributes.colors){let m=null;f.hasProperty("RGBA")?(m=f.getPropertyArray("RGBA",as.UNSIGNED_BYTE,4),h.isTranslucent=!0):f.hasProperty("RGB")?m=f.getPropertyArray("RGB",as.UNSIGNED_BYTE,3):f.hasProperty("RGB565")&&(m=f.getPropertyArray("RGB565",as.UNSIGNED_SHORT,1),h.isRGB565=!0),h.attributes.colors=M4(h,m,p)}f.hasProperty("CONSTANT_RGBA")&&(h.constantRGBA=f.getGlobalProperty("CONSTANT_RGBA",as.UNSIGNED_BYTE,4))}(e,l,c),function(h,f){if(h.attributes=h.attributes||{positions:null,colors:null,normals:null,batchIds:null},!h.attributes.normals){let p=null;f.hasProperty("NORMAL")?p=f.getPropertyArray("NORMAL",as.FLOAT,3):f.hasProperty("NORMAL_OCT16P")&&(p=f.getPropertyArray("NORMAL_OCT16P",as.UNSIGNED_BYTE,2),h.isOctEncoded16P=!0),h.attributes.normals=function(m,I){if(!I)return null;if(m.isOctEncoded16P){const w=new Float32Array(3*(m.pointsLength||0));for(let _=0;_<(m.pointsLength||0);_++)NF(I[2*_],I[2*_+1],S4),S4.toArray(w,3*_);return{type:as.FLOAT,size:2,value:w}}return{type:as.FLOAT,size:2,value:I}}(h,p)}}(e,l),n}var Gb;const YF=(Gb=globalThis.loaders)===null||Gb===void 0?void 0:Gb.parseImageNode,$E=typeof Image<"u",W3=typeof ImageBitmap<"u",Ob=!!Jm||!!YF;function J3(e){const t=function(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&typeof n=="object"&&n.data&&n.width&&n.height?"data":null}(e);if(!t)throw new Error("Not an image");return t}function Vb(e){switch(J3(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}const ZF=/^data:image\/svg\+xml/,KF=/\.svg((\?|#).*)?$/;function Hb(e){return e&&(ZF.test(e)||KF.test(e))}function zb(e,t){if(Hb(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function T4(e,t,n){const r=function(c,h){if(Hb(h)){let f=new TextDecoder().decode(c);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(f=unescape(encodeURIComponent(f)))}catch(p){throw new Error(p.message)}return`data:image/svg+xml;base64,${btoa(f)}`}return zb(c,h)}(e,n),o=self.URL||self.webkitURL,l=typeof r!="string"&&o.createObjectURL(r);try{return await async function(c,h){const f=new Image;return f.src=c,h.image&&h.image.decode&&f.decode?(await f.decode(),f):await new Promise((p,m)=>{try{f.onload=()=>p(f),f.onerror=I=>{const w=I instanceof Error?I.message:"error";m(new Error(w))}}catch(I){m(I)}})}(l||r,t)}finally{l&&o.revokeObjectURL(l)}}const D4={};let R4=!0;async function XF(e,t,n){let r;r=Hb(n)?await T4(e,t,n):zb(e,n);const o=t&&t.imagebitmap;return await async function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if((function(h){for(const f in h||D4)return!1;return!0}(c)||!R4)&&(c=null),c)try{return await createImageBitmap(l,c)}catch(h){console.warn(h),R4=!1}return await createImageBitmap(l)}(r,o)}function Y3(e){return function(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const o=function(l){return[...l].map(c=>c.charCodeAt(0))}(n);for(let l=0;l<o.length;++l)if(o[l]!==t[l+r])return!1;return!0}(e,"ftyp",4)&&96&e[8]?function(t){switch(function(n,r,o){return String.fromCharCode(...n.slice(r,o))}(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(e):null}const xu=!1,tI=!0;function Wb(e){const t=eI(e);return function(n){const r=eI(n);return r.byteLength>=24&&r.getUint32(0,xu)===2303741511?{mimeType:"image/png",width:r.getUint32(16,xu),height:r.getUint32(20,xu)}:null}(t)||function(n){const r=eI(n);if(!(r.byteLength>=3&&r.getUint16(0,xu)===65496&&r.getUint8(2)===255))return null;const{tableMarkers:o,sofMarkers:l}=function(){const h=new Set([65499,65476,65484,65501,65534]);for(let f=65504;f<65520;++f)h.add(f);return{tableMarkers:h,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let c=2;for(;c+9<r.byteLength;){const h=r.getUint16(c,xu);if(l.has(h))return{mimeType:"image/jpeg",height:r.getUint16(c+5,xu),width:r.getUint16(c+7,xu)};if(!o.has(h))return null;c+=2,c+=r.getUint16(c,xu)}return null}(t)||function(n){const r=eI(n);return r.byteLength>=10&&r.getUint32(0,xu)===1195984440?{mimeType:"image/gif",width:r.getUint16(6,tI),height:r.getUint16(8,tI)}:null}(t)||function(n){const r=eI(n);return r.byteLength>=14&&r.getUint16(0,xu)===16973&&r.getUint32(2,tI)===r.byteLength?{mimeType:"image/bmp",width:r.getUint32(18,tI),height:r.getUint32(22,tI)}:null}(t)||function(n){const r=new Uint8Array(n instanceof DataView?n.buffer:n),o=Y3(r);return o?{mimeType:o.mimeType,width:0,height:0}:null}(t)}function eI(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}const nI={id:"image",module:"images",name:"Images",version:"4.1.1",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:async function(e,t,n){const r=((t=t||{}).image||{}).type||"auto",{url:o}=n||{},l=function(h){switch(h){case"auto":case"data":return function(){if(W3)return"imagebitmap";if($E)return"image";if(Ob)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(f){switch(f){case"auto":return W3||$E||Ob;case"imagebitmap":return W3;case"image":return $E;case"data":return Ob;default:throw new Error(`@loaders.gl/images: image ${f} not supported in this environment`)}}(h),h}}(r);let c;switch(l){case"imagebitmap":c=await XF(e,t,o);break;case"image":c=await T4(e,t,o);break;case"data":c=await async function(h){var f;const{mimeType:p}=Wb(h)||{},m=(f=globalThis.loaders)===null||f===void 0?void 0:f.parseImageNode;return ar(m),await m(h,p)}(e);break;default:ar(!1)}return r==="data"&&(c=Vb(c)),c},tests:[e=>!!Wb(new DataView(e))],options:{image:{type:"auto",decode:!0}}},Z3={};function Q4(e){if(Z3[e]===void 0){const t=Jm?function(n){switch(n){case"image/avif":case"image/webp":return function(r){try{return document.createElement("canvas").toDataURL(r).indexOf(`data:${r}`)===0}catch{return!1}}(n);default:return!0}}(e):function(n){var r,o;const l=["image/png","image/jpeg","image/gif"],c=((r=globalThis.loaders)===null||r===void 0?void 0:r.imageFormatsNode)||l;return!!(!((o=globalThis.loaders)===null||o===void 0)&&o.parseImageNode)&&c.includes(n)}(e);Z3[e]=t}return Z3[e]}function OA(e,t){if(!e)throw new Error(t||"assert failed: gltf")}const K3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},k4={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},L4=["SCALAR","VEC2","VEC3","VEC4"],jF=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],P4=new Map(jF),qF={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},F4={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},$F={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function U4(e){return L4[e-1]||L4[0]}function Jb(e){const t=P4.get(e.constructor);if(!t)throw new Error("Illegal typed array");return t}function Yb(e,t){const n=$F[e.componentType],r=qF[e.type],o=F4[e.componentType],l=e.count*r,c=e.count*r*o;return OA(c>=0&&c<=t.byteLength),{ArrayType:n,length:l,byteLength:c,componentByteSize:k4[e.componentType],numberOfComponentsInElement:K3[e.type]}}function N4(e){let{images:t,bufferViews:n}=e;t=t||[],n=n||[];const r=t.map(c=>c.bufferView);n=n.filter(c=>!r.includes(c));const o=n.reduce((c,h)=>c+h.byteLength,0),l=t.reduce((c,h)=>{const{width:f,height:p}=h.image;return c+f*p},0);return o+Math.ceil(4*l*1.33)}let Wa=class{constructor(e){this.gltf=void 0,this.sourceBuffers=void 0,this.byteLength=void 0,this.gltf={json:(e==null?void 0:e.json)||{asset:{version:"2.0",generator:"loaders.gl"},buffers:[],extensions:{},extensionsRequired:[],extensionsUsed:[]},buffers:(e==null?void 0:e.buffers)||[],images:(e==null?void 0:e.images)||[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}hasExtension(e){const t=this.getUsedExtensions().find(r=>r===e),n=this.getRequiredExtensions().find(r=>r===e);return typeof t=="string"||typeof n=="string"}getExtension(e){const t=this.getUsedExtensions().find(r=>r===e),n=this.json.extensions||{};return t?n[e]:null}getRequiredExtension(e){return this.getRequiredExtensions().find(t=>t===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getRemovedExtensions(){return this.json.extensionsRemoved||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if(typeof t=="object")return t;const n=this.json[e]&&this.json[e][t];if(!n)throw new Error(`glTF file error: Could not find ${e}[${t}]`);return n}getTypedArrayForBufferView(e){const t=(e=this.getBufferView(e)).buffer,n=this.gltf.buffers[t];OA(n);const r=(e.byteOffset||0)+n.byteOffset;return new Uint8Array(n.arrayBuffer,r,e.byteLength)}getTypedArrayForAccessor(e){const t=this.getAccessor(e);return function(n,r,o){var l,c;const h=typeof o=="number"?(l=n.accessors)===null||l===void 0?void 0:l[o]:o;if(!h)throw new Error(`No gltf accessor ${JSON.stringify(o)}`);const f=(c=n.bufferViews)===null||c===void 0?void 0:c[h.bufferView||0];if(!f)throw new Error(`No gltf buffer view for accessor ${f}`);const{arrayBuffer:p,byteOffset:m}=r[f.buffer],I=(m||0)+(h.byteOffset||0)+(f.byteOffset||0),{ArrayType:w,length:_,componentByteSize:b,numberOfComponentsInElement:T}=Yb(h,f),S=b*T,k=f.byteStride||S;if(typeof f.byteStride>"u"||f.byteStride===S)return new w(p,I,_);const F=new w(_);for(let N=0;N<h.count;N++){const G=new w(p,I+N*k,T);F.set(G,N*T)}return F}(this.gltf.json,this.gltf.buffers,t)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),n=this.getBuffer(t.buffer).data,r=t.byteOffset||0;return new Uint8Array(n,r,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,n){return e.extensions=e.extensions||{},e.extensions[t]=n,this.registerUsedExtension(t),this}setObjectExtension(e,t,n){(e.extensions||{})[t]=n}removeObjectExtension(e,t){const n=(e==null?void 0:e.extensions)||{};if(n[t]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const r=this.json.extensionsRemoved;r.includes(t)||r.push(t)}delete n[t]}addExtension(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return OA(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return OA(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){var t;if((t=this.json.extensions)!==null&&t!==void 0&&t[e]){this.json.extensionsRemoved=this.json.extensionsRemoved||[];const n=this.json.extensionsRemoved;n.includes(e)||n.push(e)}this.json.extensions&&delete this.json.extensions[e],this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e)}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:n}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return n&&(r.matrix=n),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:n,material:r,mode:o=4}=e,l={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(n){const c=this._addIndices(n);l.primitives[0].indices=c}return Number.isFinite(r)&&(l.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(l),this.json.meshes.length-1}addPointCloud(e){const t={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(t),this.json.meshes.length-1}addImage(e,t){const n=Wb(e),r=t||(n==null?void 0:n.mimeType),o={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(o),this.json.images.length-1}addBufferView(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.byteLength;const r=e.byteLength;OA(Number.isFinite(r)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const o={buffer:t,byteOffset:n,byteLength:r};return this.byteLength+=NE(r,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(o),this.json.bufferViews.length-1}addAccessor(e,t){const n={bufferView:e,type:U4(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(n),this.json.accessors.length-1}addBinaryBuffer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{size:3};const n=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:Jb(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(n,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,n={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(n),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const n=this.byteLength,r=new ArrayBuffer(n),o=new Uint8Array(r);let l=0;for(const c of this.sourceBuffers||[])l=bc(c,o,l);(e=this.json)!==null&&e!==void 0&&(t=e.buffers)!==null&&t!==void 0&&t[0]?this.json.buffers[0].byteLength=n:this.json.buffers=[{byteLength:n}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let n=!0;for(;n;){const r=e.indexOf(t);r>-1?e.splice(r,1):n=!1}}_addAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const n in e){const r=e[n],o=this._getGltfAttributeName(n),l=this.addBinaryBuffer(r.value,r);t[o]=l}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const n={min:null,max:null};if(e.length<t)return n;n.min=[],n.max=[];const r=e.subarray(0,t);for(const o of r)n.min.push(o),n.max.push(o);for(let o=t;o<e.length;o+=t)for(let l=0;l<t;l++)n.min[0+l]=Math.min(n.min[0+l],e[o+l]),n.max[0+l]=Math.max(n.max[0+l],e[o+l]);return n}};function G4(e){return(e%1+1)%1}const O4={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16,BOOLEAN:1,STRING:1,ENUM:1},t9={INT8:Int8Array,UINT8:Uint8Array,INT16:Int16Array,UINT16:Uint16Array,INT32:Int32Array,UINT32:Uint32Array,INT64:BigInt64Array,UINT64:BigUint64Array,FLOAT32:Float32Array,FLOAT64:Float64Array},V4={INT8:1,UINT8:1,INT16:2,UINT16:2,INT32:4,UINT32:4,INT64:8,UINT64:8,FLOAT32:4,FLOAT64:8};function Zb(e,t){return V4[t]*O4[e]}function X3(e,t,n,r){if(n!=="UINT8"&&n!=="UINT16"&&n!=="UINT32"&&n!=="UINT64")return null;const o=iI(e.getTypedArrayForBufferView(t),"SCALAR",n,r+1);return o instanceof BigInt64Array||o instanceof BigUint64Array?null:o}function iI(e,t,n){const r=t9[n],o=V4[n],l=(arguments.length>3&&arguments[3]!==void 0?arguments[3]:1)*O4[t],c=l*o;let h=e.buffer,f=e.byteOffset;return f%o!=0&&(h=new Uint8Array(h).slice(f,f+c).buffer,f=0),new r(h,f,l)}function j3(e,t,n){var r,o;const l=`TEXCOORD_${t.texCoord||0}`,c=n.attributes[l],h=e.getTypedArrayForAccessor(c),f=e.gltf.json,p=t.index,m=(r=f.textures)===null||r===void 0||(o=r[p])===null||o===void 0?void 0:o.source;if(typeof m<"u"){var I,w,_;const b=(I=f.images)===null||I===void 0||(w=I[m])===null||w===void 0?void 0:w.mimeType,T=(_=e.gltf.images)===null||_===void 0?void 0:_[m];if(T&&typeof T.width<"u"){const S=[];for(let k=0;k<h.length;k+=2){const F=e9(T,b,h,k,t.channels);S.push(F)}return S}}return[]}function H4(e,t,n,r,o){if(n==null||!n.length)return;const l=[];for(const m of n){let I=r.findIndex(w=>w===m);I===-1&&(I=r.push(m)-1),l.push(I)}const c=new Uint32Array(l),h=e.gltf.buffers.push({arrayBuffer:c.buffer,byteOffset:c.byteOffset,byteLength:c.byteLength})-1,f=e.addBufferView(c,h,0),p=e.addAccessor(f,{size:1,componentType:Jb(c),count:c.length});o.attributes[t]=p}function e9(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[0];const l={r:{offset:0,shift:0},g:{offset:1,shift:8},b:{offset:2,shift:16},a:{offset:3,shift:24}},c=n[r],h=n[r+1];let f=1;t&&(t.indexOf("image/jpeg")!==-1||t.indexOf("image/png")!==-1)&&(f=4);const p=function(I,w,_){let b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;const T=_.width,S=G4(I)*(T-1),k=Math.round(S),F=_.height,N=G4(w)*(F-1),G=Math.round(N),V=_.components?_.components:b;return(G*T+k)*V}(c,h,e,f);let m=0;for(const I of o){const w=typeof I=="number"?Object.values(l)[I]:l[I],_=p+w.offset,b=Vb(e);if(b.data.length<=_)throw new Error(`${b.data.length} <= ${_}`);m|=b.data[_]<<w.shift}return m}function z4(e,t,n,r,o){const l=[];for(let c=0;c<t;c++){const h=n[c],f=n[c+1]-n[c];if(f+h>r)break;const p=h/o,m=f/o;l.push(e.slice(p,p+m))}return l}function W4(e,t,n){const r=[];for(let o=0;o<t;o++){const l=o*n;r.push(e.slice(l,l+n))}return r}function J4(e,t,n,r){if(n)throw new Error("Not implemented - arrayOffsets for strings is specified");if(r){const o=[],l=new TextDecoder("utf8");let c=0;for(let h=0;h<e;h++){const f=r[h+1]-r[h];if(f+c<=t.length){const p=t.subarray(c,f+c),m=l.decode(p);o.push(m),c+=f}}return o}return[]}const Y4="EXT_mesh_features",Z4=Y4;function n9(e,t,n){var r,o;if(n==null||(r=n.gltf)===null||r===void 0||!r.loadBuffers)return;const l=(o=t.extensions)===null||o===void 0?void 0:o[Y4],c=l==null?void 0:l.featureIds;if(c)for(const f of c){var h;let p;if(typeof f.attribute<"u"){const m=`_FEATURE_ID_${f.attribute}`,I=t.attributes[m];p=e.getTypedArrayForAccessor(I)}else p=typeof f.texture<"u"&&n!=null&&(h=n.gltf)!==null&&h!==void 0&&h.loadImages?j3(e,f.texture,t):[];f.data=p}}const Kb=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t){(function(n,r){const o=n.gltf.json;if(o.meshes)for(const l of o.meshes)for(const c of l.primitives)n9(n,c,r)})(new Wa(e),t)},name:Z4},Symbol.toStringTag,{value:"Module"})),sI="EXT_structural_metadata",i9=sI;function s9(e,t){for(const n of e)if(n.class===t)return n;return null}function r9(e,t,n,r){var o;if(!t)return;const l=(o=n.extensions)===null||o===void 0?void 0:o[sI],c=l==null?void 0:l.propertyTextures;if(c)for(const h of c)o9(e,t[h],n,r)}function o9(e,t,n,r){if(!t.properties)return;r.dataAttributeNames||(r.dataAttributeNames=[]);const o=t.class;for(const c in t.properties){var l;const h=`${o}_${c}`,f=(l=t.properties)===null||l===void 0?void 0:l[c];if(!f)continue;f.data||(f.data=[]);const p=f.data,m=j3(e,f,n);m!==null&&(H4(e,h,m,p,n),f.data=p,r.dataAttributeNames.push(h))}}function a9(e,t,n){var r;const o=(r=t.classes)===null||r===void 0?void 0:r[n.class];if(!o)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);const l=n.count;for(const h in o.properties){var c;const f=o.properties[h],p=(c=n.properties)===null||c===void 0?void 0:c[h];if(p){const m=l9(e,t,f,l,p);p.data=m}}}function l9(e,t,n,r,o){let l=[];const c=o.values,h=e.getTypedArrayForBufferView(c),f=function(m,I,w,_){return I.array&&typeof I.count>"u"&&typeof w.arrayOffsets<"u"?X3(m,w.arrayOffsets,w.arrayOffsetType||"UINT32",_):null}(e,n,o,r),p=function(m,I,w){return typeof I.stringOffsets<"u"?X3(m,I.stringOffsets,I.stringOffsetType||"UINT32",w):null}(e,o,r);switch(n.type){case"SCALAR":case"VEC2":case"VEC3":case"VEC4":case"MAT2":case"MAT3":case"MAT4":l=function(m,I,w,_){const b=m.array,T=m.count,S=Zb(m.type,m.componentType),k=w.byteLength/S;let F;return F=m.componentType?iI(w,m.type,m.componentType,k):w,b?_?z4(F,I,_,w.length,S):T?W4(F,I,T):[]:F}(n,r,h,f);break;case"BOOLEAN":throw new Error(`Not implemented - classProperty.type=${n.type}`);case"STRING":l=J4(r,h,f,p);break;case"ENUM":l=function(m,I,w,_,b){var T;const S=I.enumType;if(!S)throw new Error("Incorrect data in the EXT_structural_metadata extension: classProperty.enumType is not set for type ENUM");const k=(T=m.enums)===null||T===void 0?void 0:T[S];if(!k)throw new Error(`Incorrect data in the EXT_structural_metadata extension: schema.enums does't contain ${S}`);const F=k.valueType||"UINT16",N=Zb(I.type,F),G=_.byteLength/N;let V=iI(_,I.type,F,G);if(V||(V=_),I.array){if(b)return function(X){const{valuesData:K,numberOfElements:st,arrayOffsets:et,valuesDataBytesLength:it,elementSize:ot,enumEntry:ht}=X,vt=[];for(let Ct=0;Ct<st;Ct++){const wt=et[Ct],mt=et[Ct+1]-et[Ct];if(mt+wt>it)break;const Rt=Xb(K,wt/ot,mt/ot,ht);vt.push(Rt)}return vt}({valuesData:V,numberOfElements:w,arrayOffsets:b,valuesDataBytesLength:_.length,elementSize:N,enumEntry:k});const W=I.count;return W?function(X,K,st,et){const it=[];for(let ot=0;ot<K;ot++){const ht=Xb(X,st*ot,st,et);it.push(ht)}return it}(V,w,W,k):[]}return Xb(V,0,w,k)}(t,n,r,h,f);break;default:throw new Error(`Unknown classProperty type ${n.type}`)}return l}function Xb(e,t,n,r){const o=[];for(let l=0;l<n;l++)if(e instanceof BigInt64Array||e instanceof BigUint64Array)o.push("");else{const c=A9(r,e[t+l]);c?o.push(c.name):o.push("")}return o}function A9(e,t){for(const n of e.values)if(n.value===t)return n;return null}const jb=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t){(function(n,r){var o,l;if((o=r.gltf)===null||o===void 0||!o.loadBuffers)return;const c=n.getExtension(sI);c&&((l=r.gltf)!==null&&l!==void 0&&l.loadImages&&function(h,f){const p=f.propertyTextures,m=h.gltf.json;if(p&&m.meshes)for(const I of m.meshes)for(const w of I.primitives)r9(h,p,w,f)}(n,c),function(h,f){const p=f.schema;if(!p)return;const m=p.classes,I=f.propertyTables;if(m&&I)for(const w in m){const _=s9(I,w);_&&a9(h,p,_)}}(n,c))})(new Wa(e),t)},name:i9},Symbol.toStringTag,{value:"Module"})),K4="EXT_feature_metadata",c9=K4;function h9(e,t){for(const n in e){const r=e[n];if(r.class===t)return r}return null}function X4(e,t){for(const n in e){const r=e[n];if(r.class===t)return r}return null}function j4(e,t,n){var r;if(!n.class)return;const o=(r=t.classes)===null||r===void 0?void 0:r[n.class];if(!o)throw new Error(`Incorrect data in the EXT_structural_metadata extension: no schema class with name ${n.class}`);const l=n.count;for(const h in o.properties){var c;const f=o.properties[h],p=(c=n.properties)===null||c===void 0?void 0:c[h];if(p){const m=u9(e,t,f,l,p);p.data=m}}}function oy(e,t,n){const r=t.class;for(const l in n.properties){var o;const c=t==null||(o=t.properties)===null||o===void 0?void 0:o[l];if(c){const h=qb(e,c,r);c.data=h}}}function u9(e,t,n,r,o){let l=[];const c=o.bufferView,h=e.getTypedArrayForBufferView(c),f=function(m,I,w,_){return I.type==="ARRAY"&&typeof I.componentCount>"u"&&typeof w.arrayOffsetBufferView<"u"?X3(m,w.arrayOffsetBufferView,w.offsetType||"UINT32",_):null}(e,n,o,r),p=function(m,I,w,_){return typeof w.stringOffsetBufferView<"u"?X3(m,w.stringOffsetBufferView,w.offsetType||"UINT32",_):null}(e,0,o,r);return n.type==="STRING"||n.componentType==="STRING"?l=J4(r,h,f,p):function(m){const I=["UINT8","INT16","UINT16","INT32","UINT32","INT64","UINT64","FLOAT32","FLOAT64"];return I.includes(m.type)||typeof m.componentType<"u"&&I.includes(m.componentType)}(n)&&(l=function(m,I,w,_){const b=m.type==="ARRAY",T=m.componentCount,S="SCALAR",k=m.componentType||m.type,F=Zb(S,k),N=w.byteLength/F,G=iI(w,S,k,N);return b?_?z4(G,I,_,w.length,F):T?W4(G,I,T):[]:G}(n,r,h,f)),l}function qb(e,t,n){const r=e.gltf.json;if(!r.meshes)return[];const o=[];for(const l of r.meshes)for(const c of l.primitives)d9(e,n,t,o,c);return o}function d9(e,t,n,r,o){const l=j3(e,{channels:n.channels,...n.texture},o);l&&H4(e,t,l,r,o)}const f9=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t){(function(n,r){var o,l;if((o=r.gltf)===null||o===void 0||!o.loadBuffers)return;const c=n.getExtension(K4);c&&((l=r.gltf)!==null&&l!==void 0&&l.loadImages&&function(h,f){const p=f.schema;if(!p)return;const m=p.classes,{featureTextures:I}=f;if(m&&I)for(const w in m){const _=m[w],b=X4(I,w);b&&oy(h,b,_)}}(n,c),function(h,f){const p=f.schema;if(!p)return;const m=p.classes,I=f.featureTables;if(m&&I)for(const w in m){const _=h9(I,w);_&&j4(h,p,_)}}(n,c))})(new Wa(e),t)},name:c9},Symbol.toStringTag,{value:"Module"})),p9="basis_transcoder.js",g9="basis_transcoder.wasm",Np="basis_encoder.js",m9="basis_encoder.wasm";let $b,t2;async function q4(e){const t=e.modules||{};return t.basis?t.basis:($b=$b||async function(n){let r=null,o=null;return[r,o]=await Promise.all([await Rp(p9,"textures",n),await Rp(g9,"textures",n)]),r=r||globalThis.BASIS,await function(l,c){const h={};return c&&(h.wasmBinary=c),new Promise(f=>{l(h).then(p=>{const{BasisFile:m,initializeBasis:I}=p;I(),f({BasisFile:m})})})}(r,o)}(e),await $b)}async function rI(e){const t=e.modules||{};return t.basisEncoder?t.basisEncoder:(t2=t2||async function(n){let r=null,o=null;return[r,o]=await Promise.all([await Rp(Np,"textures",n),await Rp(m9,"textures",n)]),r=r||globalThis.BASIS,await function(l,c){const h={};return c&&(h.wasmBinary=c),new Promise(f=>{l(h).then(p=>{const{BasisFile:m,KTX2File:I,initializeBasis:w,BasisEncoder:_}=p;w(),f({BasisFile:m,KTX2File:I,BasisEncoder:_})})})}(r,o)}(e),await t2)}const q3=33776,$4=33779,$3=35840,Tl=35842,Gp=36196,e2=37808,ay=["","WEBKIT_","MOZ_"],ly={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let bd=null;function Ay(e){if(!bd){e=e||function(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,bd=new Set;for(const t of ay)for(const n in ly)if(e&&e.getExtension(`${t}${n}`)){const r=ly[n];bd.add(r)}}return bd}var Op,cy,n2,oI,hy,aI,i2,t_;(function(e){e[e.NONE=0]="NONE",e[e.BASISLZ=1]="BASISLZ",e[e.ZSTD=2]="ZSTD",e[e.ZLIB=3]="ZLIB"})(Op||(Op={})),function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(cy||(cy={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(n2||(n2={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(oI||(oI={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(hy||(hy={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(aI||(aI={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(i2||(i2={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(t_||(t_={}));const fA=[171,75,84,88,32,50,48,187,13,10,26,10],tD={etc1:{basisFormat:0,compressed:!0,format:Gp},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:q3},bc3:{basisFormat:3,compressed:!0,format:$4},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:$3},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:Tl},"astc-4x4":{basisFormat:10,compressed:!0,format:e2},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function uy(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("Failed to start basis transcoding");const o=r.getNumImages(),l=[];for(let c=0;c<o;c++){const h=r.getNumLevels(c),f=[];for(let p=0;p<h;p++)f.push(e_(r,c,p,n));l.push(f)}return l}finally{r.close(),r.delete()}}function e_(e,t,n,r){const o=e.getImageWidth(t,n),l=e.getImageHeight(t,n),c=e.getHasAlpha(),{compressed:h,format:f,basisFormat:p}=r2(r,c),m=e.getImageTranscodedSizeInBytes(t,n,p),I=new Uint8Array(m);if(!e.transcodeImage(I,t,n,p,0,0))throw new Error("failed to start Basis transcoding");return{width:o,height:l,data:I,compressed:h,format:f,hasAlpha:c}}function s2(e,t,n){const r=new e(new Uint8Array(t));try{if(!r.startTranscoding())throw new Error("failed to start KTX2 transcoding");const o=r.getLevels(),l=[];for(let c=0;c<o;c++){l.push(eD(r,c,n));break}return[l]}finally{r.close(),r.delete()}}function eD(e,t,n){const{alphaFlag:r,height:o,width:l}=e.getImageLevelInfo(t,0,0),{compressed:c,format:h,basisFormat:f}=r2(n,r),p=e.getImageTranscodedSizeInBytes(t,0,0,f),m=new Uint8Array(p);if(!e.transcodeImage(m,t,0,0,f,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:l,height:o,data:m,compressed:c,levelSize:p,hasAlpha:r,format:h}}function r2(e,t){let n=e&&e.basis&&e.basis.format;return n==="auto"&&(n=o2()),typeof n=="object"&&(n=t?n.alpha:n.noAlpha),n=n.toLowerCase(),tD[n]}function o2(){const e=Ay();return e.has("astc")?"astc-4x4":e.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:e.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:e.has("etc1")?"etc1":e.has("etc2")?"etc2":"rgb565"}const nD={name:"Basis",id:"basis",module:"textures",version:"4.1.1",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:async function(e,t){if(t.basis.containerFormat==="auto"){if(function(r){const o=new Uint8Array(r);return!(o.byteLength<fA.length||o[0]!==fA[0]||o[1]!==fA[1]||o[2]!==fA[2]||o[3]!==fA[3]||o[4]!==fA[4]||o[5]!==fA[5]||o[6]!==fA[6]||o[7]!==fA[7]||o[8]!==fA[8]||o[9]!==fA[9]||o[10]!==fA[10]||o[11]!==fA[11])}(e))return s2((await rI(t)).KTX2File,e,t);const{BasisFile:n}=await q4(t);return uy(n,e,t)}if(t.basis.module==="encoder"){const n=await rI(t);return t.basis.containerFormat==="ktx2"?s2(n.KTX2File,e,t):uy(n.BasisFile,e,t)}{const{BasisFile:n}=await q4(t);return uy(n,e,t)}}},dy=!0,a2=1735152710,n_=1313821514,l2=5130562;function iD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const r=new DataView(t),o=function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return`${String.fromCharCode(h.getUint8(f+0))}${String.fromCharCode(h.getUint8(f+1))}${String.fromCharCode(h.getUint8(f+2))}${String.fromCharCode(h.getUint8(f+3))}`}(r,n+0),l=r.getUint32(n+4,dy),c=r.getUint32(n+8,dy);switch(Object.assign(e,{header:{byteOffset:n,byteLength:c,hasBinChunk:!1},type:o,version:l,json:{},binChunks:[]}),n+=12,e.version){case 1:return function(h,f,p){ar(h.header.byteLength>20);const m=f.getUint32(p+0,dy),I=f.getUint32(p+4,dy);return p+=8,ar(I===0),lI(h,f,p,m),p+=m,p+=i_(h,f,p,h.header.byteLength),p}(e,r,n);case 2:return function(h,f,p,m){return ar(h.header.byteLength>20),function(I,w,_,b){for(;_+8<=I.header.byteLength;){const T=w.getUint32(_+0,dy),S=w.getUint32(_+4,dy);switch(_+=8,S){case n_:lI(I,w,_,T);break;case l2:i_(I,w,_,T);break;case 0:b.strict||lI(I,w,_,T);break;case 1:b.strict||i_(I,w,_,T)}_+=NE(T,4)}}(h,f,p,m),p+h.header.byteLength}(e,r,n,{});default:throw new Error(`Invalid GLB version ${e.version}. Only supports version 1 and 2.`)}}function lI(e,t,n,r){const o=new Uint8Array(t.buffer,n,r),l=new TextDecoder("utf8").decode(o);return e.json=JSON.parse(l),NE(r,4)}function i_(e,t,n,r){return e.header.hasBinChunk=!0,e.binChunks.push({byteOffset:n,byteLength:r,arrayBuffer:t.buffer}),NE(r,4)}function s_(e,t){if(e.startsWith("data:")||e.startsWith("http:")||e.startsWith("https:"))return e;const n=t.baseUri||t.uri;if(!n)throw new Error(`'baseUri' must be provided to resolve relative url ${e}`);return n.substr(0,n.lastIndexOf("/")+1)+e}const Cu="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",sD="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",y9=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r_=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),fy={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},py={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};async function rD(e,t,n,r,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"NONE";const c=await async function(){return gy||(gy=async function(){let h=Cu;WebAssembly.validate(y9)&&(h=sD,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const f=await WebAssembly.instantiate(function(p){const m=new Uint8Array(p.length);for(let w=0;w<p.length;++w){const _=p.charCodeAt(w);m[w]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let I=0;for(let w=0;w<p.length;++w)m[I++]=m[w]<60?r_[m[w]]:64*(m[w]-60)+m[++w];return m.buffer.slice(0,I)}(h),{});return await f.instance.exports.__wasm_call_ctors(),f.instance}()),gy}();(function(h,f,p,m,I,w,_){const b=h.exports.sbrk,T=m+3&-4,S=b(T*I),k=b(w.length),F=new Uint8Array(h.exports.memory.buffer);F.set(w,k);const N=f(S,m,I,k,w.length);if(N===0&&_&&_(S,T,I),p.set(F.subarray(S,S+m*I)),b(S-b(0)),N!==0)throw new Error(`Malformed buffer data: ${N}`)})(c,c.exports[py[o]],e,t,n,r,c.exports[fy[l||"NONE"]])}let gy;const AI="EXT_meshopt_compression",x9=AI;async function cI(e,t){const n=e.getObjectExtension(t,AI);if(n){const{byteOffset:r=0,byteLength:o=0,byteStride:l,count:c,mode:h,filter:f="NONE",buffer:p}=n,m=e.gltf.buffers[p],I=new Uint8Array(m.arrayBuffer,m.byteOffset+r,o),w=new Uint8Array(e.gltf.buffers[t.buffer].arrayBuffer,t.byteOffset,t.byteLength);await rD(w,c,l,I,h,f),e.removeObjectExtension(t,AI)}}const hI=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t){var n,r;const o=new Wa(e);if(t==null||(n=t.gltf)===null||n===void 0||!n.decompressMeshes||(r=t.gltf)===null||r===void 0||!r.loadBuffers)return;const l=[];for(const c of e.json.bufferViews||[])l.push(cI(o,c));await Promise.all(l),o.removeExtension(AI)},name:x9},Symbol.toStringTag,{value:"Module"})),Vp="EXT_texture_webp",C9=Object.freeze(Object.defineProperty({__proto__:null,name:Vp,preprocess:function(e,t){const n=new Wa(e);if(!Q4("image/webp")){if(n.getRequiredExtensions().includes(Vp))throw new Error(`gltf: Required extension ${Vp} not supported by browser`);return}const{json:r}=n;for(const o of r.textures||[]){const l=n.getObjectExtension(o,Vp);l&&(o.source=l.source),n.removeObjectExtension(o,Vp)}n.removeExtension(Vp)}},Symbol.toStringTag,{value:"Module"})),o_="KHR_texture_basisu",pA=Object.freeze(Object.defineProperty({__proto__:null,name:o_,preprocess:function(e,t){const n=new Wa(e),{json:r}=n;for(const o of r.textures||[]){const l=n.getObjectExtension(o,o_);l&&(o.source=l.source,n.removeObjectExtension(o,o_))}n.removeExtension(o_)}},Symbol.toStringTag,{value:"Module"}));function aD(e){const{buffer:t,size:n,count:r}=function(o){let l=o,c=1,h=0;return o&&o.value&&(l=o.value,c=o.size||1),l&&(ArrayBuffer.isView(l)||(l=function(f,p){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return f?Array.isArray(f)?new p(f):!m||f instanceof p?f:new p(f):null}(l,Float32Array)),h=l.length/c),{buffer:l,size:c,count:h}}(e);return{value:t,size:n,byteOffset:0,count:r,type:U4(n),componentType:Jb(t)}}const Eu="KHR_draco_mesh_compression",a_=Eu;async function Hp(e,t,n,r){const o=e.getObjectExtension(t,Eu);if(!o)return;const l=e.getTypedArrayForBufferView(o.bufferView),c=Sn(l.buffer,l.byteOffset),h={...n};delete h["3d-tiles"];const f=await Tp(c,I4,h,r),p=function(m){const I={};for(const w in m){const _=m[w];if(w!=="indices"){const b=aD(_);I[w]=b}}return I}(f.attributes);for(const[m,I]of Object.entries(p))if(m in t.attributes){const w=t.attributes[m],_=e.getAccessor(w);_!=null&&_.min&&_!=null&&_.max&&(I.min=_.min,I.max=_.max)}t.attributes=p,f.indices&&(t.indices=aD(f.indices)),e.removeObjectExtension(t,Eu),function(m){if(!m.attributes&&Object.keys(m.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(t)}function uI(e,t){var n;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:4,o=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;if(!o.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const c=o.DracoWriter.encodeSync({attributes:e}),h=l==null||(n=l.parseSync)===null||n===void 0?void 0:n.call(l,{attributes:e}),f=o._addFauxAttributes(h.attributes),p=o.addBufferView(c);return{primitives:[{attributes:f,mode:r,extensions:{[Eu]:{bufferView:p,attributes:f}}}]}}function*A2(e){for(const t of e.json.meshes||[])for(const n of t.primitives)yield n}const E9=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t,n){var r;if(t==null||(r=t.gltf)===null||r===void 0||!r.decompressMeshes)return;const o=new Wa(e),l=[];for(const c of A2(o))o.getObjectExtension(c,Eu)&&l.push(Hp(o,c,t,n));await Promise.all(l),o.removeExtension(Eu)},encode:function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=new Wa(e);for(const r of n.json.meshes||[])uI(r,t),n.addRequiredExtension(Eu)},name:a_,preprocess:function(e,t,n){const r=new Wa(e);for(const o of A2(r))r.getObjectExtension(o,Eu)}},Symbol.toStringTag,{value:"Module"})),dI="KHR_texture_transform",Ja=dI,zp=new ie,I9=new zr,Wp=new zr;function lD(e,t){var n,r,o;const l=[],c=(n=t.json.materials)===null||n===void 0?void 0:n[e],h=c==null||(r=c.pbrMetallicRoughness)===null||r===void 0?void 0:r.baseColorTexture;h&&Go(t,e,h,l);const f=c==null?void 0:c.emissiveTexture;f&&Go(t,e,f,l);const p=c==null?void 0:c.normalTexture;p&&Go(t,e,p,l);const m=c==null?void 0:c.occlusionTexture;m&&Go(t,e,m,l);const I=c==null||(o=c.pbrMetallicRoughness)===null||o===void 0?void 0:o.metallicRoughnessTexture;I&&Go(t,e,I,l)}function Go(e,t,n,r){const o=function(c,h){var f;const p=(f=c.extensions)===null||f===void 0?void 0:f[dI],{texCoord:m=0}=c,{texCoord:I=m}=p;if(h.findIndex(w=>{let[_,b]=w;return _===m&&b===I})===-1){const w=function(_){const{offset:b=[0,0],rotation:T=0,scale:S=[1,1]}=_,k=new zr().set(1,0,0,0,1,0,b[0],b[1],1),F=I9.set(Math.cos(T),Math.sin(T),0,-Math.sin(T),Math.cos(T),0,0,0,1),N=Wp.set(S[0],0,0,0,S[1],0,0,0,1);return k.multiplyRight(F).multiplyRight(N)}(p);return m!==I&&(c.texCoord=I),h.push([m,I]),{originalTexCoord:m,texCoord:I,matrix:w}}return null}(n,r);if(!o)return;const l=e.json.meshes||[];for(const c of l)for(const h of c.primitives){const f=h.material;Number.isFinite(f)&&t===f&&l_(e,h,o)}}function l_(e,t,n){const{originalTexCoord:r,texCoord:o,matrix:l}=n,c=t.attributes[`TEXCOORD_${r}`];if(Number.isFinite(c)){var h;const p=(h=e.json.accessors)===null||h===void 0?void 0:h[c];if(p&&p.bufferView){var f;const m=(f=e.json.bufferViews)===null||f===void 0?void 0:f[p.bufferView];if(m){const{arrayBuffer:I,byteOffset:w}=e.buffers[m.buffer],_=(w||0)+(p.byteOffset||0)+(m.byteOffset||0),{ArrayType:b,length:T}=Yb(p,m),S=k4[p.componentType],k=K3[p.type],F=m.byteStride||S*k,N=new Float32Array(T);for(let G=0;G<p.count;G++){const V=new b(I,_+G*F,2);zp.set(V[0],V[1],1),zp.transformByMatrix3(l),N.set([zp[0],zp[1]],G*k)}r===o?function(G,V,W,X){G.componentType=5126,W.push({arrayBuffer:X.buffer,byteOffset:0,byteLength:X.buffer.byteLength}),V.buffer=W.length-1,V.byteLength=X.buffer.byteLength,V.byteOffset=0,delete V.byteStride}(p,m,e.buffers,N):function(G,V,W,X,K){X.buffers.push({arrayBuffer:K.buffer,byteOffset:0,byteLength:K.buffer.byteLength});const st=X.json.bufferViews;if(!st)return;st.push({buffer:X.buffers.length-1,byteLength:K.buffer.byteLength,byteOffset:0});const et=X.json.accessors;et&&(et.push({bufferView:(st==null?void 0:st.length)-1,byteOffset:0,componentType:5126,count:V.count,type:"VEC2"}),W.attributes[`TEXCOORD_${G}`]=et.length-1)}(o,p,t,e,N)}}}}const A_=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e,t){var n;if(!new Wa(e).hasExtension(dI)||(n=t.gltf)===null||n===void 0||!n.loadBuffers)return;const r=e.json.materials||[];for(let o=0;o<r.length;o++)lD(o,e)},name:Ja},Symbol.toStringTag,{value:"Module"})),Hf="KHR_lights_punctual",h_=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e){const t=new Wa(e),{json:n}=t,r=t.getExtension(Hf);r&&(t.json.lights=r.lights,t.removeExtension(Hf));for(const o of n.nodes||[]){const l=t.getObjectExtension(o,Hf);l&&(o.light=l.light),t.removeObjectExtension(o,Hf)}},encode:async function(e){const t=new Wa(e),{json:n}=t;if(n.lights){const r=t.addExtension(Hf);OA(!r.lights),r.lights=n.lights,delete n.lights}if(t.json.lights){for(const r of t.json.lights){const o=r.node;t.addObjectExtension(o,Hf,r)}delete t.json.lights}},name:Hf},Symbol.toStringTag,{value:"Module"})),Jp="KHR_materials_unlit",zf=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e){const t=new Wa(e),{json:n}=t;for(const r of n.materials||[])r.extensions&&r.extensions.KHR_materials_unlit&&(r.unlit=!0),t.removeObjectExtension(r,Jp);t.removeExtension(Jp)},encode:function(e){const t=new Wa(e),{json:n}=t;if(t.materials)for(const r of n.materials||[])r.unlit&&(delete r.unlit,t.addObjectExtension(r,Jp,{}),t.addExtension(Jp))},name:Jp},Symbol.toStringTag,{value:"Module"})),Wf="KHR_techniques_webgl",AD=Wf;function cD(e,t){const n=Object.assign({},e.values);return Object.keys(e.uniforms||{}).forEach(r=>{e.uniforms[r].value&&!(r in n)&&(n[r]=e.uniforms[r].value)}),Object.keys(n).forEach(r=>{typeof n[r]=="object"&&n[r].index!==void 0&&(n[r].texture=t.getTexture(n[r].index))}),n}const Iu=Object.freeze(Object.defineProperty({__proto__:null,decode:async function(e){const t=new Wa(e),{json:n}=t,r=t.getExtension(Wf);if(r){const o=function(l,c){const{programs:h=[],shaders:f=[],techniques:p=[]}=l,m=new TextDecoder;return f.forEach(I=>{if(!Number.isFinite(I.bufferView))throw new Error("KHR_techniques_webgl: no shader code");I.code=m.decode(c.getTypedArrayForBufferView(I.bufferView))}),h.forEach(I=>{I.fragmentShader=f[I.fragmentShader],I.vertexShader=f[I.vertexShader]}),p.forEach(I=>{I.program=h[I.program]}),p}(r,t);for(const l of n.materials||[]){const c=t.getObjectExtension(l,Wf);c&&(l.technique=Object.assign({},c,o[c.technique]),l.technique.values=cD(l.technique,t)),t.removeObjectExtension(l,Wf)}t.removeExtension(Wf)}},encode:async function(e,t){},name:AD},Symbol.toStringTag,{value:"Module"})),c2=[jb,Kb,hI,C9,pA,E9,h_,zf,Iu,A_,f9];function u_(e,t){var n;const r=(t==null||(n=t.gltf)===null||n===void 0?void 0:n.excludeExtensions)||{};return!(e in r&&!r[e])}const d_="KHR_binary_glTF",f_={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},p_={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};let g_=class{constructor(){this.idToIndexMap={animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}},this.json=void 0}normalize(e,t){this.json=e.json;const n=e.json;switch(n.asset&&n.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn(`glTF: Unknown version ${n.asset.version}`)}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(n),this._convertTopLevelObjectsToArrays(n),function(r){const o=new Wa(r),{json:l}=o;for(const c of l.images||[]){const h=o.getObjectExtension(c,d_);h&&Object.assign(c,h),o.removeObjectExtension(c,d_)}l.buffers&&l.buffers[0]&&delete l.buffers[0].uri,o.removeExtension(d_)}(e),this._convertObjectIdsToArrayIndices(n),this._updateObjects(n),this._updateMaterial(n)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in f_)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const n=e[t];if(n&&!Array.isArray(n)){e[t]=[];for(const r in n){const o=n[r];o.id=o.id||r;const l=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=l}}}_convertObjectIdsToArrayIndices(e){for(const t in f_)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:n,indices:r,material:o}=t;for(const l in n)n[l]=this._convertIdToIndex(n[l],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn(`gltf v1: json doesn't contain attribute ${t}`),e[t]=[]);for(const n of e[t])for(const r in n){const o=n[r],l=this._convertIdToIndex(o,r);n[r]=l}}_convertIdToIndex(e,t){const n=p_[t];if(n in this.idToIndexMap){const r=this.idToIndexMap[n][e];if(!Number.isFinite(r))throw new Error(`gltf v1: failed to resolve ${t} with id ${e}`);return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,n,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const l=((t=o.values)===null||t===void 0?void 0:t.tex)||((n=o.values)===null||n===void 0?void 0:n.texture2d_0)||((r=o.values)===null||r===void 0?void 0:r.diffuseTex),c=e.textures.findIndex(h=>h.id===l);c!==-1&&(o.pbrMetallicRoughness.baseColorTexture={index:c})}}};async function hD(e,t){var n,r,o;let l=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;return function(h,f,p,m){if(m.uri&&(h.baseUri=m.uri),f instanceof ArrayBuffer&&!function(_){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=new DataView(_),{magic:k=a2}=T,F=S.getUint32(b,!1);return F===k||F===a2}(f,p,m)&&(f=new TextDecoder().decode(f)),typeof f=="string")h.json=qv(f);else if(f instanceof ArrayBuffer){const _={};p=iD(_,f,p,m.glb),OA(_.type==="glTF",`Invalid GLB magic string ${_.type}`),h._glb=_,h.json=_.json}else OA(!1,"GLTF: must be ArrayBuffer or string");const I=h.json.buffers||[];if(h.buffers=new Array(I.length).fill(null),h._glb&&h._glb.header.hasBinChunk){const{binChunks:_}=h._glb;h.buffers[0]={arrayBuffer:_[0].arrayBuffer,byteOffset:_[0].byteOffset,byteLength:_[0].byteLength}}const w=h.json.images||[];h.images=new Array(w.length).fill({})}(e,t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l),function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};new g_().normalize(h,f)}(e,{normalize:l==null||(n=l.gltf)===null||n===void 0?void 0:n.normalize}),function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0;const m=c2.filter(w=>u_(w.name,f));for(const w of m){var I;(I=w.preprocess)===null||I===void 0||I.call(w,h,f,p)}}(e,l,c),l!=null&&(r=l.gltf)!==null&&r!==void 0&&r.loadBuffers&&e.json.buffers&&await async function(h,f,p){const m=h.json.buffers||[];for(let _=0;_<m.length;++_){const b=m[_];if(b.uri){var I,w;const{fetch:T}=p;OA(T);const S=s_(b.uri,f),k=await(p==null||(I=p.fetch)===null||I===void 0?void 0:I.call(p,S)),F=await(k==null||(w=k.arrayBuffer)===null||w===void 0?void 0:w.call(k));h.buffers[_]={arrayBuffer:F,byteOffset:0,byteLength:F.byteLength},delete b.uri}else h.buffers[_]===null&&(h.buffers[_]={arrayBuffer:new ArrayBuffer(b.byteLength),byteOffset:0,byteLength:b.byteLength})}}(e,l,c),l!=null&&(o=l.gltf)!==null&&o!==void 0&&o.loadImages&&await async function(h,f,p){const m=function(_){const b=new Set,T=_.json.textures||[];for(const S of T)S.source!==void 0&&b.add(S.source);return Array.from(b).sort()}(h),I=h.json.images||[],w=[];for(const _ of m)w.push(uD(h,I[_],_,f,p));return await Promise.all(w)}(e,l,c),await async function(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2?arguments[2]:void 0;const m=c2.filter(w=>u_(w.name,f));for(const w of m){var I;await((I=w.decode)===null||I===void 0?void 0:I.call(w,h,f,p))}}(e,l,c),e}async function uD(e,t,n,r,o){let l;if(t.uri&&!t.hasOwnProperty("bufferView")){const h=s_(t.uri,r),{fetch:f}=o;l=await(await f(h)).arrayBuffer(),t.bufferView={data:l}}if(Number.isFinite(t.bufferView)){const h=function(f,p,m){const I=f.bufferViews[m];OA(I);const w=p[I.buffer];OA(w);const _=(I.byteOffset||0)+w.byteOffset;return new Uint8Array(w.arrayBuffer,_,I.byteLength)}(e.json,e.buffers,t.bufferView);l=Sn(h.buffer,h.byteOffset,h.byteLength)}OA(l,"glTF image has no data");let c=await Tp(l,[nI,nD],{...r,mimeType:t.mimeType,basis:r.basis||{format:o2()}},o);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),e.images=e.images||[],e.images[n]=c}const m_={name:"glTF",id:"gltf",module:"gltf",version:"4.1.1",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;t={...m_.options,...t},t.gltf={...m_.options.gltf,...t.gltf};const{byteOffset:r=0}=t;return await hD({},e,r,t,n)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0},log:console}},_9={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},y_={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},dD=10240,fD=10241,pD=10242,Mc=10243,fI=10497,gD=9729,h2=9986,x_={magFilter:dD,minFilter:fD,wrapS:pD,wrapT:Mc},u2={[dD]:gD,[fD]:h2,[pD]:fI,[Mc]:fI};let d2=class{constructor(){this.baseUri="",this.jsonUnprocessed=void 0,this.json=void 0,this.buffers=[],this.images=[]}postProcess(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{json:n,buffers:r=[],images:o=[]}=e,{baseUri:l=""}=e;return OA(n),this.baseUri=l,this.buffers=r,this.images=o,this.jsonUnprocessed=n,this.json=this._resolveTree(e.json,t),this.json}_resolveTree(e){const t={...e};return this.json=t,e.bufferViews&&(t.bufferViews=e.bufferViews.map((n,r)=>this._resolveBufferView(n,r))),e.images&&(t.images=e.images.map((n,r)=>this._resolveImage(n,r))),e.samplers&&(t.samplers=e.samplers.map((n,r)=>this._resolveSampler(n,r))),e.textures&&(t.textures=e.textures.map((n,r)=>this._resolveTexture(n,r))),e.accessors&&(t.accessors=e.accessors.map((n,r)=>this._resolveAccessor(n,r))),e.materials&&(t.materials=e.materials.map((n,r)=>this._resolveMaterial(n,r))),e.meshes&&(t.meshes=e.meshes.map((n,r)=>this._resolveMesh(n,r))),e.nodes&&(t.nodes=e.nodes.map((n,r)=>this._resolveNode(n,r)),t.nodes=t.nodes.map((n,r)=>this._resolveNodeChildren(n))),e.skins&&(t.skins=e.skins.map((n,r)=>this._resolveSkin(n,r))),e.scenes&&(t.scenes=e.scenes.map((n,r)=>this._resolveScene(n,r))),typeof this.json.scene=="number"&&t.scenes&&(t.scene=t.scenes[this.json.scene]),t}getScene(e){return this._get(this.json.scenes,e)}getNode(e){return this._get(this.json.nodes,e)}getSkin(e){return this._get(this.json.skins,e)}getMesh(e){return this._get(this.json.meshes,e)}getMaterial(e){return this._get(this.json.materials,e)}getAccessor(e){return this._get(this.json.accessors,e)}getCamera(e){return this._get(this.json.cameras,e)}getTexture(e){return this._get(this.json.textures,e)}getSampler(e){return this._get(this.json.samplers,e)}getImage(e){return this._get(this.json.images,e)}getBufferView(e){return this._get(this.json.bufferViews,e)}getBuffer(e){return this._get(this.json.buffers,e)}_get(e,t){if(typeof t=="object")return t;const n=e&&e[t];return n||console.warn(`glTF file error: Could not find ${e}[${t}]`),n}_resolveScene(e,t){return{...e,id:e.id||`scene-${t}`,nodes:(e.nodes||[]).map(n=>this.getNode(n))}}_resolveNode(e,t){const n={...e,id:(e==null?void 0:e.id)||`node-${t}`};return e.mesh!==void 0&&(n.mesh=this.getMesh(e.mesh)),e.camera!==void 0&&(n.camera=this.getCamera(e.camera)),e.skin!==void 0&&(n.skin=this.getSkin(e.skin)),e.meshes!==void 0&&e.meshes.length&&(n.mesh=e.meshes.reduce((r,o)=>{const l=this.getMesh(o);return r.id=l.id,r.primitives=r.primitives.concat(l.primitives),r},{primitives:[]})),n}_resolveNodeChildren(e){return e.children&&(e.children=e.children.map(t=>this.getNode(t))),e}_resolveSkin(e,t){const n=typeof e.inverseBindMatrices=="number"?this.getAccessor(e.inverseBindMatrices):void 0;return{...e,id:e.id||`skin-${t}`,inverseBindMatrices:n}}_resolveMesh(e,t){const n={...e,id:e.id||`mesh-${t}`,primitives:[]};return e.primitives&&(n.primitives=e.primitives.map(r=>{const o={...r,attributes:{},indices:void 0,material:void 0},l=r.attributes;for(const c in l)o.attributes[c]=this.getAccessor(l[c]);return r.indices!==void 0&&(o.indices=this.getAccessor(r.indices)),r.material!==void 0&&(o.material=this.getMaterial(r.material)),o})),n}_resolveMaterial(e,t){const n={...e,id:e.id||`material-${t}`};if(n.normalTexture&&(n.normalTexture={...n.normalTexture},n.normalTexture.texture=this.getTexture(n.normalTexture.index)),n.occlusionTexture&&(n.occlusionTexture={...n.occlusionTexture},n.occlusionTexture.texture=this.getTexture(n.occlusionTexture.index)),n.emissiveTexture&&(n.emissiveTexture={...n.emissiveTexture},n.emissiveTexture.texture=this.getTexture(n.emissiveTexture.index)),n.emissiveFactor||(n.emissiveFactor=n.emissiveTexture?[1,1,1]:[0,0,0]),n.pbrMetallicRoughness){n.pbrMetallicRoughness={...n.pbrMetallicRoughness};const r=n.pbrMetallicRoughness;r.baseColorTexture&&(r.baseColorTexture={...r.baseColorTexture},r.baseColorTexture.texture=this.getTexture(r.baseColorTexture.index)),r.metallicRoughnessTexture&&(r.metallicRoughnessTexture={...r.metallicRoughnessTexture},r.metallicRoughnessTexture.texture=this.getTexture(r.metallicRoughnessTexture.index))}return n}_resolveAccessor(e,t){const n=function(c){return y_[c]}(e.componentType),r=function(c){return _9[c]}(e.type),o=n*r,l={...e,id:e.id||`accessor-${t}`,bytesPerComponent:n,components:r,bytesPerElement:o,value:void 0,bufferView:void 0,sparse:void 0};if(e.bufferView!==void 0&&(l.bufferView=this.getBufferView(e.bufferView)),l.bufferView){const c=l.bufferView.buffer,{ArrayType:h,byteLength:f}=Yb(l,l.bufferView),p=(l.bufferView.byteOffset||0)+(l.byteOffset||0)+c.byteOffset;let m=c.arrayBuffer.slice(p,p+f);l.bufferView.byteStride&&(m=this._getValueFromInterleavedBuffer(c,p,l.bufferView.byteStride,l.bytesPerElement,l.count)),l.value=new h(m)}return l}_getValueFromInterleavedBuffer(e,t,n,r,o){const l=new Uint8Array(o*r);for(let c=0;c<o;c++){const h=t+c*n;l.set(new Uint8Array(e.arrayBuffer.slice(h,h+r)),c*r)}return l.buffer}_resolveTexture(e,t){return{...e,id:e.id||`texture-${t}`,sampler:typeof e.sampler=="number"?this.getSampler(e.sampler):{id:"default-sampler",parameters:u2},source:typeof e.source=="number"?this.getImage(e.source):void 0}}_resolveSampler(e,t){const n={id:e.id||`sampler-${t}`,...e,parameters:{}};for(const r in n){const o=this._enumSamplerParameter(r);o!==void 0&&(n.parameters[o]=n[r])}return n}_enumSamplerParameter(e){return x_[e]}_resolveImage(e,t){const n={...e,id:e.id||`image-${t}`,image:null,bufferView:e.bufferView!==void 0?this.getBufferView(e.bufferView):void 0},r=this.images[t];return r&&(n.image=r),n}_resolveBufferView(e,t){const n=e.buffer,r=this.buffers[n].arrayBuffer;let o=this.buffers[n].byteOffset||0;return e.byteOffset&&(o+=e.byteOffset),{id:`bufferView-${t}`,...e,buffer:this.buffers[n],data:new Uint8Array(r,o,e.byteLength)}}_resolveCamera(e,t){const n={...e,id:e.id||`camera-${t}`};return n.perspective,n.orthographic,n}};function C_(e,t){return new d2().postProcess(e,t)}const mD=0,f2=1;function yD(e,t,n,r){e.rotateYtoZ=!0;const o=(e.byteOffset||0)+(e.byteLength||0)-n;if(o===0)throw new Error("glTF byte length must be greater than 0.");return e.gltfUpAxis=r!=null&&r["3d-tiles"]&&r["3d-tiles"].assetGltfUpAxis?r["3d-tiles"].assetGltfUpAxis:"Y",e.gltfArrayBuffer=Sn(t,n,o),e.gltfByteOffset=0,e.gltfByteLength=o,n%4==0||console.warn(`${e.type}: embedded glb is not aligned to a 4-byte boundary.`),(e.byteOffset||0)+(e.byteLength||0)}async function xD(e,t,n,r){const o=(n==null?void 0:n["3d-tiles"])||{};if(function(l,c){switch(c){case mD:if(l.gltfArrayBuffer){const h=new Uint8Array(l.gltfArrayBuffer,l.gltfByteOffset),f=new TextDecoder().decode(h);l.gltfUrl=f.replace(/[\s\0]+$/,"")}delete l.gltfArrayBuffer,delete l.gltfByteOffset,delete l.gltfByteLength;break;case f2:break;default:throw new Error("b3dm: Illegal glTF format field")}}(e,t),o.loadGLTF){if(!r)return;if(e.gltfUrl){const{fetch:l}=r,c=await l(e.gltfUrl,n);e.gltfArrayBuffer=await c.arrayBuffer(),e.gltfByteOffset=0}if(e.gltfArrayBuffer){const l=await Tp(e.gltfArrayBuffer,m_,n,r);e.gltf=C_(l),e.gpuMemoryUsageInBytes=N4(e.gltf),delete e.gltfArrayBuffer,delete e.gltfByteOffset,delete e.gltfByteLength}}}async function B9(e,t,n,r,o){var l;n=function(h,f,p,m){p=z3(h,f,p),p=Ub(h,f,p),p=Nb(h,f,p),p=yD(h,f,p,m);const I=new Fb(h.featureTableJson,h.featureTableBinary);return h.rtcCenter=I.getGlobalProperty("RTC_CENTER",as.FLOAT,3),p}(e,t,n,r),await xD(e,f2,r,o);const c=e==null||(l=e.gltf)===null||l===void 0?void 0:l.extensions;return c&&c.CESIUM_RTC&&(e.rtcCenter=c.CESIUM_RTC.center),n}async function pI(e,t,n,r,o){return n=function(l,c,h,f){var p;if(h=z3(l,c,h),l.version!==1)throw new Error(`Instanced 3D Model version ${l.version} is not supported`);h=Ub(l,c,h);const m=new DataView(c);if(l.gltfFormat=m.getUint32(h,!0),h+=4,h=Nb(l,c,h),h=yD(l,c,h,f),l==null||(p=l.header)===null||p===void 0||!p.featureTableJsonByteLength||l.header.featureTableJsonByteLength===0)throw new Error("i3dm parser: featureTableJsonByteLength is zero.");const I=new Fb(l.featureTableJson,l.featureTableBinary),w=I.getGlobalProperty("INSTANCES_LENGTH");if(I.featuresLength=w,!Number.isFinite(w))throw new Error("i3dm parser: INSTANCES_LENGTH must be defined");return l.eastNorthUp=I.getGlobalProperty("EAST_NORTH_UP"),l.rtcCenter=I.getGlobalProperty("RTC_CENTER",as.FLOAT,3),new v4(l.batchTableJson,l.batchTableBinary,w),function(_,b,T,S){const k=new Array(S),F=new ie;new ie,new ie,new ie;const N=new zr,G=new D3,V=new ie,W={},X=new Ys,K=[],st=[],et=[],it=[];for(let ot=0;ot<S;ot++){let ht;if(b.hasProperty("POSITION"))ht=b.getProperty("POSITION",as.FLOAT,3,ot,F);else if(b.hasProperty("POSITION_QUANTIZED")){ht=b.getProperty("POSITION_QUANTIZED",as.UNSIGNED_SHORT,3,ot,F);const Mt=b.getGlobalProperty("QUANTIZED_VOLUME_OFFSET",as.FLOAT,3);if(!Mt)throw new Error("i3dm parser: QUANTIZED_VOLUME_OFFSET must be defined for quantized positions.");const Bt=b.getGlobalProperty("QUANTIZED_VOLUME_SCALE",as.FLOAT,3);if(!Bt)throw new Error("i3dm parser: QUANTIZED_VOLUME_SCALE must be defined for quantized positions.");const at=65535;for(let kt=0;kt<3;kt++)ht[kt]=ht[kt]/at*Bt[kt]+Mt[kt]}if(!ht)throw new Error("i3dm: POSITION or POSITION_QUANTIZED must be defined for each instance.");if(F.copy(ht),W.translation=F,_.normalUp=b.getProperty("NORMAL_UP",as.FLOAT,3,ot,K),_.normalRight=b.getProperty("NORMAL_RIGHT",as.FLOAT,3,ot,st),_.normalUp){if(!_.normalRight)throw new Error("i3dm: Custom orientation requires both NORMAL_UP and NORMAL_RIGHT.");_.hasCustomOrientation=!0}else{if(_.octNormalUp=b.getProperty("NORMAL_UP_OCT32P",as.UNSIGNED_SHORT,2,ot,K),_.octNormalRight=b.getProperty("NORMAL_RIGHT_OCT32P",as.UNSIGNED_SHORT,2,ot,st),_.octNormalUp)throw _.octNormalRight?new Error("i3dm: oct-encoded orientation not implemented"):new Error("i3dm: oct-encoded orientation requires NORMAL_UP_OCT32P and NORMAL_RIGHT_OCT32P");_.eastNorthUp?(Zs.WGS84.eastNorthUpToFixedFrame(F,X),X.getRotationMatrix3(N)):N.identity()}G.fromMatrix3(N),W.rotation=G,V.set(1,1,1);const vt=b.getProperty("SCALE",as.FLOAT,1,ot,et);Number.isFinite(vt)&&V.multiplyByScalar(vt);const Ct=b.getProperty("SCALE_NON_UNIFORM",as.FLOAT,3,ot,K);Ct&&V.scale(Ct),W.scale=V;let wt=b.getProperty("BATCH_ID",as.UNSIGNED_SHORT,1,ot,it);wt===void 0&&(wt=ot);const mt=new Ys().fromQuaternion(W.rotation);X.identity(),X.translate(W.translation),X.multiplyRight(mt),X.scale(W.scale);const Rt=X.clone();k[ot]={modelMatrix:Rt,batchId:wt}}_.instances=k}(l,I,0,w),h}(e,t,n,r),await xD(e,e.gltfFormat||0,r,o),n}async function CD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{shape:"tile3d"};switch(o.byteOffset=t,o.type=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=new DataView(l);return`${String.fromCharCode(h.getUint8(c+0))}${String.fromCharCode(h.getUint8(c+1))}${String.fromCharCode(h.getUint8(c+2))}${String.fromCharCode(h.getUint8(c+3))}`}(e,t),o.type){case p4:return await async function(l,c,h,f,p,m){h=z3(l,c,h);const I=new DataView(c);for(l.tilesLength=I.getUint32(h,!0),h+=4,l.tiles=[];l.tiles.length<l.tilesLength&&(l.byteLength||0)-h>12;){const w={shape:"tile3d"};l.tiles.push(w),h=await m(c,h,f,p,w)}return h}(o,e,t,n,r,CD);case m4:return await B9(o,e,t,n,r);case x4:return await async function(l,c,h,f){var p,m;if(l.rotateYtoZ=!0,l.gltfUpAxis=h!=null&&(p=h["3d-tiles"])!==null&&p!==void 0&&p.assetGltfUpAxis?h["3d-tiles"].assetGltfUpAxis:"Y",h!=null&&(m=h["3d-tiles"])!==null&&m!==void 0&&m.loadGLTF){if(!f)return c.byteLength;const I=await Tp(c,m_,h,f);l.gltf=C_(I),l.gpuMemoryUsageInBytes=N4(l.gltf)}else l.gltfArrayBuffer=c;return c.byteLength}(o,e,n,r);case y4:return await pI(o,e,t,n,r);case g4:return await JF(o,e,t,n,r);default:throw new Error(`3DTileLoader: unknown type ${o.type}`)}}async function E_(e,t,n,r){const o=Number.isFinite(t.bitstream)?t.bitstream:t.bufferView;if(typeof o!="number")return;const l=e.bufferViews[o],c=e.buffers[l.buffer];if(r==null||!r.baseUrl)throw new Error("Url is not provided");if(!r.fetch)throw new Error("fetch is not provided");if(c.uri){const f=`${(r==null?void 0:r.baseUrl)||""}/${c.uri}`,p=await(await r.fetch(f)).arrayBuffer();return void(t.explicitBitstream=new Uint8Array(p,l.byteOffset,l.byteLength))}const h=e.buffers.slice(0,l.buffer).reduce((f,p)=>f+p.byteLength,0);t.explicitBitstream=new Uint8Array(n.slice(h,h+c.byteLength),l.byteOffset,l.byteLength)}function ED(e){const t=new DataView(e);return t.getUint32(0,!0)+2**32*t.getUint32(4,!0)}const ID={id:"3d-tiles-subtree",name:"3D Tiles Subtree",module:"3d-tiles",version:Db,extensions:["subtree"],mimeTypes:["application/octet-stream"],tests:["subtree"],parse:async function(e,t,n){if(new Uint32Array(e.slice(0,4))[0]!==1952609651)throw new Error("Wrong subtree file magic number");if(new Uint32Array(e.slice(4,8))[0]!==1)throw new Error("Wrong subtree file verson, must be 1");const r=ED(e.slice(8,16)),o=new Uint8Array(e,24,r),l=new TextDecoder("utf8").decode(o),c=JSON.parse(l),h=ED(e.slice(16,24));let f=new ArrayBuffer(0);if(h&&(f=e.slice(24+r)),await E_(c,c.tileAvailability,f,n),Array.isArray(c.contentAvailability))for(const p of c.contentAvailability)await E_(c,p,f,n);else await E_(c,c.contentAvailability,f,n);return await E_(c,c.childSubtreeAvailability,f,n),c},options:{}};/**
     * @license
     * Copyright 2009 The Closure Library Authors
     * Copyright 2020 Daniel Wirtz / The long.js Authors.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     *
     * SPDX-License-Identifier: Apache-2.0
     */var Ya=null;try{Ya=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ys(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Da(e){return(e&&e.__isLong__)===!0}function I_(e){var t=Math.clz32(e&-e);return e?31-t:t}ys.prototype.__isLong__,Object.defineProperty(ys.prototype,"__isLong__",{value:!0}),ys.isLong=Da;var p2={},w_={};function Md(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=w_[e])?r:(n=$i(e,0,!0),o&&(w_[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=p2[e])?r:(n=$i(e,e<0?-1:0,!1),o&&(p2[e]=n),n)}function gA(e,t){if(isNaN(e))return t?Sc:ha;if(t){if(e<0)return Sc;if(e>=mI)return g2}else{if(e<=-9223372036854776e3)return Co;if(e+1>=my)return EI}return e<0?gA(-e,t).neg():$i(e%Sd|0,e/Sd|0,t)}function $i(e,t,n){return new ys(e,t,n)}ys.fromInt=Md,ys.fromNumber=gA,ys.fromBits=$i;var gI=Math.pow;function Yp(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Sc:ha;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Yp(e.substring(1),t,n).neg();for(var o=gA(gI(n,8)),l=ha,c=0;c<e.length;c+=8){var h=Math.min(8,e.length-c),f=parseInt(e.substring(c,c+h),n);if(h<8){var p=gA(gI(n,h));l=l.mul(p).add(gA(f))}else l=(l=l.mul(o)).add(gA(f))}return l.unsigned=t,l}function Dl(e,t){return typeof e=="number"?gA(e,t):typeof e=="string"?Yp(e,t):$i(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}ys.fromString=Yp,ys.fromValue=Dl;var Sd=4294967296,mI=Sd*Sd,my=mI/2,yI=Md(1<<24),ha=Md(0);ys.ZERO=ha;var Sc=Md(0,!0);ys.UZERO=Sc;var Td=Md(1);ys.ONE=Td;var xI=Md(1,!0);ys.UONE=xI;var CI=Md(-1);ys.NEG_ONE=CI;var EI=$i(-1,2147483647,!1);ys.MAX_VALUE=EI;var g2=$i(-1,-1,!0);ys.MAX_UNSIGNED_VALUE=g2;var Co=$i(0,-2147483648,!1);ys.MIN_VALUE=Co;var We=ys.prototype;We.toInt=function(){return this.unsigned?this.low>>>0:this.low},We.toNumber=function(){return this.unsigned?(this.high>>>0)*Sd+(this.low>>>0):this.high*Sd+(this.low>>>0)},We.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Co)){var t=gA(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=gA(gI(e,6),this.unsigned),l=this,c="";;){var h=l.div(o),f=(l.sub(h.mul(o)).toInt()>>>0).toString(e);if((l=h).isZero())return f+c;for(;f.length<6;)f="0"+f;c=""+f+c}},We.getHighBits=function(){return this.high},We.getHighBitsUnsigned=function(){return this.high>>>0},We.getLowBits=function(){return this.low},We.getLowBitsUnsigned=function(){return this.low>>>0},We.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Co)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1},We.isZero=function(){return this.high===0&&this.low===0},We.eqz=We.isZero,We.isNegative=function(){return!this.unsigned&&this.high<0},We.isPositive=function(){return this.unsigned||this.high>=0},We.isOdd=function(){return!(1&~this.low)},We.isEven=function(){return!(1&this.low)},We.equals=function(e){return Da(e)||(e=Dl(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},We.eq=We.equals,We.notEquals=function(e){return!this.eq(e)},We.neq=We.notEquals,We.ne=We.notEquals,We.lessThan=function(e){return this.comp(e)<0},We.lt=We.lessThan,We.lessThanOrEqual=function(e){return this.comp(e)<=0},We.lte=We.lessThanOrEqual,We.le=We.lessThanOrEqual,We.greaterThan=function(e){return this.comp(e)>0},We.gt=We.greaterThan,We.greaterThanOrEqual=function(e){return this.comp(e)>=0},We.gte=We.greaterThanOrEqual,We.ge=We.greaterThanOrEqual,We.compare=function(e){if(Da(e)||(e=Dl(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},We.comp=We.compare,We.negate=function(){return!this.unsigned&&this.eq(Co)?Co:this.not().add(Td)},We.neg=We.negate,We.add=function(e){Da(e)||(e=Dl(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,l=e.high>>>16,c=65535&e.high,h=e.low>>>16,f=0,p=0,m=0,I=0;return m+=(I+=o+(65535&e.low))>>>16,p+=(m+=r+h)>>>16,f+=(p+=n+c)>>>16,f+=t+l,$i((m&=65535)<<16|(I&=65535),(f&=65535)<<16|(p&=65535),this.unsigned)},We.subtract=function(e){return Da(e)||(e=Dl(e)),this.add(e.neg())},We.sub=We.subtract,We.multiply=function(e){if(this.isZero())return this;if(Da(e)||(e=Dl(e)),Ya)return $i(Ya.mul(this.low,this.high,e.low,e.high),Ya.get_high(),this.unsigned);if(e.isZero())return this.unsigned?Sc:ha;if(this.eq(Co))return e.isOdd()?Co:ha;if(e.eq(Co))return this.isOdd()?Co:ha;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(yI)&&e.lt(yI))return gA(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,l=e.high>>>16,c=65535&e.high,h=e.low>>>16,f=65535&e.low,p=0,m=0,I=0,w=0;return I+=(w+=o*f)>>>16,m+=(I+=r*f)>>>16,I&=65535,m+=(I+=o*h)>>>16,p+=(m+=n*f)>>>16,m&=65535,p+=(m+=r*h)>>>16,m&=65535,p+=(m+=o*c)>>>16,p+=t*f+n*h+r*c+o*l,$i((I&=65535)<<16|(w&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},We.mul=We.multiply,We.divide=function(e){if(Da(e)||(e=Dl(e)),e.isZero())throw Error("division by zero");var t,n,r;if(Ya)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?$i((this.unsigned?Ya.div_u:Ya.div_s)(this.low,this.high,e.low,e.high),Ya.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Sc:ha;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Sc;if(e.gt(this.shru(1)))return xI;r=Sc}else{if(this.eq(Co))return e.eq(Td)||e.eq(CI)?Co:e.eq(Co)?Td:(t=this.shr(1).div(e).shl(1)).eq(ha)?e.isNegative()?Td:CI:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Co))return this.unsigned?Sc:ha;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=ha}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),l=o<=48?1:gI(2,o-48),c=gA(t),h=c.mul(e);h.isNegative()||h.gt(n);)h=(c=gA(t-=l,this.unsigned)).mul(e);c.isZero()&&(c=Td),r=r.add(c),n=n.sub(h)}return r},We.div=We.divide,We.modulo=function(e){return Da(e)||(e=Dl(e)),Ya?$i((this.unsigned?Ya.rem_u:Ya.rem_s)(this.low,this.high,e.low,e.high),Ya.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},We.mod=We.modulo,We.rem=We.modulo,We.not=function(){return $i(~this.low,~this.high,this.unsigned)},We.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},We.clz=We.countLeadingZeros,We.countTrailingZeros=function(){return this.low?I_(this.low):I_(this.high)+32},We.ctz=We.countTrailingZeros,We.and=function(e){return Da(e)||(e=Dl(e)),$i(this.low&e.low,this.high&e.high,this.unsigned)},We.or=function(e){return Da(e)||(e=Dl(e)),$i(this.low|e.low,this.high|e.high,this.unsigned)},We.xor=function(e){return Da(e)||(e=Dl(e)),$i(this.low^e.low,this.high^e.high,this.unsigned)},We.shiftLeft=function(e){return Da(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?$i(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):$i(0,this.low<<e-32,this.unsigned)},We.shl=We.shiftLeft,We.shiftRight=function(e){return Da(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?$i(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):$i(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},We.shr=We.shiftRight,We.shiftRightUnsigned=function(e){return Da(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?$i(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):$i(e===32?this.high:this.high>>>e-32,0,this.unsigned)},We.shru=We.shiftRightUnsigned,We.shr_u=We.shiftRightUnsigned,We.rotateLeft=function(e){var t;return Da(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?$i(this.high,this.low,this.unsigned):e<32?(t=32-e,$i(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),$i(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},We.rotl=We.rotateLeft,We.rotateRight=function(e){var t;return Da(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?$i(this.high,this.low,this.unsigned):e<32?(t=32-e,$i(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),$i(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},We.rotr=We.rotateRight,We.toSigned=function(){return this.unsigned?$i(this.low,this.high,!1):this},We.toUnsigned=function(){return this.unsigned?this:$i(this.low,this.high,!0)},We.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},We.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},We.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},ys.fromBytes=function(e,t,n){return n?ys.fromBytesLE(e,t):ys.fromBytesBE(e,t)},ys.fromBytesLE=function(e,t){return new ys(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},ys.fromBytesBE=function(e,t){return new ys(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};function m2(e){e==="X"&&(e="");const t=e.padEnd(16,"0");return ys.fromString(t,!0,16)}const Jf=180/Math.PI;function yy(e,t,n){const r=1<<t;return[(e[0]+n[0])/r,(e[1]+n[1])/r]}function wD(e){return e>=.5?1/3*(4*e*e-1):1/3*(1-4*(1-e)*(1-e))}function _D(e){return[wD(e[0]),wD(e[1])]}function BD(e,t){let[n,r]=t;switch(e){case 0:return[1,n,r];case 1:return[-n,1,r];case 2:return[-n,-r,1];case 3:return[-1,-r,-n];case 4:return[r,-1,-n];case 5:return[r,n,-1];default:throw new Error("Invalid face")}}function vD(e){let[t,n,r]=e;const o=Math.atan2(r,Math.sqrt(t*t+n*n));return[Math.atan2(n,t)*Jf,o*Jf]}function v9(e,t,n,r){if(r===0){n===1&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);const o=t[0];t[0]=t[1],t[1]=o}}function bD(e){const{face:t,ij:n,level:r}=e,o=[[0,0],[0,1],[1,1],[1,0],[0,0]],l=Math.max(1,Math.ceil(100*Math.pow(2,-r))),c=new Float64Array(4*l*2+2);let h=0,f=0;for(let p=0;p<4;p++){const m=o[p].slice(0),I=o[p+1],w=(I[0]-m[0])/l,_=(I[1]-m[1])/l;for(let b=0;b<l;b++){m[0]+=w,m[1]+=_;const T=vD(BD(t,_D(yy(n,r,m))));Math.abs(T[1])>89.999&&(T[0]=f);const S=T[0]-f;T[0]+=S>180?-360:S<-180?360:0,c[h++]=T[0],c[h++]=T[1],f=T[0]}}return c[h++]=c[0],c[h++]=c[1],c}function y2(e){const t=function(n){if(n.indexOf("/")>0)return n;const r=m2(n);return function(o){if(o.isZero())return"";let l=o.toString(2);for(;l.length<64;)l="0"+l;const c=l.lastIndexOf("1"),h=l.substring(0,3),f=l.substring(3,c),p=f.length/2,m=ys.fromString(h,!0,2).toString(10);let I="";if(p!==0)for(I=ys.fromString(f,!0,2).toString(4);I.length<p;)I="0"+I;return`${m}/${I}`}(r)}(e);return function(n){if(n.length===0)throw new Error(`Invalid Hilbert quad key ${n}`);const r=n.split("/"),o=parseInt(r[0],10),l=r[1],c=l.length;let h=0;const f=[0,0];for(let p=c-1;p>=0;p--){h=c-p;const m=l[p];let I=0,w=0;m==="1"?w=1:m==="2"?(I=1,w=1):m==="3"&&(I=1);const _=Math.pow(2,h-1);v9(_,f,I,w),f[0]+=_*I,f[1]+=_*w}if(o%2==1){const p=f[0];f[0]=f[1],f[1]=p}return{face:o,ij:f,level:h}}(t)}function b9(e){return function(t){const n=_D(yy(t.ij,t.level,[.5,.5]));return vD(BD(t.face,n))}(y2(e))}function MD(e){if(e.length%2!=0)throw new Error("Invalid corners");const t=[],n=[];for(let r=0;r<e.length;r+=2)t.push(e[r]),n.push(e[r+1]);return t.sort((r,o)=>r-o),n.sort((r,o)=>r-o),{west:t[0],east:t[t.length-1],north:n[n.length-1],south:n[0]}}function M9(e,t){const n=(t==null?void 0:t.minimumHeight)||0,r=(t==null?void 0:t.maximumHeight)||0,o=function(m){let I;if(m.face===2||m.face===5){let w=null,_=0;for(let b=0;b<4;b++){const T=bD(y2(`${m.face}/${b}`));(typeof w>"u"||w===null)&&(w=new Float64Array(4*T.length)),w.set(T,_),_+=T.length}I=MD(w)}else I=MD(bD(m));return I}(y2(e)),l=o.west,c=o.south,h=o.east,f=o.north,p=[];return p.push(new ie(l,f,n)),p.push(new ie(h,f,n)),p.push(new ie(h,c,n)),p.push(new ie(l,c,n)),p.push(new ie(l,f,r)),p.push(new ie(h,f,r)),p.push(new ie(h,c,r)),p.push(new ie(l,c,r)),p}function SD(e){const t=e.token,n={minimumHeight:e.minimumHeight,maximumHeight:e.maximumHeight},r=M9(t,n),o=b9(t),l=o[0],c=o[1],h=Zs.WGS84.cartographicToCartesian([l,c,n.maximumHeight]),f=new ie(h[0],h[1],h[2]);r.push(f);const p=function(m,I=new _b){if(!m||m.length===0)return I.halfAxes=new zr([0,0,0,0,0,0,0,0,0]),I.center=new ie,I;const w=m.length,_=new ie(0,0,0);for(const Mt of m)_.add(Mt);const b=1/w;_.multiplyByScalar(b);let T=0,S=0,k=0,F=0,N=0,G=0;for(const Mt of m){const Bt=mu.copy(Mt).subtract(_);T+=Bt.x*Bt.x,S+=Bt.x*Bt.y,k+=Bt.x*Bt.z,F+=Bt.y*Bt.y,N+=Bt.y*Bt.z,G+=Bt.z*Bt.z}T*=b,S*=b,k*=b,F*=b,N*=b,G*=b;const V=RF;V[0]=T,V[1]=S,V[2]=k,V[3]=S,V[4]=F,V[5]=N,V[6]=k,V[7]=N,V[8]=G;const{unitary:W}=c4(V,QF),X=I.halfAxes.copy(W);let K=X.getColumn(0,SF),st=X.getColumn(1,TF),et=X.getColumn(2,DF),it=-Number.MAX_VALUE,ot=-Number.MAX_VALUE,ht=-Number.MAX_VALUE,vt=Number.MAX_VALUE,Ct=Number.MAX_VALUE,wt=Number.MAX_VALUE;for(const Mt of m)mu.copy(Mt),it=Math.max(mu.dot(K),it),ot=Math.max(mu.dot(st),ot),ht=Math.max(mu.dot(et),ht),vt=Math.min(mu.dot(K),vt),Ct=Math.min(mu.dot(st),Ct),wt=Math.min(mu.dot(et),wt);K=K.multiplyByScalar(.5*(vt+it)),st=st.multiplyByScalar(.5*(Ct+ot)),et=et.multiplyByScalar(.5*(wt+ht)),I.center.copy(K).add(st).add(et);const mt=MF.set(it-vt,ot-Ct,ht-wt).multiplyByScalar(.5),Rt=new zr([mt[0],0,0,0,mt[1],0,0,0,mt[2]]);return I.halfAxes.multiplyRight(Rt),I}(r);return[...p.center,...p.halfAxes]}const x2={QUADTREE:4,OCTREE:8};function S9(e,t,n){if(e!=null&&e.box){const r=function(c,h){const f=function(p){return p.and(p.not().add(1))}(c).shiftRightUnsigned(2);return c.add(ys.fromNumber(2*h+1-4).multiply(f))}(m2(e.s2VolumeInfo.token),t),o=function(c){if(c.isZero())return"X";let h=c.countTrailingZeros();h=(h-h%4)/4;const f=h;h*=4;const p=c.shiftRightUnsigned(h).toString(16).replace(/0+$/,"");return Array(17-f-p.length).join("0")+p}(r),l={...e.s2VolumeInfo};if(l.token=o,n==="OCTREE"){const c=e.s2VolumeInfo,h=c.maximumHeight-c.minimumHeight,f=h/2,p=c.minimumHeight+h/2;c.minimumHeight=p-f,c.maximumHeight=p+f}return{box:SD(l),s2VolumeInfo:l}}}async function Zp(e){const{implicitOptions:t,parentData:n={mortonIndex:0,x:0,y:0,z:0},childIndex:r=0,s2VolumeBox:o,loaderOptions:l}=e;let{subtree:c,level:h=0,globalData:f={level:0,mortonIndex:0,x:0,y:0,z:0}}=e;const{subdivisionScheme:p,subtreeLevels:m,maximumLevel:I,contentUrlTemplate:w,subtreesUriTemplate:_,basePath:b}=t,T={children:[],lodMetricValue:0,contentUrl:""};if(!I)return zE.once(`Missing 'maximumLevel' or 'availableLevels' property. The subtree ${w} won't be loaded...`),T;const S=h+f.level;if(S>I)return T;const k=x2[p],F=Math.log2(k),N=1&r,G=r>>1&1,V=r>>2&1,W=(k**h-1)/(k-1);let X=wu(n.mortonIndex,r,F),K=W+X,st=wu(n.x,N,1),et=wu(n.y,G,1),it=wu(n.z,V,1),ot=!1;h>=m&&(ot=C2(c.childSubtreeAvailability,X));const ht=wu(f.x,st,h),vt=wu(f.y,et,h),Ct=wu(f.z,it,h);if(ot){const Rt=__(`${b}/${_}`,S,ht,vt,Ct);c=await ty(Rt,ID,l),f={mortonIndex:X,x:st,y:et,z:it,level:h},X=0,K=0,st=0,et=0,it=0,h=0}if(!C2(c.tileAvailability,K))return T;C2(c.contentAvailability,K)&&(T.contentUrl=__(w,S,ht,vt,Ct));const wt=h+1,mt={mortonIndex:X,x:st,y:et,z:it};for(let Rt=0;Rt<k;Rt++){const Mt=S9(o,Rt,p),Bt=await Zp({subtree:c,implicitOptions:t,loaderOptions:l,parentData:mt,childIndex:Rt,level:wt,globalData:{...f},s2VolumeBox:Mt});if(Bt.contentUrl||Bt.children.length){const at=Rr(Bt,S+1,{childTileX:st,childTileY:et,childTileZ:it},t,o);T.children.push(at)}}return T}function C2(e,t){let n;return Array.isArray(e)?(n=e[0],e.length>1&&zE.once('Not supported extension "3DTILES_multiple_contents" has been detected')):n=e,"constant"in n?!!n.constant:!!n.explicitBitstream&&function(r,o){const l=Math.floor(r/8),c=r%8;return(o[l]>>c&1)==1}(t,n.explicitBitstream)}function Rr(e,t,n,r,o){const{basePath:l,refine:c,getRefine:h,lodMetricType:f,getTileType:p,rootLodMetricValue:m,rootBoundingVolume:I}=r,w=e.contentUrl&&e.contentUrl.replace(`${l}/`,""),_=m/2**t,b=function(T,S,k){if(S.region){const{childTileX:F,childTileY:N,childTileZ:G}=k,[V,W,X,K,st,et]=S.region,it=2**T,ot=(X-V)/it,ht=(K-W)/it,vt=(et-st)/it,[Ct,wt]=[V+ot*F,V+ot*(F+1)],[mt,Rt]=[W+ht*N,W+ht*(N+1)],[Mt,Bt]=[st+vt*G,st+vt*(G+1)];return{region:[Ct,mt,wt,Rt,Mt,Bt]}}if(S.box)return S;throw new Error(`Unsupported bounding volume type ${S}`)}(t,o!=null&&o.box?{box:o.box}:I,n);return{children:e.children,contentUrl:e.contentUrl,content:{uri:w},id:e.contentUrl,refine:h(c),type:p(e),lodMetricType:f,lodMetricValue:_,geometricError:_,transform:e.transform,boundingVolume:b}}function wu(e,t,n){return(e<<n)+t}function __(e,t,n,r,o){const l=function(c){const h={};for(const f in c)h[`{${f}}`]=c[f];return h}({level:t,x:n,y:r,z:o});return e.replace(/{level}|{x}|{y}|{z}/gi,c=>l[c])}function xy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(!t)return ry.EMPTY;const n=t.split("?")[0].split(".").pop();switch(n){case"pnts":return ry.POINTCLOUD;case"i3dm":case"b3dm":case"glb":case"gltf":return ry.SCENEGRAPH;default:return n||ry.EMPTY}}function Cy(e){switch(e){case"REPLACE":case"replace":return d4.REPLACE;case"ADD":case"add":return d4.ADD;default:return e}}function E2(e,t){if(/^[a-z][0-9a-z+.-]*:/i.test(t)){const n=new URL(e,`${t}/`);return decodeURI(n.toString())}return e.startsWith("/")?e:y3(t,e)}function Ey(e,t){if(!e)return null;let n;if(e.content){var r;const o=e.content.uri||((r=e.content)===null||r===void 0?void 0:r.url);typeof o<"u"&&(n=E2(o,t))}return{...e,id:n,contentUrl:n,lodMetricType:XE.GEOMETRIC_ERROR,lodMetricValue:e.geometricError,transformMatrix:e.transform,type:xy(e,n),refine:Cy(e.refine)}}async function TD(e,t,n,r,o){var l,c,h;const{subdivisionScheme:f,maximumLevel:p,availableLevels:m,subtreeLevels:I,subtrees:{uri:w}}=r,_=E2(__(w,0,0,0,0),n),b=await ty(_,ID,o),T=(l=e.content)===null||l===void 0?void 0:l.uri,S=T?E2(T,n):"",k=t==null||(c=t.root)===null||c===void 0?void 0:c.refine,F=e.geometricError,N=(h=e.boundingVolume.extensions)===null||h===void 0?void 0:h["3DTILES_bounding_volume_S2"];if(N){const W={box:SD(N),s2VolumeInfo:N};e.boundingVolume=W}const G=e.boundingVolume,V={contentUrlTemplate:S,subtreesUriTemplate:w,subdivisionScheme:f,subtreeLevels:I,maximumLevel:Number.isFinite(m)?m-1:p,refine:k,basePath:n,lodMetricType:XE.GEOMETRIC_ERROR,rootLodMetricValue:F,rootBoundingVolume:G,getTileType:xy,getRefine:Cy};return await async function(W,X,K,st,et){if(!W)return null;const{children:it,contentUrl:ot}=await Zp({subtree:K,implicitOptions:st,loaderOptions:et});let ht,vt=null;return ot&&(ht=ot,vt={uri:ot.replace(`${X}/`,"")}),{...W,id:ht,contentUrl:ht,lodMetricType:XE.GEOMETRIC_ERROR,lodMetricValue:W.geometricError,transformMatrix:W.transform,type:xy(W,ht),refine:Cy(W.refine),content:vt||W.content,children:it}}(e,n,b,V,o)}function I2(e){var t;return(e==null||(t=e.extensions)===null||t===void 0?void 0:t["3DTILES_implicit_tiling"])||(e==null?void 0:e.implicitTiling)}const Iy={id:"3d-tiles",name:"3D Tiles",module:"3d-tiles",version:Db,extensions:["cmpt","pnts","b3dm","i3dm"],mimeTypes:["application/octet-stream"],tests:["cmpt","pnts","b3dm","i3dm"],parse:async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=t["3d-tiles"]||{};let o;return o=r.isTileset==="auto"?(n==null?void 0:n.url)&&n.url.indexOf(".json")!==-1:r.isTileset,o?async function(l,c,h){var f;const p=JSON.parse(new TextDecoder().decode(l)),m=(h==null?void 0:h.url)||"",I=function(_){return Lf(_)}(m),w=await async function(_,b,T){let S=null;const k=I2(_.root);S=k&&_.root?await TD(_.root,_,b,k,T):Ey(_.root,b);const F=[];for(F.push(S);F.length>0;){const N=F.pop()||{},G=N.children||[],V=[];for(const W of G){const X=I2(W);let K;K=X?await TD(W,_,b,X,T):Ey(W,b),K&&(V.push(K),F.push(K))}N.children=V}return S}(p,I,c||{});return{...p,shape:"tileset3d",loader:Iy,url:m,queryString:(h==null?void 0:h.queryString)||"",basePath:I,root:w||p.root,type:f4.TILES3D,lodMetricType:XE.GEOMETRIC_ERROR,lodMetricValue:((f=p.root)===null||f===void 0?void 0:f.geometricError)||0}}(e,t,n):async function(l,c,h){const f={content:{shape:"tile3d",featureIds:null}};return await CD(l,0,c,h,f.content),f.content}(e,t,n)},options:{"3d-tiles":{loadGLTF:!0,decodeQuantizedPositions:!1,isTileset:"auto",assetGltfUpAxis:null}}},wy="https://api.cesium.com/v1/assets";async function w2(e,t){if(!t){const l=await async function(c){ar(c);const h=wy,f={Authorization:`Bearer ${c}`},p=await jm(h,{headers:f});if(!p.ok)throw new Error(p.statusText);return await p.json()}(e);for(const c of l.items)c.type==="3DTILES"&&(t=c.id)}const n=await async function(l,c){ar(l,c);const h={Authorization:`Bearer ${l}`},f=`${wy}/${c}`;let p=await jm(`${f}`,{headers:h});if(!p.ok)throw new Error(p.statusText);let m=await p.json();if(p=await jm(`${f}/endpoint`,{headers:h}),!p.ok)throw new Error(p.statusText);const I=await p.json();return m={...m,...I},m}(e,t),{type:r,url:o}=n;return ar(r==="3DTILES"&&o),n.headers={Authorization:`Bearer ${n.accessToken}`},n}const DD={...Iy,id:"cesium-ion",name:"Cesium Ion",preload:async function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t=t["cesium-ion"]||{};const{accessToken:n}=t;let r=t.assetId;if(!Number.isFinite(r)){const o=e.match(/\/([0-9]+)\/tileset.json/);r=o&&o[1]}return w2(n,r)},parse:async(e,t,n)=>((t={...t})["3d-tiles"]=t["cesium-ion"],t.loader=DD,Iy.parse(e,t,n)),options:{"cesium-ion":{...Iy.options["3d-tiles"],accessToken:null}}};let _u=class{constructor(e,t){if(this.schema=void 0,this.options=void 0,this.shape=void 0,this.length=0,this.rows=null,this.cursor=0,this._headers=[],this.options=t,this.schema=e,!Array.isArray(e)){this._headers=[];for(const n in e)this._headers[e[n].index]=e[n].name}}rowCount(){return this.length}addArrayRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.shape="array-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}addObjectRow(e,t){Number.isFinite(t)&&(this.cursor=t),this.shape="object-row-table",this.rows=this.rows||new Array(100),this.rows[this.length]=e,this.length++}getBatch(){let e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}};class RD{constructor(t,n){if(this.schema=void 0,this.options=void 0,this.length=0,this.objectRows=null,this.arrayRows=null,this.cursor=0,this._headers=null,this.options=n,this.schema=t,t){this._headers=[];for(const r in t)this._headers[t[r].index]=t[r].name}}rowCount(){return this.length}addArrayRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=function(r){const o=[];for(let l=0;l<r.length;l++){const c=`column-${l}`;o.push(c)}return o}(t)),this.options.shape){case"object-row-table":const r=function(o,l){if(!o)throw new Error("null row");const c={};if(l)for(let h=0;h<l.length;h++)c[l[h]]=o[h];else for(let h=0;h<o.length;h++)c[`column-${h}`]=o[h];return c}(t,this._headers);this.addObjectRow(r,n);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(100),this.arrayRows[this.length]=t,this.length++}}addObjectRow(t,n){switch(Number.isFinite(n)&&(this.cursor=n),this._headers||(this._headers=function(r){return Object.keys(r)}(t)),this.options.shape){case"array-row-table":const r=function(o,l){if(!o)throw new Error("null row");if(l){const c=new Array(l.length);for(let h=0;h<l.length;h++)c[h]=o[l[h]];return c}return Object.values(o)}(t,this._headers);this.addArrayRow(r,n);break;case"object-row-table":this.objectRows=this.objectRows||new Array(100),this.objectRows[this.length]=t,this.length++}}getBatch(){let t=this.arrayRows||this.objectRows;return t?(t=t.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:t,length:this.length,schema:this.schema,cursor:this.cursor}):null}}let QD=class{constructor(e,t){this.schema=void 0,this.length=0,this.allocated=0,this.columns={},this.schema=e,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(e){this._reallocateColumns();let t=0;for(const n in this.columns)this.columns[n][this.length]=e[t++];this.length++}addObjectRow(e){this._reallocateColumns();for(const t in e)this.columns[t][this.length]=e[t];this.length++}getBatch(){this._pruneColumns();const e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const t in this.schema){const n=this.schema[t];e[n.name]=this.columns[n.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:100,this.columns={};for(const e in this.schema){const t=this.schema[e],n=t.type||Float32Array,r=this.columns[t.index];if(r&&ArrayBuffer.isView(r)){const o=new n(this.allocated);o.set(r),this.columns[t.index]=o}else r?(r.length=this.allocated,this.columns[t.index]=r):this.columns[t.index]=new n(this.allocated)}}}_pruneColumns(){for(const[e,t]of Object.entries(this.columns))this.columns[e]=t.slice(0,this.length)}};const B_={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0};let kD=class kG{constructor(t,n){this.schema=void 0,this.options=void 0,this.aggregator=null,this.batchCount=0,this.bytesUsed=0,this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),this.totalLength=0,this.totalBytes=0,this.rowBytes=0,this.schema=t,this.options={...B_,...n}}limitReached(){var t,n;return!!((t=this.options)!==null&&t!==void 0&&t.limit&&this.totalLength>=this.options.limit||(n=this.options)!==null&&n!==void 0&&n._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(t){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(t),this.totalBytes+=this.rowBytes,Array.isArray(t)?this.addArrayRow(t):this.addObjectRow(t))}addArrayRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addArrayRow(t)}addObjectRow(t){if(!this.aggregator){const n=this._getTableBatchType();this.aggregator=new n(this.schema,this.options)}this.aggregator.addObjectRow(t)}chunkComplete(t){t instanceof ArrayBuffer&&(this.bytesUsed+=t.byteLength),typeof t=="string"&&(this.bytesUsed+=t.length),this.isChunkComplete=!0}getFullBatch(t){return this._isFull()?this._getBatch(t):null}getFinalBatch(t){return this._getBatch(t)}_estimateRowMB(t){return Array.isArray(t)?8*t.length:8*Object.keys(t).length}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return!(this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs)&&(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(t){if(!this.aggregator)return null;t!=null&&t.bytesUsed&&(this.bytesUsed=t.bytesUsed);const n=this.aggregator.getBatch();return n.count=this.batchCount,n.bytesUsed=this.bytesUsed,Object.assign(n,t),this.batchCount++,this.aggregator=null,n}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return RD;case"columnar-table":return QD;case"arrow-table":if(!kG.ArrowBatch)throw new Error("TableBatchBuilder");return kG.ArrowBatch;default:return _u}}};kD.ArrowBatch=void 0;const _2=Number.MAX_SAFE_INTEGER;var Cn=function(e){return e[e.BEGIN=0]="BEGIN",e[e.VALUE=1]="VALUE",e[e.OPEN_OBJECT=2]="OPEN_OBJECT",e[e.CLOSE_OBJECT=3]="CLOSE_OBJECT",e[e.OPEN_ARRAY=4]="OPEN_ARRAY",e[e.CLOSE_ARRAY=5]="CLOSE_ARRAY",e[e.TEXT_ESCAPE=6]="TEXT_ESCAPE",e[e.STRING=7]="STRING",e[e.BACKSLASH=8]="BACKSLASH",e[e.END=9]="END",e[e.OPEN_KEY=10]="OPEN_KEY",e[e.CLOSE_KEY=11]="CLOSE_KEY",e[e.TRUE=12]="TRUE",e[e.TRUE2=13]="TRUE2",e[e.TRUE3=14]="TRUE3",e[e.FALSE=15]="FALSE",e[e.FALSE2=16]="FALSE2",e[e.FALSE3=17]="FALSE3",e[e.FALSE4=18]="FALSE4",e[e.NULL=19]="NULL",e[e.NULL2=20]="NULL2",e[e.NULL3=21]="NULL3",e[e.NUMBER_DECIMAL_POINT=22]="NUMBER_DECIMAL_POINT",e[e.NUMBER_DIGIT=23]="NUMBER_DIGIT",e}(Cn||{});const II=9,wI=10,v_=13,T9=32,Kp=34,b_=43,_I=44,BI=45,vI=46,B2=48,v2=57,LD=58,b2=69,M2=91,S2=92,T2=93,PD=97,FD=98,bI=101,D2=102,M_=108,R2=110,Yf=114,UD=115,Q2=116,MI=117,S_=123,ND=125,GD=/[\\"\n]/g,OD={onready:()=>{},onopenobject:()=>{},onkey:()=>{},oncloseobject:()=>{},onopenarray:()=>{},onclosearray:()=>{},onvalue:()=>{},onerror:()=>{},onend:()=>{},onchunkparsed:()=>{}};let SI=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=OD,this.bufferCheckPosition=_2,this.q="",this.c="",this.p="",this.closed=!1,this.closedRoot=!1,this.sawRoot=!1,this.error=null,this.state=Cn.BEGIN,this.stack=[],this.position=0,this.column=0,this.line=1,this.slashed=!1,this.unicodeI=0,this.unicodeS=null,this.depth=0,this.textNode=void 0,this.numberNode=void 0,this.options={...OD,...e},this.textNode=void 0,this.numberNode="",this.emit("onready")}end(){return(this.state!==Cn.VALUE||this.depth!==0)&&this._error("Unexpected end"),this._closeValue(),this.c="",this.closed=!0,this.emit("onend"),this}resume(){return this.error=null,this}close(){return this.write(null)}emit(e,t){var n,r;(n=(r=this.options)[e])===null||n===void 0||n.call(r,t,this)}emitNode(e,t){this._closeValue(),this.emit(e,t)}write(e){if(this.error)throw this.error;if(this.closed)return this._error("Cannot write after close. Assign an onready handler.");if(e===null)return this.end();let t=0,n=e.charCodeAt(0),r=this.p;for(;n&&(r=n,this.c=n=e.charCodeAt(t++),r!==n?this.p=r:r=this.p,n);)switch(this.position++,n===wI?(this.line++,this.column=0):this.column++,this.state){case Cn.BEGIN:n===S_?this.state=Cn.OPEN_OBJECT:n===M2?this.state=Cn.OPEN_ARRAY:_y(n)||this._error("Non-whitespace before {[.");continue;case Cn.OPEN_KEY:case Cn.OPEN_OBJECT:if(_y(n))continue;if(this.state===Cn.OPEN_KEY)this.stack.push(Cn.CLOSE_KEY);else{if(n===ND){this.emit("onopenobject"),this.depth++,this.emit("oncloseobject"),this.depth--,this.state=this.stack.pop()||Cn.VALUE;continue}this.stack.push(Cn.CLOSE_OBJECT)}n===Kp?this.state=Cn.STRING:this._error('Malformed object key should start with "');continue;case Cn.CLOSE_KEY:case Cn.CLOSE_OBJECT:if(_y(n))continue;n===LD?(this.state===Cn.CLOSE_OBJECT?(this.stack.push(Cn.CLOSE_OBJECT),this._closeValue("onopenobject"),this.depth++):this._closeValue("onkey"),this.state=Cn.VALUE):n===ND?(this.emitNode("oncloseobject"),this.depth--,this.state=this.stack.pop()||Cn.VALUE):n===_I?(this.state===Cn.CLOSE_OBJECT&&this.stack.push(Cn.CLOSE_OBJECT),this._closeValue(),this.state=Cn.OPEN_KEY):this._error("Bad object");continue;case Cn.OPEN_ARRAY:case Cn.VALUE:if(_y(n))continue;if(this.state===Cn.OPEN_ARRAY){if(this.emit("onopenarray"),this.depth++,this.state=Cn.VALUE,n===T2){this.emit("onclosearray"),this.depth--,this.state=this.stack.pop()||Cn.VALUE;continue}this.stack.push(Cn.CLOSE_ARRAY)}n===Kp?this.state=Cn.STRING:n===S_?this.state=Cn.OPEN_OBJECT:n===M2?this.state=Cn.OPEN_ARRAY:n===Q2?this.state=Cn.TRUE:n===D2?this.state=Cn.FALSE:n===R2?this.state=Cn.NULL:n===BI?this.numberNode+="-":B2<=n&&n<=v2?(this.numberNode+=String.fromCharCode(n),this.state=Cn.NUMBER_DIGIT):this._error("Bad value");continue;case Cn.CLOSE_ARRAY:if(n===_I)this.stack.push(Cn.CLOSE_ARRAY),this._closeValue("onvalue"),this.state=Cn.VALUE;else if(n===T2)this.emitNode("onclosearray"),this.depth--,this.state=this.stack.pop()||Cn.VALUE;else{if(_y(n))continue;this._error("Bad array")}continue;case Cn.STRING:this.textNode===void 0&&(this.textNode="");let o=t-1,l=this.slashed,c=this.unicodeI;t:for(;;){for(;c>0;)if(this.unicodeS+=String.fromCharCode(n),n=e.charCodeAt(t++),this.position++,c===4?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),c=0,o=t-1):c++,!n)break t;if(n===Kp&&!l){this.state=this.stack.pop()||Cn.VALUE,this.textNode+=e.substring(o,t-1),this.position+=t-1-o;break}if(n===S2&&!l&&(l=!0,this.textNode+=e.substring(o,t-1),this.position+=t-1-o,n=e.charCodeAt(t++),this.position++,!n))break;if(l){if(l=!1,n===R2?this.textNode+=`
`:n===Yf?this.textNode+="\r":n===Q2?this.textNode+="	":n===D2?this.textNode+="\f":n===FD?this.textNode+="\b":n===MI?(c=1,this.unicodeS=""):this.textNode+=String.fromCharCode(n),n=e.charCodeAt(t++),this.position++,o=t-1,n)continue;break}GD.lastIndex=t;const h=GD.exec(e);if(h===null){t=e.length+1,this.textNode+=e.substring(o,t-1),this.position+=t-1-o;break}if(t=h.index+1,n=e.charCodeAt(h.index),!n){this.textNode+=e.substring(o,t-1),this.position+=t-1-o;break}}this.slashed=l,this.unicodeI=c;continue;case Cn.TRUE:n===Yf?this.state=Cn.TRUE2:this._error(`Invalid true started with t${n}`);continue;case Cn.TRUE2:n===MI?this.state=Cn.TRUE3:this._error(`Invalid true started with tr${n}`);continue;case Cn.TRUE3:n===bI?(this.emit("onvalue",!0),this.state=this.stack.pop()||Cn.VALUE):this._error(`Invalid true started with tru${n}`);continue;case Cn.FALSE:n===PD?this.state=Cn.FALSE2:this._error(`Invalid false started with f${n}`);continue;case Cn.FALSE2:n===M_?this.state=Cn.FALSE3:this._error(`Invalid false started with fa${n}`);continue;case Cn.FALSE3:n===UD?this.state=Cn.FALSE4:this._error(`Invalid false started with fal${n}`);continue;case Cn.FALSE4:n===bI?(this.emit("onvalue",!1),this.state=this.stack.pop()||Cn.VALUE):this._error(`Invalid false started with fals${n}`);continue;case Cn.NULL:n===MI?this.state=Cn.NULL2:this._error(`Invalid null started with n${n}`);continue;case Cn.NULL2:n===M_?this.state=Cn.NULL3:this._error(`Invalid null started with nu${n}`);continue;case Cn.NULL3:n===M_?(this.emit("onvalue",null),this.state=this.stack.pop()||Cn.VALUE):this._error(`Invalid null started with nul${n}`);continue;case Cn.NUMBER_DECIMAL_POINT:n===vI?(this.numberNode+=".",this.state=Cn.NUMBER_DIGIT):this._error("Leading zero not followed by .");continue;case Cn.NUMBER_DIGIT:B2<=n&&n<=v2?this.numberNode+=String.fromCharCode(n):n===vI?(this.numberNode.indexOf(".")!==-1&&this._error("Invalid number has two dots"),this.numberNode+="."):n===bI||n===b2?((this.numberNode.indexOf("e")!==-1||this.numberNode.indexOf("E")!==-1)&&this._error("Invalid number has two exponential"),this.numberNode+="e"):n===b_||n===BI?(r===bI||r===b2||this._error("Invalid symbol in number"),this.numberNode+=String.fromCharCode(n)):(this._closeNumber(),t--,this.state=this.stack.pop()||Cn.VALUE);continue;default:this._error(`Unknown state: ${this.state}`)}return this.position>=this.bufferCheckPosition&&function(o){const l=Math.max(_2,10);let c=0;for(const h of["textNode","numberNode"]){const f=o[h]===void 0?0:o[h].length;f>l&&(h==="text"||o._error(`Max buffer length exceeded: ${h}`)),c=Math.max(c,f)}o.bufferCheckPosition=_2-c+o.position}(this),this.emit("onchunkparsed"),this}_closeValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"onvalue";this.textNode!==void 0&&this.emit(e,this.textNode),this.textNode=void 0}_closeNumber(){this.numberNode&&this.emit("onvalue",parseFloat(this.numberNode)),this.numberNode=""}_error(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this._closeValue(),e+=`
Line: ${this.line}
Column: ${this.column}
Char: ${this.c}`;const t=new Error(e);this.error=t,this.emit("onerror",t)}};function _y(e){return e===v_||e===wI||e===T9||e===II}let By=class LG{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.path=void 0,this.path=["$"],t instanceof LG)this.path=[...t.path];else if(Array.isArray(t))this.path.push(...t);else if(typeof t=="string"&&(this.path=t.split("."),this.path[0]!=="$"))throw new Error("JSONPaths must start with $")}clone(){return new LG(this)}toString(){return this.path.join(".")}push(t){this.path.push(t)}pop(){return this.path.pop()}set(t){this.path[this.path.length-1]=t}equals(t){if(!this||!t||this.path.length!==t.path.length)return!1;for(let n=0;n<this.path.length;++n)if(this.path[n]!==t.path[n])return!1;return!0}setFieldAtPath(t,n){const r=[...this.path];r.shift();const o=r.pop();for(const l of r)t=t[l];t[o]=n}getFieldAtPath(t){const n=[...this.path];n.shift();const r=n.pop();for(const o of n)t=t[o];return t[r]}};class VD{constructor(t){this.parser=void 0,this.result=void 0,this.previousStates=[],this.currentState=Object.freeze({container:[],key:null}),this.jsonpath=new By,this.reset(),this.parser=new SI({onready:()=>{this.jsonpath=new By,this.previousStates.length=0,this.currentState.container.length=0},onopenobject:n=>{this._openObject({}),typeof n<"u"&&this.parser.emit("onkey",n)},onkey:n=>{this.jsonpath.set(n),this.currentState.key=n},oncloseobject:()=>{this._closeObject()},onopenarray:()=>{this._openArray()},onclosearray:()=>{this._closeArray()},onvalue:n=>{this._pushOrSet(n)},onerror:n=>{throw n},onend:()=>{this.result=this.currentState.container.pop()},...t})}reset(){this.result=void 0,this.previousStates=[],this.currentState=Object.freeze({container:[],key:null}),this.jsonpath=new By}write(t){this.parser.write(t)}close(){this.parser.close()}_pushOrSet(t){const{container:n,key:r}=this.currentState;r!==null?(n[r]=t,this.currentState.key=null):n.push(t)}_openArray(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!0,key:null}}_closeArray(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}_openObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!1,key:null}}_closeObject(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}}let Eh=class extends VD{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super({onopenarray:()=>{if(!this.streamingArray&&this._matchJSONPath())return this.streamingJsonPath=this.getJsonPath().clone(),this.streamingArray=[],void this._openArray(this.streamingArray);this._openArray()},onopenobject:n=>{this.topLevelObject?this._openObject({}):(this.topLevelObject={},this._openObject(this.topLevelObject)),typeof n<"u"&&this.parser.emit("onkey",n)}}),this.jsonPaths=void 0,this.streamingJsonPath=null,this.streamingArray=null,this.topLevelObject=null;const t=e.jsonpaths||[];this.jsonPaths=t.map(n=>new By(n))}write(e){super.write(e);let t=[];return this.streamingArray&&(t=[...this.streamingArray],this.streamingArray.length=0),t}getPartialResult(){return this.topLevelObject}getStreamingJsonPath(){return this.streamingJsonPath}getStreamingJsonPathAsString(){return this.streamingJsonPath&&this.streamingJsonPath.toString()}getJsonPath(){return this.jsonpath}_matchJSONPath(){const e=this.getJsonPath();if(this.jsonPaths.length===0)return!0;for(const t of this.jsonPaths)if(t.equals(e))return!0;return!1}};async function*Xp(e,t){const n=function(I){try{let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return async function*(){const _=new TextDecoder(void 0,w);for await(const b of I)yield typeof b=="string"?b:_.decode(b,{stream:!0})}()}catch(w){return Promise.reject(w)}}(e),{metadata:r}=t,{jsonpaths:o}=t.json||{};let l=!0;const c=new kD(null,t),h=new Eh({jsonpaths:o});for await(const I of n){const w=h.write(I),_=w.length>0&&h.getStreamingJsonPathAsString();if(w.length>0&&l){var f;r&&(yield{shape:(t==null||(f=t.json)===null||f===void 0?void 0:f.shape)||"array-row-table",batchType:"partial-result",data:[],length:0,bytesUsed:0,container:h.getPartialResult(),jsonpath:_}),l=!1}for(const T of w){c.addRow(T);const S=c.getFullBatch({jsonpath:_});S&&(yield S)}c.chunkComplete(I);const b=c.getFullBatch({jsonpath:_});b&&(yield b)}const p=h.getStreamingJsonPathAsString(),m=c.getFinalBatch({jsonpath:p});m&&(yield m),r&&(yield{shape:"json",batchType:"final-result",container:h.getPartialResult(),jsonpath:h.getStreamingJsonPathAsString(),data:[],length:0})}const vy={x:0,y:1,z:2};function by(e,t={}){const{start:n=0,end:r=e.length,plane:o="xy"}=t,l=t.size||2;let c=0;const h=vy[o[0]],f=vy[o[1]];for(let p=n,m=r-l;p<r;p+=l)c+=(e[p+h]-e[m+h])*(e[p+f]+e[m+f]),m=p;return c/2}function HD(e,t,n=2,r,o="xy"){const l=t&&t.length,c=l?t[0]*n:e.length;let h=My(e,0,c,n,!0,r&&r[0],o);const f=[];if(!h||h.next===h.prev)return f;let p,m,I,w,_,b,T;if(l&&(h=function(S,k,F,N,G,V){const W=[];let X,K,st,et,it;for(X=0,K=k.length;X<K;X++)st=k[X]*N,et=X<K-1?k[X+1]*N:S.length,it=My(S,st,et,N,!1,G&&G[X+1],V),it===it.next&&(it.steiner=!0),W.push(Q9(it));for(W.sort(k2),X=0;X<W.length;X++)F=zD(W[X],F);return F}(e,t,h,n,r,o)),e.length>80*n){w=m=e[0],_=I=e[1];for(let S=n;S<c;S+=n)b=e[S],T=e[S+1],b<w&&(w=b),T<_&&(_=T),b>m&&(m=b),T>I&&(I=T);p=Math.max(m-w,I-_),p=p!==0?32767/p:0}return Dd(h,f,n,w,_,p,0),f}function My(e,t,n,r,o,l,c){let h,f;l===void 0&&(l=by(e,{start:t,end:n,size:r,plane:c}));let p=vy[c[0]],m=vy[c[1]];if(o===l<0)for(h=t;h<n;h+=r)f=R_(h,e[h+p],e[h+m],f);else for(h=n-r;h>=t;h-=r)f=R_(h,e[h+p],e[h+m],f);return f&&Zf(f,f.next)&&(Sy(f),f=f.next),f}function VA(e,t){if(!e)return e;t||(t=e);let n,r=e;do if(n=!1,r.steiner||!Zf(r,r.next)&&Qr(r.prev,r,r.next)!==0)r=r.next;else{if(Sy(r),r=t=r.prev,r===r.next)break;n=!0}while(n||r!==t);return t}function Dd(e,t,n,r,o,l,c){if(!e)return;!c&&l&&function(m,I,w,_){let b=m;do b.z===0&&(b.z=Ih(b.x,b.y,I,w,_)),b.prevZ=b.prev,b.nextZ=b.next,b=b.next;while(b!==m);b.prevZ.nextZ=null,b.prevZ=null,function(T){let S,k,F,N,G,V,W,X,K=1;do{for(N=T,T=null,X=null,F=0;N;){for(F++,V=N,G=0,k=0;k<K&&(G++,V=V.nextZ,V);k++);for(W=K;G>0||W>0&&V;)G!==0&&(W===0||!V||N.z<=V.z)?(S=N,N=N.nextZ,G--):(S=V,V=V.nextZ,W--),X?X.nextZ=S:T=S,S.prevZ=X,X=S;N=V}X.nextZ=null,K*=2}while(F>1)}(b)}(e,r,o,l);let h,f,p=e;for(;e.prev!==e.next;)if(h=e.prev,f=e.next,l?D9(e,r,o,l):TI(e))t.push(h.i/n|0),t.push(e.i/n|0),t.push(f.i/n|0),Sy(e),e=f.next,p=f.next;else if((e=f)===p){c?c===1?Dd(e=R9(VA(e),t,n),t,n,r,o,l,2):c===2&&Rd(e,t,n,r,o,l):Dd(VA(e),t,n,r,o,l,1);break}}function TI(e){const t=e.prev,n=e,r=e.next;if(Qr(t,n,r)>=0)return!1;const o=t.x,l=n.x,c=r.x,h=t.y,f=n.y,p=r.y,m=o<l?o<c?o:c:l<c?l:c,I=h<f?h<p?h:p:f<p?f:p,w=o>l?o>c?o:c:l>c?l:c,_=h>f?h>p?h:p:f>p?f:p;let b=r.next;for(;b!==t;){if(b.x>=m&&b.x<=w&&b.y>=I&&b.y<=_&&yA(o,h,l,f,c,p,b.x,b.y)&&Qr(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function D9(e,t,n,r){const o=e.prev,l=e,c=e.next;if(Qr(o,l,c)>=0)return!1;const h=o.x,f=l.x,p=c.x,m=o.y,I=l.y,w=c.y,_=h<f?h<p?h:p:f<p?f:p,b=m<I?m<w?m:w:I<w?I:w,T=h>f?h>p?h:p:f>p?f:p,S=m>I?m>w?m:w:I>w?I:w,k=Ih(_,b,t,n,r),F=Ih(T,S,t,n,r);let N=e.prevZ,G=e.nextZ;for(;N&&N.z>=k&&G&&G.z<=F;){if(N.x>=_&&N.x<=T&&N.y>=b&&N.y<=S&&N!==o&&N!==c&&yA(h,m,f,I,p,w,N.x,N.y)&&Qr(N.prev,N,N.next)>=0||(N=N.prevZ,G.x>=_&&G.x<=T&&G.y>=b&&G.y<=S&&G!==o&&G!==c&&yA(h,m,f,I,p,w,G.x,G.y)&&Qr(G.prev,G,G.next)>=0))return!1;G=G.nextZ}for(;N&&N.z>=k;){if(N.x>=_&&N.x<=T&&N.y>=b&&N.y<=S&&N!==o&&N!==c&&yA(h,m,f,I,p,w,N.x,N.y)&&Qr(N.prev,N,N.next)>=0)return!1;N=N.prevZ}for(;G&&G.z<=F;){if(G.x>=_&&G.x<=T&&G.y>=b&&G.y<=S&&G!==o&&G!==c&&yA(h,m,f,I,p,w,G.x,G.y)&&Qr(G.prev,G,G.next)>=0)return!1;G=G.nextZ}return!0}function R9(e,t,n){let r=e;do{const o=r.prev,l=r.next.next;!Zf(o,l)&&WD(o,r,r.next,l)&&Tc(o,l)&&Tc(l,o)&&(t.push(o.i/n|0),t.push(r.i/n|0),t.push(l.i/n|0),Sy(r),Sy(r.next),r=e=l),r=r.next}while(r!==e);return VA(r)}function Rd(e,t,n,r,o,l){let c=e;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&k9(c,h)){let f=L2(c,h);return c=VA(c,c.next),f=VA(f,f.next),Dd(c,t,n,r,o,l,0),void Dd(f,t,n,r,o,l,0)}h=h.next}c=c.next}while(c!==e)}function k2(e,t){return e.x-t.x}function zD(e,t){const n=function(o,l){let c=l;const h=o.x,f=o.y;let p,m=-1/0;do{if(f<=c.y&&f>=c.next.y&&c.next.y!==c.y){const S=c.x+(f-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(S<=h&&S>m&&(m=S,p=c.x<c.next.x?c:c.next,S===h))return p}c=c.next}while(c!==l);if(!p)return null;const I=p,w=p.x,_=p.y;let b,T=1/0;c=p;do h>=c.x&&c.x>=w&&h!==c.x&&yA(f<_?h:m,f,w,_,f<_?m:h,f,c.x,c.y)&&(b=Math.abs(f-c.y)/(h-c.x),Tc(c,o)&&(b<T||b===T&&(c.x>p.x||c.x===p.x&&mA(p,c)))&&(p=c,T=b)),c=c.next;while(c!==I);return p}(e,t);if(!n)return t;const r=L2(n,e);return VA(r,r.next),VA(n,n.next)}function mA(e,t){return Qr(e.prev,e,t.prev)<0&&Qr(t.next,e,e.next)<0}function Ih(e,t,n,r,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Q9(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function yA(e,t,n,r,o,l,c,h){return(o-c)*(t-h)>=(e-c)*(l-h)&&(e-c)*(r-h)>=(n-c)*(t-h)&&(n-c)*(l-h)>=(o-c)*(r-h)}function k9(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(n,r){let o=n;do{if(o.i!==n.i&&o.next.i!==n.i&&o.i!==r.i&&o.next.i!==r.i&&WD(o,o.next,n,r))return!0;o=o.next}while(o!==n);return!1}(e,t)&&(Tc(e,t)&&Tc(t,e)&&function(n,r){let o=n,l=!1;const c=(n.x+r.x)/2,h=(n.y+r.y)/2;do o.y>h!=o.next.y>h&&o.next.y!==o.y&&c<(o.next.x-o.x)*(h-o.y)/(o.next.y-o.y)+o.x&&(l=!l),o=o.next;while(o!==n);return l}(e,t)&&(Qr(e.prev,e,t.prev)||Qr(e,t.prev,t))||Zf(e,t)&&Qr(e.prev,e,e.next)>0&&Qr(t.prev,t,t.next)>0)}function Qr(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Zf(e,t){return e.x===t.x&&e.y===t.y}function WD(e,t,n,r){const o=D_(Qr(e,t,n)),l=D_(Qr(e,t,r)),c=D_(Qr(n,r,e)),h=D_(Qr(n,r,t));return!!(o!==l&&c!==h||o===0&&T_(e,n,t)||l===0&&T_(e,r,t)||c===0&&T_(n,e,r)||h===0&&T_(n,t,r))}function T_(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function D_(e){return e>0?1:e<0?-1:0}function Tc(e,t){return Qr(e.prev,e,e.next)<0?Qr(e,t,e.next)>=0&&Qr(e,e.prev,t)>=0:Qr(e,t,e.prev)<0||Qr(e,e.next,t)<0}function L2(e,t){const n=new Q_(e.i,e.x,e.y),r=new Q_(t.i,t.x,t.y),o=e.next,l=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,r.next=n,n.prev=r,l.next=r,r.prev=l,r}function R_(e,t,n,r){const o=new Q_(e,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function Sy(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}class Q_{constructor(t,n,r){this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1,this.i=t,this.x=n,this.y=r}}function P2(e,t,n){const r=function(l){const c={};for(const h of l)if(h.properties)for(const f in h.properties){const p=h.properties[f];c[f]=P9(p,c[f])}return c}(e),o=Object.keys(r).filter(l=>r[l]!==Array);return function(l,c,h){const{pointPositionsCount:f,pointFeaturesCount:p,linePositionsCount:m,linePathsCount:I,lineFeaturesCount:w,polygonPositionsCount:_,polygonObjectsCount:b,polygonRingsCount:T,polygonFeaturesCount:S,propArrayTypes:k,coordLength:F}=c,{numericPropKeys:N=[],PositionDataType:G=Float32Array,triangulate:V=!0}=h,W=l[0]&&"id"in l[0],X=l.length>65535?Uint32Array:Uint16Array,K={type:"Point",positions:new G(f*F),globalFeatureIds:new X(f),featureIds:p>65535?new Uint32Array(f):new Uint16Array(f),numericProps:{},properties:[],fields:[]},st={type:"LineString",pathIndices:m>65535?new Uint32Array(I+1):new Uint16Array(I+1),positions:new G(m*F),globalFeatureIds:new X(m),featureIds:w>65535?new Uint32Array(m):new Uint16Array(m),numericProps:{},properties:[],fields:[]},et={type:"Polygon",polygonIndices:_>65535?new Uint32Array(b+1):new Uint16Array(b+1),primitivePolygonIndices:_>65535?new Uint32Array(T+1):new Uint16Array(T+1),positions:new G(_*F),globalFeatureIds:new X(_),featureIds:S>65535?new Uint32Array(_):new Uint16Array(_),numericProps:{},properties:[],fields:[]};V&&(et.triangles=[]);for(const ot of[K,st,et])for(const ht of N){const vt=k[ht];ot.numericProps[ht]=new vt(ot.positions.length/F)}st.pathIndices[I]=m,et.polygonIndices[b]=_,et.primitivePolygonIndices[T]=_;const it={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0};for(const ot of l){const ht=ot.geometry,vt=ot.properties||{};switch(ht.type){case"Point":L9(ht,K,it,F,vt),K.properties.push(k_(vt,N)),W&&K.fields.push({id:ot.id}),it.pointFeature++;break;case"LineString":JD(ht,st,it,F,vt),st.properties.push(k_(vt,N)),W&&st.fields.push({id:ot.id}),it.lineFeature++;break;case"Polygon":YD(ht,et,it,F,vt),et.properties.push(k_(vt,N)),W&&et.fields.push({id:ot.id}),it.polygonFeature++;break;default:throw new Error("Invalid geometry type")}it.feature++}return function(ot,ht,vt,Ct){const wt={shape:"binary-feature-collection",points:{...ot,positions:{value:ot.positions,size:Ct},globalFeatureIds:{value:ot.globalFeatureIds,size:1},featureIds:{value:ot.featureIds,size:1},numericProps:RI(ot.numericProps,1)},lines:{...ht,positions:{value:ht.positions,size:Ct},pathIndices:{value:ht.pathIndices,size:1},globalFeatureIds:{value:ht.globalFeatureIds,size:1},featureIds:{value:ht.featureIds,size:1},numericProps:RI(ht.numericProps,1)},polygons:{...vt,positions:{value:vt.positions,size:Ct},polygonIndices:{value:vt.polygonIndices,size:1},primitivePolygonIndices:{value:vt.primitivePolygonIndices,size:1},globalFeatureIds:{value:vt.globalFeatureIds,size:1},featureIds:{value:vt.featureIds,size:1},numericProps:RI(vt.numericProps,1)}};return wt.polygons&&vt.triangles&&(wt.polygons.triangles={value:new Uint32Array(vt.triangles),size:1}),wt}(K,st,et,F)}(e,{propArrayTypes:r,...t},{numericPropKeys:n&&n.numericPropKeys||o,PositionDataType:n?n.PositionDataType:Float32Array,triangulate:!n||n.triangulate})}function L9(e,t,n,r,o){t.positions.set(e.data,n.pointPosition*r);const l=e.data.length/r;F2(t,o,n.pointPosition,l),t.globalFeatureIds.fill(n.feature,n.pointPosition,n.pointPosition+l),t.featureIds.fill(n.pointFeature,n.pointPosition,n.pointPosition+l),n.pointPosition+=l}function JD(e,t,n,r,o){t.positions.set(e.data,n.linePosition*r);const l=e.data.length/r;F2(t,o,n.linePosition,l),t.globalFeatureIds.fill(n.feature,n.linePosition,n.linePosition+l),t.featureIds.fill(n.lineFeature,n.linePosition,n.linePosition+l);for(let c=0,h=e.indices.length;c<h;++c){const f=e.indices[c],p=c===h-1?e.data.length:e.indices[c+1];t.pathIndices[n.linePath++]=n.linePosition,n.linePosition+=(p-f)/r}}function YD(e,t,n,r,o){t.positions.set(e.data,n.polygonPosition*r);const l=e.data.length/r;F2(t,o,n.polygonPosition,l),t.globalFeatureIds.fill(n.feature,n.polygonPosition,n.polygonPosition+l),t.featureIds.fill(n.polygonFeature,n.polygonPosition,n.polygonPosition+l);for(let c=0,h=e.indices.length;c<h;++c){const f=n.polygonPosition;t.polygonIndices[n.polygonObject++]=f;const p=e.areas[c],m=e.indices[c],I=e.indices[c+1];for(let w=0,_=m.length;w<_;++w){const b=m[w],T=w===_-1?I===void 0?e.data.length:I[0]:m[w+1];t.primitivePolygonIndices[n.polygonRing++]=n.polygonPosition,n.polygonPosition+=(T-b)/r}DI(t,p,m,{startPosition:f,endPosition:n.polygonPosition,coordLength:r})}}function DI(e,t,n,r){let{startPosition:o,endPosition:l,coordLength:c}=r;if(!e.triangles)return;const h=o*c,f=l*c,p=e.positions.subarray(h,f),m=n[0],I=n.slice(1).map(_=>(_-m)/c),w=HD(p,I,c,t);for(let _=0,b=w.length;_<b;++_)e.triangles.push(o+w[_])}function RI(e,t){const n={};for(const r in e)n[r]={value:e[r],size:t};return n}function F2(e,t,n,r){for(const o in e.numericProps)if(o in t){const l=t[o];e.numericProps[o].fill(l,n,n+r)}}function k_(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function P9(e,t){return t!==Array&&Number.isFinite(e)?t===Float64Array||Math.fround(e)!==e?Float64Array:Float32Array:Array}function ZD(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{coordLength:2,fixRingWinding:!0};return e.map(n=>function(r,o){const{geometry:l}=r;if(l.type==="GeometryCollection")throw new Error("GeometryCollection type not supported");const c=[],h=[];let f,p;switch(l.type){case"Point":p="Point",U2(l.coordinates,c,h,o);break;case"MultiPoint":p="Point",l.coordinates.map(m=>U2(m,c,h,o));break;case"LineString":p="LineString",L_(l.coordinates,c,h,o);break;case"MultiLineString":p="LineString",l.coordinates.map(m=>L_(m,c,h,o));break;case"Polygon":p="Polygon",f=[],N2(l.coordinates,c,h,f,o);break;case"MultiPolygon":p="Polygon",f=[],l.coordinates.map(m=>N2(m,c,h,f,o));break;default:throw new Error(`Unknown type: ${p}`)}return{...r,geometry:{type:p,indices:h,data:c,areas:f}}}(n,t))}function U2(e,t,n,r){n.push(t.length),t.push(...e);for(let o=e.length;o<r.coordLength;o++)t.push(0)}function L_(e,t,n,r){n.push(t.length);for(const o of e){t.push(...o);for(let l=o.length;l<r.coordLength;l++)t.push(0)}}function N2(e,t,n,r,o){let l=0;const c=[],h=[];for(const f of e){const p=f.map(w=>w.slice(0,2));let m=by(p.flat());const I=m<0;o.fixRingWinding&&(l===0&&!I||l>0&&I)&&(f.reverse(),m=-m),c.push(m),L_(f,t,h,o),l++}l>0&&(r.push(c),n.push(h))}function G2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fixRingWinding:!0,triangulate:!0};const n=function(l){let c=0,h=0,f=0,p=0,m=0,I=0,w=0,_=0,b=0;const T=new Set;for(const S of l){const k=S.geometry;switch(k.type){case"Point":h++,c++,T.add(k.coordinates.length);break;case"MultiPoint":h++,c+=k.coordinates.length;for(const N of k.coordinates)T.add(N.length);break;case"LineString":m++,f+=k.coordinates.length,p++;for(const N of k.coordinates)T.add(N.length);break;case"MultiLineString":m++;for(const N of k.coordinates){f+=N.length,p++;for(const G of N)T.add(G.length)}break;case"Polygon":b++,w++,_+=k.coordinates.length;const F=k.coordinates.flat();I+=F.length;for(const N of F)T.add(N.length);break;case"MultiPolygon":b++;for(const N of k.coordinates){w++,_+=N.length;const G=N.flat();I+=G.length;for(const V of G)T.add(V.length)}break;default:throw new Error(`Unsupported geometry type: ${k.type}`)}}return{coordLength:T.size>0?Math.max(...T):2,pointPositionsCount:c,pointFeaturesCount:h,linePositionsCount:f,linePathsCount:p,lineFeaturesCount:m,polygonPositionsCount:I,polygonObjectsCount:w,polygonRingsCount:_,polygonFeaturesCount:b}}(e),r=n.coordLength,{fixRingWinding:o}=t;return P2(ZD(e,{coordLength:r,fixRingWinding:o}),n,{numericPropKeys:t.numericPropKeys,PositionDataType:t.PositionDataType||Float32Array,triangulate:t.triangulate})}const Kf={name:"GeoJSON",id:"geojson",module:"geojson",version:"4.1.4",worker:!0,extensions:["geojson"],mimeTypes:["application/geo+json"],category:"geometry",text:!0,options:{geojson:{shape:"object-row-table"},json:{shape:"object-row-table",jsonpaths:["$","$.features"]},gis:{format:"geojson"}},parse:async function(e,t){return P_(new TextDecoder().decode(e),t)},parseTextSync:P_,parseInBatches:function(e,t){t={...Kf.options,...t},t.json={...Kf.options.geojson,...t.geojson};const n=Xp(e,t);return t.gis.format==="binary"?async function*(r){for await(const o of r)o.data=G2(o.data),yield o}(n):n}};function P_(e,t){var n;let r;(t={...Kf.options,...t}).geojson={...Kf.options.geojson,...t.geojson},t.gis=t.gis||{};try{r=JSON.parse(e)}catch{r={}}const o={shape:"geojson-table",type:"FeatureCollection",features:((n=r)===null||n===void 0?void 0:n.features)||[]};return t.gis.format==="binary"?G2(o.features):o}function Xf(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const KD={id:"request-scheduler",throttleRequests:!0,maxRequests:6,debounceTime:0};let F9=class{constructor(e={}){ce(this,"props"),ce(this,"stats"),ce(this,"activeRequestCount",0),ce(this,"requestQueue",[]),ce(this,"requestMap",new Map),ce(this,"updateTimer",null),this.props={...KD,...e},this.stats=new uA({id:this.props.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever")}scheduleRequest(e,t=()=>0){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const n={handle:e,priority:0,getPriority:t},r=new Promise(o=>(n.resolve=o,n));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}_issueRequest(e){const{handle:t,resolve:n}=e;let r=!1;const o=()=>{r||(r=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}_issueNewRequests(){this.updateTimer!==null&&clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>this._issueNewRequestsAsync(),this.props.debounceTime)}_issueNewRequestsAsync(){this.updateTimer!==null&&clearTimeout(this.updateTimer),this.updateTimer=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(e!==0){this._updateAllRequests();for(let t=0;t<e;++t){const n=this.requestQueue.shift();n&&this._issueRequest(n)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((t,n)=>t.priority-n.priority)}_updateRequest(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}},U9=class{constructor(e,t,n){ce(this,"item"),ce(this,"previous"),ce(this,"next"),this.item=e,this.previous=t,this.next=n}},XD=class{constructor(){ce(this,"head",null),ce(this,"tail",null),ce(this,"_length",0)}get length(){return this._length}add(e){const t=new U9(e,this.tail,null);return this.tail?(this.tail.next=t,this.tail=t):(this.head=t,this.tail=t),++this._length,t}remove(e){e&&(e.previous&&e.next?(e.previous.next=e.next,e.next.previous=e.previous):e.previous?(e.previous.next=null,this.tail=e.previous):e.next?(e.next.previous=null,this.head=e.next):(this.head=null,this.tail=null),e.next=null,e.previous=null,--this._length)}splice(e,t){e!==t&&(this.remove(t),this._insert(e,t))}_insert(e,t){const n=e.next;e.next=t,this.tail===e?this.tail=t:n.previous=t,t.next=n,t.previous=e,++this._length}};class jD{constructor(){ce(this,"_list"),ce(this,"_sentinel"),ce(this,"_trimTiles"),this._list=new XD,this._sentinel=this._list.add("sentinel"),this._trimTiles=!1}reset(){this._list.splice(this._list.tail,this._sentinel)}touch(t){const n=t._cacheNode;n&&this._list.splice(this._sentinel,n)}add(t,n,r){n._cacheNode||(n._cacheNode=this._list.add(n),r&&r(t,n))}unloadTile(t,n,r){const o=n._cacheNode;o&&(this._list.remove(o),n._cacheNode=null,r&&r(t,n))}unloadTiles(t,n){const r=this._trimTiles;this._trimTiles=!1;const o=this._list,l=1024*t.maximumMemoryUsage*1024,c=this._sentinel;let h=o.head;for(;h!==c&&(t.gpuMemoryUsageInBytes>l||r);){const f=h.item;h=h.next,this.unloadTile(t,f,n)}}trim(){this._trimTiles=!0}}const qD=new ie,Ty=new ie,QI=new gu([new ca,new ca,new ca,new ca,new ca,new ca]);function N9(e,t){const{cameraDirection:n,cameraUp:r,height:o}=e,{metersPerUnit:l}=e.distanceScales,c=kI(e,e.center),h=Zs.WGS84.eastNorthUpToFixedFrame(c),f=e.unprojectPosition(e.cameraPosition),p=Zs.WGS84.cartographicToCartesian(f,new ie),m=new ie(h.transformAsVector(new ie(n).scale(l))).normalize(),I=new ie(h.transformAsVector(new ie(r).scale(l))).normalize();(function(F){const N=F.getFrustumPlanes(),G=O2(N.near,F.cameraPosition),V=kI(F,G),W=kI(F,F.cameraPosition,Ty);let X=0;QI.planes[X++].fromPointNormal(V,qD.copy(V).subtract(W));for(const K in N){if(K==="near")continue;const st=kI(F,O2(N[K],G,Ty),Ty);QI.planes[X++].fromPointNormal(st,qD.copy(V).subtract(st))}})(e);const w=e.constructor,{longitude:_,latitude:b,width:T,bearing:S,zoom:k}=e;return{camera:{position:p,direction:m,up:I},viewport:e,topDownViewport:new w({longitude:_,latitude:b,height:o,width:T,bearing:S,zoom:k,pitch:0}),height:o,cullingVolume:QI,frameNumber:t,sseDenominator:1.15}}function O2(e,t,n=new ie){const r=e.normal.dot(t);return n.copy(e.normal).scale(e.distance-r).add(t),n}function kI(e,t,n=new ie){const r=e.unprojectPosition(t);return Zs.WGS84.cartographicToCartesian(r,n)}const Qd=6356752314245179e-9,Dy=new ie;function $D(e,t){if(e instanceof _b){const{halfAxes:n}=e,r=function(o){o.getColumn(0,Dy);const l=o.getColumn(1),c=o.getColumn(2);return Dy.add(l).add(c).len()}(n);return Math.log2(Qd/(r+t[2]))}if(e instanceof i4){const{radius:n}=e;return Math.log2(Qd/(n+t[2]))}if(e.width&&e.height){const{width:n,height:r}=e;return(Math.log2(6378137/n)+Math.log2(6378137/r))/2}return 1}function V2(e,t,n){Zs.WGS84.cartographicToCartesian([e.xmax,e.ymax,e.zmax],Dy);const r=Math.sqrt(Math.pow(Dy[0]-n[0],2)+Math.pow(Dy[1]-n[1],2)+Math.pow(Dy[2]-n[2],2));return Math.log2(Qd/(r+t[2]))}const HA=0,tR=1,eR=3,jf=4,nR=5;var Bu,wh,xA,iR;(function(e){e[e.ADD=1]="ADD",e[e.REPLACE=2]="REPLACE"})(Bu||(Bu={})),function(e){e.EMPTY="empty",e.SCENEGRAPH="scenegraph",e.POINTCLOUD="pointcloud",e.MESH="mesh"}(wh||(wh={})),function(e){e.I3S="I3S",e.TILES3D="TILES3D"}(xA||(xA={})),function(e){e.GEOMETRIC_ERROR="geometricError",e.MAX_SCREEN_THRESHOLD="maxScreenThreshold"}(iR||(iR={}));const jp=1;function sR(e){return e!=null}const Za=new ie,LI=new ie,H2=new ie,G9=new ie,kd=new ie,rR=new ie,oR=new ie,aR=new ie;function z2(e,t,n){if(Xf(e,"3D Tile: boundingVolume must be defined"),e.box)return lR(e.box,t,n);if(e.region)return function(r){const[o,l,c,h,f,p]=r,m=Zs.WGS84.cartographicToCartesian([yh(o),yh(h),f],H2),I=Zs.WGS84.cartographicToCartesian([yh(c),yh(l),p],G9),w=new ie().addVectors(m,I).multiplyByScalar(.5);return Zs.WGS84.cartesianToCartographic(w,kd),Zs.WGS84.cartographicToCartesian([yh(c),kd[1],kd[2]],rR),Zs.WGS84.cartographicToCartesian([kd[0],yh(h),kd[2]],oR),Zs.WGS84.cartographicToCartesian([kd[0],kd[1],p],aR),lR([...w,...rR.subtract(w),...oR.subtract(w),...aR.subtract(w)],new Ys)}(e.region);if(e.sphere)return function(r,o,l){const c=new ie(r[0],r[1],r[2]);o.transform(c,c);const h=o.getScale(LI),f=Math.max(Math.max(h[0],h[1]),h[2]),p=r[3]*f;return sR(l)?(l.center=c,l.radius=p,l):new i4(c,p)}(e.sphere,t,n);throw new Error("3D Tile: boundingVolume must contain a sphere, region, or box")}function O9(e,t){if(e.box)return function(n){const r=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],{halfAxes:o}=n,l=new ie(o.getColumn(0)),c=new ie(o.getColumn(1)),h=new ie(o.getColumn(2));for(let f=0;f<2;f++){for(let p=0;p<2;p++){for(let m=0;m<2;m++)Za.copy(n.center),Za.add(l),Za.add(c),Za.add(h),AR(r,Za),h.negate();c.negate()}l.negate()}return r}(t);if(e.region){const[n,r,o,l,c,h]=e.region;return[[yh(n),yh(r),c],[yh(o),yh(l),h]]}if(e.sphere)return function(n){const r=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],{center:o,radius:l}=n,c=Zs.WGS84.scaleToGeodeticSurface(o,Za);let h;h=c?Zs.WGS84.geodeticSurfaceNormal(c):new ie(0,0,1);let f=new ie(h[2],-h[1],0);f.len()>0?f.normalize():f=new ie(0,1,0);const p=f.clone().cross(h);for(const m of[f,p,h]){LI.copy(m).scale(l);for(let I=0;I<2;I++)Za.copy(o),Za.add(LI),AR(r,Za),LI.negate()}return r}(t);throw new Error("Unkown boundingVolume type")}function lR(e,t,n){const r=new ie(e[0],e[1],e[2]);t.transform(r,r);let o=[];if(e.length===10){const p=e.slice(3,6),m=new D3;m.fromArray(e,6);const I=new ie([1,0,0]),w=new ie([0,1,0]),_=new ie([0,0,1]);I.transformByQuaternion(m),I.scale(p[0]),w.transformByQuaternion(m),w.scale(p[1]),_.transformByQuaternion(m),_.scale(p[2]),o=[...I.toArray(),...w.toArray(),..._.toArray()]}else o=[...e.slice(3,6),...e.slice(6,9),...e.slice(9,12)];const l=t.transformAsVector(o.slice(0,3)),c=t.transformAsVector(o.slice(3,6)),h=t.transformAsVector(o.slice(6,9)),f=new zr([l[0],l[1],l[2],c[0],c[1],c[2],h[0],h[1],h[2]]);return sR(n)?(n.center=r,n.halfAxes=f,n):new _b(r,f)}function AR(e,t){Zs.WGS84.cartesianToCartographic(t,Za),e[0][0]=Math.min(e[0][0],Za[0]),e[0][1]=Math.min(e[0][1],Za[1]),e[0][2]=Math.min(e[0][2],Za[2]),e[1][0]=Math.max(e[1][0],Za[0]),e[1][1]=Math.max(e[1][1],Za[1]),e[1][2]=Math.max(e[1][2],Za[2])}function V9(e,t){if(e.dynamicScreenSpaceError&&e.dynamicScreenSpaceErrorComputedDensity){const n=e.dynamicScreenSpaceErrorComputedDensity,r=e.dynamicScreenSpaceErrorFactor;return function(o,l){const c=o*l;return 1-Math.exp(-c*c)}(t,n)*r}return 0}new ie,new ie,new Ys,new ie,new ie,new ie;const Ki=new ie,cR=new ie,Ld=new ie,hR=new ie,H9=new ie,PI=new Ys,uR=new Ys;function dR(e,t){const{topDownViewport:n}=t,r=e.header.mbs[1],o=e.header.mbs[0],l=e.header.mbs[2],c=e.header.mbs[3],h=[...e.boundingVolume.center],f=n.unprojectPosition(n.cameraPosition);Zs.WGS84.cartographicToCartesian(f,Ki),cR.copy(Ki).subtract(h).normalize(),Zs.WGS84.eastNorthUpToFixedFrame(h,PI),uR.copy(PI).invert(),Ld.copy(Ki).transform(uR);const p=Math.sqrt(Ld[0]*Ld[0]+Ld[1]*Ld[1]),m=p*p/Ld[2];hR.copy([Ld[0],Ld[1],m]);const I=hR.transform(PI).subtract(h).normalize(),w=cR.cross(I).normalize().scale(c).add(h),_=Zs.WGS84.cartesianToCartographic(w),b=n.project([o,r,l]),T=n.project(_);return H9.copy(b).subtract(T).magnitude()}let fR=class{constructor(e=0){ce(this,"_map",new Map),ce(this,"_array"),ce(this,"_length"),this._array=new Array(e),this._length=e}get length(){return this._length}set length(e){this._length=e,e>this._array.length&&(this._array.length=e)}get values(){return this._array}get(e){return Xf(e<this._array.length),this._array[e]}set(e,t){Xf(e>=0),e>=this.length&&(this.length=e+1),this._map.has(this._array[e])&&this._map.delete(this._array[e]),this._array[e]=t,this._map.set(t,e)}delete(e){const t=this._map.get(e);t>=0&&(this._array.splice(t,1),this._map.delete(e),this.length--)}peek(){return this._array[this._length-1]}push(e){if(!this._map.has(e)){const t=this.length++;this._array[t]=e,this._map.set(e,t)}}pop(){const e=this._array[--this.length];return this._map.delete(e),e}reserve(e){Xf(e>=0),e>this._array.length&&(this._array.length=e)}resize(e){Xf(e>=0),this.length=e}trim(e){e==null&&(e=this.length),this._array.length=e}reset(){this._array=[],this._map=new Map,this._length=0}find(e){return this._map.has(e)}};const z9={loadSiblings:!1,skipLevelOfDetail:!1,updateTransforms:!0,onTraversalEnd:()=>{},viewportTraversersMap:{},basePath:""};let FI=class{constructor(e){ce(this,"options"),ce(this,"root",null),ce(this,"selectedTiles",{}),ce(this,"requestedTiles",{}),ce(this,"emptyTiles",{}),ce(this,"lastUpdate",new Date().getTime()),ce(this,"updateDebounceTime",1e3),ce(this,"_traversalStack",new fR),ce(this,"_emptyTraversalStack",new fR),ce(this,"_frameNumber",null),this.options={...z9,...e}}traversalFinished(e){return!0}traverse(e,t,n){this.root=e,this.options={...this.options,...n},this.reset(),this.updateTile(e,t),this._frameNumber=t.frameNumber,this.executeTraversal(e,t)}reset(){this.requestedTiles={},this.selectedTiles={},this.emptyTiles={},this._traversalStack.reset(),this._emptyTraversalStack.reset()}executeTraversal(e,t){const n=this._traversalStack;for(e._selectionDepth=1,n.push(e);n.length>0;){const o=n.pop();let l=!1;this.canTraverse(o,t)&&(this.updateChildTiles(o,t),l=this.updateAndPushChildren(o,t,n,o.hasRenderContent?o._selectionDepth+1:o._selectionDepth));const c=o.parent,h=!(c&&!c._shouldRefine),f=!l;o.hasRenderContent?o.refine===Bu.ADD?(this.loadTile(o,t),this.selectTile(o,t)):o.refine===Bu.REPLACE&&(this.loadTile(o,t),f&&this.selectTile(o,t)):(this.emptyTiles[o.id]=o,this.loadTile(o,t),f&&this.selectTile(o,t)),this.touchTile(o,t),o._shouldRefine=l&&h}const r=new Date().getTime();(this.traversalFinished(t)||r-this.lastUpdate>this.updateDebounceTime)&&(this.lastUpdate=r,this.options.onTraversalEnd(t))}updateChildTiles(e,t){const n=e.children;for(const r of n)this.updateTile(r,t)}updateAndPushChildren(e,t,n,r){const{loadSiblings:o,skipLevelOfDetail:l}=this.options,c=e.children;c.sort(this.compareDistanceToCamera.bind(this));const h=e.refine===Bu.REPLACE&&e.hasRenderContent&&!l;let f=!1,p=!0;for(const m of c)if(m._selectionDepth=r,m.isVisibleAndInRequestVolume?(n.find(m)&&n.delete(m),n.push(m),f=!0):(h||o)&&(this.loadTile(m,t),this.touchTile(m,t)),h){let I;if(I=!!m._inRequestVolume&&(m.hasRenderContent?m.contentAvailable:this.executeEmptyTraversal(m,t)),p=p&&I,!p)return!1}return f||(p=!1),p}updateTile(e,t){this.updateTileVisibility(e,t)}selectTile(e,t){this.shouldSelectTile(e)&&(e._selectedFrame=t.frameNumber,this.selectedTiles[e.id]=e)}loadTile(e,t){this.shouldLoadTile(e)&&(e._requestedFrame=t.frameNumber,e._priority=e._getPriority(),this.requestedTiles[e.id]=e)}touchTile(e,t){e.tileset._cache.touch(e),e._touchedFrame=t.frameNumber}canTraverse(e,t){return!!e.hasChildren&&(e.hasTilesetContent?!e.contentExpired:this.shouldRefine(e,t))}shouldLoadTile(e){return e.hasUnloadedContent||e.contentExpired}shouldSelectTile(e){return e.contentAvailable&&!this.options.skipLevelOfDetail}shouldRefine(e,t,n=!1){let r=e._screenSpaceError;return n&&(r=e.getScreenSpaceError(t,!0)),r>e.tileset.memoryAdjustedScreenSpaceError}updateTileVisibility(e,t){const n=[];if(this.options.viewportTraversersMap)for(const r in this.options.viewportTraversersMap)this.options.viewportTraversersMap[r]===t.viewport.id&&n.push(r);else n.push(t.viewport.id);e.updateVisibility(t,n)}compareDistanceToCamera(e,t){return e._distanceToCamera-t._distanceToCamera}anyChildrenVisible(e,t){let n=!1;for(const r of e.children)r.updateVisibility(t),n=n||r.isVisibleAndInRequestVolume;return n}executeEmptyTraversal(e,t){let n=!0;const r=this._emptyTraversalStack;for(r.push(e);r.length>0;){const o=r.pop(),l=!o.hasRenderContent&&this.canTraverse(o,t),c=!o.hasRenderContent&&o.children.length===0;if(!l&&!o.contentAvailable&&!c&&(n=!1),this.updateTile(o,t),o.isVisibleAndInRequestVolume||(this.loadTile(o,t),this.touchTile(o,t)),l){const h=o.children;for(const f of h)r.push(f)}}return n}};const pR=new ie;class F_{constructor(t,n,r,o=""){ce(this,"tileset"),ce(this,"header"),ce(this,"id"),ce(this,"url"),ce(this,"parent"),ce(this,"refine"),ce(this,"type"),ce(this,"contentUrl"),ce(this,"lodMetricType","geometricError"),ce(this,"lodMetricValue",0),ce(this,"boundingVolume",null),ce(this,"content",null),ce(this,"contentState",HA),ce(this,"gpuMemoryUsageInBytes",0),ce(this,"children",[]),ce(this,"depth",0),ce(this,"viewportIds",[]),ce(this,"transform",new Ys),ce(this,"extensions",null),ce(this,"implicitTiling",null),ce(this,"userData",{}),ce(this,"computedTransform"),ce(this,"hasEmptyContent",!1),ce(this,"hasTilesetContent",!1),ce(this,"traverser",new FI({})),ce(this,"_cacheNode",null),ce(this,"_frameNumber",null),ce(this,"_expireDate",null),ce(this,"_expiredContent",null),ce(this,"_boundingBox"),ce(this,"_distanceToCamera",0),ce(this,"_screenSpaceError",0),ce(this,"_visibilityPlaneMask"),ce(this,"_visible"),ce(this,"_contentBoundingVolume"),ce(this,"_viewerRequestVolume"),ce(this,"_initialTransform",new Ys),ce(this,"_priority",0),ce(this,"_selectedFrame",0),ce(this,"_requestedFrame",0),ce(this,"_selectionDepth",0),ce(this,"_touchedFrame",0),ce(this,"_centerZDepth",0),ce(this,"_shouldRefine",!1),ce(this,"_stackLength",0),ce(this,"_visitedFrame",0),ce(this,"_inRequestVolume",!1),ce(this,"_lodJudge",null),this.header=n,this.tileset=t,this.id=o||n.id,this.url=n.url,this.parent=r,this.refine=this._getRefine(n.refine),this.type=n.type,this.contentUrl=n.contentUrl,this._initializeLodMetric(n),this._initializeTransforms(n),this._initializeBoundingVolumes(n),this._initializeContent(n),this._initializeRenderingState(n),Object.seal(this)}destroy(){this.header=null}isDestroyed(){return this.header===null}get selected(){return this._selectedFrame===this.tileset._frameNumber}get isVisible(){return this._visible}get isVisibleAndInRequestVolume(){return this._visible&&this._inRequestVolume}get hasRenderContent(){return!this.hasEmptyContent&&!this.hasTilesetContent}get hasChildren(){return this.children.length>0||this.header.children&&this.header.children.length>0}get contentReady(){return this.contentState===eR||this.hasEmptyContent}get contentAvailable(){return!!(this.contentReady&&this.hasRenderContent||this._expiredContent&&!this.contentFailed)}get hasUnloadedContent(){return this.hasRenderContent&&this.contentUnloaded}get contentUnloaded(){return this.contentState===HA}get contentExpired(){return this.contentState===jf}get contentFailed(){return this.contentState===nR}get distanceToCamera(){return this._distanceToCamera}get screenSpaceError(){return this._screenSpaceError}get boundingBox(){return this._boundingBox||(this._boundingBox=O9(this.header.boundingVolume,this.boundingVolume)),this._boundingBox}getScreenSpaceError(t,n){switch(this.tileset.type){case xA.I3S:return dR(this,t);case xA.TILES3D:return function(r,o,l){const c=r.tileset,h=r.parent&&r.parent.lodMetricValue||r.lodMetricValue,f=l?h:r.lodMetricValue;if(f===0)return 0;const p=Math.max(r._distanceToCamera,1e-7),{height:m,sseDenominator:I}=o,{viewDistanceScale:w}=c.options;let _=f*m*(w||1)/(p*I);return _-=V9(c,p),_}(this,t,n);default:throw new Error("Unsupported tileset type")}}unselect(){this._selectedFrame=0}_getGpuMemoryUsageInBytes(){return this.content.gpuMemoryUsageInBytes||this.content.byteLength||0}_getPriority(){const t=this.tileset._traverser,{skipLevelOfDetail:n}=t.options,r=this.refine===Bu.ADD||n;if(r&&!this.isVisible&&this._visible!==void 0||this.tileset._frameNumber-this._touchedFrame>=1||this.contentState===HA)return-1;const o=this.parent,l=!o||r&&this._screenSpaceError!==0&&!o.hasTilesetContent?this._screenSpaceError:o._screenSpaceError,c=t.root?t.root._screenSpaceError:0;return Math.max(c-l,0)}async loadContent(){if(this.hasEmptyContent)return!1;if(this.content)return!0;this.contentExpired&&(this._expireDate=null),this.contentState=tR;const t=await this.tileset._requestScheduler.scheduleRequest(this.id,this._getPriority.bind(this));if(!t)return this.contentState=HA,!1;try{const n=this.tileset.getTileUrl(this.contentUrl),r=this.tileset.loader,o={...this.tileset.loadOptions,[r.id]:{...this.tileset.loadOptions[r.id],isTileset:this.type==="json",...this._getLoaderSpecificOptions(r.id)}};return this.content=await ty(n,r,o),this.tileset.options.contentLoader&&await this.tileset.options.contentLoader(this),this._isTileset()&&this.tileset._initializeTileHeaders(this.content,this),this.contentState=eR,this._onContentLoaded(),!0}catch(n){throw this.contentState=nR,n}finally{t.done()}}unloadContent(){return this.content&&this.content.destroy&&this.content.destroy(),this.content=null,this.header.content&&this.header.content.destroy&&this.header.content.destroy(),this.header.content=null,this.contentState=HA,!0}updateVisibility(t,n){if(this._frameNumber===t.frameNumber)return;const r=this.parent,o=r?r._visibilityPlaneMask:gu.MASK_INDETERMINATE;if(this.tileset._traverser.options.updateTransforms){const l=r?r.computedTransform:this.tileset.modelMatrix;this._updateTransform(l)}this._distanceToCamera=this.distanceToTile(t),this._screenSpaceError=this.getScreenSpaceError(t,!1),this._visibilityPlaneMask=this.visibility(t,o),this._visible=this._visibilityPlaneMask!==gu.MASK_OUTSIDE,this._inRequestVolume=this.insideViewerRequestVolume(t),this._frameNumber=t.frameNumber,this.viewportIds=n}visibility(t,n){const{cullingVolume:r}=t,{boundingVolume:o}=this;return r.computeVisibilityWithPlaneMask(o,n)}contentVisibility(){return!0}distanceToTile(t){const n=this.boundingVolume;return Math.sqrt(Math.max(n.distanceSquaredTo(t.camera.position),0))}cameraSpaceZDepth({camera:t}){const n=this.boundingVolume;return pR.subVectors(n.center,t.position),t.direction.dot(pR)}insideViewerRequestVolume(t){const n=this._viewerRequestVolume;return!n||n.distanceSquaredTo(t.camera.position)<=0}updateExpiration(){if(function(t){return t!=null}(this._expireDate)&&this.contentReady&&!this.hasEmptyContent){const t=Date.now();Date.lessThan(this._expireDate,t)&&(this.contentState=jf,this._expiredContent=this.content)}}get extras(){return this.header.extras}_initializeLodMetric(t){"lodMetricType"in t?this.lodMetricType=t.lodMetricType:(this.lodMetricType=this.parent&&this.parent.lodMetricType||this.tileset.lodMetricType,console.warn("3D Tile: Required prop lodMetricType is undefined. Using parent lodMetricType")),"lodMetricValue"in t?this.lodMetricValue=t.lodMetricValue:(this.lodMetricValue=this.parent&&this.parent.lodMetricValue||this.tileset.lodMetricValue,console.warn("3D Tile: Required prop lodMetricValue is undefined. Using parent lodMetricValue"))}_initializeTransforms(t){this.transform=t.transform?new Ys(t.transform):new Ys;const n=this.parent,r=this.tileset,o=n&&n.computedTransform?n.computedTransform.clone():r.modelMatrix.clone();this.computedTransform=new Ys(o).multiplyRight(this.transform);const l=n&&n._initialTransform?n._initialTransform.clone():new Ys;this._initialTransform=new Ys(l).multiplyRight(this.transform)}_initializeBoundingVolumes(t){this._contentBoundingVolume=null,this._viewerRequestVolume=null,this._updateBoundingVolume(t)}_initializeContent(t){this.content={_tileset:this.tileset,_tile:this},this.hasEmptyContent=!0,this.contentState=HA,this.hasTilesetContent=!1,t.contentUrl&&(this.content=null,this.hasEmptyContent=!1)}_initializeRenderingState(t){this.depth=t.level||(this.parent?this.parent.depth+1:0),this._shouldRefine=!1,this._distanceToCamera=0,this._centerZDepth=0,this._screenSpaceError=0,this._visibilityPlaneMask=gu.MASK_INDETERMINATE,this._visible=void 0,this._inRequestVolume=!1,this._stackLength=0,this._selectionDepth=0,this._frameNumber=0,this._touchedFrame=0,this._visitedFrame=0,this._selectedFrame=0,this._requestedFrame=0,this._priority=0}_getRefine(t){return t||this.parent&&this.parent.refine||Bu.REPLACE}_isTileset(){return this.contentUrl.indexOf(".json")!==-1}_onContentLoaded(){switch(this.content&&this.content.type){case"vctr":case"geom":this.tileset._traverser.disableSkipLevelOfDetail=!0}this._isTileset()?this.hasTilesetContent=!0:this.gpuMemoryUsageInBytes=this._getGpuMemoryUsageInBytes()}_updateBoundingVolume(t){this.boundingVolume=z2(t.boundingVolume,this.computedTransform,this.boundingVolume);const n=t.content;n&&(n.boundingVolume&&(this._contentBoundingVolume=z2(n.boundingVolume,this.computedTransform,this._contentBoundingVolume)),t.viewerRequestVolume&&(this._viewerRequestVolume=z2(t.viewerRequestVolume,this.computedTransform,this._viewerRequestVolume)))}_updateTransform(t=new Ys){const n=t.clone().multiplyRight(this.transform);n.equals(this.computedTransform)||(this.computedTransform=n,this._updateBoundingVolume(this.header))}_getLoaderSpecificOptions(t){return t==="i3s"?{...this.tileset.options.i3s,_tileOptions:{attributeUrls:this.header.attributeUrls,textureUrl:this.header.textureUrl,textureFormat:this.header.textureFormat,textureLoaderOptions:this.header.textureLoaderOptions,materialDefinition:this.header.materialDefinition,isDracoGeometry:this.header.isDracoGeometry,mbs:this.header.mbs},_tilesetOptions:{store:this.tileset.tileset.store,attributeStorageInfo:this.tileset.tileset.attributeStorageInfo,fields:this.tileset.tileset.fields},isTileHeader:!1}:function(n){return{assetGltfUpAxis:n.asset&&n.asset.gltfUpAxis||"Y"}}(this.tileset.tileset)}}class W2 extends FI{compareDistanceToCamera(t,n){return n._distanceToCamera===0&&t._distanceToCamera===0?n._centerZDepth-t._centerZDepth:n._distanceToCamera-t._distanceToCamera}updateTileVisibility(t,n){if(super.updateTileVisibility(t,n),!t.isVisibleAndInRequestVolume)return;const r=t.children.length>0;if(t.hasTilesetContent&&r){const c=t.children[0];return this.updateTileVisibility(c,n),void(t._visible=c._visible)}if(this.meetsScreenSpaceErrorEarly(t,n))return void(t._visible=!1);const o=t.refine===Bu.REPLACE,l=t._optimChildrenWithinParent===jp;o&&l&&r&&!this.anyChildrenVisible(t,n)&&(t._visible=!1)}meetsScreenSpaceErrorEarly(t,n){const{parent:r}=t;return!(!r||r.hasTilesetContent||r.refine!==Bu.ADD)&&!this.shouldRefine(t,n,!0)}}let W9=class{constructor(){ce(this,"frameNumberMap",new Map)}register(e,t){const n=this.frameNumberMap.get(e)||new Map,r=n.get(t)||0;n.set(t,r+1),this.frameNumberMap.set(e,n)}deregister(e,t){const n=this.frameNumberMap.get(e);if(!n)return;const r=n.get(t)||1;n.set(t,r-1)}isZero(e,t){var n;return(((n=this.frameNumberMap.get(e))==null?void 0:n.get(t))||0)===0}};const J9="REQUESTED",J2="COMPLETED",gR="ERROR";class Y9{constructor(){ce(this,"_statusMap"),ce(this,"pendingTilesRegister",new W9),this._statusMap={}}add(t,n,r,o){if(!this._statusMap[n]){const{frameNumber:l,viewport:{id:c}}=o;this._statusMap[n]={request:t,callback:r,key:n,frameState:o,status:J9},this.pendingTilesRegister.register(c,l),t().then(h=>{this._statusMap[n].status=J2;const{frameNumber:f,viewport:{id:p}}=this._statusMap[n].frameState;this.pendingTilesRegister.deregister(p,f),this._statusMap[n].callback(h,o)}).catch(h=>{this._statusMap[n].status=gR;const{frameNumber:f,viewport:{id:p}}=this._statusMap[n].frameState;this.pendingTilesRegister.deregister(p,f),r(h)})}}update(t,n){if(this._statusMap[t]){const{frameNumber:r,viewport:{id:o}}=this._statusMap[t].frameState;this.pendingTilesRegister.deregister(o,r);const{frameNumber:l,viewport:{id:c}}=n;this.pendingTilesRegister.register(c,l),this._statusMap[t].frameState=n}}find(t){return this._statusMap[t]}hasPendingTiles(t,n){return!this.pendingTilesRegister.isZero(t,n)}}class mR extends FI{constructor(t){super(t),ce(this,"_tileManager"),this._tileManager=new Y9}traversalFinished(t){return!this._tileManager.hasPendingTiles(t.viewport.id,this._frameNumber||0)}shouldRefine(t,n){return t._lodJudge=function(r,o){if(r.lodMetricValue===0||isNaN(r.lodMetricValue))return"DIG";const l=2*dR(r,o);return l<2?"OUT":!r.header.children||l<=r.lodMetricValue?"DRAW":r.header.children?"DIG":"OUT"}(t,n),t._lodJudge==="DIG"}updateChildTiles(t,n){const r=t.header.children||[],o=t.children,l=t.tileset;for(const c of r){const h=`${c.id}-${n.viewport.id}`,f=o&&o.find(p=>p.id===h);if(f)f&&this.updateTile(f,n);else{let p=()=>this._loadTile(c.id,l);this._tileManager.find(h)?this._tileManager.update(h,n):(l.tileset.nodePages&&(p=()=>l.tileset.nodePagesTile.formTileFromNodePages(c.id)),this._tileManager.add(p,h,m=>this._onTileLoad(m,t,h),n))}}return!1}async _loadTile(t,n){const{loader:r}=n,o=n.getTileUrl(`${n.url}/nodes/${t}`),l={...n.loadOptions,i3s:{...n.loadOptions.i3s,isTileHeader:!0}};return await ty(o,r,l)}_onTileLoad(t,n,r){const o=new F_(n.tileset,t,n,r);n.children.push(o);const l=this._tileManager.find(o.id).frameState;this.updateTile(o,l),this._frameNumber===l.frameNumber&&(this.traversalFinished(l)||new Date().getTime()-this.lastUpdate>this.updateDebounceTime)&&this.executeTraversal(o,l)}}const U_={description:"",ellipsoid:Zs.WGS84,modelMatrix:new Ys,throttleRequests:!0,maxRequests:64,maximumMemoryUsage:32,memoryCacheOverflow:1,maximumTilesSelected:0,debounceTime:0,onTileLoad:()=>{},onTileUnload:()=>{},onTileError:()=>{},onTraversalComplete:e=>e,contentLoader:void 0,viewDistanceScale:1,maximumScreenSpaceError:8,memoryAdjustedScreenSpaceError:!1,loadTiles:!0,updateTransforms:!0,viewportTraversersMap:null,loadOptions:{fetch:{}},attributions:[],basePath:"",i3s:{}},N_="Tiles In Tileset(s)",G_="Tiles In Memory",yR="Tiles In View",Pd="Tiles To Render",UI="Tiles Loaded",NI="Tiles Loading",xR="Tiles Unloaded",Y2="Failed Tile Loads",CR="Points/Vertices",Z2="Tile Memory Use",K2="Maximum Screen Space Error";let ER=class{constructor(e,t){ce(this,"options"),ce(this,"loadOptions"),ce(this,"type"),ce(this,"tileset"),ce(this,"loader"),ce(this,"url"),ce(this,"basePath"),ce(this,"modelMatrix"),ce(this,"ellipsoid"),ce(this,"lodMetricType"),ce(this,"lodMetricValue"),ce(this,"refine"),ce(this,"root",null),ce(this,"roots",{}),ce(this,"asset",{}),ce(this,"description",""),ce(this,"properties"),ce(this,"extras",null),ce(this,"attributions",{}),ce(this,"credits",{}),ce(this,"stats"),ce(this,"contentFormats",{draco:!1,meshopt:!1,dds:!1,ktx2:!1}),ce(this,"cartographicCenter",null),ce(this,"cartesianCenter",null),ce(this,"zoom",1),ce(this,"boundingVolume",null),ce(this,"dynamicScreenSpaceErrorComputedDensity",0),ce(this,"maximumMemoryUsage",32),ce(this,"gpuMemoryUsageInBytes",0),ce(this,"memoryAdjustedScreenSpaceError",0),ce(this,"_cacheBytes",0),ce(this,"_cacheOverflowBytes",0),ce(this,"_frameNumber",0),ce(this,"_queryParams",{}),ce(this,"_extensionsUsed",[]),ce(this,"_tiles",{}),ce(this,"_pendingCount",0),ce(this,"selectedTiles",[]),ce(this,"traverseCounter",0),ce(this,"geometricError",0),ce(this,"lastUpdatedVieports",null),ce(this,"_requestedTiles",[]),ce(this,"_emptyTiles",[]),ce(this,"frameStateData",{}),ce(this,"_traverser"),ce(this,"_cache",new jD),ce(this,"_requestScheduler"),ce(this,"updatePromise",null),ce(this,"tilesetInitializationPromise"),this.options={...U_,...t},this.tileset=e,this.loader=e.loader,this.type=e.type,this.url=e.url,this.basePath=e.basePath||function(n){const r=n?n.lastIndexOf("/"):-1;return r>=0?n.substr(0,r):""}(this.url),this.modelMatrix=this.options.modelMatrix,this.ellipsoid=this.options.ellipsoid,this.lodMetricType=e.lodMetricType,this.lodMetricValue=e.lodMetricValue,this.refine=e.root.refine,this.loadOptions=this.options.loadOptions||{},this._traverser=this._initializeTraverser(),this._requestScheduler=new F9({throttleRequests:this.options.throttleRequests,maxRequests:this.options.maxRequests}),this.memoryAdjustedScreenSpaceError=this.options.maximumScreenSpaceError,this._cacheBytes=1024*this.options.maximumMemoryUsage*1024,this._cacheOverflowBytes=1024*this.options.memoryCacheOverflow*1024,this.stats=new uA({id:this.url}),this._initializeStats(),this.tilesetInitializationPromise=this._initializeTileSet(e)}destroy(){this._destroy()}isLoaded(){return this._pendingCount===0&&this._frameNumber!==0&&this._requestedTiles.length===0}get tiles(){return Object.values(this._tiles)}get frameNumber(){return this._frameNumber}get queryParams(){return new URLSearchParams(this._queryParams).toString()}setProps(e){this.options={...this.options,...e}}getTileUrl(e){if(e.startsWith("data:"))return e;let t=e;return this.queryParams.length&&(t=`${e}${e.includes("?")?"&":"?"}${this.queryParams}`),t}hasExtension(e){return this._extensionsUsed.indexOf(e)>-1}update(e=null){this.tilesetInitializationPromise.then(()=>{!e&&this.lastUpdatedVieports?e=this.lastUpdatedVieports:this.lastUpdatedVieports=e,e&&this.doUpdate(e)})}async selectTiles(e=null){return await this.tilesetInitializationPromise,e&&(this.lastUpdatedVieports=e),this.updatePromise||(this.updatePromise=new Promise(t=>{setTimeout(()=>{this.lastUpdatedVieports&&this.doUpdate(this.lastUpdatedVieports),t(this._frameNumber),this.updatePromise=null},this.options.debounceTime)})),this.updatePromise}adjustScreenSpaceError(){this.gpuMemoryUsageInBytes<this._cacheBytes?this.memoryAdjustedScreenSpaceError=Math.max(this.memoryAdjustedScreenSpaceError/1.02,this.options.maximumScreenSpaceError):this.gpuMemoryUsageInBytes>this._cacheBytes+this._cacheOverflowBytes&&(this.memoryAdjustedScreenSpaceError*=1.02)}doUpdate(e){if("loadTiles"in this.options&&!this.options.loadTiles||this.traverseCounter>0)return;const t=e instanceof Array?e:[e];this._cache.reset(),this._frameNumber++,this.traverseCounter=t.length;const n=[];for(const r of t){const o=r.id;this._needTraverse(o)?n.push(o):this.traverseCounter--}for(const r of t){const o=r.id;if(this.roots[o]||(this.roots[o]=this._initializeTileHeaders(this.tileset,null)),!n.includes(o))continue;const l=N9(r,this._frameNumber);this._traverser.traverse(this.roots[o],l,this.options)}}_needTraverse(e){let t=e;return this.options.viewportTraversersMap&&(t=this.options.viewportTraversersMap[e]),t===e}_onTraversalEnd(e){const t=e.viewport.id;this.frameStateData[t]||(this.frameStateData[t]={selectedTiles:[],_requestedTiles:[],_emptyTiles:[]});const n=this.frameStateData[t],r=Object.values(this._traverser.selectedTiles),[o,l]=function(c,h,f){if(f===0||c.length<=f)return[c,[]];const p=[],{longitude:m,latitude:I}=h.viewport;for(const[T,S]of c.entries()){const[k,F]=S.header.mbs,N=Math.abs(m-k),G=Math.abs(I-F),V=Math.sqrt(G*G+N*N);p.push([T,V])}const w=p.sort((T,S)=>T[1]-S[1]),_=[];for(let T=0;T<f;T++)_.push(c[w[T][0]]);const b=[];for(let T=f;T<w.length;T++)b.push(c[w[T][0]]);return[_,b]}(r,e,this.options.maximumTilesSelected);n.selectedTiles=o;for(const c of l)c.unselect();n._requestedTiles=Object.values(this._traverser.requestedTiles),n._emptyTiles=Object.values(this._traverser.emptyTiles),this.traverseCounter--,!(this.traverseCounter>0)&&this._updateTiles()}_updateTiles(){this.selectedTiles=[],this._requestedTiles=[],this._emptyTiles=[];for(const e in this.frameStateData){const t=this.frameStateData[e];this.selectedTiles=this.selectedTiles.concat(t.selectedTiles),this._requestedTiles=this._requestedTiles.concat(t._requestedTiles),this._emptyTiles=this._emptyTiles.concat(t._emptyTiles)}this.selectedTiles=this.options.onTraversalComplete(this.selectedTiles);for(const e of this.selectedTiles)this._tiles[e.id]=e;this._loadTiles(),this._unloadTiles(),this._updateStats()}_tilesChanged(e,t){if(e.length!==t.length)return!0;const n=new Set(e.map(l=>l.id)),r=new Set(t.map(l=>l.id));let o=e.filter(l=>!r.has(l.id)).length>0;return o=o||t.filter(l=>!n.has(l.id)).length>0,o}_loadTiles(){for(const e of this._requestedTiles)e.contentUnloaded&&this._loadTile(e)}_unloadTiles(){this._cache.unloadTiles(this,(e,t)=>e._unloadTile(t))}_updateStats(){let e=0,t=0;for(const n of this.selectedTiles)n.contentAvailable&&n.content&&(e++,n.content.pointCount?t+=n.content.pointCount:t+=n.content.vertexCount);this.stats.get(yR).count=this.selectedTiles.length,this.stats.get(Pd).count=e,this.stats.get(CR).count=t,this.stats.get(K2).count=this.memoryAdjustedScreenSpaceError}async _initializeTileSet(e){this.type===xA.I3S&&(this.calculateViewPropsI3S(),e.root=await e.root),this.root=this._initializeTileHeaders(e,null),this.type===xA.TILES3D&&(this._initializeTiles3DTileset(e),this.calculateViewPropsTiles3D()),this.type===xA.I3S&&this._initializeI3STileset()}calculateViewPropsI3S(){var e;const t=this.tileset.fullExtent;if(t){const{xmin:r,xmax:o,ymin:l,ymax:c,zmin:h,zmax:f}=t;return this.cartographicCenter=new ie(r+(o-r)/2,l+(c-l)/2,h+(f-h)/2),this.cartesianCenter=new ie,Zs.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),void(this.zoom=V2(t,this.cartographicCenter,this.cartesianCenter))}const n=(e=this.tileset.store)==null?void 0:e.extent;if(n){const[r,o,l,c]=n;return this.cartographicCenter=new ie(r+(l-r)/2,o+(c-o)/2,0),this.cartesianCenter=new ie,Zs.WGS84.cartographicToCartesian(this.cartographicCenter,this.cartesianCenter),void(this.zoom=function(h,f,p){const[m,I,w,_]=h;return V2({xmax:w,ymax:_,zmax:0},f,p)}(n,this.cartographicCenter,this.cartesianCenter))}console.warn("Extent is not defined in the tileset header"),this.cartographicCenter=new ie,this.zoom=1}calculateViewPropsTiles3D(){const e=this.root,{center:t}=e.boundingVolume;if(!t)return console.warn("center was not pre-calculated for the root tile"),this.cartographicCenter=new ie,void(this.zoom=1);t[0]!==0||t[1]!==0||t[2]!==0?(this.cartographicCenter=new ie,Zs.WGS84.cartesianToCartographic(t,this.cartographicCenter)):this.cartographicCenter=new ie(0,0,-Zs.WGS84.radii[0]),this.cartesianCenter=t,this.zoom=$D(e.boundingVolume,this.cartographicCenter)}_initializeStats(){this.stats.get(N_),this.stats.get(NI),this.stats.get(G_),this.stats.get(yR),this.stats.get(Pd),this.stats.get(UI),this.stats.get(xR),this.stats.get(Y2),this.stats.get(CR),this.stats.get(Z2,"memory"),this.stats.get(K2)}_initializeTileHeaders(e,t){var n;const r=new F_(this,e.root,t);if(t&&(t.children.push(r),r.depth=t.depth+1),this.type===xA.TILES3D){const o=[];for(o.push(r);o.length>0;){const l=o.pop();this.stats.get(N_).incrementCount();const c=l.header.children||[];for(const h of c){const f=new F_(this,h,l);if((n=f.contentUrl)!=null&&n.includes("?session=")){const p=new URL(f.contentUrl).searchParams.get("session");p&&(this._queryParams.session=p)}l.children.push(f),f.depth=l.depth+1,o.push(f)}}}return r}_initializeTraverser(){let e;switch(this.type){case xA.TILES3D:e=W2;break;case xA.I3S:e=mR;break;default:e=FI}return new e({basePath:this.basePath,onTraversalEnd:this._onTraversalEnd.bind(this)})}_destroyTileHeaders(e){this._destroySubtree(e)}async _loadTile(e){let t;try{this._onStartTileLoading(),t=await e.loadContent()}catch(n){this._onTileLoadError(e,n instanceof Error?n:new Error("load failed"))}finally{this._onEndTileLoading(),this._onTileLoad(e,t)}}_onTileLoadError(e,t){this.stats.get(Y2).incrementCount();const n=t.message||t.toString(),r=e.url;console.error(`A 3D tile failed to load: ${e.url} ${n}`),this.options.onTileError(e,n,r)}_onTileLoad(e,t){var n,r;if(t){if(this.type===xA.I3S){const o=((r=(n=this.tileset)==null?void 0:n.nodePagesTile)==null?void 0:r.nodesInNodePages)||0;this.stats.get(N_).reset(),this.stats.get(N_).addCount(o)}e&&e.content&&function(o,l){Xf(o),Xf(l);const{rtcCenter:c,gltfUpAxis:h}=l,{computedTransform:f,boundingVolume:{center:p}}=o;let m=new Ys(f);switch(c&&m.translate(c),h){case"Z":break;case"Y":const b=new Ys().rotateX(Math.PI/2);m=m.multiplyRight(b);break;case"X":const T=new Ys().rotateY(-Math.PI/2);m=m.multiplyRight(T)}l.isQuantized&&m.translate(l.quantizedVolumeOffset).scale(l.quantizedVolumeScale);const I=new ie(p);l.cartesianModelMatrix=m,l.cartesianOrigin=I;const w=Zs.WGS84.cartesianToCartographic(I,new ie),_=Zs.WGS84.eastNorthUpToFixedFrame(I).invert();l.cartographicModelMatrix=_.multiplyRight(m),l.cartographicOrigin=w,l.coordinateSystem||(l.modelMatrix=l.cartographicModelMatrix)}(e,e.content),this.updateContentTypes(e),this._addTileToCache(e),this.options.onTileLoad(e)}}updateContentTypes(e){var t;if(this.type===xA.I3S)switch(e.header.isDracoGeometry&&(this.contentFormats.draco=!0),e.header.textureFormat){case"dds":this.contentFormats.dds=!0;break;case"ktx2":this.contentFormats.ktx2=!0}else if(this.type===xA.TILES3D){const{extensionsRemoved:n=[]}=((t=e.content)==null?void 0:t.gltf)||{};n.includes("KHR_draco_mesh_compression")&&(this.contentFormats.draco=!0),n.includes("EXT_meshopt_compression")&&(this.contentFormats.meshopt=!0),n.includes("KHR_texture_basisu")&&(this.contentFormats.ktx2=!0)}}_onStartTileLoading(){this._pendingCount++,this.stats.get(NI).incrementCount()}_onEndTileLoading(){this._pendingCount--,this.stats.get(NI).decrementCount()}_addTileToCache(e){this._cache.add(this,e,t=>t._updateCacheStats(e))}_updateCacheStats(e){this.stats.get(UI).incrementCount(),this.stats.get(G_).incrementCount(),this.gpuMemoryUsageInBytes+=e.gpuMemoryUsageInBytes||0,this.stats.get(Z2).count=this.gpuMemoryUsageInBytes,this.options.memoryAdjustedScreenSpaceError&&this.adjustScreenSpaceError()}_unloadTile(e){this.gpuMemoryUsageInBytes-=e.gpuMemoryUsageInBytes||0,this.stats.get(G_).decrementCount(),this.stats.get(xR).incrementCount(),this.stats.get(Z2).count=this.gpuMemoryUsageInBytes,this.options.onTileUnload(e),e.unloadContent()}_destroy(){const e=[];for(this.root&&e.push(this.root);e.length>0;){const t=e.pop();for(const n of t.children)e.push(n);this._destroyTile(t)}this.root=null}_destroySubtree(e){const t=e,n=[];for(n.push(t);n.length>0;){e=n.pop();for(const r of e.children)n.push(r);e!==t&&this._destroyTile(e)}t.children=[]}_destroyTile(e){this._cache.unloadTile(this,e),this._unloadTile(e),e.destroy()}_initializeTiles3DTileset(e){if(e.queryString){const t=new URLSearchParams(e.queryString),n=Object.fromEntries(t.entries());this._queryParams={...this._queryParams,...n}}if(this.asset=e.asset,!this.asset)throw new Error("Tileset must have an asset property.");if(this.asset.version!=="0.0"&&this.asset.version!=="1.0"&&this.asset.version!=="1.1")throw new Error("The tileset must be 3D Tiles version either 0.0 or 1.0 or 1.1.");"tilesetVersion"in this.asset&&(this._queryParams.v=this.asset.tilesetVersion),this.credits={attributions:this.options.attributions||[]},this.description=this.options.description||"",this.properties=e.properties,this.geometricError=e.geometricError,this._extensionsUsed=e.extensionsUsed||[],this.extras=e.extras}_initializeI3STileset(){this.loadOptions.i3s&&"token"in this.loadOptions.i3s&&(this._queryParams.token=this.loadOptions.i3s.token)}};function IR(e){const t=document.createElement("canvas");t.width=64,t.height=64;const n=t.getContext("2d");n.rect(0,0,64,64);const r=n.createLinearGradient(0,0,64,64);for(let l=0;l<e.length;l++){const c=e[l];r.addColorStop(c[0],"#"+c[1].getHexString())}n.fillStyle=r,n.fill();const o=new D.CanvasTexture(t);return o.needsUpdate=!0,o.minFilter=D.LinearFilter,o.wrapS=D.RepeatWrapping,o.wrapT=D.RepeatWrapping,o.repeat.set(2,2),o}function wR(e){e.updateMatrix(),e.updateMatrixWorld(),e.matrixWorldInverse.copy(e.matrixWorld).invert();const t=new D.Frustum;return t.setFromProjectionMatrix(new D.Matrix4().multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse)),t}function _R(e){const{boundingVolume:t}=e;let n=0;e.content&&(n=Math.min(e.content.byteLength/5e5,1));const r=new D.Color(n,1,0),o=new D.BoxGeometry(1,1,1),l=new D.Matrix4;t.halfAxes?l.copy(X2(t.halfAxes)):t.radius&&o.scale(2*t.radius,2*t.radius,2*t.radius),o.applyMatrix4(l);const c=new D.EdgesGeometry(o),h=new D.LineSegments(c,new D.LineBasicMaterial({color:r}));return h.position.copy(new D.Vector3(...t.center)),h}function X2(e){const t=e;return new D.Matrix4().fromArray([2*t[0],2*t[1],2*t[2],0,2*t[3],2*t[4],2*t[5],0,2*t[6],2*t[7],2*t[8],0,0,0,0,1])}function GI(e){return function(t){let n=0;for(const o in t.attributes){const l=t.getAttribute(o);n+=l.count*l.itemSize*l.array.BYTES_PER_ELEMENT}const r=t.getIndex();return n+=r?r.count*r.itemSize*r.array.BYTES_PER_ELEMENT:0,n}(e)}let Rl=null,_h=null,qp=null,Ar=null;const BR={minHeight:0,maxHeight:300,samples:4,sampleStep:4,opacity:.5,blendingType:D.NormalBlending},wr=e=>e.toString(),O_=new D.ShaderMaterial({vertexShader:wr`
        varying vec3 vPosition;
        void main() {
            vPosition =  (modelMatrix * vec4(position, 1.0)).xyz;
            gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
        }
    `,fragmentShader:wr`
        varying vec3 vPosition;
        void main() {
            gl_FragColor = vec4(vPosition, 1.0);
        }
    `,side:D.DoubleSide}),Z9=wr`
    #include <packing>

    varying vec2 vUv;
    varying vec3 vColor;
    uniform sampler2D tPosition;
    uniform float minHeight;
    uniform float maxHeight;
    uniform int samples;
    uniform float sampleStep;

    mat4 MVP;

    // Convert to normalized screen coordinates
    vec4 toNSC(const in vec4 v) {
        return vec4(0.5 * (v.xyz / v.w) + 0.5, v.w);
    }
    vec4 vertexDraping(
        const in sampler2D positionTex, // Position G-Buffer
        const in vec4 Vin // Vertex to drape
    ) {
        float texSize = float(textureSize(positionTex, 0).x);
        float pixelSize = 1.0 / texSize;
        vec2 stepSize = vec2(sampleStep/texSize);
        vec4 VinWorld = modelMatrix * Vin;

        vec4 lineStart = projectionMatrix * viewMatrix * vec4(VinWorld.x, minHeight, VinWorld.z, 1.0);
        vec4 lineEnd = projectionMatrix * viewMatrix * vec4(VinWorld.x, maxHeight, VinWorld.z, 1.0);

        vec4 Vout = VinWorld;

        // Binary search for line-terrain intersection
        float first = 0.0, last = 1.0;
        while(first <= last) {
            // Compute mid-point
            float mid = first + (last-first) / 2.0;
            // Compute texture coordinates along line
            vec4 texCoords = toNSC(mix(lineStart, lineEnd, mid));
            vec4 texSample = vec4(0.0); // Sample terrain
            for(int s = -samples; s < samples; s++) {
                for(int t = -samples; t < samples; t++) {
                    texSample += texture(positionTex,
                    texCoords.st + vec2(s,t) * stepSize);
                }
            }
            // Smooth samples obtain from G-Buffer
            texSample = texSample / (float(samples) * float(samples) * 4.0);
            float terrainHeight = texSample.y;
            Vout.y = terrainHeight;
           
            if((last-first) < pixelSize) { // Termination criteria
                return Vout;
            }
            // Perform intersection test
            float depthScene = toNSC(projectionMatrix * viewMatrix * Vout).y;
            if(depthScene >= texCoords.y) {
                first = mid;
            }
            else
                last = mid;
        }
        return Vout;
    }

    void main() {
        vColor = color;
        vUv = uv;
        MVP = projectionMatrix * modelViewMatrix;
        vec4 inputVertex = vec4(position, 1.0);
        vec4 outputVertex = vertexDraping(tPosition, inputVertex);
        vec4 finalPosition = projectionMatrix * viewMatrix * outputVertex;
        gl_Position = finalPosition;
    }
`,K9=wr`
    varying vec3 vColor;
    uniform float opacity;

    void main() {
        gl_FragColor = vec4(vColor, opacity);
    }
`,qf=new D.ShaderMaterial({vertexShader:Z9,fragmentShader:K9,uniforms:{tPosition:{value:null},minHeight:{value:0},maxHeight:{value:300},opacity:{value:.5},samples:{value:4},sampleStep:{value:4}},vertexColors:!0,transparent:!0,depthTest:!1,blending:D.NormalBlending}),j2={SPECTRAL:[[0,new D.Color(.3686,.3098,.6353)],[.1,new D.Color(.1961,.5333,.7412)],[.2,new D.Color(.4,.7608,.6471)],[.3,new D.Color(.6706,.8667,.6431)],[.4,new D.Color(.902,.9608,.5961)],[.5,new D.Color(1,1,.749)],[.6,new D.Color(.9961,.8784,.5451)],[.7,new D.Color(.9922,.6824,.3804)],[.8,new D.Color(.9569,.4275,.2627)],[.9,new D.Color(.8353,.2431,.3098)],[1,new D.Color(.6196,.0039,.2588)]],PLASMA:[[0,new D.Color(.241,.015,.61)],[.1,new D.Color(.387,.001,.654)],[.2,new D.Color(.524,.025,.653)],[.3,new D.Color(.651,.125,.596)],[.4,new D.Color(.752,.227,.513)],[.5,new D.Color(.837,.329,.431)],[.6,new D.Color(.907,.435,.353)],[.7,new D.Color(.963,.554,.272)],[.8,new D.Color(.992,.681,.195)],[.9,new D.Color(.987,.822,.144)],[1,new D.Color(.94,.975,.131)]],YELLOW_GREEN:[[0,new D.Color(.1647,.2824,.3451)],[.1,new D.Color(.1338,.3555,.4227)],[.2,new D.Color(.061,.4319,.4864)],[.3,new D.Color(0,.5099,.5319)],[.4,new D.Color(0,.5881,.5569)],[.5,new D.Color(.137,.665,.5614)],[.6,new D.Color(.2906,.7395,.5477)],[.7,new D.Color(.4453,.8099,.5201)],[.8,new D.Color(.6102,.8748,.485)],[.9,new D.Color(.7883,.9323,.4514)],[1,new D.Color(.9804,.9804,.4314)]],VIRIDIS:[[0,new D.Color(.267,.005,.329)],[.1,new D.Color(.283,.141,.458)],[.2,new D.Color(.254,.265,.53)],[.3,new D.Color(.207,.372,.553)],[.4,new D.Color(.164,.471,.558)],[.5,new D.Color(.128,.567,.551)],[.6,new D.Color(.135,.659,.518)],[.7,new D.Color(.267,.749,.441)],[.8,new D.Color(.478,.821,.318)],[.9,new D.Color(.741,.873,.15)],[1,new D.Color(.993,.906,.144)]],INFERNO:[[0,new D.Color(.077,.042,.206)],[.1,new D.Color(.225,.036,.388)],[.2,new D.Color(.373,.074,.432)],[.3,new D.Color(.522,.128,.42)],[.4,new D.Color(.665,.182,.37)],[.5,new D.Color(.797,.255,.287)],[.6,new D.Color(.902,.364,.184)],[.7,new D.Color(.969,.516,.063)],[.8,new D.Color(.988,.683,.072)],[.9,new D.Color(.961,.859,.298)],[1,new D.Color(.988,.998,.645)]],GRAYSCALE:[[0,new D.Color(0,0,0)],[1,new D.Color(1,1,1)]],TURBO:[[0,new D.Color(.18995,.07176,.23217)],[.07,new D.Color(.25107,.25237,.63374)],[.13,new D.Color(.27628,.42118,.89123)],[.2,new D.Color(.25862,.57958,.99876)],[.27,new D.Color(.15844,.73551,.92305)],[.33,new D.Color(.09267,.86554,.7623)],[.4,new D.Color(.19659,.94901,.59466)],[.47,new D.Color(.42778,.99419,.38575)],[.53,new D.Color(.64362,.98999,.23356)],[.6,new D.Color(.80473,.92452,.20459)],[.67,new D.Color(.93301,.81236,.22667)],[.73,new D.Color(.99314,.67408,.20348)],[.8,new D.Color(.9836,.49291,.12849)],[.87,new D.Color(.92105,.31489,.05475)],[.93,new D.Color(.81608,.18462,.01809)],[1,new D.Color(.66449,.08436,.00424)]],RAINBOW:[[0,new D.Color(.278,0,.714)],[1/6,new D.Color(0,0,1)],[2/6,new D.Color(0,1,1)],[.5,new D.Color(0,1,0)],[4/6,new D.Color(1,1,0)],[5/6,new D.Color(1,.64,0)],[1,new D.Color(1,0,0)]],CONTOUR:[[0,new D.Color(0,0,0)],[.03,new D.Color(0,0,0)],[.04,new D.Color(1,1,1)],[1,new D.Color(1,1,1)]]};var OI=(e=>(e[e.Intensity=1]="Intensity",e[e.Classification=2]="Classification",e[e.Elevation=3]="Elevation",e[e.RGB=4]="RGB",e[e.White=5]="White",e))(OI||{}),Ry=(e=>(e[e.FlatTexture=1]="FlatTexture",e[e.ShadedTexture=2]="ShadedTexture",e[e.ShadedNoTexture=3]="ShadedNoTexture",e))(Ry||{});const X9=typeof document<"u"?IR(j2.RAINBOW):null,j9=typeof document<"u"?IR(j2.GRAYSCALE):null,q9={throttleRequests:!0,maxRequests:64,updateInterval:.1,maxConcurrency:1,maximumScreenSpaceError:16,memoryAdjustedScreenSpaceError:!0,maximumMemoryUsage:400,memoryCacheOverflow:128,viewDistanceScale:1,skipLevelOfDetail:!1,resetTransform:!1,updateTransforms:!0,shading:Ry.FlatTexture,transparent:!1,pointCloudColoring:OI.White,pointSize:1,worker:!0,wireframe:!1,debug:!1,gltfLoader:null,basisTranscoderPath:null,dracoDecoderPath:null,material:null,contentPostProcess:void 0,preloadTilesCount:null,collectAttributions:!1};let $9=class{static async load(e){const t={...q9,...e.options},{url:n}=e;let{viewport:r,renderer:o}=e;const l=t.updateInterval,c={};if(t.cesiumIONToken){c["cesium-ion"]={accessToken:t.cesiumIONToken};const _t=await DD.preload(n,c);c.fetch={headers:_t.headers}}t.googleApiKey&&(c.fetch={headers:{"X-GOOG-API-KEY":t.googleApiKey}},e.options.hasOwnProperty("collectAttributions")||(t.collectAttributions=!0)),e.loadingManager&&e.loadingManager.itemStart(n);const h=await ty(n,Iy,{...c}),f={},p={},m=[],I=new D.Group,w=new D.Group;t.debug||(w.visible=!1);const _={pointSize:{type:"f",value:t.pointSize},gradient:{type:"t",value:X9},grayscale:{type:"t",value:j9},rootCenter:{type:"vec3",value:new D.Vector3},rootNormal:{type:"vec3",value:new D.Vector3},coloring:{type:"i",value:t.pointCloudColoring},hideGround:{type:"b",value:!0},elevationRange:{type:"vec2",value:new D.Vector2(0,400)},maxIntensity:{type:"f",value:1},intensityContrast:{type:"f",value:1},alpha:{type:"f",value:1}},b=new D.ShaderMaterial({uniforms:_,vertexShader:`
  varying vec3 vColor;
  uniform sampler2D gradient;
  uniform sampler2D grayscale;
  attribute float intensity;
  attribute float classification;
  uniform vec3 rootCenter;
  uniform vec3 rootNormal;
  uniform vec2 elevationRange;
  uniform int coloring;
  uniform bool hideGround;
  uniform float maxIntensity;
  uniform float intensityContrast;
  uniform float pointSize;

  #ifdef USE_COLOR
  vec3 getRGB() {
      vec3 rgb = color;
      return rgb;
  }
  #endif

  vec3 getElevation(){
    vec4 world = modelMatrix * vec4( position, 1.0 );
    float diff = abs(dot(rootNormal, (vec3(world) - rootCenter)));
    float w = max(diff - elevationRange.x,0.0) / max(elevationRange.y - elevationRange.x,1.0);
    vec3 cElevation = texture2D(gradient, vec2(w,1.0-w)).rgb;

    return cElevation;
  }

  vec3 getIntensity(){
    // TODO: real contrast enhancement. Check https://github.com/yuki-koyama/enhancer/blob/master/shaders/enhancer.fs
    float intmod = pow(intensity, intensityContrast);
    vec3 cIntensity = texture2D(grayscale, vec2(intmod / maxIntensity ,1.0-(intmod / maxIntensity))).rgb;
    return cIntensity;
  }

  vec3 getClassification(){
    float classNormalized = classification / 255.0;
    vec3 cClassification = texture2D(gradient, vec2(classNormalized * 5.0,1.0-classNormalized * 5.0)).rgb;
    return cClassification;
  }

  vec3 getColor(){
      vec3 color;
      if (hideGround && classification == 2.0) {
         return vec3(0.0, 0.0, 0.0);               
      }

      if (coloring == 1) {
        color = getIntensity();
      }
      else if (coloring == 2) {
        color = getClassification();
      } else if (coloring == 3) {
        color = getElevation();
      } 
      #ifdef USE_COLOR
      else if (coloring == 4) {
        color = getRGB();
      }
      #endif
      else {
        color = vec3(1.0, 1.0, 1.0);
      }
      return color;
  }

  void main() {
      vColor = getColor();

      gl_PointSize = pointSize;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
  }
`,fragmentShader:`
  varying vec3 vColor;
  uniform float alpha;

  void main() {
    if (vColor == vec3(0.0, 0.0, 0.0)) {
      discard;
    } else {
      gl_FragColor = vec4( vColor, alpha);
    }
  }
`,transparent:t.transparent,vertexColors:!0});let T,S,k;t.gltfLoader?T=t.gltfLoader:(T=new lE,t.basisTranscoderPath&&(S=new Sa,S.detectSupport(o??new D.WebGLRenderer),S.setTranscoderPath(t.basisTranscoderPath+"/"),S.setWorkerLimit(1),T.setKTX2Loader(S)),t.dracoDecoderPath&&(k=new Gm,k.setDecoderPath(t.dracoDecoderPath+"/"),k.setWorkerLimit(t.maxConcurrency),T.setDRACOLoader(k)));const F=new D.MeshBasicMaterial({transparent:t.transparent}),N={maximumMemoryUsage:t.maximumMemoryUsage,maximumScreenSpaceError:t.maximumScreenSpaceError,memoryAdjustedScreenSpaceError:t.memoryAdjustedScreenSpaceError,memoryCacheOverflow:t.memoryCacheOverflow,viewDistanceScale:t.viewDistanceScale,skipLevelOfDetail:t.skipLevelOfDetail,updateTransforms:t.updateTransforms,throttleRequests:t.throttleRequests,maxRequests:t.maxRequests,contentLoader:async _t=>{let zt=null;switch(_t.type){case wh.POINTCLOUD:zt=function(Ft,qt,Gt,ge){const Fe={rtc_center:Ft.content.rtcCenter,points:Ft.content.attributes.positions,intensities:Ft.content.attributes.intensity,classifications:Ft.content.attributes.classification,rgb:null,rgba:null},{colors:ee}=Ft.content.attributes;ee&&ee.size===3&&(Fe.rgb=ee.value),ee&&ee.size===4&&(Fe.rgba=ee.value);const pn=new D.BufferGeometry;pn.setAttribute("position",new D.Float32BufferAttribute(Fe.points,3));const Te=new D.Matrix4().fromArray(Ft.computedTransform).premultiply(ge);Fe.rgba?pn.setAttribute("color",new D.Float32BufferAttribute(Fe.rgba,4)):Fe.rgb&&pn.setAttribute("color",new D.Uint8BufferAttribute(Fe.rgb,3,!0)),Fe.intensities&&pn.setAttribute("intensity",new D.BufferAttribute(Fe.intensities,1,!0)),Fe.classifications&&pn.setAttribute("classification",new D.Uint8BufferAttribute(Fe.classifications,1,!1)),Ft.content.geometriesByteLength=GI(pn),Ft.content.gpuMemoryUsageInBytes=Ft.content.geometriesByteLength;const Wt=new D.Points(pn,Gt.material||qt);if(Fe.rtc_center){const Ot=Fe.rtc_center;Te.multiply(new D.Matrix4().makeTranslation(Ot[0],Ot[1],Ot[2]))}return Wt.applyMatrix4(Te),Gt.contentPostProcess&&Gt.contentPostProcess(Wt),Wt}(_t,b,t,Mt);break;case wh.SCENEGRAPH:case wh.MESH:zt=await async function(Ft,qt,Gt,ge,Fe){return new Promise((ee,pn)=>{const Te=new D.Matrix4().makeRotationAxis(new D.Vector3(1,0,0),Math.PI/2),Wt=qt.content.gltfUpAxis!=="Z",Ot=new D.Matrix4().fromArray(qt.computedTransform).premultiply(Fe);Wt&&Ot.multiply(Te),qt.content.byteLength||(qt.content.byteLength=qt.content.gltfArrayBuffer.byteLength),Ft.parse(qt.content.gltfArrayBuffer,qt.contentUrl?qt.contentUrl.substr(0,qt.contentUrl.lastIndexOf("/")+1):null,ue=>{qt.userData.asset=ue.asset;const Ne=ue.scenes[0];Ne.applyMatrix4(Ot),qt.content.texturesByteLength=0,qt.content.geometriesByteLength=0,Ne.traverse(si=>{if(si.type=="Mesh"){const Ti=si;qt.content.geometriesByteLength+=GI(Ti.geometry);const hi=Ti.material,Ci=hi.map;if(Ci){const Zi=function(Je){let be=0;if((Je==null?void 0:Je.userData.mimeType)=="image/ktx2"&&Je.mipmaps){for(let me=0;me<Je.mipmaps.length;me++)be+=Je.mipmaps[me].data.byteLength;return be}if(Je.image){const{image:me}=Je,se=4;let we=[me.width,me.height];for(;we[0]>1||we[1]>1;)be+=we[0]*we[1]*se,we[0]=Math.max(Math.floor(we[0]/2),1),we[1]=Math.max(Math.floor(we[1]/2),1);return be+=1*se,be}}(Ci);Zi&&(qt.content.texturesByteLength+=Zi)}ge.material?(Ti.material=ge.material.clone(),hi.dispose()):ge.shading==Ry.FlatTexture&&Ti.material.type!=="MeshBasicMaterial"&&(Ti.material=Gt.clone(),hi.dispose()),ge.shading!=Ry.ShadedNoTexture?Ti.material.type=="ShaderMaterial"?Ti.material.uniforms.map={value:Ci}:Ti.material.map=Ci:(Ci&&Ci.dispose(),Ti.material.map=null),Ti.material.wireframe=ge.wireframe,ge.contentPostProcess&&ge.contentPostProcess(Ti)}}),qt.content.gpuMemoryUsageInBytes=qt.content.texturesByteLength+qt.content.geometriesByteLength,ee(Ne)},ue=>{pn(new Error(`error parsing gltf in tile ${qt.id}: ${ue}`))})})}(T,_t,F,t,Mt)}if(zt&&(zt.visible=!1,f[_t.id]=zt,I.add(f[_t.id]),t.debug)){const Ft=_R(_t);w.add(Ft),p[_t.id]=Ft}},onTileLoad:async _t=>{G&&(t.resetTransform&&!K&&(_t==null?void 0:_t.depth)<=5&&Bt(_t),vt=!0)},onTileUnload:_t=>{m.push(_t)},onTileError:(_t,zt)=>{console.warn("Tile error",_t.id,zt)},onTraversalComplete:_t=>(t.collectAttributions&&(st=function(zt){const Ft=new Map;return zt.forEach(qt=>{var Gt,ge;const Fe=(ge=(Gt=qt==null?void 0:qt.userData)==null?void 0:Gt.asset)==null?void 0:ge.copyright;Fe&&Fe.split(/;/g).map(ee=>ee.trim()).forEach(ee=>{ee&&Ft.set(ee,(Ft.get(ee)||0)+1)})}),Array.from(Ft).sort((qt,Gt)=>Gt[1]-qt[1]).map(([qt])=>qt).join("; ")}(_t)),_t)},G=new ER(h,{...N,loadOptions:{...c,maxConcurrency:t.maxConcurrency,worker:t.worker,gltf:{loadImages:!1},"3d-tiles":{loadGLTF:!1}}}),V=new D.Matrix4,W=new D.Matrix4,X=new D.Vector3;let K=!1,st="";if(G.root.boundingVolume?(G.root.header.boundingVolume.region&&console.warn("Cannot apply a model matrix to bounding volumes of type region. Tileset stays in original geo-coordinates."),W.setPosition(G.root.boundingVolume.center[0],G.root.boundingVolume.center[1],G.root.boundingVolume.center[2])):console.warn("Bounding volume not found, no transformations applied"),t.debug){const _t=_R(G.root);w.add(_t),p[G.root.id]=_t}let et=!1,it=!1;_.rootCenter.value.copy(X),_.rootNormal.value.copy(new D.Vector3(0,0,1).normalize()),G.stats.get("Loader concurrency").count=t.maxConcurrency,G.stats.get("Maximum mem usage").count=t.maximumMemoryUsage;let ot=0,ht=null,vt=!0,Ct=null;const wt=new D.Vector3(1/0,1/0,1/0);let mt=null;I.updateMatrixWorld(!0);const Rt=new D.Matrix4().copy(I.matrixWorld),Mt=new D.Matrix4().copy(Rt).invert();function Bt(_t){if(!_t.boundingVolume.halfAxes)return;const zt=_t.boundingVolume.halfAxes,Ft=new D.Matrix4().extractRotation(X2(zt)).premultiply(new D.Matrix4().extractRotation(Mt));if(!new D.Euler().setFromRotationMatrix(Ft).equals(new D.Euler)){K=!0;const qt=new D.Vector3(W.elements[12],W.elements[13],W.elements[14]);W.extractRotation(Ft),W.setPosition(qt)}at()}function at(){V.copy(Rt),t.resetTransform&&V.multiply(new D.Matrix4().copy(W).invert()),G.modelMatrix=new Ys(V.toArray())}function kt(_t,zt,Ft,qt){if(et||!qt)return;mt||(mt=new Sb({fov:qt.fov/180*Math.PI,aspectRatio:qt.aspect,near:qt.near,far:qt.far}).sseDenominator,t.debug&&console.log("Updated sse denonimator:",mt));const Gt=wR(qt).planes.map(Te=>new ca(Te.normal.toArray(),Te.constant)),ge=new gu(Gt),Fe={camera:{position:wt.toArray()},height:Ft.height*Ft.devicePixelRatio,frameNumber:_t._frameNumber,sseDenominator:mt,cullingVolume:ge,viewport:{id:0}};_t._cache.reset(),_t._traverser.traverse(_t.root,Fe,_t.options);for(const Te of _t.tiles)Te.selected?zt[Te.id]?zt[Te.id].visible=!0:console.error("TILE SELECTED BUT NOT LOADED!!",Te.id):zt[Te.id]&&(zt[Te.id].visible=!1);for(;m.length>0;){const Te=m.pop();zt[Te.id]&&Te.contentState==HA&&(I.remove(zt[Te.id]),C(zt[Te.id]),delete zt[Te.id]),p[Te.id]&&(C(p[Te.id]),w.remove(p[Te.id]),delete p[Te.id])}const ee=_t.stats.get("Tiles Loaded").count,pn=_t.stats.get("Tiles Loading").count;return e.onProgress&&e.onProgress(ee,ee+pn),e.loadingManager&&!it&&pn==0&&(t.preloadTilesCount==null||ee>=t.preloadTilesCount)&&(it=!0,e.loadingManager.itemEnd(e.url)),Fe}return t.resetTransform&&Bt(G.root),t.debug&&(p[G.root.id].applyMatrix4(V),w.matrixWorld.copy(I.matrixWorld)),{model:I,runtime:{getTileset:()=>G,getStats:()=>G.stats,getDataAttributions:()=>st,showTiles:_t=>{w.visible=_t},setWireframe:_t=>{t.wireframe=_t,I.traverse(zt=>{zt instanceof D.Mesh&&(zt.material.wireframe=_t)})},setDebug:_t=>{t.debug=_t,w.visible=_t},setShading:_t=>{t.shading=_t},getTileBoxes:()=>w,setViewDistanceScale:_t=>{G.options.viewDistanceScale=_t,G._frameNumber++,kt(G,f,r,Ct)},setMaximumScreenSpaceError:_t=>{G.options.maximumScreenSpaceError=_t,G._frameNumber++,kt(G,f,r,Ct)},setHideGround:_t=>{_.hideGround.value=_t},setPointCloudColoring:_t=>{_.coloring.value=_t},setElevationRange:_t=>{_.elevationRange.value.set(_t[0],_t[1])},setMaxIntensity:_t=>{_.maxIntensity.value=_t},setIntensityContrast:_t=>{_.intensityContrast.value=_t},setPointAlpha:_t=>{_.alpha.value=_t},getLatLongHeightFromPosition:_t=>{const zt=G.ellipsoid.cartesianToCartographic(new D.Vector3().copy(_t).applyMatrix4(new D.Matrix4().copy(V).invert()).toArray());return{lat:zt[1],long:zt[0],height:zt[2]}},getPositionFromLatLongHeight:_t=>{const zt=G.ellipsoid.cartographicToCartesian([_t.long,_t.lat,_t.height]);return new D.Vector3(...zt).applyMatrix4(V)},orientToGeocoord:_t=>{const zt=[_t.long,_t.lat,_t.height],Ft=G.ellipsoid.cartographicToCartesian(zt),qt=new D.Matrix4().fromArray(G.ellipsoid.eastNorthUpToFixedFrame(Ft)),Gt=new D.Matrix4().makeRotationFromEuler(new D.Euler(Math.PI/2,Math.PI/2,0));(function(ge){const Fe=new D.Vector3,ee=new D.Quaternion,pn=new D.Vector3;ge.decompose(Fe,ee,pn),I.position.copy(Fe),I.quaternion.copy(ee),I.scale.copy(pn),I.updateMatrix(),I.updateMatrixWorld(!0),Rt.copy(I.matrixWorld),Mt.copy(Rt).invert(),at()})(new D.Matrix4().copy(qt).multiply(Gt).invert())},getWebMercatorCoord:_t=>function(zt,Ft){const qt=2*Math.PI*6378137/2,Gt=Ft*qt/180;let ge=Math.log(Math.tan((90+zt)*Math.PI/360))/(Math.PI/180);return ge=ge*qt/180,new D.Vector2(Gt,ge)}(_t.lat,_t.long),getCameraFrustum:_t=>{const zt=wR(_t).planes.map(qt=>new ca(qt.normal.toArray(),qt.constant)).map(qt=>function(Gt){const ge=new D.Group,Fe=new D.PlaneGeometry(10,5),ee=new D.Vector3(...Gt.projectPointOntoPlane([0,0,0])),pn=new D.Vector3(Gt.normal.x,Gt.normal.y,Gt.normal.z),Te=new D.Vector3().copy(ee).add(pn);Fe.lookAt(Te),Fe.translate(ee.x,ee.y,ee.z);const Wt=new D.MeshBasicMaterial({color:65535,side:D.DoubleSide}),Ot=new D.Mesh(Fe,Wt),ue=new D.ArrowHelper(pn,ee,5,16776960);return ge.add(ue),ge.add(Ot),ge}(qt)),Ft=new D.Group;for(const qt of zt)Ft.add(qt);return Ft},overlayGeoJSON:(_t,zt)=>{if(_t.applyMatrix4(V),_t.updateMatrixWorld(),!o)throw new Error("GeoJSON draping requires a renderer reference via LoaderProps");return function(Ft,qt,Gt,ge=BR){Rl&&Rl.dispose(),_h||(_h=Gt);const Fe={...BR,...ge};Rl=new D.WebGLRenderTarget(Ft.width*Ft.devicePixelRatio,Ft.height*Ft.devicePixelRatio),Rl.texture.minFilter=D.NearestFilter,Rl.texture.magFilter=D.NearestFilter,Rl.stencilBuffer=!1,Rl.texture.format=D.RGBAFormat,Rl.texture.type=D.FloatType,_h.setPixelRatio(devicePixelRatio),_h.setSize(Ft.width,Ft.height),_h.setRenderTarget(Rl),qp=new D.Scene,qp.overrideMaterial=O_,Ar=qt,qf.uniforms.tPosition.value=Rl.texture,qf.uniforms.minHeight.value=Fe.minHeight,qf.uniforms.maxHeight.value=Fe.maxHeight,qf.uniforms.samples.value=Fe.samples,qf.uniforms.sampleStep.value=Fe.sampleStep,qf.uniforms.opacity.value=Fe.opacity,qf.blending=Fe.blendingType}(r,I,o,zt),_t.material.dispose(),_t.material=qf,_t},setViewport:_t=>{r=_t,mt=null,vt=!0,Rl&&function(zt){Rl.setSize(zt.width*zt.devicePixelRatio,zt.height*zt.devicePixelRatio),_h.setPixelRatio(devicePixelRatio),_h.setSize(zt.width,zt.height)}(r)},setRenderer:_t=>{o=_t},update:function(_t,zt){if(Ct=zt,ot+=_t,Rl&&function(Ft){if(_h){const qt=Ar.parent;qp.add(Ar),_h.setRenderTarget(Rl),_h.render(qp,Ft),qt&&qt.add(Ar),_h.setRenderTarget(null)}}(zt),G&&ot>=l){if(!Rt.equals(I.matrixWorld)){ot=0,Rt.copy(I.matrixWorld),t.updateTransforms&&at();const Ft=new D.Vector3().setFromMatrixPosition(Rt);_.rootCenter.value.copy(Ft),_.rootNormal.value.copy(new D.Vector3(0,0,1).applyMatrix4(Rt).normalize()),Mt.copy(Rt).invert(),t.debug&&(p[G.root.id].matrixWorld.copy(V),p[G.root.id].applyMatrix4(Rt))}ht==null?ht=new D.Matrix4().copy(zt.matrixWorld):(vt||function(Ft,qt){return!Ft.matrixWorld.equals(qt)}(zt,ht))&&(ot=0,vt=!1,G._frameNumber++,zt.getWorldPosition(wt),ht.copy(zt.matrixWorld),kt(G,f,r,zt))}},dispose:function(){for(et=!0,G._destroy();I.children.length>0;){const _t=I.children[0];C(_t),I.remove(_t)}for(;w.children.length>0;){const _t=w.children[0];w.remove(_t),_t.geometry.dispose(),_t.material.dispose()}S&&S.dispose(),k&&k.dispose()}}}}static async loadGeoJSON(e){const{url:t,height:n,featureToColor:r}=e;return ty(t,Kf,{worker:!1,gis:{format:"binary"}}).then(o=>{const l=o,c=new D.BufferGeometry,h=l.polygons.positions.value.reduce((p,m,I,w)=>{if(I%2==0){const _=[m,w[I+1],n??0],b=Zs.WGS84.cartographicToCartesian(_);p.push(...b)}return p},[]);if(c.setAttribute("position",new D.Float32BufferAttribute(h,3)),r){const p=l.polygons.numericProps[r.feature].value.reduce((m,I,w,_)=>{const b=r.colorMap(I);return m[3*w]=b.r,m[3*w+1]=b.g,m[3*w+2]=b.b,m},[]);c.setAttribute("color",new D.Float32BufferAttribute(p,3))}c.setIndex(new D.BufferAttribute(l.polygons.triangles.value,1));const f=new D.MeshBasicMaterial({transparent:!0,vertexColors:!0,opacity:.5,blending:D.NormalBlending});return new D.Mesh(c,f)})}};function vR(e){var t,n,r,o;(t=e==null?void 0:e.uniforms)!=null&&t.map?(r=(n=e==null?void 0:e.uniforms)==null?void 0:n.map.value)==null||r.dispose():e.map&&((o=e.map)==null||o.dispose()),e.dispose()}function C(e){e.traverse(t=>{if(t.isMesh)if(t.geometry.dispose(),t.material.isMaterial)vR(t.material);else for(const n of t.material)vR(n)});for(let t=e.children.length-1;t>=0;t--){const n=e.children[t];e.remove(n)}}var i=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};class a extends Ip{constructor(t){if(super(t),this.opts=null,this.model=null,this.ready=null,this.runtime=null,this.measure={mesh:null,modelJson:null,type:null},!t.animate)throw new Error("\u8BF7\u5148\u6CE8\u518C Animate \u63D2\u4EF6\uFF01")}init(t){return i(this,void 0,void 0,function*(){const{src:n,decoder:r,position:o=[0,0,0],measure:l,maximumScreenSpaceError:c=20,native:h={}}=t,f=Object.assign({resetTransform:!0,debug:!1,maximumScreenSpaceError:c,memoryAdjustedScreenSpaceError:!0,worker:!0},h);r&&(f.dracoDecoderPath=r.decoderPath||"http://nas.taiwu.tech:7000/tileset/draco/",f.basisTranscoderPath=r.transcoderPath||"http://nas.taiwu.tech:7000/tileset/draco/");const p=yield $9.load({url:n,viewport:{width:this.core.renderer.domElement.clientWidth,height:this.core.renderer.domElement.clientHeight,devicePixelRatio:window.devicePixelRatio},options:f}),{model:m,runtime:I}=p;this.ready&&this.ready(),m.position.set(...o),m.rotateX(-Math.PI/2),m.isCObject3D=!0,m.name="photog",this.model=m,this.runtime=I,this.core.scene.add(m),this.core.animate.register(Sf()+"_phohog",()=>{I.update(this.core.delta,this.core.camera)}),l&&this.openMeasure(l)})}openMeasure(t="dis"){return this.closeMeasure(),this.core.model?this.core.event?void(this.measure.type&&this.measure.type===t||(this.core.event.on(this.model,"click",t==="dis"?this.disMeasure.bind(this):this.areaMeasure.bind(this)),this.measure.type=t)):console.error("\u8BF7\u5148\u6CE8\u518C Event \u63D2\u4EF6\uFF01"):console.error("\u8BF7\u5148\u6CE8\u518C Model \u63D2\u4EF6\uFF01")}closeMeasure(){this.measure.type&&(this.measure.mesh&&this.core.removeObject3D(this.measure.mesh.name),this.measure={mesh:null,modelJson:null,type:null},this.core.event.off(this.model))}disMeasure(t){return i(this,void 0,void 0,function*(){this.measure.mesh&&this.core.removeObject3D(this.measure.mesh.name);const{x:n,y:r,z:o}=t.intersect.point,l=new D.Vector3(n,r,o),c=this.measure.modelJson?new D.Vector3(...this.measure.modelJson.children[0].children[this.measure.modelJson.children[0].children.length-1].position):l,h=l.distanceTo(c),f=(h+(this.measure.modelJson&&this.measure.modelJson.children[1]?this.measure.modelJson.children[1].userInfo.totalDis:0)).toFixed(2),p={type:"html",name:Sf()+"_html",position:[n,r,o],shape:{css3d:!1,el:`<span style='padding: 2px 5px; background: #fff; color: #000; font-size: 14px'>${h.toFixed(2)}m</span>`}};if(this.measure.modelJson){this.measure.modelJson.children[0].children.push(p);let m=[];this.measure.modelJson.children[0].children.forEach(w=>{m=m.concat(w.position)});const I={type:"line",name:Sf()+"_line",style:{color:65280,native:{linewidth:10}},shape:{points:m},userInfo:{totalDis:Number(f)}};this.measure.modelJson.children[1]?this.measure.modelJson.children[1]=I:this.measure.modelJson.children.push(I),this.measure.modelJson.children[2]={type:"html",name:Sf()+"_html",position:[n,r+.01,o],shape:{css3d:!1,el:`<span style='padding: 2px 5px; background: #f00; color: #fff; font-size: 14px'> ${h.toFixed(2)}m (total ${f}m)</span>`}}}else this.measure.modelJson={type:"group",children:[{type:"group",name:Sf()+"_points",children:[p]}],name:Sf()+"_measure"};this.measure.mesh=yield this.core.model.loadModel(this.measure.modelJson)})}areaMeasure(t){return i(this,void 0,void 0,function*(){console.log("\u6682\u672A\u5B9E\u73B0"+t)})}dispose(){this.closeMeasure(),this.model&&this.core.scene.remove(this.model),this.runtime&&this.runtime.dispose()}}a.PLUGIN_NAME="photog";var u=Object.defineProperty,d=(e,t,n)=>((r,o,l)=>o in r?u(r,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[o]=l)(e,typeof t!="symbol"?t+"":t,n);const E="chaoxuelei";class B extends D.LoadingManager{constructor(){super(...arguments),d(this,"onParseEnd")}parseEnd(t){this.onParseEnd&&this.onParseEnd(t)}}const M={manager:new B,demLoaderMap:new Map,imgLoaderMap:new Map,registerMaterialLoader(e){M.imgLoaderMap.set(e.dataType,e),e.info.author=e.info.author??E},registerGeometryLoader(e){M.demLoaderMap.set(e.dataType,e),e.info.author=e.info.author??E},getMaterialLoader(e){const t=M.imgLoaderMap.get(e.dataType);if(t)return t;throw`Source dataType "${e.dataType}" is not support!`},getGeometryLoader(e){const t=M.demLoaderMap.get(e.dataType);if(t)return t;throw`Source dataType "${e.dataType}" is not support!`}};function Q(e,t){return{sx:Math.floor(e[0]*t),sy:Math.floor(e[1]*t),sw:Math.floor((e[2]-e[0])*t),sh:Math.floor((e[3]-e[1])*t)}}function P(e,t,n,r){if(r<e.minLevel)return{url:void 0,clipBounds:[0,0,1,1]};if(r<=e.maxLevel)return{url:e._getUrl(t,n,r),clipBounds:[0,0,1,1]};const o=function(c,h,f,p){const m=f-p,I={x:c>>m,y:h>>m,z:f-m},w=Math.pow(2,m),_=Math.pow(.5,m),b=c%w/w-.5+_/2,T=h%w/w-.5+_/2,S=new D.Vector2(b,T),k=new D.Box2().setFromCenterAndSize(S,new D.Vector2(_,_)),F=[k.min.x+.5,k.min.y+.5,k.max.x+.5,k.max.y+.5];return{parentNO:I,bounds:F}}(t,n,r,e.maxLevel),l=o.parentNO;return{url:e._getUrl(l.x,l.y,l.z),clipBounds:o.bounds}}class O{constructor(){d(this,"_imgSource",[]),d(this,"_demSource"),d(this,"manager",M.manager)}get imgSource(){return this._imgSource}set imgSource(t){this._imgSource=t}get demSource(){return this._demSource}set demSource(t){this._demSource=t}async load(t){const n=await this.loadGeometry(t),r=await this.loadMaterial(t);console.assert(!!r&&!!n);for(let o=0;o<r.length;o++)n.addGroup(0,1/0,o);return{materials:r,geometry:n}}unload(t){const n=t.material,r=t.geometry;for(let o=0;o<n.length;o++)n[o].dispose();r.dispose()}async loadGeometry(t){let n;if(this.demSource&&t.z>=this.demSource.minLevel&&this._isBoundsInSourceBounds(this.demSource,t.bounds)){const r=M.getGeometryLoader(this.demSource),o=this.demSource;n=await r.load({source:o,...t}).catch(l=>(console.error("Load material error",o.dataType,t.x,t.y,t.z),new D.PlaneGeometry)),n.addEventListener("dispose",()=>{r.unload&&r.unload(n)})}else n=new D.PlaneGeometry;return n}async loadMaterial(t){const n=this.imgSource.filter(r=>t.z>=r.minLevel&&this._isBoundsInSourceBounds(r,t.bounds)).map(async r=>{const o=M.getMaterialLoader(r),l=await o.load({source:r,...t}).catch(h=>(console.error("Load material error",r.dataType,t.x,t.y,t.z),new D.MeshBasicMaterial)),c=h=>{o.unload&&o.unload(h.target),h.target.removeEventListener("dispose",c)};return l instanceof D.MeshBasicMaterial||l.addEventListener("dispose",c),l});return Promise.all(n)}_isBoundsInSourceBounds(t,n){const r=t._projectionBounds;return!(n[2]<r[0]||n[3]<r[1]||n[0]>r[2]||n[1]>r[3])}}function H(...e){const t=e,n=t&&t.length>1&&t[0].constructor||null;if(!n)throw new Error("concatenateTypedArrays - incorrect quantity of arguments or arguments have incompatible data types");const r=t.reduce((c,h)=>c+h.length,0),o=new n(r);let l=0;for(const c of t)o.set(c,l),l+=c.length;return o}function z(e,t,n,r){const o=function(m){const I=[],w=Array.isArray(m)?m:Array.from(m);for(let b=0;b<w.length;b+=3){const T=w[b],S=w[b+1],k=w[b+2];I.push([T,S],[S,k],[k,T])}I.sort(([b,T],[S,k])=>{const F=Math.min(b,T),N=Math.min(S,k);return F!==N?F-N:Math.max(b,T)-Math.max(S,k)});const _=[];for(let b=0;b<I.length;b++)b+1<I.length&&I[b][0]===I[b+1][1]&&I[b][1]===I[b+1][0]?b++:_.push(I[b]);return _}(t),l=o.length,c=new Float32Array(6*l),h=new Float32Array(4*l),f=new t.constructor(6*l),p=new Float32Array(6*l);for(let m=0;m<l;m++)J({edge:o[m],edgeIndex:m,attributes:e,skirtHeight:n,newPosition:c,newTexcoord0:h,newTriangles:f,newNormals:p});return e.position.value=H(e.position.value,c),e.texcoord.value=H(e.texcoord.value,h),e.normal.value=H(e.normal.value,p),{attributes:e,indices:H(t,f)}}function J({edge:e,edgeIndex:t,attributes:n,skirtHeight:r,newPosition:o,newTexcoord0:l,newTriangles:c,newNormals:h}){const f=n.position.value.length,p=2*t,m=p+1;o.set(n.position.value.subarray(3*e[0],3*e[0]+3),3*p),o[3*p+2]=o[3*p+2]-r,o.set(n.position.value.subarray(3*e[1],3*e[1]+3),3*m),o[3*m+2]=o[3*m+2]-r,l.set(n.texcoord.value.subarray(2*e[0],2*e[0]+2),2*p),l.set(n.texcoord.value.subarray(2*e[1],2*e[1]+2),2*m);const I=2*t*3;c[I]=e[0],c[I+1]=f/3+m,c[I+2]=e[1],c[I+3]=f/3+m,c[I+4]=e[0],c[I+5]=f/3+p,h[I]=0,h[I+1]=0,h[I+2]=1,h[I+3]=0,h[I+4]=0,h[I+5]=1}function j(e,t,n){const r=n*t,o=new Float32Array(3*r),l=new Float32Array(2*r);let c=0;for(let h=0;h<t;h++)for(let f=0;f<n;f++){const p=f/(n-1),m=h/(t-1);l[2*c]=p,l[2*c+1]=m,o[3*c]=p-.5,o[3*c+1]=m-.5,o[3*c+2]=e[(t-h-1)*n+f],c++}return{position:{value:o,size:3},texcoord:{value:l,size:2},normal:{value:q(o,nt(t,n)),size:3}}}function nt(e,t){const n=new Uint16Array(6*(t-1)*(e-1));let r=0;for(let o=0;o<e-1;o++)for(let l=0;l<t-1;l++){const c=o*t+l,h=c+1,f=c+t,p=f+1,m=6*r;n[m]=c,n[m+1]=h,n[m+2]=f,n[m+3]=f,n[m+4]=h,n[m+5]=p,r++}return n}function q(e,t){const n=new Float32Array(e.length);for(let r=0;r<t.length;r+=3){const o=3*t[r],l=3*t[r+1],c=3*t[r+2],h=e[o],f=e[o+1],p=e[o+2],m=e[l]-h,I=e[l+1]-f,w=e[l+2]-p,_=e[c]-h,b=e[c+1]-f,T=e[c+2]-p,S=I*T-w*b,k=w*_-m*T,F=m*b-I*_,N=Math.sqrt(S*S+k*k+F*F),G=[0,0,1];if(N>0){const V=1/N;G[0]=S*V,G[1]=k*V,G[2]=F*V}for(let V=0;V<3;V++)n[o+V]=n[l+V]=n[c+V]=G[V]}return n}class Z extends D.PlaneGeometry{constructor(){super(...arguments),d(this,"type","TileGeometry")}setData(t,n=1e3){let r=t instanceof Float32Array?function(c){if(c.length<4)throw new Error(`DEM array must > 4, got ${c.length}!`);const h=Math.floor(Math.sqrt(c.length)),f=h,p=h,m=nt(p,f);return{attributes:j(c,p,f),indices:m}}(t):t;r=z(r.attributes,r.indices,n);const{attributes:o,indices:l}=r;return this.setIndex(new D.BufferAttribute(l,1)),this.setAttribute("position",new D.BufferAttribute(o.position.value,o.position.size)),this.setAttribute("uv",new D.BufferAttribute(o.texcoord.value,o.texcoord.size)),this.setAttribute("normal",new D.BufferAttribute(o.normal.value,o.normal.size)),this.computeBoundingBox(),this.computeBoundingSphere(),this}}class ut{constructor(t=257){d(this,"gridSize"),d(this,"numTriangles"),d(this,"numParentTriangles"),d(this,"indices"),d(this,"coords"),this.gridSize=t;const n=t-1;if(n&n-1)throw new Error(`Expected grid size to be 2^n+1, got ${t}.`);this.numTriangles=n*n*2-2,this.numParentTriangles=this.numTriangles-n*n,this.indices=new Uint32Array(this.gridSize*this.gridSize),this.coords=new Uint16Array(4*this.numTriangles);for(let r=0;r<this.numTriangles;r++){let o=r+2,l=0,c=0,h=0,f=0,p=0,m=0;for(1&o?h=f=p=n:l=c=m=n;(o>>=1)>1;){const w=l+h>>1,_=c+f>>1;1&o?(h=l,f=c,l=p,c=m):(l=h,c=f,h=p,f=m),p=w,m=_}const I=4*r;this.coords[I+0]=l,this.coords[I+1]=c,this.coords[I+2]=h,this.coords[I+3]=f}}createTile(t){return new ct(t,this)}}class ct{constructor(t,n){d(this,"martini"),d(this,"terrain"),d(this,"errors");const r=n.gridSize;if(t.length!==r*r)throw new Error(`Expected terrain data of length ${r*r} (${r} x ${r}), got ${t.length}.`);this.terrain=t,this.martini=n,this.errors=new Float32Array(t.length),this.update()}update(){const{numTriangles:t,numParentTriangles:n,coords:r,gridSize:o}=this.martini,{terrain:l,errors:c}=this;for(let h=t-1;h>=0;h--){const f=4*h,p=r[f+0],m=r[f+1],I=r[f+2],w=r[f+3],_=p+I>>1,b=m+w>>1,T=_+b-m,S=b+p-_,k=(l[m*o+p]+l[w*o+I])/2,F=b*o+_,N=Math.abs(k-l[F]);if(c[F]=Math.max(c[F],N),h<n){const G=(m+S>>1)*o+(p+T>>1),V=(w+S>>1)*o+(I+T>>1);c[F]=Math.max(c[F],c[G],c[V])}}}getGeometryData(t=0){const{gridSize:n,indices:r}=this.martini,{errors:o}=this;let l=0,c=0;const h=n-1;let f,p,m=0;function I(k,F,N,G,V,W){const X=k+N>>1,K=F+G>>1;Math.abs(k-V)+Math.abs(F-W)>1&&o[K*n+X]>t?(I(V,W,k,F,X,K),I(N,G,V,W,X,K)):(f=F*n+k,p=G*n+N,m=W*n+V,r[f]===0&&(r[f]=++l),r[p]===0&&(r[p]=++l),r[m]===0&&(r[m]=++l),c++)}r.fill(0),I(0,0,h,h,h,0),I(h,h,0,0,0,h);const w=3*c,_=new Uint16Array(2*l),b=new Uint32Array(w);let T=0;function S(k,F,N,G,V,W){const X=k+N>>1,K=F+G>>1;if(Math.abs(k-V)+Math.abs(F-W)>1&&o[K*n+X]>t)S(V,W,k,F,X,K),S(N,G,V,W,X,K);else{const st=r[F*n+k]-1,et=r[G*n+N]-1,it=r[W*n+V]-1;_[2*st]=k,_[2*st+1]=F,_[2*et]=N,_[2*et+1]=G,_[2*it]=V,_[2*it+1]=W,b[T++]=st,b[T++]=et,b[T++]=it}}return S(0,0,h,h,h,0),S(h,h,0,0,0,h),{attributes:this._getMeshAttributes(this.terrain,_,b),indices:b}}_getMeshAttributes(t,n,r){const o=Math.floor(Math.sqrt(t.length)),l=o-1,c=n.length/2,h=new Float32Array(3*c),f=new Float32Array(2*c);for(let p=0;p<c;p++){const m=n[2*p],I=n[2*p+1],w=I*o+m;h[3*p+0]=m/l-.5,h[3*p+1]=.5-I/l,h[3*p+2]=t[w],f[2*p+0]=m/l,f[2*p+1]=1-I/l}return{position:{value:h,size:3},texcoord:{value:f,size:2},normal:{value:q(h,r),size:3}}}}let lt=class{constructor(){d(this,"info",{version:"0.10.0",description:"Terrain loader base class"}),d(this,"dataType","")}async load(e){const{source:t,x:n,y:r,z:o}=e,{url:l,clipBounds:c}=P(t,n,r,o);if(!l)return new Z;const h=await this.doLoad(l,{source:t,x:n,y:r,z:o,bounds:c});return M.manager.parseEnd(l),h}},Vt=class extends D.MeshStandardMaterial{constructor(e={}){super({transparent:!0,side:D.FrontSide,...e})}setTexture(e){this.map=e,this.needsUpdate=!0}dispose(){const e=this.map;e&&(e.image instanceof ImageBitmap&&e.image.close(),e.dispose())}};class Tt{constructor(){d(this,"info",{version:"0.10.0",description:"Image loader base class"}),d(this,"dataType","")}async load(t){const{source:n,x:r,y:o,z:l}=t,c=new Vt,{url:h,clipBounds:f}=P(n,r,o,l);if(h){const p=await this.doLoad(h,{source:n,x:r,y:o,z:l,bounds:f});c.map=p,M.manager.parseEnd(h)}return c}}(function(e){M.registerMaterialLoader(e)})(new class extends Tt{constructor(){super(...arguments),d(this,"info",{version:"0.10.0",description:"Tile image loader. It can load xyz tile image."}),d(this,"dataType","image"),d(this,"loader",new D.ImageLoader(M.manager))}async doLoad(e,t){const n=await this.loader.loadAsync(e).catch(l=>new Image(1,1)),r=new D.Texture;r.colorSpace=D.SRGBColorSpace;const{bounds:o}=t;return o[2]-o[0]<1?r.image=function(l,c){const h=l.width,f=new OffscreenCanvas(h,h),p=f.getContext("2d"),{sx:m,sy:I,sw:w,sh:_}=Q(c,l.width);return p.drawImage(l,m,I,w,_,0,0,h,h),f}(n,o):r.image=n,r.needsUpdate=!0,r}});let Qt=class{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const n=this.workersResolve[e];if(n&&n(t),this.queue.length){const{resolve:r,msg:o,transfer:l}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(o,l)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(n=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(e,t)):this.queue.push({resolve:n,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}};const Ut="dmFyIGNlPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgbWU9KGosWixxKT0+WiBpbiBqP2NlKGosWix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6cX0pOmpbWl09cTt2YXIgTj0oaixaLHEpPT5tZShqLHR5cGVvZiBaIT0ic3ltYm9sIj9aKyIiOloscSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGooQSxwKXtjb25zdCBrPW5ldyBGbG9hdDMyQXJyYXkoQS5sZW5ndGgpO2ZvcihsZXQgVT0wO1U8cC5sZW5ndGg7VSs9Myl7Y29uc3QgYT1wW1VdKjMsZT1wW1UrMV0qMyxyPXBbVSsyXSozLHM9QVthXSx0PUFbYSsxXSxuPUFbYSsyXSxoPUFbZV0saT1BW2UrMV0sbz1BW2UrMl0sYz1BW3JdLHU9QVtyKzFdLG09QVtyKzJdLHc9aC1zLGw9aS10LGY9by1uLGc9Yy1zLE09dS10LFY9bS1uLGQ9bCpWLWYqTSx5PWYqZy13KlYsST13Kk0tbCpnLHo9TWF0aC5zcXJ0KGQqZCt5KnkrSSpJKSx4PVswLDAsMV07aWYoej4wKXtjb25zdCB2PTEvejt4WzBdPWQqdix4WzFdPXkqdix4WzJdPUkqdn1mb3IobGV0IHY9MDt2PDM7disrKWtbYSt2XT1rW2Urdl09a1tyK3ZdPXhbdl19cmV0dXJuIGt9Y2xhc3MgWntjb25zdHJ1Y3RvcihwPTI1Nyl7Tih0aGlzLCJncmlkU2l6ZSIpO04odGhpcywibnVtVHJpYW5nbGVzIik7Tih0aGlzLCJudW1QYXJlbnRUcmlhbmdsZXMiKTtOKHRoaXMsImluZGljZXMiKTtOKHRoaXMsImNvb3JkcyIpO3RoaXMuZ3JpZFNpemU9cDtjb25zdCBrPXAtMTtpZihrJmstMSl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGdyaWQgc2l6ZSB0byBiZSAyXm4rMSwgZ290ICR7cH0uYCk7dGhpcy5udW1UcmlhbmdsZXM9ayprKjItMix0aGlzLm51bVBhcmVudFRyaWFuZ2xlcz10aGlzLm51bVRyaWFuZ2xlcy1rKmssdGhpcy5pbmRpY2VzPW5ldyBVaW50MzJBcnJheSh0aGlzLmdyaWRTaXplKnRoaXMuZ3JpZFNpemUpLHRoaXMuY29vcmRzPW5ldyBVaW50MTZBcnJheSh0aGlzLm51bVRyaWFuZ2xlcyo0KTtmb3IobGV0IFU9MDtVPHRoaXMubnVtVHJpYW5nbGVzO1UrKyl7bGV0IGE9VSsyLGU9MCxyPTAscz0wLHQ9MCxuPTAsaD0wO2ZvcihhJjE/cz10PW49azplPXI9aD1rOyhhPj49MSk+MTspe2NvbnN0IG89ZStzPj4xLGM9cit0Pj4xO2EmMT8ocz1lLHQ9cixlPW4scj1oKTooZT1zLHI9dCxzPW4sdD1oKSxuPW8saD1jfWNvbnN0IGk9VSo0O3RoaXMuY29vcmRzW2krMF09ZSx0aGlzLmNvb3Jkc1tpKzFdPXIsdGhpcy5jb29yZHNbaSsyXT1zLHRoaXMuY29vcmRzW2krM109dH19Y3JlYXRlVGlsZShwKXtyZXR1cm4gbmV3IHEocCx0aGlzKX19Y2xhc3MgcXtjb25zdHJ1Y3RvcihwLGspe04odGhpcywibWFydGluaSIpO04odGhpcywidGVycmFpbiIpO04odGhpcywiZXJyb3JzIik7Y29uc3QgVT1rLmdyaWRTaXplO2lmKHAubGVuZ3RoIT09VSpVKXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgdGVycmFpbiBkYXRhIG9mIGxlbmd0aCAke1UqVX0gKCR7VX0geCAke1V9KSwgZ290ICR7cC5sZW5ndGh9LmApO3RoaXMudGVycmFpbj1wLHRoaXMubWFydGluaT1rLHRoaXMuZXJyb3JzPW5ldyBGbG9hdDMyQXJyYXkocC5sZW5ndGgpLHRoaXMudXBkYXRlKCl9dXBkYXRlKCl7Y29uc3R7bnVtVHJpYW5nbGVzOnAsbnVtUGFyZW50VHJpYW5nbGVzOmssY29vcmRzOlUsZ3JpZFNpemU6YX09dGhpcy5tYXJ0aW5pLHt0ZXJyYWluOmUsZXJyb3JzOnJ9PXRoaXM7Zm9yKGxldCBzPXAtMTtzPj0wO3MtLSl7Y29uc3QgdD1zKjQsbj1VW3QrMF0saD1VW3QrMV0saT1VW3QrMl0sbz1VW3QrM10sYz1uK2k+PjEsdT1oK28+PjEsbT1jK3UtaCx3PXUrbi1jLGw9KGVbaCphK25dK2VbbyphK2ldKS8yLGY9dSphK2MsZz1NYXRoLmFicyhsLWVbZl0pO2lmKHJbZl09TWF0aC5tYXgocltmXSxnKSxzPGspe2NvbnN0IE09KGgrdz4+MSkqYSsobittPj4xKSxWPShvK3c+PjEpKmErKGkrbT4+MSk7cltmXT1NYXRoLm1heChyW2ZdLHJbTV0scltWXSl9fX1nZXRHZW9tZXRyeURhdGEocD0wKXtjb25zdHtncmlkU2l6ZTprLGluZGljZXM6VX09dGhpcy5tYXJ0aW5pLHtlcnJvcnM6YX09dGhpcztsZXQgZT0wLHI9MDtjb25zdCBzPWstMTtsZXQgdCxuLGg9MDtVLmZpbGwoMCk7ZnVuY3Rpb24gaShmLGcsTSxWLGQseSl7Y29uc3QgST1mK00+PjEsej1nK1Y+PjE7TWF0aC5hYnMoZi1kKStNYXRoLmFicyhnLXkpPjEmJmFbeiprK0ldPnA/KGkoZCx5LGYsZyxJLHopLGkoTSxWLGQseSxJLHopKToodD1nKmsrZixuPVYqaytNLGg9eSprK2QsVVt0XT09PTAmJihVW3RdPSsrZSksVVtuXT09PTAmJihVW25dPSsrZSksVVtoXT09PTAmJihVW2hdPSsrZSkscisrKX1pKDAsMCxzLHMscywwKSxpKHMscywwLDAsMCxzKTtjb25zdCBvPWUqMixjPXIqMyx1PW5ldyBVaW50MTZBcnJheShvKSxtPW5ldyBVaW50MzJBcnJheShjKTtsZXQgdz0wO2Z1bmN0aW9uIGwoZixnLE0sVixkLHkpe2NvbnN0IEk9ZitNPj4xLHo9ZytWPj4xO2lmKE1hdGguYWJzKGYtZCkrTWF0aC5hYnMoZy15KT4xJiZhW3oqaytJXT5wKWwoZCx5LGYsZyxJLHopLGwoTSxWLGQseSxJLHopO2Vsc2V7Y29uc3QgeD1VW2cqaytmXS0xLHY9VVtWKmsrTV0tMSxEPVVbeSprK2RdLTE7dVsyKnhdPWYsdVsyKngrMV09Zyx1WzIqdl09TSx1WzIqdisxXT1WLHVbMipEXT1kLHVbMipEKzFdPXksbVt3KytdPXgsbVt3KytdPXYsbVt3KytdPUR9fXJldHVybiBsKDAsMCxzLHMscywwKSxsKHMscywwLDAsMCxzKSx7YXR0cmlidXRlczp0aGlzLl9nZXRNZXNoQXR0cmlidXRlcyh0aGlzLnRlcnJhaW4sdSxtKSxpbmRpY2VzOm19fV9nZXRNZXNoQXR0cmlidXRlcyhwLGssVSl7Y29uc3QgYT1NYXRoLmZsb29yKE1hdGguc3FydChwLmxlbmd0aCkpLGU9YS0xLHI9ay5sZW5ndGgvMixzPW5ldyBGbG9hdDMyQXJyYXkociozKSx0PW5ldyBGbG9hdDMyQXJyYXkocioyKTtmb3IobGV0IGg9MDtoPHI7aCsrKXtjb25zdCBpPWtbaCoyXSxvPWtbaCoyKzFdLGM9byphK2k7c1szKmgrMF09aS9lLS41LHNbMypoKzFdPS41LW8vZSxzWzMqaCsyXT1wW2NdLHRbMipoKzBdPWkvZSx0WzIqaCsxXT0xLW8vZX1jb25zdCBuPWoocyxVKTtyZXR1cm57cG9zaXRpb246e3ZhbHVlOnMsc2l6ZTozfSx0ZXhjb29yZDp7dmFsdWU6dCxzaXplOjJ9LG5vcm1hbDp7dmFsdWU6bixzaXplOjN9fX19LyogQ29weXJpZ2h0IDIwMTUtMjAyMSBFc3JpLiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wIEBwcmVzZXJ2ZSAqL2NvbnN0IGVlPWZ1bmN0aW9uKCl7dmFyIEE9e307QS5kZWZhdWx0Tm9EYXRhVmFsdWU9LTM0MDI3OTk5Mzg3OTAxNDg0ZTIyLEEuZGVjb2RlPWZ1bmN0aW9uKHIscyl7cz1zfHx7fTt2YXIgdD1zLmVuY29kZWRNYXNrRGF0YXx8cy5lbmNvZGVkTWFza0RhdGE9PT1udWxsLG49YShyLHMuaW5wdXRPZmZzZXR8fDAsdCksaD1zLm5vRGF0YVZhbHVlIT09bnVsbD9zLm5vRGF0YVZhbHVlOkEuZGVmYXVsdE5vRGF0YVZhbHVlLGk9cChuLHMucGl4ZWxUeXBlfHxGbG9hdDMyQXJyYXkscy5lbmNvZGVkTWFza0RhdGEsaCxzLnJldHVybk1hc2spLG89e3dpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LHBpeGVsRGF0YTppLnJlc3VsdFBpeGVscyxtaW5WYWx1ZTppLm1pblZhbHVlLG1heFZhbHVlOm4ucGl4ZWxzLm1heFZhbHVlLG5vRGF0YVZhbHVlOmh9O3JldHVybiBpLnJlc3VsdE1hc2smJihvLm1hc2tEYXRhPWkucmVzdWx0TWFzaykscy5yZXR1cm5FbmNvZGVkTWFzayYmbi5tYXNrJiYoby5lbmNvZGVkTWFza0RhdGE9bi5tYXNrLmJpdHNldD9uLm1hc2suYml0c2V0Om51bGwpLHMucmV0dXJuRmlsZUluZm8mJihvLmZpbGVJbmZvPWsobikscy5jb21wdXRlVXNlZEJpdERlcHRocyYmKG8uZmlsZUluZm8uYml0RGVwdGhzPVUobikpKSxvfTt2YXIgcD1mdW5jdGlvbihyLHMsdCxuLGgpe3ZhciBpPTAsbz1yLnBpeGVscy5udW1CbG9ja3NYLGM9ci5waXhlbHMubnVtQmxvY2tzWSx1PU1hdGguZmxvb3Ioci53aWR0aC9vKSxtPU1hdGguZmxvb3Ioci5oZWlnaHQvYyksdz0yKnIubWF4WkVycm9yLGw9TnVtYmVyLk1BWF9WQUxVRSxmO3Q9dHx8KHIubWFzaz9yLm1hc2suYml0c2V0Om51bGwpO3ZhciBnLE07Zz1uZXcgcyhyLndpZHRoKnIuaGVpZ2h0KSxoJiZ0JiYoTT1uZXcgVWludDhBcnJheShyLndpZHRoKnIuaGVpZ2h0KSk7Zm9yKHZhciBWPW5ldyBGbG9hdDMyQXJyYXkodSptKSxkLHksST0wO0k8PWM7SSsrKXt2YXIgej1JIT09Yz9tOnIuaGVpZ2h0JWM7aWYoeiE9PTApZm9yKHZhciB4PTA7eDw9bzt4Kyspe3ZhciB2PXghPT1vP3U6ci53aWR0aCVvO2lmKHYhPT0wKXt2YXIgRD1JKnIud2lkdGgqbSt4KnUsVD1yLndpZHRoLXYsUz1yLnBpeGVscy5ibG9ja3NbaV0sQixMLEY7Uy5lbmNvZGluZzwyPyhTLmVuY29kaW5nPT09MD9CPVMucmF3RGF0YTooZShTLnN0dWZmZWREYXRhLFMuYml0c1BlclBpeGVsLFMubnVtVmFsaWRQaXhlbHMsUy5vZmZzZXQsdyxWLHIucGl4ZWxzLm1heFZhbHVlKSxCPVYpLEw9MCk6Uy5lbmNvZGluZz09PTI/Rj0wOkY9Uy5vZmZzZXQ7dmFyIGI7aWYodClmb3IoeT0wO3k8ejt5Kyspe2ZvcihEJjcmJihiPXRbRD4+M10sYjw8PUQmNyksZD0wO2Q8djtkKyspRCY3fHwoYj10W0Q+PjNdKSxiJjEyOD8oTSYmKE1bRF09MSksZj1TLmVuY29kaW5nPDI/QltMKytdOkYsbD1sPmY/ZjpsLGdbRCsrXT1mKTooTSYmKE1bRF09MCksZ1tEKytdPW4pLGI8PD0xO0QrPVR9ZWxzZSBpZihTLmVuY29kaW5nPDIpZm9yKHk9MDt5PHo7eSsrKXtmb3IoZD0wO2Q8djtkKyspZj1CW0wrK10sbD1sPmY/ZjpsLGdbRCsrXT1mO0QrPVR9ZWxzZSBmb3IobD1sPkY/RjpsLHk9MDt5PHo7eSsrKXtmb3IoZD0wO2Q8djtkKyspZ1tEKytdPUY7RCs9VH1pZihTLmVuY29kaW5nPT09MSYmTCE9PVMubnVtVmFsaWRQaXhlbHMpdGhyb3ciQmxvY2sgYW5kIE1hc2sgZG8gbm90IG1hdGNoIjtpKyt9fX1yZXR1cm57cmVzdWx0UGl4ZWxzOmcscmVzdWx0TWFzazpNLG1pblZhbHVlOmx9fSxrPWZ1bmN0aW9uKHIpe3JldHVybntmaWxlSWRlbnRpZmllclN0cmluZzpyLmZpbGVJZGVudGlmaWVyU3RyaW5nLGZpbGVWZXJzaW9uOnIuZmlsZVZlcnNpb24saW1hZ2VUeXBlOnIuaW1hZ2VUeXBlLGhlaWdodDpyLmhlaWdodCx3aWR0aDpyLndpZHRoLG1heFpFcnJvcjpyLm1heFpFcnJvcixlb2ZPZmZzZXQ6ci5lb2ZPZmZzZXQsbWFzazpyLm1hc2s/e251bUJsb2Nrc1g6ci5tYXNrLm51bUJsb2Nrc1gsbnVtQmxvY2tzWTpyLm1hc2subnVtQmxvY2tzWSxudW1CeXRlczpyLm1hc2subnVtQnl0ZXMsbWF4VmFsdWU6ci5tYXNrLm1heFZhbHVlfTpudWxsLHBpeGVsczp7bnVtQmxvY2tzWDpyLnBpeGVscy5udW1CbG9ja3NYLG51bUJsb2Nrc1k6ci5waXhlbHMubnVtQmxvY2tzWSxudW1CeXRlczpyLnBpeGVscy5udW1CeXRlcyxtYXhWYWx1ZTpyLnBpeGVscy5tYXhWYWx1ZSxub0RhdGFWYWx1ZTpyLm5vRGF0YVZhbHVlfX19LFU9ZnVuY3Rpb24ocil7Zm9yKHZhciBzPXIucGl4ZWxzLm51bUJsb2Nrc1gqci5waXhlbHMubnVtQmxvY2tzWSx0PXt9LG49MDtuPHM7bisrKXt2YXIgaD1yLnBpeGVscy5ibG9ja3Nbbl07aC5lbmNvZGluZz09PTA/dC5mbG9hdDMyPSEwOmguZW5jb2Rpbmc9PT0xP3RbaC5iaXRzUGVyUGl4ZWxdPSEwOnRbMF09ITB9cmV0dXJuIE9iamVjdC5rZXlzKHQpfSxhPWZ1bmN0aW9uKHIscyx0KXt2YXIgbj17fSxoPW5ldyBVaW50OEFycmF5KHIscywxMCk7aWYobi5maWxlSWRlbnRpZmllclN0cmluZz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaCksbi5maWxlSWRlbnRpZmllclN0cmluZy50cmltKCkhPT0iQ250WkltYWdlIil0aHJvdyJVbmV4cGVjdGVkIGZpbGUgaWRlbnRpZmllciBzdHJpbmc6ICIrbi5maWxlSWRlbnRpZmllclN0cmluZztzKz0xMDt2YXIgaT1uZXcgRGF0YVZpZXcocixzLDI0KTtpZihuLmZpbGVWZXJzaW9uPWkuZ2V0SW50MzIoMCwhMCksbi5pbWFnZVR5cGU9aS5nZXRJbnQzMig0LCEwKSxuLmhlaWdodD1pLmdldFVpbnQzMig4LCEwKSxuLndpZHRoPWkuZ2V0VWludDMyKDEyLCEwKSxuLm1heFpFcnJvcj1pLmdldEZsb2F0NjQoMTYsITApLHMrPTI0LCF0KWlmKGk9bmV3IERhdGFWaWV3KHIscywxNiksbi5tYXNrPXt9LG4ubWFzay5udW1CbG9ja3NZPWkuZ2V0VWludDMyKDAsITApLG4ubWFzay5udW1CbG9ja3NYPWkuZ2V0VWludDMyKDQsITApLG4ubWFzay5udW1CeXRlcz1pLmdldFVpbnQzMig4LCEwKSxuLm1hc2subWF4VmFsdWU9aS5nZXRGbG9hdDMyKDEyLCEwKSxzKz0xNixuLm1hc2subnVtQnl0ZXM+MCl7dmFyIG89bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKG4ud2lkdGgqbi5oZWlnaHQvOCkpO2k9bmV3IERhdGFWaWV3KHIscyxuLm1hc2subnVtQnl0ZXMpO3ZhciBjPWkuZ2V0SW50MTYoMCwhMCksdT0yLG09MDtkb3tpZihjPjApZm9yKDtjLS07KW9bbSsrXT1pLmdldFVpbnQ4KHUrKyk7ZWxzZXt2YXIgdz1pLmdldFVpbnQ4KHUrKyk7Zm9yKGM9LWM7Yy0tOylvW20rK109d31jPWkuZ2V0SW50MTYodSwhMCksdSs9Mn13aGlsZSh1PG4ubWFzay5udW1CeXRlcyk7aWYoYyE9PS0zMjc2OHx8bTxvLmxlbmd0aCl0aHJvdyJVbmV4cGVjdGVkIGVuZCBvZiBtYXNrIFJMRSBlbmNvZGluZyI7bi5tYXNrLmJpdHNldD1vLHMrPW4ubWFzay5udW1CeXRlc31lbHNlIG4ubWFzay5udW1CeXRlc3xuLm1hc2subnVtQmxvY2tzWXxuLm1hc2subWF4VmFsdWV8fChuLm1hc2suYml0c2V0PW5ldyBVaW50OEFycmF5KE1hdGguY2VpbChuLndpZHRoKm4uaGVpZ2h0LzgpKSk7aT1uZXcgRGF0YVZpZXcocixzLDE2KSxuLnBpeGVscz17fSxuLnBpeGVscy5udW1CbG9ja3NZPWkuZ2V0VWludDMyKDAsITApLG4ucGl4ZWxzLm51bUJsb2Nrc1g9aS5nZXRVaW50MzIoNCwhMCksbi5waXhlbHMubnVtQnl0ZXM9aS5nZXRVaW50MzIoOCwhMCksbi5waXhlbHMubWF4VmFsdWU9aS5nZXRGbG9hdDMyKDEyLCEwKSxzKz0xNjt2YXIgbD1uLnBpeGVscy5udW1CbG9ja3NYLGY9bi5waXhlbHMubnVtQmxvY2tzWSxnPWwrKG4ud2lkdGglbD4wPzE6MCksTT1mKyhuLmhlaWdodCVmPjA/MTowKTtuLnBpeGVscy5ibG9ja3M9bmV3IEFycmF5KGcqTSk7Zm9yKHZhciBWPTAsZD0wO2Q8TTtkKyspZm9yKHZhciB5PTA7eTxnO3krKyl7dmFyIEk9MCx6PXIuYnl0ZUxlbmd0aC1zO2k9bmV3IERhdGFWaWV3KHIscyxNYXRoLm1pbigxMCx6KSk7dmFyIHg9e307bi5waXhlbHMuYmxvY2tzW1YrK109eDt2YXIgdj1pLmdldFVpbnQ4KDApO2lmKEkrKyx4LmVuY29kaW5nPXYmNjMseC5lbmNvZGluZz4zKXRocm93IkludmFsaWQgYmxvY2sgZW5jb2RpbmcgKCIreC5lbmNvZGluZysiKSI7aWYoeC5lbmNvZGluZz09PTIpe3MrKztjb250aW51ZX1pZih2IT09MCYmdiE9PTIpe2lmKHY+Pj02LHgub2Zmc2V0VHlwZT12LHY9PT0yKXgub2Zmc2V0PWkuZ2V0SW50OCgxKSxJKys7ZWxzZSBpZih2PT09MSl4Lm9mZnNldD1pLmdldEludDE2KDEsITApLEkrPTI7ZWxzZSBpZih2PT09MCl4Lm9mZnNldD1pLmdldEZsb2F0MzIoMSwhMCksSSs9NDtlbHNlIHRocm93IkludmFsaWQgYmxvY2sgb2Zmc2V0IHR5cGUiO2lmKHguZW5jb2Rpbmc9PT0xKWlmKHY9aS5nZXRVaW50OChJKSxJKysseC5iaXRzUGVyUGl4ZWw9diY2Myx2Pj49Nix4Lm51bVZhbGlkUGl4ZWxzVHlwZT12LHY9PT0yKXgubnVtVmFsaWRQaXhlbHM9aS5nZXRVaW50OChJKSxJKys7ZWxzZSBpZih2PT09MSl4Lm51bVZhbGlkUGl4ZWxzPWkuZ2V0VWludDE2KEksITApLEkrPTI7ZWxzZSBpZih2PT09MCl4Lm51bVZhbGlkUGl4ZWxzPWkuZ2V0VWludDMyKEksITApLEkrPTQ7ZWxzZSB0aHJvdyJJbnZhbGlkIHZhbGlkIHBpeGVsIGNvdW50IHR5cGUifWlmKHMrPUkseC5lbmNvZGluZyE9PTMpe3ZhciBELFQ7aWYoeC5lbmNvZGluZz09PTApe3ZhciBTPShuLnBpeGVscy5udW1CeXRlcy0xKS80O2lmKFMhPT1NYXRoLmZsb29yKFMpKXRocm93InVuY29tcHJlc3NlZCBibG9jayBoYXMgaW52YWxpZCBsZW5ndGgiO0Q9bmV3IEFycmF5QnVmZmVyKFMqNCksVD1uZXcgVWludDhBcnJheShEKSxULnNldChuZXcgVWludDhBcnJheShyLHMsUyo0KSk7dmFyIEI9bmV3IEZsb2F0MzJBcnJheShEKTt4LnJhd0RhdGE9QixzKz1TKjR9ZWxzZSBpZih4LmVuY29kaW5nPT09MSl7dmFyIEw9TWF0aC5jZWlsKHgubnVtVmFsaWRQaXhlbHMqeC5iaXRzUGVyUGl4ZWwvOCksRj1NYXRoLmNlaWwoTC80KTtEPW5ldyBBcnJheUJ1ZmZlcihGKjQpLFQ9bmV3IFVpbnQ4QXJyYXkoRCksVC5zZXQobmV3IFVpbnQ4QXJyYXkocixzLEwpKSx4LnN0dWZmZWREYXRhPW5ldyBVaW50MzJBcnJheShEKSxzKz1MfX19cmV0dXJuIG4uZW9mT2Zmc2V0PXMsbn0sZT1mdW5jdGlvbihyLHMsdCxuLGgsaSxvKXt2YXIgYz0oMTw8cyktMSx1PTAsbSx3PTAsbCxmLGc9TWF0aC5jZWlsKChvLW4pL2gpLE09ci5sZW5ndGgqNC1NYXRoLmNlaWwocyp0LzgpO2ZvcihyW3IubGVuZ3RoLTFdPDw9OCpNLG09MDttPHQ7bSsrKXtpZih3PT09MCYmKGY9clt1KytdLHc9MzIpLHc+PXMpbD1mPj4+dy1zJmMsdy09cztlbHNle3ZhciBWPXMtdztsPShmJmMpPDxWJmMsZj1yW3UrK10sdz0zMi1WLGwrPWY+Pj53fWlbbV09bDxnP24rbCpoOm99cmV0dXJuIGl9O3JldHVybiBBfSgpLHJlPWZ1bmN0aW9uKCl7dmFyIEE9e3Vuc3R1ZmY6ZnVuY3Rpb24oYSxlLHIscyx0LG4saCxpKXt2YXIgbz0oMTw8ciktMSxjPTAsdSxtPTAsdyxsLGYsZyxNPWEubGVuZ3RoKjQtTWF0aC5jZWlsKHIqcy84KTtpZihhW2EubGVuZ3RoLTFdPDw9OCpNLHQpZm9yKHU9MDt1PHM7dSsrKW09PT0wJiYobD1hW2MrK10sbT0zMiksbT49cj8odz1sPj4+bS1yJm8sbS09cik6KGY9ci1tLHc9KGwmbyk8PGYmbyxsPWFbYysrXSxtPTMyLWYsdys9bD4+Pm0pLGVbdV09dFt3XTtlbHNlIGZvcihnPU1hdGguY2VpbCgoaS1uKS9oKSx1PTA7dTxzO3UrKyltPT09MCYmKGw9YVtjKytdLG09MzIpLG0+PXI/KHc9bD4+Pm0tciZvLG0tPXIpOihmPXItbSx3PShsJm8pPDxmJm8sbD1hW2MrK10sbT0zMi1mLHcrPWw+Pj5tKSxlW3VdPXc8Zz9uK3cqaDppfSx1bnN0dWZmTFVUOmZ1bmN0aW9uKGEsZSxyLHMsdCxuKXt2YXIgaD0oMTw8ZSktMSxpPTAsbz0wLGM9MCx1PTAsbT0wLHcsbD1bXSxmPWEubGVuZ3RoKjQtTWF0aC5jZWlsKGUqci84KTthW2EubGVuZ3RoLTFdPDw9OCpmO3ZhciBnPU1hdGguY2VpbCgobi1zKS90KTtmb3Iobz0wO288cjtvKyspdT09PTAmJih3PWFbaSsrXSx1PTMyKSx1Pj1lPyhtPXc+Pj51LWUmaCx1LT1lKTooYz1lLXUsbT0odyZoKTw8YyZoLHc9YVtpKytdLHU9MzItYyxtKz13Pj4+dSksbFtvXT1tPGc/cyttKnQ6bjtyZXR1cm4gbC51bnNoaWZ0KHMpLGx9LHVuc3R1ZmYyOmZ1bmN0aW9uKGEsZSxyLHMsdCxuLGgsaSl7dmFyIG89KDE8PHIpLTEsYz0wLHUsbT0wLHc9MCxsLGYsZztpZih0KWZvcih1PTA7dTxzO3UrKyltPT09MCYmKGY9YVtjKytdLG09MzIsdz0wKSxtPj1yPyhsPWY+Pj53Jm8sbS09cix3Kz1yKTooZz1yLW0sbD1mPj4+dyZvLGY9YVtjKytdLG09MzItZyxsfD0oZiYoMTw8ZyktMSk8PHItZyx3PWcpLGVbdV09dFtsXTtlbHNle3ZhciBNPU1hdGguY2VpbCgoaS1uKS9oKTtmb3IodT0wO3U8czt1KyspbT09PTAmJihmPWFbYysrXSxtPTMyLHc9MCksbT49cj8obD1mPj4+dyZvLG0tPXIsdys9cik6KGc9ci1tLGw9Zj4+PncmbyxmPWFbYysrXSxtPTMyLWcsbHw9KGYmKDE8PGcpLTEpPDxyLWcsdz1nKSxlW3VdPWw8TT9uK2wqaDppfXJldHVybiBlfSx1bnN0dWZmTFVUMjpmdW5jdGlvbihhLGUscixzLHQsbil7dmFyIGg9KDE8PGUpLTEsaT0wLG89MCxjPTAsdT0wLG09MCx3PTAsbCxmPVtdLGc9TWF0aC5jZWlsKChuLXMpL3QpO2ZvcihvPTA7bzxyO28rKyl1PT09MCYmKGw9YVtpKytdLHU9MzIsdz0wKSx1Pj1lPyhtPWw+Pj53JmgsdS09ZSx3Kz1lKTooYz1lLXUsbT1sPj4+dyZoLGw9YVtpKytdLHU9MzItYyxtfD0obCYoMTw8YyktMSk8PGUtYyx3PWMpLGZbb109bTxnP3MrbSp0Om47cmV0dXJuIGYudW5zaGlmdChzKSxmfSxvcmlnaW5hbFVuc3R1ZmY6ZnVuY3Rpb24oYSxlLHIscyl7dmFyIHQ9KDE8PHIpLTEsbj0wLGgsaT0wLG8sYyx1LG09YS5sZW5ndGgqNC1NYXRoLmNlaWwocipzLzgpO2ZvcihhW2EubGVuZ3RoLTFdPDw9OCptLGg9MDtoPHM7aCsrKWk9PT0wJiYoYz1hW24rK10saT0zMiksaT49cj8obz1jPj4+aS1yJnQsaS09cik6KHU9ci1pLG89KGMmdCk8PHUmdCxjPWFbbisrXSxpPTMyLXUsbys9Yz4+PmkpLGVbaF09bztyZXR1cm4gZX0sb3JpZ2luYWxVbnN0dWZmMjpmdW5jdGlvbihhLGUscixzKXt2YXIgdD0oMTw8ciktMSxuPTAsaCxpPTAsbz0wLGMsdSxtO2ZvcihoPTA7aDxzO2grKylpPT09MCYmKHU9YVtuKytdLGk9MzIsbz0wKSxpPj1yPyhjPXU+Pj5vJnQsaS09cixvKz1yKToobT1yLWksYz11Pj4+byZ0LHU9YVtuKytdLGk9MzItbSxjfD0odSYoMTw8bSktMSk8PHItbSxvPW0pLGVbaF09YztyZXR1cm4gZX19LHA9e0hVRkZNQU5fTFVUX0JJVFNfTUFYOjEyLGNvbXB1dGVDaGVja3N1bUZsZXRjaGVyMzI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBlPTY1NTM1LHI9NjU1MzUscz1hLmxlbmd0aCx0PU1hdGguZmxvb3Iocy8yKSxuPTA7dDspe3ZhciBoPXQ+PTM1OT8zNTk6dDt0LT1oO2RvIGUrPWFbbisrXTw8OCxyKz1lKz1hW24rK107d2hpbGUoLS1oKTtlPShlJjY1NTM1KSsoZT4+PjE2KSxyPShyJjY1NTM1KSsocj4+PjE2KX1yZXR1cm4gcyYxJiYocis9ZSs9YVtuXTw8OCksZT0oZSY2NTUzNSkrKGU+Pj4xNikscj0ociY2NTUzNSkrKHI+Pj4xNiksKHI8PDE2fGUpPj4+MH0scmVhZEhlYWRlckluZm86ZnVuY3Rpb24oYSxlKXt2YXIgcj1lLnB0cixzPW5ldyBVaW50OEFycmF5KGEsciw2KSx0PXt9O2lmKHQuZmlsZUlkZW50aWZpZXJTdHJpbmc9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHMpLHQuZmlsZUlkZW50aWZpZXJTdHJpbmcubGFzdEluZGV4T2YoIkxlcmMyIiwwKSE9PTApdGhyb3ciVW5leHBlY3RlZCBmaWxlIGlkZW50aWZpZXIgc3RyaW5nIChleHBlY3QgTGVyYzIgKTogIit0LmZpbGVJZGVudGlmaWVyU3RyaW5nO3IrPTY7dmFyIG49bmV3IERhdGFWaWV3KGEsciw4KSxoPW4uZ2V0SW50MzIoMCwhMCk7dC5maWxlVmVyc2lvbj1oLHIrPTQsaD49MyYmKHQuY2hlY2tzdW09bi5nZXRVaW50MzIoNCwhMCkscis9NCksbj1uZXcgRGF0YVZpZXcoYSxyLDEyKSx0LmhlaWdodD1uLmdldFVpbnQzMigwLCEwKSx0LndpZHRoPW4uZ2V0VWludDMyKDQsITApLHIrPTgsaD49ND8odC5udW1EaW1zPW4uZ2V0VWludDMyKDgsITApLHIrPTQpOnQubnVtRGltcz0xLG49bmV3IERhdGFWaWV3KGEsciw0MCksdC5udW1WYWxpZFBpeGVsPW4uZ2V0VWludDMyKDAsITApLHQubWljcm9CbG9ja1NpemU9bi5nZXRJbnQzMig0LCEwKSx0LmJsb2JTaXplPW4uZ2V0SW50MzIoOCwhMCksdC5pbWFnZVR5cGU9bi5nZXRJbnQzMigxMiwhMCksdC5tYXhaRXJyb3I9bi5nZXRGbG9hdDY0KDE2LCEwKSx0LnpNaW49bi5nZXRGbG9hdDY0KDI0LCEwKSx0LnpNYXg9bi5nZXRGbG9hdDY0KDMyLCEwKSxyKz00MCxlLmhlYWRlckluZm89dCxlLnB0cj1yO3ZhciBpLG87aWYoaD49MyYmKG89aD49ND81Mjo0OCxpPXRoaXMuY29tcHV0ZUNoZWNrc3VtRmxldGNoZXIzMihuZXcgVWludDhBcnJheShhLHItbyx0LmJsb2JTaXplLTE0KSksaSE9PXQuY2hlY2tzdW0pKXRocm93IkNoZWNrc3VtIGZhaWxlZC4iO3JldHVybiEwfSxjaGVja01pbk1heFJhbmdlczpmdW5jdGlvbihhLGUpe3ZhciByPWUuaGVhZGVySW5mbyxzPXRoaXMuZ2V0RGF0YVR5cGVBcnJheShyLmltYWdlVHlwZSksdD1yLm51bURpbXMqdGhpcy5nZXREYXRhVHlwZVNpemUoci5pbWFnZVR5cGUpLG49dGhpcy5yZWFkU3ViQXJyYXkoYSxlLnB0cixzLHQpLGg9dGhpcy5yZWFkU3ViQXJyYXkoYSxlLnB0cit0LHMsdCk7ZS5wdHIrPTIqdDt2YXIgaSxvPSEwO2ZvcihpPTA7aTxyLm51bURpbXM7aSsrKWlmKG5baV0hPT1oW2ldKXtvPSExO2JyZWFrfXJldHVybiByLm1pblZhbHVlcz1uLHIubWF4VmFsdWVzPWgsb30scmVhZFN1YkFycmF5OmZ1bmN0aW9uKGEsZSxyLHMpe3ZhciB0O2lmKHI9PT1VaW50OEFycmF5KXQ9bmV3IFVpbnQ4QXJyYXkoYSxlLHMpO2Vsc2V7dmFyIG49bmV3IEFycmF5QnVmZmVyKHMpLGg9bmV3IFVpbnQ4QXJyYXkobik7aC5zZXQobmV3IFVpbnQ4QXJyYXkoYSxlLHMpKSx0PW5ldyByKG4pfXJldHVybiB0fSxyZWFkTWFzazpmdW5jdGlvbihhLGUpe3ZhciByPWUucHRyLHM9ZS5oZWFkZXJJbmZvLHQ9cy53aWR0aCpzLmhlaWdodCxuPXMubnVtVmFsaWRQaXhlbCxoPW5ldyBEYXRhVmlldyhhLHIsNCksaT17fTtpZihpLm51bUJ5dGVzPWguZ2V0VWludDMyKDAsITApLHIrPTQsKG49PT0wfHx0PT09bikmJmkubnVtQnl0ZXMhPT0wKXRocm93ImludmFsaWQgbWFzayI7dmFyIG8sYztpZihuPT09MClvPW5ldyBVaW50OEFycmF5KE1hdGguY2VpbCh0LzgpKSxpLmJpdHNldD1vLGM9bmV3IFVpbnQ4QXJyYXkodCksZS5waXhlbHMucmVzdWx0TWFzaz1jLHIrPWkubnVtQnl0ZXM7ZWxzZSBpZihpLm51bUJ5dGVzPjApe289bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKHQvOCkpLGg9bmV3IERhdGFWaWV3KGEscixpLm51bUJ5dGVzKTt2YXIgdT1oLmdldEludDE2KDAsITApLG09Mix3PTAsbD0wO2Rve2lmKHU+MClmb3IoO3UtLTspb1t3KytdPWguZ2V0VWludDgobSsrKTtlbHNlIGZvcihsPWguZ2V0VWludDgobSsrKSx1PS11O3UtLTspb1t3KytdPWw7dT1oLmdldEludDE2KG0sITApLG0rPTJ9d2hpbGUobTxpLm51bUJ5dGVzKTtpZih1IT09LTMyNzY4fHx3PG8ubGVuZ3RoKXRocm93IlVuZXhwZWN0ZWQgZW5kIG9mIG1hc2sgUkxFIGVuY29kaW5nIjtjPW5ldyBVaW50OEFycmF5KHQpO3ZhciBmPTAsZz0wO2ZvcihnPTA7Zzx0O2crKylnJjc/KGY9b1tnPj4zXSxmPDw9ZyY3KTpmPW9bZz4+M10sZiYxMjgmJihjW2ddPTEpO2UucGl4ZWxzLnJlc3VsdE1hc2s9YyxpLmJpdHNldD1vLHIrPWkubnVtQnl0ZXN9cmV0dXJuIGUucHRyPXIsZS5tYXNrPWksITB9LHJlYWREYXRhT25lU3dlZXA6ZnVuY3Rpb24oYSxlLHIscyl7dmFyIHQ9ZS5wdHIsbj1lLmhlYWRlckluZm8saD1uLm51bURpbXMsaT1uLndpZHRoKm4uaGVpZ2h0LG89bi5pbWFnZVR5cGUsYz1uLm51bVZhbGlkUGl4ZWwqcC5nZXREYXRhVHlwZVNpemUobykqaCx1LG09ZS5waXhlbHMucmVzdWx0TWFzaztpZihyPT09VWludDhBcnJheSl1PW5ldyBVaW50OEFycmF5KGEsdCxjKTtlbHNle3ZhciB3PW5ldyBBcnJheUJ1ZmZlcihjKSxsPW5ldyBVaW50OEFycmF5KHcpO2wuc2V0KG5ldyBVaW50OEFycmF5KGEsdCxjKSksdT1uZXcgcih3KX1pZih1Lmxlbmd0aD09PWkqaClzP2UucGl4ZWxzLnJlc3VsdFBpeGVscz1wLnN3YXBEaW1lbnNpb25PcmRlcih1LGksaCxyLCEwKTplLnBpeGVscy5yZXN1bHRQaXhlbHM9dTtlbHNle2UucGl4ZWxzLnJlc3VsdFBpeGVscz1uZXcgcihpKmgpO3ZhciBmPTAsZz0wLE09MCxWPTA7aWYoaD4xKXtpZihzKXtmb3IoZz0wO2c8aTtnKyspaWYobVtnXSlmb3IoVj1nLE09MDtNPGg7TSsrLFYrPWkpZS5waXhlbHMucmVzdWx0UGl4ZWxzW1ZdPXVbZisrXX1lbHNlIGZvcihnPTA7ZzxpO2crKylpZihtW2ddKWZvcihWPWcqaCxNPTA7TTxoO00rKyllLnBpeGVscy5yZXN1bHRQaXhlbHNbVitNXT11W2YrK119ZWxzZSBmb3IoZz0wO2c8aTtnKyspbVtnXSYmKGUucGl4ZWxzLnJlc3VsdFBpeGVsc1tnXT11W2YrK10pfXJldHVybiB0Kz1jLGUucHRyPXQsITB9LHJlYWRIdWZmbWFuVHJlZTpmdW5jdGlvbihhLGUpe3ZhciByPXRoaXMuSFVGRk1BTl9MVVRfQklUU19NQVgscz1uZXcgRGF0YVZpZXcoYSxlLnB0ciwxNik7ZS5wdHIrPTE2O3ZhciB0PXMuZ2V0SW50MzIoMCwhMCk7aWYodDwyKXRocm93InVuc3VwcG9ydGVkIEh1ZmZtYW4gdmVyc2lvbiI7dmFyIG49cy5nZXRJbnQzMig0LCEwKSxoPXMuZ2V0SW50MzIoOCwhMCksaT1zLmdldEludDMyKDEyLCEwKTtpZihoPj1pKXJldHVybiExO3ZhciBvPW5ldyBVaW50MzJBcnJheShpLWgpO3AuZGVjb2RlQml0cyhhLGUsbyk7dmFyIGM9W10sdSxtLHcsbDtmb3IodT1oO3U8aTt1KyspbT11LSh1PG4/MDpuKSxjW21dPXtmaXJzdDpvW3UtaF0sc2Vjb25kOm51bGx9O3ZhciBmPWEuYnl0ZUxlbmd0aC1lLnB0cixnPU1hdGguY2VpbChmLzQpLE09bmV3IEFycmF5QnVmZmVyKGcqNCksVj1uZXcgVWludDhBcnJheShNKTtWLnNldChuZXcgVWludDhBcnJheShhLGUucHRyLGYpKTt2YXIgZD1uZXcgVWludDMyQXJyYXkoTSkseT0wLEksej0wO2ZvcihJPWRbMF0sdT1oO3U8aTt1KyspbT11LSh1PG4/MDpuKSxsPWNbbV0uZmlyc3QsbD4wJiYoY1ttXS5zZWNvbmQ9STw8eT4+PjMyLWwsMzIteT49bD8oeSs9bCx5PT09MzImJih5PTAseisrLEk9ZFt6XSkpOih5Kz1sLTMyLHorKyxJPWRbel0sY1ttXS5zZWNvbmR8PUk+Pj4zMi15KSk7dmFyIHg9MCx2PTAsRD1uZXcgaztmb3IodT0wO3U8Yy5sZW5ndGg7dSsrKWNbdV0hPT12b2lkIDAmJih4PU1hdGgubWF4KHgsY1t1XS5maXJzdCkpO3g+PXI/dj1yOnY9eDt2YXIgVD1bXSxTLEIsTCxGLGIsQztmb3IodT1oO3U8aTt1KyspaWYobT11LSh1PG4/MDpuKSxsPWNbbV0uZmlyc3QsbD4wKWlmKFM9W2wsbV0sbDw9dilmb3IoQj1jW21dLnNlY29uZDw8di1sLEw9MTw8di1sLHc9MDt3PEw7dysrKVRbQnx3XT1TO2Vsc2UgZm9yKEI9Y1ttXS5zZWNvbmQsQz1ELEY9bC0xO0Y+PTA7Ri0tKWI9Qj4+PkYmMSxiPyhDLnJpZ2h0fHwoQy5yaWdodD1uZXcgayksQz1DLnJpZ2h0KTooQy5sZWZ0fHwoQy5sZWZ0PW5ldyBrKSxDPUMubGVmdCksRj09PTAmJiFDLnZhbCYmKEMudmFsPVNbMV0pO3JldHVybntkZWNvZGVMdXQ6VCxudW1CaXRzTFVUUWljazp2LG51bUJpdHNMVVQ6eCx0cmVlOkQsc3R1ZmZlZERhdGE6ZCxzcmNQdHI6eixiaXRQb3M6eX19LHJlYWRIdWZmbWFuOmZ1bmN0aW9uKGEsZSxyLHMpe3ZhciB0PWUuaGVhZGVySW5mbyxuPXQubnVtRGltcyxoPWUuaGVhZGVySW5mby5oZWlnaHQsaT1lLmhlYWRlckluZm8ud2lkdGgsbz1pKmgsYz10aGlzLnJlYWRIdWZmbWFuVHJlZShhLGUpLHU9Yy5kZWNvZGVMdXQsbT1jLnRyZWUsdz1jLnN0dWZmZWREYXRhLGw9Yy5zcmNQdHIsZj1jLmJpdFBvcyxnPWMubnVtQml0c0xVVFFpY2ssTT1jLm51bUJpdHNMVVQsVj1lLmhlYWRlckluZm8uaW1hZ2VUeXBlPT09MD8xMjg6MCxkLHksSSx6PWUucGl4ZWxzLnJlc3VsdE1hc2sseCx2LEQsVCxTLEIsTCxGPTA7Zj4wJiYobCsrLGY9MCk7dmFyIGI9d1tsXSxDPWUuZW5jb2RlTW9kZT09PTEsUj1uZXcgcihvKm4pLE89UixYO2lmKG48Mnx8Qyl7Zm9yKFg9MDtYPG47WCsrKWlmKG4+MSYmKE89bmV3IHIoUi5idWZmZXIsbypYLG8pLEY9MCksZS5oZWFkZXJJbmZvLm51bVZhbGlkUGl4ZWw9PT1pKmgpZm9yKEI9MCxUPTA7VDxoO1QrKylmb3IoUz0wO1M8aTtTKyssQisrKXtpZih5PTAseD1iPDxmPj4+MzItZyx2PXgsMzItZjxnJiYoeHw9d1tsKzFdPj4+NjQtZi1nLHY9eCksdVt2XSl5PXVbdl1bMV0sZis9dVt2XVswXTtlbHNlIGZvcih4PWI8PGY+Pj4zMi1NLHY9eCwzMi1mPE0mJih4fD13W2wrMV0+Pj42NC1mLU0sdj14KSxkPW0sTD0wO0w8TTtMKyspaWYoRD14Pj4+TS1MLTEmMSxkPUQ/ZC5yaWdodDpkLmxlZnQsIShkLmxlZnR8fGQucmlnaHQpKXt5PWQudmFsLGY9ZitMKzE7YnJlYWt9Zj49MzImJihmLT0zMixsKyssYj13W2xdKSxJPXktVixDPyhTPjA/SSs9RjpUPjA/SSs9T1tCLWldOkkrPUYsSSY9MjU1LE9bQl09SSxGPUkpOk9bQl09SX1lbHNlIGZvcihCPTAsVD0wO1Q8aDtUKyspZm9yKFM9MDtTPGk7UysrLEIrKylpZih6W0JdKXtpZih5PTAseD1iPDxmPj4+MzItZyx2PXgsMzItZjxnJiYoeHw9d1tsKzFdPj4+NjQtZi1nLHY9eCksdVt2XSl5PXVbdl1bMV0sZis9dVt2XVswXTtlbHNlIGZvcih4PWI8PGY+Pj4zMi1NLHY9eCwzMi1mPE0mJih4fD13W2wrMV0+Pj42NC1mLU0sdj14KSxkPW0sTD0wO0w8TTtMKyspaWYoRD14Pj4+TS1MLTEmMSxkPUQ/ZC5yaWdodDpkLmxlZnQsIShkLmxlZnR8fGQucmlnaHQpKXt5PWQudmFsLGY9ZitMKzE7YnJlYWt9Zj49MzImJihmLT0zMixsKyssYj13W2xdKSxJPXktVixDPyhTPjAmJnpbQi0xXT9JKz1GOlQ+MCYmeltCLWldP0krPU9bQi1pXTpJKz1GLEkmPTI1NSxPW0JdPUksRj1JKTpPW0JdPUl9fWVsc2UgZm9yKEI9MCxUPTA7VDxoO1QrKylmb3IoUz0wO1M8aTtTKyspaWYoQj1UKmkrUywhenx8eltCXSlmb3IoWD0wO1g8bjtYKyssQis9byl7aWYoeT0wLHg9Yjw8Zj4+PjMyLWcsdj14LDMyLWY8ZyYmKHh8PXdbbCsxXT4+PjY0LWYtZyx2PXgpLHVbdl0peT11W3ZdWzFdLGYrPXVbdl1bMF07ZWxzZSBmb3IoeD1iPDxmPj4+MzItTSx2PXgsMzItZjxNJiYoeHw9d1tsKzFdPj4+NjQtZi1NLHY9eCksZD1tLEw9MDtMPE07TCsrKWlmKEQ9eD4+Pk0tTC0xJjEsZD1EP2QucmlnaHQ6ZC5sZWZ0LCEoZC5sZWZ0fHxkLnJpZ2h0KSl7eT1kLnZhbCxmPWYrTCsxO2JyZWFrfWY+PTMyJiYoZi09MzIsbCsrLGI9d1tsXSksST15LVYsT1tCXT1JfWUucHRyPWUucHRyKyhsKzEpKjQrKGY+MD80OjApLGUucGl4ZWxzLnJlc3VsdFBpeGVscz1SLG4+MSYmIXMmJihlLnBpeGVscy5yZXN1bHRQaXhlbHM9cC5zd2FwRGltZW5zaW9uT3JkZXIoUixvLG4scikpfSxkZWNvZGVCaXRzOmZ1bmN0aW9uKGEsZSxyLHMsdCl7e3ZhciBuPWUuaGVhZGVySW5mbyxoPW4uZmlsZVZlcnNpb24saT0wLG89YS5ieXRlTGVuZ3RoLWUucHRyPj01PzU6YS5ieXRlTGVuZ3RoLWUucHRyLGM9bmV3IERhdGFWaWV3KGEsZS5wdHIsbyksdT1jLmdldFVpbnQ4KDApO2krKzt2YXIgbT11Pj42LHc9bT09PTA/NDozLW0sbD0odSYzMik+MCxmPXUmMzEsZz0wO2lmKHc9PT0xKWc9Yy5nZXRVaW50OChpKSxpKys7ZWxzZSBpZih3PT09MilnPWMuZ2V0VWludDE2KGksITApLGkrPTI7ZWxzZSBpZih3PT09NClnPWMuZ2V0VWludDMyKGksITApLGkrPTQ7ZWxzZSB0aHJvdyJJbnZhbGlkIHZhbGlkIHBpeGVsIGNvdW50IHR5cGUiO3ZhciBNPTIqbi5tYXhaRXJyb3IsVixkLHksSSx6LHgsdixELFQsUz1uLm51bURpbXM+MT9uLm1heFZhbHVlc1t0XTpuLnpNYXg7aWYobCl7Zm9yKGUuY291bnRlci5sdXQrKyxEPWMuZ2V0VWludDgoaSksaSsrLEk9TWF0aC5jZWlsKChELTEpKmYvOCksej1NYXRoLmNlaWwoSS80KSxkPW5ldyBBcnJheUJ1ZmZlcih6KjQpLHk9bmV3IFVpbnQ4QXJyYXkoZCksZS5wdHIrPWkseS5zZXQobmV3IFVpbnQ4QXJyYXkoYSxlLnB0cixJKSksdj1uZXcgVWludDMyQXJyYXkoZCksZS5wdHIrPUksVD0wO0QtMT4+PlQ7KVQrKztJPU1hdGguY2VpbChnKlQvOCksej1NYXRoLmNlaWwoSS80KSxkPW5ldyBBcnJheUJ1ZmZlcih6KjQpLHk9bmV3IFVpbnQ4QXJyYXkoZCkseS5zZXQobmV3IFVpbnQ4QXJyYXkoYSxlLnB0cixJKSksVj1uZXcgVWludDMyQXJyYXkoZCksZS5wdHIrPUksaD49Mz94PUEudW5zdHVmZkxVVDIodixmLEQtMSxzLE0sUyk6eD1BLnVuc3R1ZmZMVVQodixmLEQtMSxzLE0sUyksaD49Mz9BLnVuc3R1ZmYyKFYscixULGcseCk6QS51bnN0dWZmKFYscixULGcseCl9ZWxzZSBlLmNvdW50ZXIuYml0c3R1ZmZlcisrLFQ9ZixlLnB0cis9aSxUPjAmJihJPU1hdGguY2VpbChnKlQvOCksej1NYXRoLmNlaWwoSS80KSxkPW5ldyBBcnJheUJ1ZmZlcih6KjQpLHk9bmV3IFVpbnQ4QXJyYXkoZCkseS5zZXQobmV3IFVpbnQ4QXJyYXkoYSxlLnB0cixJKSksVj1uZXcgVWludDMyQXJyYXkoZCksZS5wdHIrPUksaD49Mz9zPT1udWxsP0Eub3JpZ2luYWxVbnN0dWZmMihWLHIsVCxnKTpBLnVuc3R1ZmYyKFYscixULGcsITEscyxNLFMpOnM9PW51bGw/QS5vcmlnaW5hbFVuc3R1ZmYoVixyLFQsZyk6QS51bnN0dWZmKFYscixULGcsITEscyxNLFMpKX19LHJlYWRUaWxlczpmdW5jdGlvbihhLGUscixzKXt2YXIgdD1lLmhlYWRlckluZm8sbj10LndpZHRoLGg9dC5oZWlnaHQsaT1uKmgsbz10Lm1pY3JvQmxvY2tTaXplLGM9dC5pbWFnZVR5cGUsdT1wLmdldERhdGFUeXBlU2l6ZShjKSxtPU1hdGguY2VpbChuL28pLHc9TWF0aC5jZWlsKGgvbyk7ZS5waXhlbHMubnVtQmxvY2tzWT13LGUucGl4ZWxzLm51bUJsb2Nrc1g9bSxlLnBpeGVscy5wdHI9MDt2YXIgbD0wLGY9MCxnPTAsTT0wLFY9MCxkPTAseT0wLEk9MCx6PTAseD0wLHY9MCxEPTAsVD0wLFM9MCxCPTAsTD0wLEYsYixDLFIsTyxYLEc9bmV3IHIobypvKSxsZT1oJW98fG8sdWU9biVvfHxvLEssUSxKPXQubnVtRGltcywkLEU9ZS5waXhlbHMucmVzdWx0TWFzayxZPWUucGl4ZWxzLnJlc3VsdFBpeGVscyxoZT10LmZpbGVWZXJzaW9uLFA9aGU+PTU/MTQ6MTUsXyxXPXQuek1heCxIO2ZvcihnPTA7Zzx3O2crKylmb3IoVj1nIT09dy0xP286bGUsTT0wO008bTtNKyspZm9yKGQ9TSE9PW0tMT9vOnVlLHY9ZypuKm8rTSpvLEQ9bi1kLCQ9MDskPEo7JCsrKXtpZihKPjE/KEg9WSx2PWcqbipvK00qbyxZPW5ldyByKGUucGl4ZWxzLnJlc3VsdFBpeGVscy5idWZmZXIsaSokKnUsaSksVz10Lm1heFZhbHVlc1skXSk6SD1udWxsLHk9YS5ieXRlTGVuZ3RoLWUucHRyLEY9bmV3IERhdGFWaWV3KGEsZS5wdHIsTWF0aC5taW4oMTAseSkpLGI9e30sTD0wLEk9Ri5nZXRVaW50OCgwKSxMKyssXz10LmZpbGVWZXJzaW9uPj01P0kmNDowLHo9ST4+NiYyNTUseD1JPj4yJlAseCE9PShNKm8+PjMmUCl8fF8mJiQ9PT0wKXRocm93ImludGVncml0eSBpc3N1ZSI7aWYoWD1JJjMsWD4zKXRocm93IGUucHRyKz1MLCJJbnZhbGlkIGJsb2NrIGVuY29kaW5nICgiK1grIikiO2lmKFg9PT0yKXtpZihfKWlmKEUpZm9yKGw9MDtsPFY7bCsrKWZvcihmPTA7ZjxkO2YrKylFW3ZdJiYoWVt2XT1IW3ZdKSx2Kys7ZWxzZSBmb3IobD0wO2w8VjtsKyspZm9yKGY9MDtmPGQ7ZisrKVlbdl09SFt2XSx2Kys7ZS5jb3VudGVyLmNvbnN0YW50KyssZS5wdHIrPUw7Y29udGludWV9ZWxzZSBpZihYPT09MCl7aWYoXyl0aHJvdyJpbnRlZ3JpdHkgaXNzdWUiO2lmKGUuY291bnRlci51bmNvbXByZXNzZWQrKyxlLnB0cis9TCxUPVYqZCp1LFM9YS5ieXRlTGVuZ3RoLWUucHRyLFQ9VDxTP1Q6UyxDPW5ldyBBcnJheUJ1ZmZlcihUJXU9PT0wP1Q6VCt1LVQldSksUj1uZXcgVWludDhBcnJheShDKSxSLnNldChuZXcgVWludDhBcnJheShhLGUucHRyLFQpKSxPPW5ldyByKEMpLEI9MCxFKWZvcihsPTA7bDxWO2wrKyl7Zm9yKGY9MDtmPGQ7ZisrKUVbdl0mJihZW3ZdPU9bQisrXSksdisrO3YrPUR9ZWxzZSBmb3IobD0wO2w8VjtsKyspe2ZvcihmPTA7ZjxkO2YrKylZW3YrK109T1tCKytdO3YrPUR9ZS5wdHIrPUIqdX1lbHNlIGlmKEs9cC5nZXREYXRhVHlwZVVzZWQoXyYmYzw2PzQ6Yyx6KSxRPXAuZ2V0T25lUGl4ZWwoYixMLEssRiksTCs9cC5nZXREYXRhVHlwZVNpemUoSyksWD09PTMpaWYoZS5wdHIrPUwsZS5jb3VudGVyLmNvbnN0YW50b2Zmc2V0KyssRSlmb3IobD0wO2w8VjtsKyspe2ZvcihmPTA7ZjxkO2YrKylFW3ZdJiYoWVt2XT1fP01hdGgubWluKFcsSFt2XStRKTpRKSx2Kys7dis9RH1lbHNlIGZvcihsPTA7bDxWO2wrKyl7Zm9yKGY9MDtmPGQ7ZisrKVlbdl09Xz9NYXRoLm1pbihXLEhbdl0rUSk6USx2Kys7dis9RH1lbHNlIGlmKGUucHRyKz1MLHAuZGVjb2RlQml0cyhhLGUsRyxRLCQpLEw9MCxfKWlmKEUpZm9yKGw9MDtsPFY7bCsrKXtmb3IoZj0wO2Y8ZDtmKyspRVt2XSYmKFlbdl09R1tMKytdK0hbdl0pLHYrKzt2Kz1EfWVsc2UgZm9yKGw9MDtsPFY7bCsrKXtmb3IoZj0wO2Y8ZDtmKyspWVt2XT1HW0wrK10rSFt2XSx2Kys7dis9RH1lbHNlIGlmKEUpZm9yKGw9MDtsPFY7bCsrKXtmb3IoZj0wO2Y8ZDtmKyspRVt2XSYmKFlbdl09R1tMKytdKSx2Kys7dis9RH1lbHNlIGZvcihsPTA7bDxWO2wrKyl7Zm9yKGY9MDtmPGQ7ZisrKVlbdisrXT1HW0wrK107dis9RH19Sj4xJiYhcyYmKGUucGl4ZWxzLnJlc3VsdFBpeGVscz1wLnN3YXBEaW1lbnNpb25PcmRlcihlLnBpeGVscy5yZXN1bHRQaXhlbHMsaSxKLHIpKX0sZm9ybWF0RmlsZUluZm86ZnVuY3Rpb24oYSl7cmV0dXJue2ZpbGVJZGVudGlmaWVyU3RyaW5nOmEuaGVhZGVySW5mby5maWxlSWRlbnRpZmllclN0cmluZyxmaWxlVmVyc2lvbjphLmhlYWRlckluZm8uZmlsZVZlcnNpb24saW1hZ2VUeXBlOmEuaGVhZGVySW5mby5pbWFnZVR5cGUsaGVpZ2h0OmEuaGVhZGVySW5mby5oZWlnaHQsd2lkdGg6YS5oZWFkZXJJbmZvLndpZHRoLG51bVZhbGlkUGl4ZWw6YS5oZWFkZXJJbmZvLm51bVZhbGlkUGl4ZWwsbWljcm9CbG9ja1NpemU6YS5oZWFkZXJJbmZvLm1pY3JvQmxvY2tTaXplLGJsb2JTaXplOmEuaGVhZGVySW5mby5ibG9iU2l6ZSxtYXhaRXJyb3I6YS5oZWFkZXJJbmZvLm1heFpFcnJvcixwaXhlbFR5cGU6cC5nZXRQaXhlbFR5cGUoYS5oZWFkZXJJbmZvLmltYWdlVHlwZSksZW9mT2Zmc2V0OmEuZW9mT2Zmc2V0LG1hc2s6YS5tYXNrP3tudW1CeXRlczphLm1hc2subnVtQnl0ZXN9Om51bGwscGl4ZWxzOntudW1CbG9ja3NYOmEucGl4ZWxzLm51bUJsb2Nrc1gsbnVtQmxvY2tzWTphLnBpeGVscy5udW1CbG9ja3NZLG1heFZhbHVlOmEuaGVhZGVySW5mby56TWF4LG1pblZhbHVlOmEuaGVhZGVySW5mby56TWluLG5vRGF0YVZhbHVlOmEubm9EYXRhVmFsdWV9fX0sY29uc3RydWN0Q29uc3RhbnRTdXJmYWNlOmZ1bmN0aW9uKGEsZSl7dmFyIHI9YS5oZWFkZXJJbmZvLnpNYXgscz1hLmhlYWRlckluZm8uek1pbix0PWEuaGVhZGVySW5mby5tYXhWYWx1ZXMsbj1hLmhlYWRlckluZm8ubnVtRGltcyxoPWEuaGVhZGVySW5mby5oZWlnaHQqYS5oZWFkZXJJbmZvLndpZHRoLGk9MCxvPTAsYz0wLHU9YS5waXhlbHMucmVzdWx0TWFzayxtPWEucGl4ZWxzLnJlc3VsdFBpeGVscztpZih1KWlmKG4+MSl7aWYoZSlmb3IoaT0wO2k8bjtpKyspZm9yKGM9aSpoLHI9dFtpXSxvPTA7bzxoO28rKyl1W29dJiYobVtjK29dPXIpO2Vsc2UgZm9yKG89MDtvPGg7bysrKWlmKHVbb10pZm9yKGM9bypuLGk9MDtpPG47aSsrKW1bYytuXT10W2ldfWVsc2UgZm9yKG89MDtvPGg7bysrKXVbb10mJihtW29dPXIpO2Vsc2UgaWYobj4xJiZzIT09cilpZihlKWZvcihpPTA7aTxuO2krKylmb3IoYz1pKmgscj10W2ldLG89MDtvPGg7bysrKW1bYytvXT1yO2Vsc2UgZm9yKG89MDtvPGg7bysrKWZvcihjPW8qbixpPTA7aTxuO2krKyltW2MraV09dFtpXTtlbHNlIGZvcihvPTA7bzxoKm47bysrKW1bb109cn0sZ2V0RGF0YVR5cGVBcnJheTpmdW5jdGlvbihhKXt2YXIgZTtzd2l0Y2goYSl7Y2FzZSAwOmU9SW50OEFycmF5O2JyZWFrO2Nhc2UgMTplPVVpbnQ4QXJyYXk7YnJlYWs7Y2FzZSAyOmU9SW50MTZBcnJheTticmVhaztjYXNlIDM6ZT1VaW50MTZBcnJheTticmVhaztjYXNlIDQ6ZT1JbnQzMkFycmF5O2JyZWFrO2Nhc2UgNTplPVVpbnQzMkFycmF5O2JyZWFrO2Nhc2UgNjplPUZsb2F0MzJBcnJheTticmVhaztjYXNlIDc6ZT1GbG9hdDY0QXJyYXk7YnJlYWs7ZGVmYXVsdDplPUZsb2F0MzJBcnJheX1yZXR1cm4gZX0sZ2V0UGl4ZWxUeXBlOmZ1bmN0aW9uKGEpe3ZhciBlO3N3aXRjaChhKXtjYXNlIDA6ZT0iUzgiO2JyZWFrO2Nhc2UgMTplPSJVOCI7YnJlYWs7Y2FzZSAyOmU9IlMxNiI7YnJlYWs7Y2FzZSAzOmU9IlUxNiI7YnJlYWs7Y2FzZSA0OmU9IlMzMiI7YnJlYWs7Y2FzZSA1OmU9IlUzMiI7YnJlYWs7Y2FzZSA2OmU9IkYzMiI7YnJlYWs7Y2FzZSA3OmU9IkY2NCI7YnJlYWs7ZGVmYXVsdDplPSJGMzIifXJldHVybiBlfSxpc1ZhbGlkUGl4ZWxWYWx1ZTpmdW5jdGlvbihhLGUpe2lmKGU9PW51bGwpcmV0dXJuITE7dmFyIHI7c3dpdGNoKGEpe2Nhc2UgMDpyPWU+PS0xMjgmJmU8PTEyNzticmVhaztjYXNlIDE6cj1lPj0wJiZlPD0yNTU7YnJlYWs7Y2FzZSAyOnI9ZT49LTMyNzY4JiZlPD0zMjc2NzticmVhaztjYXNlIDM6cj1lPj0wJiZlPD02NTUzNjticmVhaztjYXNlIDQ6cj1lPj0tMjE0NzQ4MzY0OCYmZTw9MjE0NzQ4MzY0NzticmVhaztjYXNlIDU6cj1lPj0wJiZlPD00Mjk0OTY3Mjk2O2JyZWFrO2Nhc2UgNjpyPWU+PS0zNDAyNzk5OTM4NzkwMTQ4NGUyMiYmZTw9MzQwMjc5OTkzODc5MDE0ODRlMjI7YnJlYWs7Y2FzZSA3OnI9ZT49LTE3OTc2OTMxMzQ4NjIzMTU3ZTI5MiYmZTw9MTc5NzY5MzEzNDg2MjMxNTdlMjkyO2JyZWFrO2RlZmF1bHQ6cj0hMX1yZXR1cm4gcn0sZ2V0RGF0YVR5cGVTaXplOmZ1bmN0aW9uKGEpe3ZhciBlPTA7c3dpdGNoKGEpe2Nhc2UgMDpjYXNlIDE6ZT0xO2JyZWFrO2Nhc2UgMjpjYXNlIDM6ZT0yO2JyZWFrO2Nhc2UgNDpjYXNlIDU6Y2FzZSA2OmU9NDticmVhaztjYXNlIDc6ZT04O2JyZWFrO2RlZmF1bHQ6ZT1hfXJldHVybiBlfSxnZXREYXRhVHlwZVVzZWQ6ZnVuY3Rpb24oYSxlKXt2YXIgcj1hO3N3aXRjaChhKXtjYXNlIDI6Y2FzZSA0OnI9YS1lO2JyZWFrO2Nhc2UgMzpjYXNlIDU6cj1hLTIqZTticmVhaztjYXNlIDY6ZT09PTA/cj1hOmU9PT0xP3I9MjpyPTE7YnJlYWs7Y2FzZSA3OmU9PT0wP3I9YTpyPWEtMiplKzE7YnJlYWs7ZGVmYXVsdDpyPWE7YnJlYWt9cmV0dXJuIHJ9LGdldE9uZVBpeGVsOmZ1bmN0aW9uKGEsZSxyLHMpe3ZhciB0PTA7c3dpdGNoKHIpe2Nhc2UgMDp0PXMuZ2V0SW50OChlKTticmVhaztjYXNlIDE6dD1zLmdldFVpbnQ4KGUpO2JyZWFrO2Nhc2UgMjp0PXMuZ2V0SW50MTYoZSwhMCk7YnJlYWs7Y2FzZSAzOnQ9cy5nZXRVaW50MTYoZSwhMCk7YnJlYWs7Y2FzZSA0OnQ9cy5nZXRJbnQzMihlLCEwKTticmVhaztjYXNlIDU6dD1zLmdldFVJbnQzMihlLCEwKTticmVhaztjYXNlIDY6dD1zLmdldEZsb2F0MzIoZSwhMCk7YnJlYWs7Y2FzZSA3OnQ9cy5nZXRGbG9hdDY0KGUsITApO2JyZWFrO2RlZmF1bHQ6dGhyb3cidGhlIGRlY29kZXIgZG9lcyBub3QgdW5kZXJzdGFuZCB0aGlzIHBpeGVsIHR5cGUifXJldHVybiB0fSxzd2FwRGltZW5zaW9uT3JkZXI6ZnVuY3Rpb24oYSxlLHIscyx0KXt2YXIgbj0wLGg9MCxpPTAsbz0wLGM9YTtpZihyPjEpaWYoYz1uZXcgcyhlKnIpLHQpZm9yKG49MDtuPGU7bisrKWZvcihvPW4saT0wO2k8cjtpKyssbys9ZSljW29dPWFbaCsrXTtlbHNlIGZvcihuPTA7bjxlO24rKylmb3Iobz1uLGk9MDtpPHI7aSsrLG8rPWUpY1toKytdPWFbb107cmV0dXJuIGN9fSxrPWZ1bmN0aW9uKGEsZSxyKXt0aGlzLnZhbD1hLHRoaXMubGVmdD1lLHRoaXMucmlnaHQ9cn0sVT17ZGVjb2RlOmZ1bmN0aW9uKGEsZSl7ZT1lfHx7fTt2YXIgcj1lLm5vRGF0YVZhbHVlLHM9MCx0PXt9O2lmKHQucHRyPWUuaW5wdXRPZmZzZXR8fDAsdC5waXhlbHM9e30sISFwLnJlYWRIZWFkZXJJbmZvKGEsdCkpe3ZhciBuPXQuaGVhZGVySW5mbyxoPW4uZmlsZVZlcnNpb24saT1wLmdldERhdGFUeXBlQXJyYXkobi5pbWFnZVR5cGUpO2lmKGg+NSl0aHJvdyJ1bnN1cHBvcnRlZCBsZXJjIHZlcnNpb24gMi4iK2g7cC5yZWFkTWFzayhhLHQpLG4ubnVtVmFsaWRQaXhlbCE9PW4ud2lkdGgqbi5oZWlnaHQmJiF0LnBpeGVscy5yZXN1bHRNYXNrJiYodC5waXhlbHMucmVzdWx0TWFzaz1lLm1hc2tEYXRhKTt2YXIgbz1uLndpZHRoKm4uaGVpZ2h0O3QucGl4ZWxzLnJlc3VsdFBpeGVscz1uZXcgaShvKm4ubnVtRGltcyksdC5jb3VudGVyPXtvbmVzd2VlcDowLHVuY29tcHJlc3NlZDowLGx1dDowLGJpdHN0dWZmZXI6MCxjb25zdGFudDowLGNvbnN0YW50b2Zmc2V0OjB9O3ZhciBjPSFlLnJldHVyblBpeGVsSW50ZXJsZWF2ZWREaW1zO2lmKG4ubnVtVmFsaWRQaXhlbCE9PTApaWYobi56TWF4PT09bi56TWluKXAuY29uc3RydWN0Q29uc3RhbnRTdXJmYWNlKHQsYyk7ZWxzZSBpZihoPj00JiZwLmNoZWNrTWluTWF4UmFuZ2VzKGEsdCkpcC5jb25zdHJ1Y3RDb25zdGFudFN1cmZhY2UodCxjKTtlbHNle3ZhciB1PW5ldyBEYXRhVmlldyhhLHQucHRyLDIpLG09dS5nZXRVaW50OCgwKTtpZih0LnB0cisrLG0pcC5yZWFkRGF0YU9uZVN3ZWVwKGEsdCxpLGMpO2Vsc2UgaWYoaD4xJiZuLmltYWdlVHlwZTw9MSYmTWF0aC5hYnMobi5tYXhaRXJyb3ItLjUpPDFlLTUpe3ZhciB3PXUuZ2V0VWludDgoMSk7aWYodC5wdHIrKyx0LmVuY29kZU1vZGU9dyx3PjJ8fGg8NCYmdz4xKXRocm93IkludmFsaWQgSHVmZm1hbiBmbGFnICIrdzt3P3AucmVhZEh1ZmZtYW4oYSx0LGksYyk6cC5yZWFkVGlsZXMoYSx0LGksYyl9ZWxzZSBwLnJlYWRUaWxlcyhhLHQsaSxjKX10LmVvZk9mZnNldD10LnB0cjt2YXIgbDtlLmlucHV0T2Zmc2V0PyhsPXQuaGVhZGVySW5mby5ibG9iU2l6ZStlLmlucHV0T2Zmc2V0LXQucHRyLE1hdGguYWJzKGwpPj0xJiYodC5lb2ZPZmZzZXQ9ZS5pbnB1dE9mZnNldCt0LmhlYWRlckluZm8uYmxvYlNpemUpKToobD10LmhlYWRlckluZm8uYmxvYlNpemUtdC5wdHIsTWF0aC5hYnMobCk+PTEmJih0LmVvZk9mZnNldD10LmhlYWRlckluZm8uYmxvYlNpemUpKTt2YXIgZj17d2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQscGl4ZWxEYXRhOnQucGl4ZWxzLnJlc3VsdFBpeGVscyxtaW5WYWx1ZTpuLnpNaW4sbWF4VmFsdWU6bi56TWF4LHZhbGlkUGl4ZWxDb3VudDpuLm51bVZhbGlkUGl4ZWwsZGltQ291bnQ6bi5udW1EaW1zLGRpbVN0YXRzOnttaW5WYWx1ZXM6bi5taW5WYWx1ZXMsbWF4VmFsdWVzOm4ubWF4VmFsdWVzfSxtYXNrRGF0YTp0LnBpeGVscy5yZXN1bHRNYXNrfTtpZih0LnBpeGVscy5yZXN1bHRNYXNrJiZwLmlzVmFsaWRQaXhlbFZhbHVlKG4uaW1hZ2VUeXBlLHIpKXt2YXIgZz10LnBpeGVscy5yZXN1bHRNYXNrO2ZvcihzPTA7czxvO3MrKylnW3NdfHwoZi5waXhlbERhdGFbc109cik7Zi5ub0RhdGFWYWx1ZT1yfXJldHVybiB0Lm5vRGF0YVZhbHVlPXIsZS5yZXR1cm5GaWxlSW5mbyYmKGYuZmlsZUluZm89cC5mb3JtYXRGaWxlSW5mbyh0KSksZn19LGdldEJhbmRDb3VudDpmdW5jdGlvbihhKXt2YXIgZT0wLHI9MCxzPXt9O2ZvcihzLnB0cj0wLHMucGl4ZWxzPXt9O3I8YS5ieXRlTGVuZ3RoLTU4OylwLnJlYWRIZWFkZXJJbmZvKGEscykscis9cy5oZWFkZXJJbmZvLmJsb2JTaXplLGUrKyxzLnB0cj1yO3JldHVybiBlfX07cmV0dXJuIFV9KCk7dmFyIG5lPWZ1bmN0aW9uKCl7dmFyIEE9bmV3IEFycmF5QnVmZmVyKDQpLHA9bmV3IFVpbnQ4QXJyYXkoQSksaz1uZXcgVWludDMyQXJyYXkoQSk7cmV0dXJuIGtbMF09MSxwWzBdPT09MX0oKSxpZT17ZGVjb2RlOmZ1bmN0aW9uKEEscCl7aWYoIW5lKXRocm93IkJpZyBlbmRpYW4gc3lzdGVtIGlzIG5vdCBzdXBwb3J0ZWQuIjtwPXB8fHt9O3ZhciBrPXAuaW5wdXRPZmZzZXR8fDAsVT1uZXcgVWludDhBcnJheShBLGssMTApLGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFUpLGUscjtpZihhLnRyaW0oKT09PSJDbnRaSW1hZ2UiKWU9ZWUscj0xO2Vsc2UgaWYoYS5zdWJzdHJpbmcoMCw1KT09PSJMZXJjMiIpZT1yZSxyPTI7ZWxzZSB0aHJvdyJVbmV4cGVjdGVkIGZpbGUgaWRlbnRpZmllciBzdHJpbmc6ICIrYTtmb3IodmFyIHM9MCx0PUEuYnl0ZUxlbmd0aC0xMCxuLGg9W10saSxvLGM9e3dpZHRoOjAsaGVpZ2h0OjAscGl4ZWxzOltdLHBpeGVsVHlwZTpwLnBpeGVsVHlwZSxtYXNrOm51bGwsc3RhdGlzdGljczpbXX0sdT0wO2s8dDspe3ZhciBtPWUuZGVjb2RlKEEse2lucHV0T2Zmc2V0OmssZW5jb2RlZE1hc2tEYXRhOm4sbWFza0RhdGE6byxyZXR1cm5NYXNrOnM9PT0wLHJldHVybkVuY29kZWRNYXNrOnM9PT0wLHJldHVybkZpbGVJbmZvOiEwLHJldHVyblBpeGVsSW50ZXJsZWF2ZWREaW1zOnAucmV0dXJuUGl4ZWxJbnRlcmxlYXZlZERpbXMscGl4ZWxUeXBlOnAucGl4ZWxUeXBlfHxudWxsLG5vRGF0YVZhbHVlOnAubm9EYXRhVmFsdWV8fG51bGx9KTtrPW0uZmlsZUluZm8uZW9mT2Zmc2V0LG89bS5tYXNrRGF0YSxzPT09MCYmKG49bS5lbmNvZGVkTWFza0RhdGEsYy53aWR0aD1tLndpZHRoLGMuaGVpZ2h0PW0uaGVpZ2h0LGMuZGltQ291bnQ9bS5kaW1Db3VudHx8MSxjLnBpeGVsVHlwZT1tLnBpeGVsVHlwZXx8bS5maWxlSW5mby5waXhlbFR5cGUsYy5tYXNrPW8pLHI+MSYmKG8mJmgucHVzaChvKSxtLmZpbGVJbmZvLm1hc2smJm0uZmlsZUluZm8ubWFzay5udW1CeXRlcz4wJiZ1KyspLHMrKyxjLnBpeGVscy5wdXNoKG0ucGl4ZWxEYXRhKSxjLnN0YXRpc3RpY3MucHVzaCh7bWluVmFsdWU6bS5taW5WYWx1ZSxtYXhWYWx1ZTptLm1heFZhbHVlLG5vRGF0YVZhbHVlOm0ubm9EYXRhVmFsdWUsZGltU3RhdHM6bS5kaW1TdGF0c30pfXZhciB3LGwsZjtpZihyPjEmJnU+MSl7Zm9yKGY9Yy53aWR0aCpjLmhlaWdodCxjLmJhbmRNYXNrcz1oLG89bmV3IFVpbnQ4QXJyYXkoZiksby5zZXQoaFswXSksdz0xO3c8aC5sZW5ndGg7dysrKWZvcihpPWhbd10sbD0wO2w8ZjtsKyspb1tsXT1vW2xdJmlbbF07Yy5tYXNrRGF0YT1vfXJldHVybiBjfX07Y29uc3QgdGU9ezA6N2UzLDE6NmUzLDI6NWUzLDM6NGUzLDQ6M2UzLDU6MjUwMCw2OjJlMyw3OjE1MDAsODo4MDAsOTo1MDAsMTA6MjAwLDExOjEwMCwxMjo0MCwxMzoxMiwxNDo1LDE1OjIsMTY6MSwxNzouNSwxODouMiwxOTouMSwyMDouMDF9O2Z1bmN0aW9uIGFlKEEpe2NvbnN0e2hlaWdodDpwLHdpZHRoOmsscGl4ZWxzOlV9PWllLmRlY29kZShBKSxhPW5ldyBGbG9hdDMyQXJyYXkocCprKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylhW2VdPVVbMF1bZV07cmV0dXJue2FycmF5OmEsd2lkdGg6ayxoZWlnaHQ6cH19ZnVuY3Rpb24gc2UoQSxwLGspe2xldCBVPWFlKEEpO2tbMl0ta1swXTwxJiYoVT1mZShVLGspKTtjb25zdHthcnJheTphLHdpZHRoOmV9PVUscz1uZXcgWihlKS5jcmVhdGVUaWxlKGEpLHQ9dGVbcF18fDA7cmV0dXJuIHMuZ2V0R2VvbWV0cnlEYXRhKHQpfWZ1bmN0aW9uIGZlKEEscCl7ZnVuY3Rpb24gayhzLHQsbixoLGksbyxjLHUpe2NvbnN0IG09bmV3IEZsb2F0MzJBcnJheShpKm8pO2ZvcihsZXQgbD0wO2w8bztsKyspZm9yKGxldCBmPTA7ZjxpO2YrKyl7Y29uc3QgZz0obCtoKSp0KyhmK24pLE09bCppK2Y7bVtNXT1zW2ddfWNvbnN0IHc9bmV3IEZsb2F0MzJBcnJheSh1KmMpO2ZvcihsZXQgbD0wO2w8dTtsKyspZm9yKGxldCBmPTA7ZjxjO2YrKyl7Y29uc3QgZz1sKnUrZixNPU1hdGgucm91bmQoZipvL3UpLGQ9TWF0aC5yb3VuZChsKmkvYykqaStNO3dbZ109bVtkXX1yZXR1cm4gd31jb25zdCBVPW9lKHAsQS53aWR0aCksYT1VLnN3KzEsZT1VLnNoKzE7cmV0dXJue2FycmF5OmsoQS5hcnJheSxBLndpZHRoLFUuc3gsVS5zeSxVLnN3LFUuc2gsYSxlKSx3aWR0aDphLGhlaWdodDplfX1mdW5jdGlvbiBvZShBLHApe2NvbnN0IGs9TWF0aC5mbG9vcihBWzBdKnApLFU9TWF0aC5mbG9vcihBWzFdKnApLGE9TWF0aC5mbG9vcigoQVsyXS1BWzBdKSpwKSxlPU1hdGguZmxvb3IoKEFbM10tQVsxXSkqcCk7cmV0dXJue3N4Omssc3k6VSxzdzphLHNoOmV9fXNlbGYub25tZXNzYWdlPUE9Pntjb25zdCBwPUEuZGF0YSxrPXNlKHAuZGVtRGF0YSxwLnoscC5jbGlwQm91bmRzKTtzZWxmLnBvc3RNZXNzYWdlKGspfX0pKCk7Cg==",xt=typeof self<"u"&&self.Blob&&new Blob([(e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)))(Ut)],{type:"text/javascript;charset=utf-8"});function pt(e){let t;try{if(t=xt&&(self.URL||self.webkitURL).createObjectURL(xt),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+Ut,{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */const Ht=function(){var e={defaultNoDataValue:-34027999387901484e22,decode:function(c,h){var f=(h=h||{}).encodedMaskData||h.encodedMaskData===null,p=o(c,h.inputOffset||0,f),m=h.noDataValue!==null?h.noDataValue:e.defaultNoDataValue,I=t(p,h.pixelType||Float32Array,h.encodedMaskData,m,h.returnMask),w={width:p.width,height:p.height,pixelData:I.resultPixels,minValue:I.minValue,maxValue:p.pixels.maxValue,noDataValue:m};return I.resultMask&&(w.maskData=I.resultMask),h.returnEncodedMask&&p.mask&&(w.encodedMaskData=p.mask.bitset?p.mask.bitset:null),h.returnFileInfo&&(w.fileInfo=n(p),h.computeUsedBitDepths&&(w.fileInfo.bitDepths=r(p))),w}},t=function(c,h,f,p,m){var I,w,_,b=0,T=c.pixels.numBlocksX,S=c.pixels.numBlocksY,k=Math.floor(c.width/T),F=Math.floor(c.height/S),N=2*c.maxZError,G=Number.MAX_VALUE;f=f||(c.mask?c.mask.bitset:null),w=new h(c.width*c.height),m&&f&&(_=new Uint8Array(c.width*c.height));for(var V,W,X=new Float32Array(k*F),K=0;K<=S;K++){var st=K!==S?F:c.height%S;if(st!==0)for(var et=0;et<=T;et++){var it=et!==T?k:c.width%T;if(it!==0){var ot,ht,vt,Ct,wt=K*c.width*F+et*k,mt=c.width-it,Rt=c.pixels.blocks[b];if(Rt.encoding<2?(Rt.encoding===0?ot=Rt.rawData:(l(Rt.stuffedData,Rt.bitsPerPixel,Rt.numValidPixels,Rt.offset,N,X,c.pixels.maxValue),ot=X),ht=0):vt=Rt.encoding===2?0:Rt.offset,f)for(W=0;W<st;W++){for(7&wt&&(Ct=f[wt>>3],Ct<<=7&wt),V=0;V<it;V++)7&wt||(Ct=f[wt>>3]),128&Ct?(_&&(_[wt]=1),G=G>(I=Rt.encoding<2?ot[ht++]:vt)?I:G,w[wt++]=I):(_&&(_[wt]=0),w[wt++]=p),Ct<<=1;wt+=mt}else if(Rt.encoding<2)for(W=0;W<st;W++){for(V=0;V<it;V++)G=G>(I=ot[ht++])?I:G,w[wt++]=I;wt+=mt}else for(G=G>vt?vt:G,W=0;W<st;W++){for(V=0;V<it;V++)w[wt++]=vt;wt+=mt}if(Rt.encoding===1&&ht!==Rt.numValidPixels)throw"Block and Mask do not match";b++}}}return{resultPixels:w,resultMask:_,minValue:G}},n=function(c){return{fileIdentifierString:c.fileIdentifierString,fileVersion:c.fileVersion,imageType:c.imageType,height:c.height,width:c.width,maxZError:c.maxZError,eofOffset:c.eofOffset,mask:c.mask?{numBlocksX:c.mask.numBlocksX,numBlocksY:c.mask.numBlocksY,numBytes:c.mask.numBytes,maxValue:c.mask.maxValue}:null,pixels:{numBlocksX:c.pixels.numBlocksX,numBlocksY:c.pixels.numBlocksY,numBytes:c.pixels.numBytes,maxValue:c.pixels.maxValue,noDataValue:c.noDataValue}}},r=function(c){for(var h=c.pixels.numBlocksX*c.pixels.numBlocksY,f={},p=0;p<h;p++){var m=c.pixels.blocks[p];m.encoding===0?f.float32=!0:m.encoding===1?f[m.bitsPerPixel]=!0:f[0]=!0}return Object.keys(f)},o=function(c,h,f){var p={},m=new Uint8Array(c,h,10);if(p.fileIdentifierString=String.fromCharCode.apply(null,m),p.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+p.fileIdentifierString;h+=10;var I=new DataView(c,h,24);if(p.fileVersion=I.getInt32(0,!0),p.imageType=I.getInt32(4,!0),p.height=I.getUint32(8,!0),p.width=I.getUint32(12,!0),p.maxZError=I.getFloat64(16,!0),h+=24,!f)if(I=new DataView(c,h,16),p.mask={},p.mask.numBlocksY=I.getUint32(0,!0),p.mask.numBlocksX=I.getUint32(4,!0),p.mask.numBytes=I.getUint32(8,!0),p.mask.maxValue=I.getFloat32(12,!0),h+=16,p.mask.numBytes>0){var w=new Uint8Array(Math.ceil(p.width*p.height/8)),_=(I=new DataView(c,h,p.mask.numBytes)).getInt16(0,!0),b=2,T=0;do{if(_>0)for(;_--;)w[T++]=I.getUint8(b++);else{var S=I.getUint8(b++);for(_=-_;_--;)w[T++]=S}_=I.getInt16(b,!0),b+=2}while(b<p.mask.numBytes);if(_!==-32768||T<w.length)throw"Unexpected end of mask RLE encoding";p.mask.bitset=w,h+=p.mask.numBytes}else p.mask.numBytes|p.mask.numBlocksY|p.mask.maxValue||(p.mask.bitset=new Uint8Array(Math.ceil(p.width*p.height/8)));I=new DataView(c,h,16),p.pixels={},p.pixels.numBlocksY=I.getUint32(0,!0),p.pixels.numBlocksX=I.getUint32(4,!0),p.pixels.numBytes=I.getUint32(8,!0),p.pixels.maxValue=I.getFloat32(12,!0),h+=16;var k=p.pixels.numBlocksX,F=p.pixels.numBlocksY,N=k+(p.width%k>0?1:0),G=F+(p.height%F>0?1:0);p.pixels.blocks=new Array(N*G);for(var V=0,W=0;W<G;W++)for(var X=0;X<N;X++){var K=0,st=c.byteLength-h;I=new DataView(c,h,Math.min(10,st));var et={};p.pixels.blocks[V++]=et;var it=I.getUint8(0);if(K++,et.encoding=63&it,et.encoding>3)throw"Invalid block encoding ("+et.encoding+")";if(et.encoding!==2){if(it!==0&&it!==2){if(it>>=6,et.offsetType=it,it===2)et.offset=I.getInt8(1),K++;else if(it===1)et.offset=I.getInt16(1,!0),K+=2;else{if(it!==0)throw"Invalid block offset type";et.offset=I.getFloat32(1,!0),K+=4}if(et.encoding===1)if(it=I.getUint8(K),K++,et.bitsPerPixel=63&it,it>>=6,et.numValidPixelsType=it,it===2)et.numValidPixels=I.getUint8(K),K++;else if(it===1)et.numValidPixels=I.getUint16(K,!0),K+=2;else{if(it!==0)throw"Invalid valid pixel count type";et.numValidPixels=I.getUint32(K,!0),K+=4}}var ot;if(h+=K,et.encoding!==3){if(et.encoding===0){var ht=(p.pixels.numBytes-1)/4;if(ht!==Math.floor(ht))throw"uncompressed block has invalid length";ot=new ArrayBuffer(4*ht),new Uint8Array(ot).set(new Uint8Array(c,h,4*ht));var vt=new Float32Array(ot);et.rawData=vt,h+=4*ht}else if(et.encoding===1){var Ct=Math.ceil(et.numValidPixels*et.bitsPerPixel/8),wt=Math.ceil(Ct/4);ot=new ArrayBuffer(4*wt),new Uint8Array(ot).set(new Uint8Array(c,h,Ct)),et.stuffedData=new Uint32Array(ot),h+=Ct}}}else h++}return p.eofOffset=h,p},l=function(c,h,f,p,m,I,w){var _,b,T,S=(1<<h)-1,k=0,F=0,N=Math.ceil((w-p)/m),G=4*c.length-Math.ceil(h*f/8);for(c[c.length-1]<<=8*G,_=0;_<f;_++){if(F===0&&(T=c[k++],F=32),F>=h)b=T>>>F-h&S,F-=h;else{var V=h-F;b=(T&S)<<V&S,b+=(T=c[k++])>>>(F=32-V)}I[_]=b<N?p+b*m:w}return I};return e}(),le=function(){var e=function(p,m,I,w,_,b,T,S){var k,F,N,G,V,W=(1<<I)-1,X=0,K=0,st=4*p.length-Math.ceil(I*w/8);if(p[p.length-1]<<=8*st,_)for(k=0;k<w;k++)K===0&&(N=p[X++],K=32),K>=I?(F=N>>>K-I&W,K-=I):(F=(N&W)<<(G=I-K)&W,F+=(N=p[X++])>>>(K=32-G)),m[k]=_[F];else for(V=Math.ceil((S-b)/T),k=0;k<w;k++)K===0&&(N=p[X++],K=32),K>=I?(F=N>>>K-I&W,K-=I):(F=(N&W)<<(G=I-K)&W,F+=(N=p[X++])>>>(K=32-G)),m[k]=F<V?b+F*T:S},t=function(p,m,I,w,_,b){var T,S=(1<<m)-1,k=0,F=0,N=0,G=0,V=0,W=[],X=4*p.length-Math.ceil(m*I/8);p[p.length-1]<<=8*X;var K=Math.ceil((b-w)/_);for(F=0;F<I;F++)G===0&&(T=p[k++],G=32),G>=m?(V=T>>>G-m&S,G-=m):(V=(T&S)<<(N=m-G)&S,V+=(T=p[k++])>>>(G=32-N)),W[F]=V<K?w+V*_:b;return W.unshift(w),W},n=function(p,m,I,w,_,b,T,S){var k,F,N,G,V=(1<<I)-1,W=0,X=0,K=0;if(_)for(k=0;k<w;k++)X===0&&(N=p[W++],X=32,K=0),X>=I?(F=N>>>K&V,X-=I,K+=I):(F=N>>>K&V,X=32-(G=I-X),F|=((N=p[W++])&(1<<G)-1)<<I-G,K=G),m[k]=_[F];else{var st=Math.ceil((S-b)/T);for(k=0;k<w;k++)X===0&&(N=p[W++],X=32,K=0),X>=I?(F=N>>>K&V,X-=I,K+=I):(F=N>>>K&V,X=32-(G=I-X),F|=((N=p[W++])&(1<<G)-1)<<I-G,K=G),m[k]=F<st?b+F*T:S}return m},r=function(p,m,I,w,_,b){var T,S=(1<<m)-1,k=0,F=0,N=0,G=0,V=0,W=0,X=[],K=Math.ceil((b-w)/_);for(F=0;F<I;F++)G===0&&(T=p[k++],G=32,W=0),G>=m?(V=T>>>W&S,G-=m,W+=m):(V=T>>>W&S,G=32-(N=m-G),V|=((T=p[k++])&(1<<N)-1)<<m-N,W=N),X[F]=V<K?w+V*_:b;return X.unshift(w),X},o=function(p,m,I,w){var _,b,T,S,k=(1<<I)-1,F=0,N=0,G=4*p.length-Math.ceil(I*w/8);for(p[p.length-1]<<=8*G,_=0;_<w;_++)N===0&&(T=p[F++],N=32),N>=I?(b=T>>>N-I&k,N-=I):(b=(T&k)<<(S=I-N)&k,b+=(T=p[F++])>>>(N=32-S)),m[_]=b;return m},l=function(p,m,I,w){var _,b,T,S,k=(1<<I)-1,F=0,N=0,G=0;for(_=0;_<w;_++)N===0&&(T=p[F++],N=32,G=0),N>=I?(b=T>>>G&k,N-=I,G+=I):(b=T>>>G&k,N=32-(S=I-N),b|=((T=p[F++])&(1<<S)-1)<<I-S,G=S),m[_]=b;return m},c={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(p){for(var m=65535,I=65535,w=p.length,_=Math.floor(w/2),b=0;_;){var T=_>=359?359:_;_-=T;do m+=p[b++]<<8,I+=m+=p[b++];while(--T);m=(65535&m)+(m>>>16),I=(65535&I)+(I>>>16)}return 1&w&&(I+=m+=p[b]<<8),((I=(65535&I)+(I>>>16))<<16|(m=(65535&m)+(m>>>16)))>>>0},readHeaderInfo:function(p,m){var I=m.ptr,w=new Uint8Array(p,I,6),_={};if(_.fileIdentifierString=String.fromCharCode.apply(null,w),_.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+_.fileIdentifierString;I+=6;var b,T=new DataView(p,I,8),S=T.getInt32(0,!0);if(_.fileVersion=S,I+=4,S>=3&&(_.checksum=T.getUint32(4,!0),I+=4),T=new DataView(p,I,12),_.height=T.getUint32(0,!0),_.width=T.getUint32(4,!0),I+=8,S>=4?(_.numDims=T.getUint32(8,!0),I+=4):_.numDims=1,T=new DataView(p,I,40),_.numValidPixel=T.getUint32(0,!0),_.microBlockSize=T.getInt32(4,!0),_.blobSize=T.getInt32(8,!0),_.imageType=T.getInt32(12,!0),_.maxZError=T.getFloat64(16,!0),_.zMin=T.getFloat64(24,!0),_.zMax=T.getFloat64(32,!0),I+=40,m.headerInfo=_,m.ptr=I,S>=3&&(b=S>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(p,I-b,_.blobSize-14))!==_.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(p,m){var I=m.headerInfo,w=this.getDataTypeArray(I.imageType),_=I.numDims*this.getDataTypeSize(I.imageType),b=this.readSubArray(p,m.ptr,w,_),T=this.readSubArray(p,m.ptr+_,w,_);m.ptr+=2*_;var S,k=!0;for(S=0;S<I.numDims;S++)if(b[S]!==T[S]){k=!1;break}return I.minValues=b,I.maxValues=T,k},readSubArray:function(p,m,I,w){var _;if(I===Uint8Array)_=new Uint8Array(p,m,w);else{var b=new ArrayBuffer(w);new Uint8Array(b).set(new Uint8Array(p,m,w)),_=new I(b)}return _},readMask:function(p,m){var I,w,_=m.ptr,b=m.headerInfo,T=b.width*b.height,S=b.numValidPixel,k=new DataView(p,_,4),F={};if(F.numBytes=k.getUint32(0,!0),_+=4,(S===0||T===S)&&F.numBytes!==0)throw"invalid mask";if(S===0)I=new Uint8Array(Math.ceil(T/8)),F.bitset=I,w=new Uint8Array(T),m.pixels.resultMask=w,_+=F.numBytes;else if(F.numBytes>0){I=new Uint8Array(Math.ceil(T/8));var N=(k=new DataView(p,_,F.numBytes)).getInt16(0,!0),G=2,V=0,W=0;do{if(N>0)for(;N--;)I[V++]=k.getUint8(G++);else for(W=k.getUint8(G++),N=-N;N--;)I[V++]=W;N=k.getInt16(G,!0),G+=2}while(G<F.numBytes);if(N!==-32768||V<I.length)throw"Unexpected end of mask RLE encoding";w=new Uint8Array(T);var X=0,K=0;for(K=0;K<T;K++)7&K?(X=I[K>>3],X<<=7&K):X=I[K>>3],128&X&&(w[K]=1);m.pixels.resultMask=w,F.bitset=I,_+=F.numBytes}return m.ptr=_,m.mask=F,!0},readDataOneSweep:function(p,m,I,w){var _,b=m.ptr,T=m.headerInfo,S=T.numDims,k=T.width*T.height,F=T.imageType,N=T.numValidPixel*c.getDataTypeSize(F)*S,G=m.pixels.resultMask;if(I===Uint8Array)_=new Uint8Array(p,b,N);else{var V=new ArrayBuffer(N);new Uint8Array(V).set(new Uint8Array(p,b,N)),_=new I(V)}if(_.length===k*S)m.pixels.resultPixels=w?c.swapDimensionOrder(_,k,S,I,!0):_;else{m.pixels.resultPixels=new I(k*S);var W=0,X=0,K=0,st=0;if(S>1){if(w){for(X=0;X<k;X++)if(G[X])for(st=X,K=0;K<S;K++,st+=k)m.pixels.resultPixels[st]=_[W++]}else for(X=0;X<k;X++)if(G[X])for(st=X*S,K=0;K<S;K++)m.pixels.resultPixels[st+K]=_[W++]}else for(X=0;X<k;X++)G[X]&&(m.pixels.resultPixels[X]=_[W++])}return b+=N,m.ptr=b,!0},readHuffmanTree:function(p,m){var I=this.HUFFMAN_LUT_BITS_MAX,w=new DataView(p,m.ptr,16);if(m.ptr+=16,w.getInt32(0,!0)<2)throw"unsupported Huffman version";var _=w.getInt32(4,!0),b=w.getInt32(8,!0),T=w.getInt32(12,!0);if(b>=T)return!1;var S=new Uint32Array(T-b);c.decodeBits(p,m,S);var k,F,N,G,V=[];for(k=b;k<T;k++)V[F=k-(k<_?0:_)]={first:S[k-b],second:null};var W=p.byteLength-m.ptr,X=Math.ceil(W/4),K=new ArrayBuffer(4*X);new Uint8Array(K).set(new Uint8Array(p,m.ptr,W));var st,et=new Uint32Array(K),it=0,ot=0;for(st=et[0],k=b;k<T;k++)(G=V[F=k-(k<_?0:_)].first)>0&&(V[F].second=st<<it>>>32-G,32-it>=G?(it+=G)===32&&(it=0,st=et[++ot]):(it+=G-32,st=et[++ot],V[F].second|=st>>>32-it));var ht=0,vt=0,Ct=new h;for(k=0;k<V.length;k++)V[k]!==void 0&&(ht=Math.max(ht,V[k].first));vt=ht>=I?I:ht;var wt,mt,Rt,Mt,Bt,at=[];for(k=b;k<T;k++)if((G=V[F=k-(k<_?0:_)].first)>0)if(wt=[G,F],G<=vt)for(mt=V[F].second<<vt-G,Rt=1<<vt-G,N=0;N<Rt;N++)at[mt|N]=wt;else for(mt=V[F].second,Bt=Ct,Mt=G-1;Mt>=0;Mt--)mt>>>Mt&1?(Bt.right||(Bt.right=new h),Bt=Bt.right):(Bt.left||(Bt.left=new h),Bt=Bt.left),Mt===0&&!Bt.val&&(Bt.val=wt[1]);return{decodeLut:at,numBitsLUTQick:vt,numBitsLUT:ht,tree:Ct,stuffedData:et,srcPtr:ot,bitPos:it}},readHuffman:function(p,m,I,w){var _,b,T,S,k,F,N,G,V,W=m.headerInfo.numDims,X=m.headerInfo.height,K=m.headerInfo.width,st=K*X,et=this.readHuffmanTree(p,m),it=et.decodeLut,ot=et.tree,ht=et.stuffedData,vt=et.srcPtr,Ct=et.bitPos,wt=et.numBitsLUTQick,mt=et.numBitsLUT,Rt=m.headerInfo.imageType===0?128:0,Mt=m.pixels.resultMask,Bt=0;Ct>0&&(vt++,Ct=0);var at,kt=ht[vt],_t=m.encodeMode===1,zt=new I(st*W),Ft=zt;if(W<2||_t){for(at=0;at<W;at++)if(W>1&&(Ft=new I(zt.buffer,st*at,st),Bt=0),m.headerInfo.numValidPixel===K*X)for(G=0,F=0;F<X;F++)for(N=0;N<K;N++,G++){if(b=0,k=S=kt<<Ct>>>32-wt,32-Ct<wt&&(k=S|=ht[vt+1]>>>64-Ct-wt),it[k])b=it[k][1],Ct+=it[k][0];else for(k=S=kt<<Ct>>>32-mt,32-Ct<mt&&(k=S|=ht[vt+1]>>>64-Ct-mt),_=ot,V=0;V<mt;V++)if(!(_=S>>>mt-V-1&1?_.right:_.left).left&&!_.right){b=_.val,Ct=Ct+V+1;break}Ct>=32&&(Ct-=32,kt=ht[++vt]),T=b-Rt,_t?(T+=N>0?Bt:F>0?Ft[G-K]:Bt,T&=255,Ft[G]=T,Bt=T):Ft[G]=T}else for(G=0,F=0;F<X;F++)for(N=0;N<K;N++,G++)if(Mt[G]){if(b=0,k=S=kt<<Ct>>>32-wt,32-Ct<wt&&(k=S|=ht[vt+1]>>>64-Ct-wt),it[k])b=it[k][1],Ct+=it[k][0];else for(k=S=kt<<Ct>>>32-mt,32-Ct<mt&&(k=S|=ht[vt+1]>>>64-Ct-mt),_=ot,V=0;V<mt;V++)if(!(_=S>>>mt-V-1&1?_.right:_.left).left&&!_.right){b=_.val,Ct=Ct+V+1;break}Ct>=32&&(Ct-=32,kt=ht[++vt]),T=b-Rt,_t?(N>0&&Mt[G-1]?T+=Bt:F>0&&Mt[G-K]?T+=Ft[G-K]:T+=Bt,T&=255,Ft[G]=T,Bt=T):Ft[G]=T}}else for(G=0,F=0;F<X;F++)for(N=0;N<K;N++)if(G=F*K+N,!Mt||Mt[G])for(at=0;at<W;at++,G+=st){if(b=0,k=S=kt<<Ct>>>32-wt,32-Ct<wt&&(k=S|=ht[vt+1]>>>64-Ct-wt),it[k])b=it[k][1],Ct+=it[k][0];else for(k=S=kt<<Ct>>>32-mt,32-Ct<mt&&(k=S|=ht[vt+1]>>>64-Ct-mt),_=ot,V=0;V<mt;V++)if(!(_=S>>>mt-V-1&1?_.right:_.left).left&&!_.right){b=_.val,Ct=Ct+V+1;break}Ct>=32&&(Ct-=32,kt=ht[++vt]),T=b-Rt,Ft[G]=T}m.ptr=m.ptr+4*(vt+1)+(Ct>0?4:0),m.pixels.resultPixels=zt,W>1&&!w&&(m.pixels.resultPixels=c.swapDimensionOrder(zt,st,W,I))},decodeBits:function(p,m,I,w,_){var b=m.headerInfo,T=b.fileVersion,S=0,k=p.byteLength-m.ptr>=5?5:p.byteLength-m.ptr,F=new DataView(p,m.ptr,k),N=F.getUint8(0);S++;var G=N>>6,V=G===0?4:3-G,W=(32&N)>0,X=31&N,K=0;if(V===1)K=F.getUint8(S),S++;else if(V===2)K=F.getUint16(S,!0),S+=2;else{if(V!==4)throw"Invalid valid pixel count type";K=F.getUint32(S,!0),S+=4}var st,et,it,ot,ht,vt,Ct,wt,mt,Rt=2*b.maxZError,Mt=b.numDims>1?b.maxValues[_]:b.zMax;if(W){for(m.counter.lut++,wt=F.getUint8(S),S++,ot=Math.ceil((wt-1)*X/8),ht=Math.ceil(ot/4),et=new ArrayBuffer(4*ht),it=new Uint8Array(et),m.ptr+=S,it.set(new Uint8Array(p,m.ptr,ot)),Ct=new Uint32Array(et),m.ptr+=ot,mt=0;wt-1>>>mt;)mt++;ot=Math.ceil(K*mt/8),ht=Math.ceil(ot/4),et=new ArrayBuffer(4*ht),(it=new Uint8Array(et)).set(new Uint8Array(p,m.ptr,ot)),st=new Uint32Array(et),m.ptr+=ot,vt=T>=3?r(Ct,X,wt-1,w,Rt,Mt):t(Ct,X,wt-1,w,Rt,Mt),T>=3?n(st,I,mt,K,vt):e(st,I,mt,K,vt)}else m.counter.bitstuffer++,mt=X,m.ptr+=S,mt>0&&(ot=Math.ceil(K*mt/8),ht=Math.ceil(ot/4),et=new ArrayBuffer(4*ht),(it=new Uint8Array(et)).set(new Uint8Array(p,m.ptr,ot)),st=new Uint32Array(et),m.ptr+=ot,T>=3?w==null?l(st,I,mt,K):n(st,I,mt,K,!1,w,Rt,Mt):w==null?o(st,I,mt,K):e(st,I,mt,K,!1,w,Rt,Mt))},readTiles:function(p,m,I,w){var _=m.headerInfo,b=_.width,T=_.height,S=b*T,k=_.microBlockSize,F=_.imageType,N=c.getDataTypeSize(F),G=Math.ceil(b/k),V=Math.ceil(T/k);m.pixels.numBlocksY=V,m.pixels.numBlocksX=G,m.pixels.ptr=0;var W,X,K,st,et,it,ot,ht,vt,Ct,wt=0,mt=0,Rt=0,Mt=0,Bt=0,at=0,kt=0,_t=0,zt=0,Ft=0,qt=0,Gt=0,ge=0,Fe=0,ee=0,pn=new I(k*k),Te=T%k||k,Wt=b%k||k,Ot=_.numDims,ue=m.pixels.resultMask,Ne=m.pixels.resultPixels,si=_.fileVersion>=5?14:15,Ti=_.zMax;for(Rt=0;Rt<V;Rt++)for(Bt=Rt!==V-1?k:Te,Mt=0;Mt<G;Mt++)for(Ft=Rt*b*k+Mt*k,qt=b-(at=Mt!==G-1?k:Wt),ht=0;ht<Ot;ht++){if(Ot>1?(Ct=Ne,Ft=Rt*b*k+Mt*k,Ne=new I(m.pixels.resultPixels.buffer,S*ht*N,S),Ti=_.maxValues[ht]):Ct=null,kt=p.byteLength-m.ptr,X={},ee=0,_t=(W=new DataView(p,m.ptr,Math.min(10,kt))).getUint8(0),ee++,vt=_.fileVersion>=5?4&_t:0,zt=_t>>6&255,(_t>>2&si)!==(Mt*k>>3&si)||vt&&ht===0)throw"integrity issue";if((et=3&_t)>3)throw m.ptr+=ee,"Invalid block encoding ("+et+")";if(et!==2)if(et===0){if(vt)throw"integrity issue";if(m.counter.uncompressed++,m.ptr+=ee,Gt=(Gt=Bt*at*N)<(ge=p.byteLength-m.ptr)?Gt:ge,K=new ArrayBuffer(Gt%N==0?Gt:Gt+N-Gt%N),new Uint8Array(K).set(new Uint8Array(p,m.ptr,Gt)),st=new I(K),Fe=0,ue)for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)ue[Ft]&&(Ne[Ft]=st[Fe++]),Ft++;Ft+=qt}else for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)Ne[Ft++]=st[Fe++];Ft+=qt}m.ptr+=Fe*N}else if(it=c.getDataTypeUsed(vt&&F<6?4:F,zt),ot=c.getOnePixel(X,ee,it,W),ee+=c.getDataTypeSize(it),et===3)if(m.ptr+=ee,m.counter.constantoffset++,ue)for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)ue[Ft]&&(Ne[Ft]=vt?Math.min(Ti,Ct[Ft]+ot):ot),Ft++;Ft+=qt}else for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)Ne[Ft]=vt?Math.min(Ti,Ct[Ft]+ot):ot,Ft++;Ft+=qt}else if(m.ptr+=ee,c.decodeBits(p,m,pn,ot,ht),ee=0,vt)if(ue)for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)ue[Ft]&&(Ne[Ft]=pn[ee++]+Ct[Ft]),Ft++;Ft+=qt}else for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)Ne[Ft]=pn[ee++]+Ct[Ft],Ft++;Ft+=qt}else if(ue)for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)ue[Ft]&&(Ne[Ft]=pn[ee++]),Ft++;Ft+=qt}else for(wt=0;wt<Bt;wt++){for(mt=0;mt<at;mt++)Ne[Ft++]=pn[ee++];Ft+=qt}else{if(vt)if(ue)for(wt=0;wt<Bt;wt++)for(mt=0;mt<at;mt++)ue[Ft]&&(Ne[Ft]=Ct[Ft]),Ft++;else for(wt=0;wt<Bt;wt++)for(mt=0;mt<at;mt++)Ne[Ft]=Ct[Ft],Ft++;m.counter.constant++,m.ptr+=ee}}Ot>1&&!w&&(m.pixels.resultPixels=c.swapDimensionOrder(m.pixels.resultPixels,S,Ot,I))},formatFileInfo:function(p){return{fileIdentifierString:p.headerInfo.fileIdentifierString,fileVersion:p.headerInfo.fileVersion,imageType:p.headerInfo.imageType,height:p.headerInfo.height,width:p.headerInfo.width,numValidPixel:p.headerInfo.numValidPixel,microBlockSize:p.headerInfo.microBlockSize,blobSize:p.headerInfo.blobSize,maxZError:p.headerInfo.maxZError,pixelType:c.getPixelType(p.headerInfo.imageType),eofOffset:p.eofOffset,mask:p.mask?{numBytes:p.mask.numBytes}:null,pixels:{numBlocksX:p.pixels.numBlocksX,numBlocksY:p.pixels.numBlocksY,maxValue:p.headerInfo.zMax,minValue:p.headerInfo.zMin,noDataValue:p.noDataValue}}},constructConstantSurface:function(p,m){var I=p.headerInfo.zMax,w=p.headerInfo.zMin,_=p.headerInfo.maxValues,b=p.headerInfo.numDims,T=p.headerInfo.height*p.headerInfo.width,S=0,k=0,F=0,N=p.pixels.resultMask,G=p.pixels.resultPixels;if(N)if(b>1){if(m)for(S=0;S<b;S++)for(F=S*T,I=_[S],k=0;k<T;k++)N[k]&&(G[F+k]=I);else for(k=0;k<T;k++)if(N[k])for(F=k*b,S=0;S<b;S++)G[F+b]=_[S]}else for(k=0;k<T;k++)N[k]&&(G[k]=I);else if(b>1&&w!==I)if(m)for(S=0;S<b;S++)for(F=S*T,I=_[S],k=0;k<T;k++)G[F+k]=I;else for(k=0;k<T;k++)for(F=k*b,S=0;S<b;S++)G[F+S]=_[S];else for(k=0;k<T*b;k++)G[k]=I},getDataTypeArray:function(p){var m;switch(p){case 0:m=Int8Array;break;case 1:m=Uint8Array;break;case 2:m=Int16Array;break;case 3:m=Uint16Array;break;case 4:m=Int32Array;break;case 5:m=Uint32Array;break;case 6:default:m=Float32Array;break;case 7:m=Float64Array}return m},getPixelType:function(p){var m;switch(p){case 0:m="S8";break;case 1:m="U8";break;case 2:m="S16";break;case 3:m="U16";break;case 4:m="S32";break;case 5:m="U32";break;case 6:default:m="F32";break;case 7:m="F64"}return m},isValidPixelValue:function(p,m){if(m==null)return!1;var I;switch(p){case 0:I=m>=-128&&m<=127;break;case 1:I=m>=0&&m<=255;break;case 2:I=m>=-32768&&m<=32767;break;case 3:I=m>=0&&m<=65536;break;case 4:I=m>=-2147483648&&m<=2147483647;break;case 5:I=m>=0&&m<=4294967296;break;case 6:I=m>=-34027999387901484e22&&m<=34027999387901484e22;break;case 7:I=m>=-17976931348623157e292&&m<=17976931348623157e292;break;default:I=!1}return I},getDataTypeSize:function(p){var m=0;switch(p){case 0:case 1:m=1;break;case 2:case 3:m=2;break;case 4:case 5:case 6:m=4;break;case 7:m=8;break;default:m=p}return m},getDataTypeUsed:function(p,m){var I=p;switch(p){case 2:case 4:I=p-m;break;case 3:case 5:I=p-2*m;break;case 6:I=m===0?p:m===1?2:1;break;case 7:I=m===0?p:p-2*m+1;break;default:I=p}return I},getOnePixel:function(p,m,I,w){var _=0;switch(I){case 0:_=w.getInt8(m);break;case 1:_=w.getUint8(m);break;case 2:_=w.getInt16(m,!0);break;case 3:_=w.getUint16(m,!0);break;case 4:_=w.getInt32(m,!0);break;case 5:_=w.getUInt32(m,!0);break;case 6:_=w.getFloat32(m,!0);break;case 7:_=w.getFloat64(m,!0);break;default:throw"the decoder does not understand this pixel type"}return _},swapDimensionOrder:function(p,m,I,w,_){var b=0,T=0,S=0,k=0,F=p;if(I>1)if(F=new w(m*I),_)for(b=0;b<m;b++)for(k=b,S=0;S<I;S++,k+=m)F[k]=p[T++];else for(b=0;b<m;b++)for(k=b,S=0;S<I;S++,k+=m)F[T++]=p[k];return F}},h=function(p,m,I){this.val=p,this.left=m,this.right=I},f={decode:function(p,m){var I=(m=m||{}).noDataValue,w=0,_={};if(_.ptr=m.inputOffset||0,_.pixels={},c.readHeaderInfo(p,_)){var b=_.headerInfo,T=b.fileVersion,S=c.getDataTypeArray(b.imageType);if(T>5)throw"unsupported lerc version 2."+T;c.readMask(p,_),b.numValidPixel!==b.width*b.height&&!_.pixels.resultMask&&(_.pixels.resultMask=m.maskData);var k=b.width*b.height;_.pixels.resultPixels=new S(k*b.numDims),_.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var F,N=!m.returnPixelInterleavedDims;if(b.numValidPixel!==0)if(b.zMax===b.zMin)c.constructConstantSurface(_,N);else if(T>=4&&c.checkMinMaxRanges(p,_))c.constructConstantSurface(_,N);else{var G=new DataView(p,_.ptr,2),V=G.getUint8(0);if(_.ptr++,V)c.readDataOneSweep(p,_,S,N);else if(T>1&&b.imageType<=1&&Math.abs(b.maxZError-.5)<1e-5){var W=G.getUint8(1);if(_.ptr++,_.encodeMode=W,W>2||T<4&&W>1)throw"Invalid Huffman flag "+W;W?c.readHuffman(p,_,S,N):c.readTiles(p,_,S,N)}else c.readTiles(p,_,S,N)}_.eofOffset=_.ptr,m.inputOffset?(F=_.headerInfo.blobSize+m.inputOffset-_.ptr,Math.abs(F)>=1&&(_.eofOffset=m.inputOffset+_.headerInfo.blobSize)):(F=_.headerInfo.blobSize-_.ptr,Math.abs(F)>=1&&(_.eofOffset=_.headerInfo.blobSize));var X={width:b.width,height:b.height,pixelData:_.pixels.resultPixels,minValue:b.zMin,maxValue:b.zMax,validPixelCount:b.numValidPixel,dimCount:b.numDims,dimStats:{minValues:b.minValues,maxValues:b.maxValues},maskData:_.pixels.resultMask};if(_.pixels.resultMask&&c.isValidPixelValue(b.imageType,I)){var K=_.pixels.resultMask;for(w=0;w<k;w++)K[w]||(X.pixelData[w]=I);X.noDataValue=I}return _.noDataValue=I,m.returnFileInfo&&(X.fileInfo=c.formatFileInfo(_)),X}},getBandCount:function(p){for(var m=0,I=0,w={ptr:0,pixels:{}};I<p.byteLength-58;)c.readHeaderInfo(p,w),I+=w.headerInfo.blobSize,m++,w.ptr=I;return m}};return f}();var re=function(){var e=new ArrayBuffer(4),t=new Uint8Array(e);return new Uint32Array(e)[0]=1,t[0]===1}(),Ae=function(e,t){if(!re)throw"Big endian system is not supported.";var n,r,o,l,c,h=(t=t||{}).inputOffset||0,f=new Uint8Array(e,h,10),p=String.fromCharCode.apply(null,f);if(p.trim()==="CntZImage")n=Ht,r=1;else{if(p.substring(0,5)!=="Lerc2")throw"Unexpected file identifier string: "+p;n=le,r=2}for(var m,I,w,_=0,b=e.byteLength-10,T=[],S={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},k=0;h<b;){var F=n.decode(e,{inputOffset:h,encodedMaskData:m,maskData:w,returnMask:_===0,returnEncodedMask:_===0,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});h=F.fileInfo.eofOffset,w=F.maskData,_===0&&(m=F.encodedMaskData,S.width=F.width,S.height=F.height,S.dimCount=F.dimCount||1,S.pixelType=F.pixelType||F.fileInfo.pixelType,S.mask=w),r>1&&(w&&T.push(w),F.fileInfo.mask&&F.fileInfo.mask.numBytes>0&&k++),_++,S.pixels.push(F.pixelData),S.statistics.push({minValue:F.minValue,maxValue:F.maxValue,noDataValue:F.noDataValue,dimStats:F.dimStats})}if(r>1&&k>1){for(c=S.width*S.height,S.bandMasks=T,(w=new Uint8Array(c)).set(T[0]),o=1;o<T.length;o++)for(I=T[o],l=0;l<c;l++)w[l]=w[l]&I[l];S.maskData=w}return S};const Pe={0:7e3,1:6e3,2:5e3,3:4e3,4:3e3,5:2500,6:2e3,7:1500,8:800,9:500,10:200,11:100,12:40,13:12,14:5,15:2,16:1,17:.5,18:.2,19:.1,20:.01};function he(e,t,n){let r=function(f){const{height:p,width:m,pixels:I}=Ae(f),w=new Float32Array(p*m);for(let _=0;_<w.length;_++)w[_]=I[0][_];return{array:w,width:m,height:p}}(e);n[2]-n[0]<1&&(r=function(f,p){function m(b,T,S,k,F,N,G,V){const W=new Float32Array(F*N);for(let K=0;K<N;K++)for(let st=0;st<F;st++){const et=(K+k)*T+(st+S);W[K*F+st]=b[et]}const X=new Float32Array(V*G);for(let K=0;K<V;K++)for(let st=0;st<G;st++){const et=K*V+st,it=Math.round(st*N/V),ot=Math.round(K*F/G)*F+it;X[et]=W[ot]}return X}const I=function(b,T){const S=Math.floor(b[0]*T),k=Math.floor(b[1]*T),F=Math.floor((b[2]-b[0])*T),N=Math.floor((b[3]-b[1])*T);return{sx:S,sy:k,sw:F,sh:N}}(p,f.width),w=I.sw+1,_=I.sh+1;return{array:m(f.array,f.width,I.sx,I.sy,I.sw,I.sh,w,_),width:w,height:_}}(r,n));const{array:o,width:l}=r,c=new ut(l).createTile(o),h=Pe[t]||0;return c.getGeometryData(h)}nn(new class extends lt{constructor(){super(),d(this,"info",{version:"0.10.0",description:"Tile LERC terrain loader. It can load ArcGis-lerc format terrain data."}),d(this,"dataType","lerc"),d(this,"fileLoader",new D.FileLoader(M.manager)),d(this,"_workerPool",new Qt(0)),this.fileLoader.setResponseType("arraybuffer"),this._workerPool.setWorkerCreator(()=>new pt)}async doLoad(e,t){this._workerPool.pool===0&&this._workerPool.setWorkerLimit(10);const{z:n,bounds:r}=t,o=he(await this.fileLoader.loadAsync(e).catch(()=>new Float32Array(65536)),n,r);return new Z().setData(o)}});const Xe="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGModCl7cmV0dXJuIGEodC5kYXRhKX1mdW5jdGlvbiBhKHQpe2Z1bmN0aW9uIG4oZSx1KXtjb25zdCByPXUqNCxbaSxmLGcsbF09ZS5zbGljZShyLHIrNCk7cmV0dXJuIGw9PT0wPzA6LTFlNCsoaTw8MTZ8Zjw8OHxnKSouMX1jb25zdCBvPXQubGVuZ3RoPj4+MixzPW5ldyBGbG9hdDMyQXJyYXkobyk7Zm9yKGxldCBlPTA7ZTxvO2UrKylzW2VdPW4odCxlKTtyZXR1cm4gc31zZWxmLm9ubWVzc2FnZT10PT57Y29uc3Qgbj1jKHQuZGF0YS5pbWdEYXRhKTtzZWxmLnBvc3RNZXNzYWdlKG4pfX0pKCk7Cg==",fe=typeof self<"u"&&self.Blob&&new Blob([(e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)))(Xe)],{type:"text/javascript;charset=utf-8"});function an(e){let t;try{if(t=fe&&(self.URL||self.webkitURL).createObjectURL(fe),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+Xe,{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}nn(new class extends lt{constructor(){super(),d(this,"info",{version:"0.10.0",description:"Mapbox-RGB terrain loader, It can load Mapbox-RGB terrain data."}),d(this,"dataType","terrain-rgb"),d(this,"imageLoader",new D.ImageLoader(M.manager)),d(this,"_workerPool",new Qt(0)),this._workerPool.setWorkerCreator(()=>new an)}async doLoad(e,t){const n=await this.imageLoader.loadAsync(e).catch(h=>new Image),r=D.MathUtils.clamp(3*(t.z+2),2,64),o=function(h,f,p){const m=Q(f,h.width);p=Math.min(p,m.sw);const I=new OffscreenCanvas(p,p).getContext("2d");return I.imageSmoothingEnabled=!1,I.drawImage(h,m.sx,m.sy,m.sw,m.sh,0,0,p,p),I.getImageData(0,0,p,p)}(n,t.bounds,r);let l;this._workerPool.pool===0&&this._workerPool.setWorkerLimit(10),l=(await this._workerPool.postMessage({imgData:o},[o.data.buffer])).data;const c=new Z;return c.setData(l),c}});var hn=(e=>(e[e.none=0]="none",e[e.create=1]="create",e[e.remove=2]="remove",e))(hn||{});const kn=new D.InstancedBufferGeometry,bi=new D.Vector3,vs=new D.Matrix4,Se=new D.Box3(new D.Vector3(-.5,-.5,0),new D.Vector3(.5,.5,1)),qe=new D.Frustum,Ln=class ET extends D.Mesh{constructor(t=0,n=0,r=0){super(kn,[]),d(this,"x"),d(this,"y"),d(this,"z"),d(this,"isTile",!0),d(this,"parent",null),d(this,"children",[]),d(this,"_ready",!1),d(this,"_isDummy",!1),d(this,"_showing",!1),d(this,"_maxZ",0),d(this,"distToCamera",0),d(this,"sizeInWorld",0),d(this,"_loaded",!1),d(this,"_inFrustum",!1),this.x=t,this.y=n,this.z=r,this.name=`Tile ${r}-${t}-${n}`,this.up.set(0,0,1),this.matrixAutoUpdate=!1}static get downloadThreads(){return ET._downloadThreads}get isDummy(){return this._isDummy}get showing(){return this._showing}set showing(t){this._showing=t,this.material.forEach(n=>n.visible=t)}get maxZ(){return this._maxZ}set maxZ(t){this._maxZ=t}get index(){return this.parent?this.parent.children.indexOf(this):-1}get loaded(){return this._loaded}get inFrustum(){return this._inFrustum}set inFrustum(t){this._inFrustum=t}get isLeaf(){return this.children.filter(t=>t.isTile).length===0}traverse(t){t(this),this.children.forEach(n=>{n.isTile&&n.traverse(t)})}traverseVisible(t){this.visible&&(t(this),this.children.forEach(n=>{n.isTile&&n.traverseVisible(t)}))}raycast(t,n){this.showing&&this.loaded&&this.isTile&&super.raycast(t,n)}LOD(t){if(ET.downloadThreads>10)return{action:hn.none};let n=[];const{loader:r,minLevel:o,maxLevel:l,LODThreshold:c}=t,h=function(f,p,m,I){const w=function(_){return _.distToCamera/_.sizeInWorld*.8}(f);if(f.isLeaf){if(f.inFrustum&&f.z<m&&(f.z<p||f.showing)&&(f.z<p||w<I))return 1}else if(f.z>=p&&(f.z>m||w>I))return 2;return 0}(this,o,l,c);return h===hn.create&&(n=function(f,p,m,I){const w=[],_=I+1,b=2*p,T=.25,S=f.imgSource[0].projectionID==="4326";if(I===0&&S){const k=m,F=new D.Vector3(.5,1,1),N=new Ye(b,k,_),G=new Ye(b,k,_);N.position.set(-.25,0,0),N.scale.copy(F),G.position.set(T,0,0),G.scale.copy(F),w.push(N,G)}else{const k=2*m,F=new D.Vector3(.5,.5,1),N=new Ye(b,k,_),G=new Ye(b+1,k,_),V=new Ye(b,k+1,_),W=new Ye(b+1,k+1,_);N.position.set(-.25,T,0),N.scale.copy(F),G.position.set(T,T,0),G.scale.copy(F),V.position.set(-.25,-.25,0),V.scale.copy(F),W.position.set(T,-.25,0),W.scale.copy(F),w.push(N,G,V,W)}return w}(r,this.x,this.y,this.z),this.add(...n)),{action:h,newTiles:n}}_checkVisible(){const t=this.parent;if(t&&t.isTile){const n=t.children.filter(o=>o.isTile),r=n.every(o=>o.loaded);t.showing=!r,n.forEach(o=>o.showing=r)}return this}async _load(t){var c;ET._downloadThreads++;const{x:n,y:r,z:o}=this,l=await t.load({x:n,y:r,z:o,bounds:[-1/0,-1/0,1/0,1/0]});return this.material=l.materials,this.geometry=l.geometry,this.maxZ=((c=this.geometry.boundingBox)==null?void 0:c.max.z)||0,this._loaded=!0,ET._downloadThreads--,this}_init(){this.updateMatrix(),this.updateMatrixWorld(),this.sizeInWorld=function(t){const n=t.scale,r=new D.Vector3(-n.x,-n.y,0).applyMatrix4(t.matrixWorld),o=new D.Vector3(n.x,n.y,0).applyMatrix4(t.matrixWorld);return r.sub(o).length()}(this)}update(t){if(console.assert(this.z===0),!this.parent)return this;qe.setFromProjectionMatrix(vs.multiplyMatrices(t.camera.projectionMatrix,t.camera.matrixWorldInverse));const n=t.camera.getWorldPosition(bi);return this.traverse(r=>{r.receiveShadow=this.receiveShadow,r.castShadow=this.castShadow;const o=Se.clone().applyMatrix4(r.matrixWorld);o.max.setY(9e3),r.inFrustum=qe.intersectsBox(o),r.distToCamera=function(h,f){const p=h.position.clone().setZ(h.maxZ).applyMatrix4(h.matrixWorld);return f.distanceTo(p)}(r,n);const{action:l,newTiles:c}=r.LOD(t);this._doAction(r,l,c,t)}),this._checkReady(),this}_doAction(t,n,r,o){return n===hn.create?r==null||r.forEach(l=>{l._init(),l._isDummy=l.z<o.minLevel,this.dispatchEvent({type:"tile-created",tile:l}),l.isDummy||l._load(o.loader).then(()=>{l._checkVisible(),this.dispatchEvent({type:"tile-loaded",tile:l})})}):n===hn.remove&&(t.showing=!0,t._unLoad(!1,o.loader),this.dispatchEvent({type:"tile-unload",tile:t})),this}reload(t){return this._unLoad(!0,t),this}_checkReady(){return this._ready||(this._ready=!0,this.traverse(t=>{t.isLeaf&&t.loaded&&!t.isDummy&&(this._ready=!1)}),this._ready&&this.dispatchEvent({type:"ready"})),this}_unLoad(t,n){var r;return t&&this.isTile&&!this.isDummy&&(this.dispatchEvent({type:"unload"}),(r=n==null?void 0:n.unload)==null||r.call(n,this)),this.children.forEach(o=>o._unLoad(!0,n)),this.clear(),this}};d(Ln,"_downloadThreads",0);let Ye=Ln,Kn=class WK{constructor(t){d(this,"dataType","image"),d(this,"attribution","ThreeTile"),d(this,"minLevel",0),d(this,"maxLevel",18),d(this,"projectionID","3857"),d(this,"url",""),d(this,"subdomains",[]),d(this,"s",""),d(this,"opacity",1),d(this,"isTMS",!1),d(this,"bounds",[-180,-85,180,85]),d(this,"_projectionBounds",[-1/0,-1/0,1/0,1/0]),Object.assign(this,t)}getUrl(t,n,r){const o={...this,x:t,y:n,z:r};return function(l,c){const h=/\{ *([\w_-]+) *\}/g;return l.replace(h,(f,p)=>{const m=c[p]??(()=>{throw new Error(`source url template error, No value provided for variable: ${f}`)})();return typeof m=="function"?m(c):m})}(this.url,o)}_getUrl(t,n,r){const o=this.subdomains.length;if(o>0){const c=Math.floor(Math.random()*o);this.s=this.subdomains[c]}const l=this.isTMS?Math.pow(2,r)-1-n:n;return this.getUrl(t,l,r)}static create(t){return new WK(t)}},mi=class{constructor(e=0){d(this,"_lon0",0),this._lon0=e}get lon0(){return this._lon0}getTileXWithCenterLon(e,t){const n=Math.pow(2,t);let r=e+Math.round(n/360*this._lon0);return r>=n?r-=n:r<0&&(r+=n),r}getTileXYZproj(e,t,n){const r=this.mapWidth,o=this.mapHeight/2;return{x:e/Math.pow(2,n)*r-r/2,y:o-t/Math.pow(2,n)*o*2}}getProjBoundsFromLonLat(e){const t=e[0]===-180&&e[2]===180,n=this.project(e[0]+(t?this._lon0:0),e[1]),r=this.project(e[2]+(t?this._lon0:0),e[3]);return[Math.min(n.x,r.x),Math.min(n.y,r.y),Math.max(n.x,r.x),Math.max(n.y,r.y)]}getProjBoundsFromXYZ(e,t,n){const r=this.getTileXYZproj(e,t,n),o=this.getTileXYZproj(e+1,t+1,n);return[Math.min(r.x,o.x),Math.min(r.y,o.y),Math.max(r.x,o.x),Math.max(r.y,o.y)]}getLonLatBoundsFromXYZ(e,t,n){const r=this.getProjBoundsFromXYZ(e,t,n),o=this.unProject(r[0],r[1]),l=this.unProject(r[2],r[3]);return[o.lon,o.lat,l.lon,l.lat]}};const ii=6378e3;let ts=class extends mi{constructor(){super(...arguments),d(this,"ID","3857"),d(this,"mapWidth",2*Math.PI*ii),d(this,"mapHeight",this.mapWidth),d(this,"mapDepth",1)}project(e,t){const n=(e-this.lon0)*(Math.PI/180),r=t*(Math.PI/180);return{x:ii*n,y:ii*Math.log(Math.tan(Math.PI/4+r/2))}}unProject(e,t){let n=e/ii*(180/Math.PI)+this.lon0;return n>180&&(n-=360),{lat:(2*Math.atan(Math.exp(t/ii))-Math.PI/2)*(180/Math.PI),lon:n}}},Ue=class extends mi{constructor(){super(...arguments),d(this,"ID","4326"),d(this,"mapWidth",36e3),d(this,"mapHeight",18e3),d(this,"mapDepth",1)}project(e,t){return{x:100*(e-this.lon0),y:100*t}}unProject(e,t){return{lon:e/100+this.lon0,lat:t/100}}};const je=(e="3857",t)=>{let n;switch(e){case"3857":n=new ts(t);break;case"4326":n=new Ue(t);break;default:throw new Error(`Projection ID: ${e} is not supported.`)}return n};let Nt=class extends O{constructor(){super(...arguments),d(this,"_projection")}attcth(e,t){Object.assign(this,e),this._projection=t;const n=e.imgSource,r=e.demSource;n.forEach(o=>{o._projectionBounds=t.getProjBoundsFromLonLat(o.bounds)}),r&&(r._projectionBounds=t.getProjBoundsFromLonLat(r.bounds))}async load(e){if(!this._projection)throw new Error("projection is undefined");const{x:t,y:n,z:r}=e,o=this._projection.getTileXWithCenterLon(t,r),l=this._projection.getProjBoundsFromXYZ(t,n,r),c=this._projection.getLonLatBoundsFromXYZ(t,n,r);return super.load({x:o,y:n,z:r,bounds:l,lonLatBounds:c})}};function Vn(e,t){const n=t.intersectObjects([e.rootTile]);for(const r of n)if(r.object instanceof Ye){const o=e.worldToLocal(r.point.clone()),l=e.map2geo(o);return Object.assign(r,{location:l})}}function ze(e,t){const n=new D.Vector3(0,-1,0),r=new D.Vector3(t.x,1e4,t.z);return Vn(e,new D.Raycaster(r,n))}class In extends D.Mesh{constructor(t){super(),d(this,"name","map"),d(this,"_clock",new D.Clock),d(this,"isLOD",!0),d(this,"autoUpdate",!0),d(this,"updateInterval",100),d(this,"rootTile"),d(this,"loader"),d(this,"_loader",new Nt),d(this,"_minLevel",2),d(this,"_maxLevel",19),d(this,"_projection",new ts(0)),d(this,"_imgSource",[]),d(this,"_demSource"),d(this,"_LODThreshold",1),this.up.set(0,0,1);const{loader:n=new O,rootTile:r=new Ye,minLevel:o=2,maxLevel:l=19,imgSource:c,demSource:h,lon0:f=0}=t;this.loader=n,r.matrixAutoUpdate=!0,r.scale.set(this.projection.mapWidth,this.projection.mapHeight,this.projection.mapDepth),this.rootTile=r,this.minLevel=o,this.maxLevel=l,this.imgSource=c,this.demSource=h,this.lon0=f,this.add(r),r.updateMatrix(),function(p){const m=p.loader.manager,I=(w,_)=>{p.dispatchEvent({type:w,..._})};m.onStart=(w,_,b)=>{I("loading-start",{url:w,itemsLoaded:_,itemsTotal:b})},m.onError=w=>{I("loading-error",{url:w})},m.onLoad=()=>{I("loading-complete")},m.onProgress=(w,_,b)=>{I("loading-progress",{url:w,itemsLoaded:_,itemsTotal:b})},m.onParseEnd=w=>{I("parsing-end",{url:w})},p.rootTile.addEventListener("ready",()=>I("ready")),p.rootTile.addEventListener("tile-created",w=>{I("tile-created",{tile:w.tile})}),p.rootTile.addEventListener("tile-loaded",w=>{I("tile-loaded",{tile:w.tile})}),p.rootTile.addEventListener("tile-unload",w=>{I("tile-unload",{tile:w.tile})})}(this)}get minLevel(){return this._minLevel}set minLevel(t){this._minLevel=t}get maxLevel(){return this._maxLevel}set maxLevel(t){this._maxLevel=t}get lon0(){return this.projection.lon0}set lon0(t){this.projection.lon0!==t&&(t!=0&&this.minLevel<1&&console.warn(`Map centralMeridian is ${this.lon0}, minLevel must > 0`),this.projection=je(this.projection.ID,t),this.reload())}get projection(){return this._projection}set projection(t){(t.ID!=this.projection.ID||t.lon0!=this.lon0)&&(this.rootTile.scale.set(t.mapWidth,t.mapHeight,t.mapDepth),this._projection=t,this.reload(),this.dispatchEvent({type:"projection-changed",projection:t}))}get imgSource(){return this._imgSource}set imgSource(t){const n=Array.isArray(t)?t:[t];if(n.length===0)throw new Error("imgSource can not be empty");this.projection=je(n[0].projectionID,this.projection.lon0),this._imgSource=n,this.loader.imgSource=n,this.dispatchEvent({type:"source-changed",source:t})}get demSource(){return this._demSource}set demSource(t){this._demSource=t,this.loader.demSource=this._demSource,this.dispatchEvent({type:"source-changed",source:t})}get LODThreshold(){return this._LODThreshold}set LODThreshold(t){this._LODThreshold=t}static create(t){return new In(t)}update(t){const n=this._clock.getElapsedTime();if(n>this.updateInterval/1e3){this._loader.attcth(this.loader,this.projection);try{this.rootTile.update({camera:t,loader:this._loader,minLevel:this.minLevel,maxLevel:this.maxLevel,LODThreshold:this.LODThreshold}),this.rootTile.castShadow=this.castShadow,this.rootTile.receiveShadow=this.receiveShadow}catch(r){console.error("Error on loading tile data.",r)}this._clock.start(),this.dispatchEvent({type:"update",delta:n})}}reload(){this.rootTile.reload(this.loader)}dispose(){this.removeFromParent(),this.reload()}geo2pos(t){return this.geo2map(t)}geo2map(t){const n=this.projection.project(t.x,t.y);return new D.Vector3(n.x,n.y,t.z)}geo2world(t){return this.localToWorld(this.geo2map(t))}pos2geo(t){return this.map2geo(t)}map2geo(t){const n=this.projection.unProject(t.x,t.y);return new D.Vector3(n.lon,n.lat,t.z)}world2geo(t){return this.pos2geo(this.worldToLocal(t.clone()))}getLocalInfoFromGeo(t){return ze(this,this.geo2world(t))}getLocalInfoFromWorld(t){return ze(this,t)}getLocalInfoFromScreen(t,n){return function(r,o,l){const c=new D.Raycaster;return c.setFromCamera(l,r),Vn(o,c)}(t,this,n)}get downloading(){return Ye.downloadThreads}getTileCount(){let t=0,n=0,r=0,o=0,l=0;return this.rootTile.traverse(c=>{c.isTile&&(t++,c.isLeaf&&(o++,c.inFrustum&&n++),r=Math.max(r,c.z),l=Ye.downloadThreads)}),{total:t,visible:n,leaf:o,maxLevel:r,downloading:l}}}JSON.parse(`{\r
	"name": "@zkqh/c-three-tile",\r
	"version": "0.10.3.1",\r
	"type": "module",\r
	"files": [\r
		"dist"\r
	],\r
	"main": "./dist/index.umd.cjs",\r
	"module": "./dist/index.js",\r
	"types": "./dist/index.d.ts",\r
	"exports": {\r
		".": {\r
			"import": "./dist/index.js",\r
			"require": "./dist/index.umd.cjs",\r
			"types": "./dist/index.d.ts"\r
		}\r
	},\r
	"description": "A lightweight tile map using threejs",\r
	"license": "MIT",\r
	"author": {\r
		"name": "chaoxuelei",\r
		"email": "chaoxuelei@qq.com"\r
	},\r
	"keywords": [\r
		"three",\r
		"gis",\r
		"tile",\r
		"map",\r
		"3D",\r
		"cesium",\r
		"mapbox"\r
	],\r
	"scripts": {\r
		"dev": "vite build --watch",\r
		"build": "tsc && vite build"\r
	},\r
	"dependencies": {\r
		"three": "^0.165.0"\r
	},\r
	"publishConfig": {\r
		"registry": "https://registry.npmjs.org/",\r
		"access": "public"\r
	},\r
	"repository": {\r
		"type": "git",\r
		"url": "git+https://github.com/sxguojf/three-tile.git"\r
	},\r
	"bugs": {\r
		"url": "https://github.com/sxguojf/three-tile/issues"\r
	},\r
	"homepage": "https://github.com/sxguojf/three-tile#readme"\r
}\r
`);function nn(e){return M.registerGeometryLoader(e),e}var ci={exports:{}},wn={exports:{}},St={exports:{}};function gt([e,t,n,r]){return(n-e)*(r-t)}St.exports=gt,St.exports.default=gt;var ne=St.exports,Ie={exports:{}};function Ge(e,{nan_strategy:t="throw"}={nan_strategy:"throw"}){const n=e.length;let r=null,o=null,l=null,c=null;for(let h=0;h<n;h++){const[f,p]=e[h];if(isNaN(f)){if(t==="throw")throw new Error("[bbox-fns/bbox-array] encountered point with a NaN value: ["+f+", "+p+"]")}else r===null?(r=f,o=f):f<r?r=f:f>o&&(o=f);if(isNaN(p)){if(t==="throw")throw new Error("[bbox-fns/bbox-array] encountered point with a NaN value: ["+f+", "+p+"]")}else l===null?(l=p,c=p):p<l?l=p:p>c&&(c=p)}return[r,l,o,c]}Ie.exports=Ge,Ie.exports.default=Ge;var Be=Ie.exports,Pn={exports:{}};function ln([e,t]){return[e,t,e,t]}Pn.exports=ln,Pn.exports.default=ln;var _n=Pn.exports,Hi={exports:{}};function Ze([e,t,n,r]){return[n-e,r-t]}Hi.exports=Ze,Hi.exports.default=Ze;var bn=Hi.exports;const Ai=Va(bn);var fi={exports:{}};function Mn([e,t,n,r],[o,l,c,h],{exclusive:f=!1}={exclusive:!1}){return f?o>e&&c<n&&l>t&&h<r:o>=e&&c<=n&&l>=t&&h<=r}fi.exports=Mn,fi.exports.default=Mn;var es=fi.exports,Mi={exports:{}};function Ks([e,t,n,r],[o,l],{exclusive:c=!1}={exclusive:!1}){return c?l<r&&l>t&&o<n&&o>e:l>=t&&l<=r&&o>=e&&o<=n}Mi.exports=Ks,Mi.exports.default=Ks;var Zt=Mi.exports,An={exports:{}};function pe([e,t,n,r],[o,l,c,h]){return o<=n&&c>=e&&l<=r&&h>=t}An.exports=pe,An.exports.default=pe;var Qe=An.exports,dn={exports:{}};const mn=["right -> down -> left -> up","down -> left -> up -> right","left -> up -> right -> down","up -> right -> down -> left","down -> right -> up -> left","right -> up -> left -> down","up -> left -> down -> right","left -> down -> right -> up"];function Si(e,{debug:t=0}={debug:0}){if(!Array.isArray(e))return t&&console.log("[bbox-fns/booleanRectangle] coords is not an array"),!1;if(e.length===1&&(e=e[0]),e.length===1&&(e=e[0]),!e.every(r=>Array.isArray(r)&&r.every(o=>typeof o=="number")))return t&&console.log("[bbox-fns/booleanRectangle] invalid points"),!1;if(JSON.stringify(e[0])!==JSON.stringify(e[e.length-1]))return t&&console.log("[bbox-fns/booleanRectangle] first and last coordinates not equal"),!1;let n=[];for(let r=1;r<e.length;r++){const[o,l]=e[r-1],[c,h]=e[r],f=o===c,p=l===h;if(f===p)return t&&console.log("[bbox-fns/booleanRectangle] invalid angle"),!1;let m;if(f?m=h>l?"up":"down":p&&(m=c>o?"right":"left"),m!==n[n.length-1]){if(n.length===4)return t&&console.log("[bbox-fns/booleanRectangle] more than 4 turns"),!1;n.push(m)}}return n=n.join(" -> "),t&&console.log("[bbox-fns/booleanRectangle] order: "+n),mn.indexOf(n)!==-1||(t&&console.log("[bbox-fns/booleanRectangle] invalid order"),!1)}dn.exports=Si,dn.exports.default=Si;var Wr=dn.exports,ua={exports:{}},xs={exports:{}};function Dc(e){if(e.length===0)return;if(e.length===1)return e[0];let[t,n,r,o]=e[0];for(let l=1;l<e.length;l++){const c=e[l];c[0]<t&&(t=c[0]),c[1]<n&&(n=c[1]),c[2]>r&&(r=c[2]),c[3]>o&&(o=c[3])}return[t,n,r,o]}xs.exports=Dc,xs.exports.default=Dc;var Rc=xs.exports;const V_=Rc;function Qy(e){if(e.geometry&&(e=e.geometry),e.coordinates&&(e=e.coordinates),e.paths&&(e=e.paths),e.points&&(e=e.points),e.rings&&(e=e.rings),Array.isArray(e.features))return V_(e.features.map(Qy));if(Array.isArray(e.geometries))return V_(e.geometries.map(Qy));if(Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[0][0]))return V_(e.map(Qy));if(Array.isArray(e)&&Array.isArray(e[0])&&typeof e[0][0]=="number"){const[t,n]=e[0];let r=t,o=n,l=t,c=n;return e.forEach(([h,f])=>{h<r&&(r=h),h>l&&(l=h),f<o&&(o=f),f>c&&(c=f)}),[r,o,l,c]}if(Array.isArray(e)&&(e.length===2||e.length===3)&&typeof e[0]=="number"){const[t,n]=e;return[t,n,t,n]}if(typeof e.x=="number"&&typeof e.y=="number"){const{x:t,y:n}=e;return[t,n,t,n]}return["xmin","xmax","ymin","ymax"].every(t=>typeof e[t]=="number")?[e.xmin,e.ymin,e.xmax,e.ymax]:void 0}ua.exports=Qy,ua.exports.default=Qy;var $p=ua.exports,VI={exports:{}},H_={exports:{}};function q2(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],o=JSON.stringify(r);t.indexOf(o)===-1&&t.push(o)}return t.map(n=>JSON.parse(n))}H_.exports=q2,H_.exports.default=q2;const ky=H_.exports;function z_(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(let o=0;o<r.length;o++)t.push(r[o])}return t}function $f(e){if(e.geometry&&(e=e.geometry),e.coordinates&&(e=e.coordinates),e.paths&&(e=e.paths),e.points&&(e=e.points),e.rings&&(e=e.rings),Array.isArray(e.features))return ky(z_(e.features.map($f)));if(Array.isArray(e.geometries))return ky(z_(e.geometries.map($f)));if(Array.isArray(e)&&Array.isArray(e[0])&&Array.isArray(e[0][0]))return ky(z_(e.map($f)));if(Array.isArray(e)&&Array.isArray(e[0])&&typeof e[0][0]=="number"){const[t,n]=e[0];let r=t,o=n,l=t,c=n;return e.forEach(([h,f])=>{h<r&&(r=h),h>l&&(l=h),f<o&&(o=f),f>c&&(c=f)}),[[r,o,l,c]]}if(Array.isArray(e)&&(e.length===2||e.length===3)&&typeof e[0]=="number"){const[t,n]=e;return[[t,n,t,n]]}if(typeof e.x=="number"&&typeof e.y=="number"){const{x:t,y:n}=e;return[[t,n,t,n]]}return["xmin","xmax","ymin","ymax"].every(t=>typeof e[t]=="number")?[[e.xmin,e.ymin,e.xmax,e.ymax]]:void 0}VI.exports=$f,VI.exports.default=$f;var bR=VI.exports,W_={exports:{}};function MR([e,t,n,r],{density:o=0}={density:0}){typeof o=="number"&&(o=[o,o]);const[l,c]=o,h=[],f=(n-e)/(l+1),p=(r-t)/(c+1);h.push([e,r]);for(let m=1;m<=c;m++)h.push([e,r-m*p]);h.push([e,t]);for(let m=1;m<=l;m++)h.push([e+m*f,t]);h.push([n,t]);for(let m=1;m<=c;m++)h.push([n,t+m*p]);h.push([n,r]);for(let m=1;m<=l;m++)h.push([n-m*f,r]);return h.push([e,r]),[h]}W_.exports=MR,W_.exports.default=MR;var SR=W_.exports,$2={exports:{}};function Et([e,t,n,r],o){typeof o=="number"?o=[o,o]:o===void 0&&(o=[2,2]);const[l,c]=o,h=[],f=(n-e)/l,p=(r-t)/c;for(let m=0;m<c;m++){const I=t+m*p,w=m===c.length-1?r:I+p;for(let _=0;_<l;_++){const b=e+_*f,T=_===l.length-1?n:b+f;h.push([b,I,T,w])}}return h}$2.exports=Et,$2.exports.default=Et;var Kt=$2.exports,oe={exports:{}};const ae=Qe;function Xt(e,t){const[n,r,o,l]=e,[c,h,f,p]=t;return ae(e,t)?[Math.max(n,c),Math.max(r,h),Math.min(o,f),Math.min(l,p)]:null}oe.exports=Xt,oe.exports.default=Xt;var $e=oe.exports;const yn=Va($e);var Un={exports:{}};function Gn([e,t,n,r]){return[[[e,r],[e,t],[n,t],[n,r],[e,r]]]}Un.exports=Gn,Un.exports.default=Gn;var xi=Un.exports,wi={exports:{}},Nn={exports:{}},ns={exports:{}};function Xs(e,t){const n=e.length,r=t.length,o=e.indexOf("."),l=t.indexOf("."),c=o===-1?n:o,h=l===-1?r:l,f=c-h;let p=f<0?-1*f:0,m=f<=0?0:f,I=Math.max(c,h)+1+Math.max(n-c,r-h)-1,w=0;for(;w<I;){const _=w-p,b=_===c?".":e[_]||"0",T=w-m,S=T===h?".":t[T]||"0";if(b!==S){if(b>S)return">";if(b<S)return"<"}w++}return"="}ns.exports=Xs,ns.exports.default=Xs;var Ds=ns.exports,Ka={exports:{}};function Cs(e){e[0]==="+"&&(e=e.substring(1));const t=e[0]==="-"?"-":"";t==="-"&&(e=e.substring(1));const n=e.indexOf("e");if(n===-1)return t+e;let r=e.indexOf(".");r===-1&&(r=n);const o=Number(e.substring(n+1)),l=e.substring(0,n).replace(".",""),c=r+o,h=l.length;if(c>=h){const f=c-h;let p=l;for(let m=0;m<f;m++)p+="0";return t+p}if(c<0){let f="0.";for(let p=0;p>c;p--)f+="0";return f+=l,t+f}return t+l.substring(0,c)+"."+l.substring(c)}Ka.exports=Cs,Ka.exports.default=Cs;const Jn=Ka.exports;var Oo=function(e){return e[0]==="+"&&(e=e.substring(1)),(e=(e=Jn(e)).replace(/^0+(?=\d)/,"")).includes(".")&&(e=e.replace(/\.?0+$/,"")),e===""&&(e="0"),e==="-0"&&(e="0"),e},us={exports:{}},Bh={MAX_SAFE_INTEGER:9007199254740991};const{MAX_SAFE_INTEGER:Ly}=Bh;var Ql={MAX_SAFE_INTEGER_LENGTH:Ly.toString().length-1};const{MAX_SAFE_INTEGER_LENGTH:Py}=Ql;function js(e,t){const n=e.length,r=t.length,o=e.indexOf("."),l=t.indexOf("."),c=o===-1?n:o,h=l===-1?r:l;if(o===-1&&l===-1&&n<Py&&r<Py)return(Number(e)+Number(t)).toFixed();const f=c-h;let p=Math.max(c,h),m=Math.max(n-c-1,r-h-1),I=f<0?-1*f:0,w=f<=0?0:f,_=p+1+m-1,b="",T=0,S=_;if(m>0){for(;S>_-m;){const k=e[S-I]||"0",F=t[S-w]||"0";let N=Number(k)+Number(F)+T;N>=10?(N-=10,T=1):T=0,b===""&&N===0||(b=N+b),S--}b&&(b="."+b),S--}if(p>0)for(;S>=0;){const k=e[S-I]||"0",F=t[S-w]||"0";let N=Number(k)+Number(F)+T;N>=10?(N-=10,T=1):T=0,b=N+b,S--}return T===1&&(b=T+b),b[0]==="."&&(b="0"+b),b}us.exports=js,us.exports.default=js;var vh=us.exports,tg={exports:{}};const{MAX_SAFE_INTEGER_LENGTH:zA}=Ql;function Fd(e,t){const n=e.length,r=t.length,o=e.indexOf("."),l=t.indexOf("."),c=o===-1?n:o,h=l===-1?r:l;if(o===-1&&l===-1&&n<zA&&r<zA)return(Number(e)-Number(t)).toFixed();const f=c-h;let p=Math.max(c,h),m=Math.max(n-c-1,r-h-1),I=f<0?-1*f:0,w=f<=0?0:f,_=p+1+m-1,b="",T=0,S=_;if(m>0){for(;S>_-m;){let k=e[S-I]||"0";k-=T,T=0;let F=k-(t[S-w]||"0");if(F<0)for(;F<0;)T++,F+=10;else T&&T--;b===""&&F===0||(b=F+b),S--}b!==""&&(b="."+b),S--}if(p>0){for(;S>0;){let G=e[S-I]||"0";G-=T,T=0;let V=G-(t[S-w]||"0");if(V<0)for(;V<0;)T++,V+=10;else T&&T--;b=V+b,S--}const k=e[0-I]||"0",F=t[0-w]||"0";let N=Number(k)-(T>0?1:0)-Number(F);N!==0&&(b=N+b),b=b.replace(/^0+/,"")}return b[0]==="."&&(b="0"+b),b}tg.exports=Fd,tg.exports.default=Fd;var Ud=tg.exports,J_={exports:{}};function $G(e){return!!e.match(/^(|-|\+)inf(inity)?$/i)}J_.exports=$G,J_.exports.default=$G;var tM=J_.exports;const tO=Ds,eO=Oo,nO=vh,TR=Ud,iO=tM;function sO(e,t,{infinity_minus_infinity:n="NaN"}={}){e=eO(e),t=eO(t);const r=e[0]!=="-",o=t[0]!=="-",l=!r,c=!o,h=iO(e),f=iO(t);if(h&&f)return r&&o?"Infinity":l&c?"-Infinity":n;if(h)return r?"Infinity":"-Infinity";if(f)return o?"Infinity":"-Infinity";if(r&&o)return nO(e,t);if(l&&c)return"-"+nO(e.substring(1),t.substring(1));if(l&&o)switch(e=e.substring(1),tO(e,t)){case"=":return"0";case"<":return TR(t,e);case">":return"-"+TR(e,t)}else if(r&&!o)switch(t=t.substring(1),tO(e,t)){case"=":return"0";case"<":return"-"+TR(t,e);case">":return TR(e,t)}}Nn.exports=sO,Nn.exports.default=sO;var DR=Nn.exports,t8={exports:{}},e8={exports:{}};const JK=Oo;function rO(e){return(e=JK(e))[0]==="-"?e.substring(1):e}e8.exports=rO,e8.exports.default=rO;var n8=e8.exports,i8={exports:{}},s8={exports:{}};const oO=Oo,aO=Ds,lO=tM,AO=vh,RR=Ud;function cO(e,t,{infinity_minus_infinity:n="NaN"}={}){e=oO(e),t=oO(t);const r=e[0]!=="-",o=t[0]!=="-",l=lO(e),c=lO(t);if(l&&c){if(r===o)return n;if(r)return"Infinity";if(o)return"-Infinity"}else{if(l)return e;if(c)return o?"-Infinity":"Infinity"}if(r){if(o){const h=aO(e,t);return h===">"?RR(e,t):h==="<"?"-"+RR(t,e):"0"}return AO(e,t.substring(1))}if(o)return"-"+AO(e.substring(1),t);{e=e.substring(1),t=t.substring(1);const h=aO(e,t);return h===">"?"-"+RR(e,t):h==="<"?RR(t,e):"0"}}s8.exports=cO,s8.exports.default=cO;var hO=s8.exports,r8={exports:{}},o8={exports:{}};function uO(e){return e.substring(0,e.indexOf("."))}o8.exports=uO,o8.exports.default=uO;var YK=o8.exports;const ZK=DR,KK=YK,XK=["5","6","7","8","9"];function dO(e){if(e.match(/\.9+$/))return ZK(KK(e),"1");e[0]==="+"&&(e=e.substring(1));const t=e.length;let n="";const r=e[e.length-1];if(XK.includes(r)){let o;for(o=t-2;o>=0;o--){const l=e[o];if(l==="."||l==="-")continue;const c=Number(l)+1;if(c!==10){n=c+n;break}n="0"+n}o>0&&(n=e.substring(0,o)+n)}else n=e.substring(0,t-1);return n[n.length-1]==="."&&(n=n.substring(0,n.length-1)),n.indexOf(".")>-1&&(n=n.replace(/0+$/,"")),n}r8.exports=dO,r8.exports.default=dO;var fO=r8.exports;const QR=Ds,kR=DR,pO=hO,jK=fO;function gO(e,t,{format:n="string",max_decimal_digits:r=100,ellipsis:o=!1}={}){e[0]==="0"&&(e=e.substring(1)),t[0]==="0"&&(t=t.substring(1));const l=e.indexOf("."),c=t.indexOf("."),h=l===-1?e.length:l,f=c===-1?0:t.length-1-c;let p=!1;e=e.replace(/\./,""),t=t.replace(/\./,"");const m=e.length;let I,w="",_="",b=-1*f,T=0;for(let G=0;G<m;G++)if(w+=e[G],I=QR(w,t),I===">"){let V=1,W=kR(t,t),X=t;for(;QR(W,w)!==">";)V++,X=W,W=kR(W,t);if(V=V.toString(),_!=="")for(let K=V.length;K<=T;K++)_+="0";_+=V,w=pO(w,X),T=0}else{if(I==="<"){_===""&&b++,T++;continue}if(I==="="){if(_!=="")for(let V=0;V<T;V++)_+="0";_+="1",w="0",T=0}}if(w.match(/^0+$/g))I==="<"&&(_+=w.substring(0,w.length-1));else{const G={},V=h-b-_.length+r+1;_===""&&(T=0);for(let W=0;W<V;W++){if(w+="0",o)if(w in G){if(G[w]++,G[w]>3){_+="...",p=!0;break}}else G[w]=1;const X=QR(w,t);if(X===">"){let K=1,st=kR(t,t),et=t;for(;QR(st,w)!==">";)K++,et=st,st=kR(st,t);K=K.toString();for(let it=K.length;it<=T;it++)_+="0";if(_+=K,w=pO(w,et),w==="0")break;T=0}else{if(X==="<"){T++;continue}if(X==="="){for(let K=0;K<T;K++)_+="0";_+="1",T=0;break}}}}const S=h-b,k=_.length;let F;if(S===k)F=0;else if(S<0)_="0."+"0".repeat(Math.abs(S))+_,F=k-S;else if(S>k){for(let G=k;G<S;G++)_+="0";F=0}else S<k?(_=_.substring(0,S)+"."+_.substring(S),F=k-S):S===0&&(_="0."+_,F=k);_=_.replace(/^0+/,""),_=_.replace(/\.\d+0+$/,"");const N=F-r;return p||N>0&&(_=jK(_.substring(0,_.length-N+1))),_[0]==="."&&(_="0"+_),n==="object"?{quotient:_,extra_decimals:N}:_}i8.exports=gO,i8.exports.default=gO;var qK=i8.exports;const mO=n8,yO=Oo,xO=tM,$K=qK;function CO(e,t,n){e=yO(e),t=yO(t);const r=e[0]!=="-",o=t[0]!=="-",l=xO(e),c=xO(t);if(l||c)return r==o?"Infinity":"-Infinity";if(t==="0")throw new Error("[preciso] division by zero");if(e===""||e==="0")return"0";const h=r!==o?"-":"";return r||(e=mO(e)),o||(t=mO(t)),h+$K(e,t,n)}t8.exports=CO,t8.exports.default=CO;var a8=t8.exports,l8={exports:{}},A8={exports:{}},c8={exports:{}};function EO(e){return e.includes("i")}c8.exports=EO,c8.exports.default=EO;var IO=c8.exports,h8={exports:{}},u8={exports:{}};const tX=Oo,eX=tM;function wO(e){return!eX(e)&&!(e=tX(e)).includes(".")&&!e.includes("/")}u8.exports=wO,u8.exports.default=wO;var nX=u8.exports;const iX=Oo,sX=nX;function _O(e){if(e=iX(e),!sX(e))throw new Error("can't call is_odd on decimal");return["1","3","5","7","9"].includes(e.charAt(e.length-1))}h8.exports=_O,h8.exports.default=_O;var rX=h8.exports,d8={exports:{}};function BO(e){return/^[-+]?0(\.0+)?(e[\.\d]+)?$/.test(e)}d8.exports=BO,d8.exports.default=BO;var oX=d8.exports,f8={exports:{}},p8={exports:{}};const{MAX_SAFE_INTEGER_LENGTH:aX}=Ql;function vO(e,t){if(e==="0"||t==="0")return"0";const n=e.indexOf("."),r=t.indexOf("."),o=(n===-1?e.length:n)+(r===-1?t.length:r),l=(n===-1?0:e.length-1-n)+(r===-1?0:t.length-1-r);if(l===0&&o<aX)return(Number(e)*Number(t)).toFixed(0);const c=e.replace(".",""),h=t.replace(".",""),f=c.length,p=h.length,m=[];let I=f;for(;I>=0;){const F=I,N=I-=15,G=c.substring(N,F);m.push([Number(G),G.length])}const w=[],_=[];for(let F=0,N=p-1;N>=0;N--,F++){const G=h[N],V=Number(G);let W=0,X="";const K=m.length-1;m.forEach(([st,et],it)=>{let ot=(W+V*st).toString();const ht=ot.length;if(ht>et&&it!==K){const vt=-1*et;X=ot.slice(vt)+X,W=Number(ot.slice(0,vt))}else{const vt=et-ht;for(let Ct=0;Ct<vt;Ct++)ot="0"+ot;W=0,X=ot+X}}),X+="0".repeat(F),w.push(X),_.push([Array.from(X).map(st=>Number(st)),X.length])}const b=w.length,T=_[_.length-1][1]+b;let S="",k=0;for(let F=0;F<T;F++){let N=k;const G=Math.min(F,b-1);for(let V=0;V<=G;V++){const[W,X]=_[V],K=X-1-F;K>=0&&(N+=W[K])}N>=10?(N=N.toString(),S=N[N.length-1]+S,k=Number(N.slice(0,-1))):(S=N+S,k=0)}if(l===0)S=S.replace(/^0+/,"");else{const F=S.length-l;S=S.substring(0,F)+"."+S.substring(F),S=S.replace(/^0+/,""),S=S.replace(/\.?0+$/,""),S[0]==="."&&(S="0"+S)}return S}p8.exports=vO,p8.exports.default=vO;var lX=p8.exports,g8={exports:{}},m8={exports:{}},y8={exports:{}};const AX=Oo;function bO(e){const t=(e=AX(e)).indexOf(".");return t===-1?"0":(e.length-t-1).toString()}y8.exports=bO,y8.exports.default=bO;var cX=y8.exports,x8={exports:{}};const hX=Oo;function MO(e){return(e=hX(e))[0]==="-"}x8.exports=MO,x8.exports.default=MO;var uX=x8.exports;const dX=Oo,fX=cX,pX=n8,gX=uX,mX=fO,yX=["5","6","7","8","9"];function SO(e,{digits:t=0}={digits:0}){const n=e=dX(e),r=gX(e)?"-":"",o=(e=pX(e)).indexOf(".");if(o===-1||fX(e)<=t)return n;const l=e[o+t+1];if(yX.includes(l)){const c=e.substring(0,o+t+2);return r+mX(c)}return t===0?r+e.substring(0,o):r+e.substring(0,o+t+1)}m8.exports=SO,m8.exports.default=SO;var xX=m8.exports;const CX=IO,TO=xX;function DO(e,{digits:t=0}={}){return t=Number(t),CX(e)?TO(e.substring(0,e.length-1),{digits:t})+"i":TO(e,{digits:t})}g8.exports=DO,g8.exports.default=DO;var EX=g8.exports;const RO=n8,QO=Oo,IX=Ds,kO=lX,wX=EX;function LO(e,{max_decimal_digits:t}={}){let n=QO(e[0]),r=RO(n),o=n[0]==="-"?"-":"";const l=e.length;for(let c=1;c<l;c++){const h=QO(e[c]),f=h[0]==="-"?"-":"",p=RO(h);o=o!==f?"-":"",r=IX(r,p)==="<"?kO(p,r):kO(r,p),n=o+r}return typeof t=="number"&&(n=wX(n,{digits:t})),n}f8.exports=LO,f8.exports.default=LO;var _X=f8.exports,C8={exports:{}};function PO(e){return e[0]==="-"?"-":"+"}C8.exports=PO,C8.exports.default=PO;var BX=C8.exports;const vX=IO,bX=tM,MX=rX,SX=oX,TX=_X,DX=BX;function FO(e,{max_decimal_digits:t,infinity_times_zero:n="NaN"}={}){const r=e.some(h=>bX(h)),o=e.some(h=>SX(h));if(r&&o)return n;if(r)return e.filter(f=>DX(f)==="-").length%2==0?"Infinity":"-Infinity";if(o)return"0";const l=MX(e.filter(h=>vX(h)).length.toString());let c=TX(e.map(h=>h.replace(/i$/,"")),{max_decimal_digits:t});return l&&(c+="i"),c}A8.exports=FO,A8.exports.default=FO;const RX=A8.exports;function UO(){const e=Array.from(arguments),t=typeof e[e.length-1]=="object"?e[e.length-1]:void 0,n=Array.isArray(e[0])?e[0]:t?e.slice(0,e.length-1):e;return RX(n,t)}l8.exports=UO,l8.exports.default=UO;var QX=l8.exports;const LR=DR,NO=a8,PR=QX,FR=hO;function GO(e,{density:t=0}={density:0}){e=e.map(_=>_.toString());let[n,r,o,l]=e;typeof t!="number"&&typeof t!="string"||(t=[t,t]),t=t.map(_=>_.toString());const[c,h]=t,f=FR(l,r),p=FR(o,n),m=[],I=NO(p,LR(c,"1")),w=NO(f,LR(h,"1"));m.push([n,l]);for(let _=1;_<=h;_++)m.push([n,FR(l,PR(_.toString(),w))]);m.push([n,r]);for(let _=1;_<=c;_++)m.push([LR(n,PR(_.toString(),I)),r]);m.push([o,r]);for(let _=1;_<=h;_++)m.push([o,LR(r,PR(_.toString(),w))]);m.push([o,l]);for(let _=1;_<=c;_++)m.push([FR(o,PR(_.toString(),I)),l]);return m.push([n,l]),[m]}wi.exports=GO,wi.exports.default=GO;var OO=wi.exports,E8={exports:{}};const UR=a8;function VO([e,t,n,r],o,{ellipsis:l=!1,max_decimal_digits:c=100}={}){const[h,f]=typeof o=="string"||typeof o=="number"?[o,o]:o.length===1?[o[0].toString(),o[0].toString()]:o,p={ellipsis:l,max_decimal_digits:c},m=h.toString(),I=f.toString();return[UR(e.toString(),m,p),UR(t.toString(),I,p),UR(n.toString(),m,p),UR(r.toString(),I,p)]}E8.exports=VO,E8.exports.default=VO;var kX=E8.exports,I8={exports:{}},w8={exports:{}},_8={exports:{}};const HO=Oo,zO=Ds;function WO(e,t){e=HO(e),t=HO(t);const n=e[0]!=="-",r=t[0]!=="-";return n?r?zO(e,t):">":r?"<":zO(t.substring(1),e.substring(1))}_8.exports=WO,_8.exports.default=WO;var JO=_8.exports;const NR=JO;function YO(e){const t=e.length,[n,r]=e[0];let o=n,l=n,c=r,h=r;for(let f=1;f<t;f++){const[p,m]=e[f];NR(p,o)==="<"?o=p:NR(p,l)===">"&&(l=p),NR(m,c)==="<"?c=m:NR(m,h)===">"&&(h=m)}return[o,c,l,h]}w8.exports=YO,w8.exports.default=YO;const ZO=w8.exports,LX=OO;function KO(e,t,{async:n=!1,density:r}={}){const o=LX(e,{density:r})[0].map(l=>t(l));return n?Promise.all(o).then(l=>ZO(l)):ZO(o)}I8.exports=KO,I8.exports.default=KO;var PX=I8.exports,B8={exports:{}};const XO=Be,FX=SR;function jO(e,t,{async:n=!1,density:r,nan_strategy:o="throw"}={}){const l=FX(e,{density:r})[0].map(c=>t(c));return n?Promise.all(l).then(c=>XO(c,{nan_strategy:o})):XO(l,{nan_strategy:o})}B8.exports=jO,B8.exports.default=jO;var GR=B8.exports;const v8=Va(GR);var b8={exports:{}};function qO([e,t,n,r],o){const[l,c]=typeof o=="number"?[o,o]:o.length===1?[o[0],o[0]]:o;return[e*l,t*c,n*l,r*c]}b8.exports=qO,b8.exports.default=qO;var $O=b8.exports;const t7=Va($O);var M8={exports:{}};function e7([e,t,n,r],o){const l=Array.isArray(o)&&o.length>=1?o[0]:typeof o.x=="number"?o.x:0,c=Array.isArray(o)&&o.length>=2?o[1]:typeof o.y=="number"?o.y:0;return[e+l,t+c,n+l,r+c]}M8.exports=e7,M8.exports.default=e7;var n7=M8.exports,S8={exports:{}};function i7(e){return e.sort((t,n)=>{const[r,o,l,c]=t,[h,f,p,m]=n;return r<h?-1:r>h||o<f?1:o>f?-1:0})}S8.exports=i7,S8.exports.default=i7;var s7=S8.exports,T8={exports:{}};function r7(e,t){const[n,r,o,l]=e;if(!t)throw new Error("[bbox-fns/split.js] missing breakpoints");const c=t.x||[],h=t.y||[],f=[n].concat(c.filter(I=>I>n&&I<o)).concat([o]),p=[r].concat(h.filter(I=>I>r&&I<l)).concat([l]),m=[];for(let I=1;I<f.length;I++){const w=f[I-1],_=f[I];for(let b=1;b<p.length;b++){const T=p[b-1],S=p[b];m.push([w,T,_,S])}}return m}T8.exports=r7,T8.exports.default=r7;var D8=T8.exports,R8={exports:{}};function o7(e){if(!Array.isArray(e)||e.length!==4||e.some(l=>typeof l!="number"))return!1;const[t,n,r,o]=e;return!(t>r)&&!(n>o)}R8.exports=o7,R8.exports.default=o7;var UX=R8.exports,Q8={exports:{}};const a7=JO;function l7(e){if(!Array.isArray(e)||e.length!==4||e.some(l=>typeof l!="string"))return!1;const[t,n,r,o]=e;return a7(t,r)!==">"&&a7(n,o)!==">"}Q8.exports=l7,Q8.exports.default=l7;var NX=Q8.exports,k8={exports:{}};const GX=Qe,OX=Rc;function A7(e){if(e.length===0)return[];if(e.length===1)return[e[0]];let t=[e[0]];for(let n=1;n<e.length;n++){const r=e[n],o=t.filter(h=>GX(r,h)),l=OX(o.concat([r])),c=t.filter(h=>!o.includes(h));t=[l].concat(c)}return t}k8.exports=A7,k8.exports.default=A7;var c7=k8.exports,L8={exports:{}};const VX=n7,HX=s7,zX=D8,WX=c7;function h7(e,t){const[n,r,o,l]=t,c=o-n,h=l-r;let f=zX(e,{x:[n-c,n,o,o+c],y:[r-h,r,l,l+h]});return f=f.map(p=>{const[m,I,w,_]=p;return VX(p,{x:Math.ceil((n-m)/c)*c,y:Math.ceil((r-I)/h)*h})}),f=WX(f),f=HX(f),f}L8.exports=h7,L8.exports.default=h7;var JX=L8.exports;(function(e){const t={bboxArea:ne,bboxArray:Be,bboxPoint:_n,bboxSize:bn,booleanContains:es,booleanContainsPoint:Zt,booleanIntersects:Qe,booleanRectangle:Wr,calc:$p,calcAll:bR,densePolygon:SR,grid:Kt,intersect:$e,merge:Rc,polygon:xi,preciseDensePolygon:OO,preciseDivide:kX,preciseReproject:PX,reproject:GR,scale:$O,shift:n7,split:D8,validate:UX,preciseValidate:NX,sort:s7,union:c7,unwrap:JX};e.exports=t,typeof window=="object"&&(window.bboxfns=t),typeof self=="object"&&(self.bboxfns=t)})(wn);var YX=wn.exports,u7={exports:{}},d7=function(e){try{let t,n,r;const o=e.length,l=e[0];if(o===1)t=!0,n=l.xmin,r=l.xmax;else{const c=e[o-1];t=l.direction===c.direction,n=Math.min(l.xmin,c.xmin),r=Math.max(l.xmax,c.xmax)}if(n===void 0||r===void 0||t===void 0||isNaN(n)||isNaN(r))throw Error("categorizeIntersection failed with xmin",n,"and xmax",r);return{xmin:n,xmax:r,through:t}}catch(t){throw console.error("[categorizeIntersection] segments:",e),console.error("[categorizeIntersection]",t),t}},f7=function(e,t,n){return e<t?t:e>n?n:e},p7=function(e,t){try{const n=e.length,r=[];let o=[];for(let l=0;l<n;l++){const c=e[l];o.push(c),t(c)&&(r.push(o),o=[])}return o.length>0&&r.push(o),r}catch(n){console.error("[cluster]:",n)}};const ZX=p7;var g7=function(e,t,n=!1){try{const r=ZX(e,o=>o.endsOffLine);if(r.length>=2){const o=r[0],l=o[0],c=r[r.length-1],h=c[c.length-1];h.last_edge_in_ring&&l.index===0&&h.endsOnLine&&(r[0]=r.pop().concat(o))}return r}catch(r){console.error("[clusterLineSegments]",r)}},P8=function(e){const t=o=>Array.isArray(o)||o instanceof Int8Array||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int16Array||o instanceof Uint16Array||o instanceof Int32Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array||o instanceof BigInt64Array||o instanceof BigUint64Array;let n=0,r=e;for(;t(r);)n++,r=r[0];return n};const KX=P8;var m7=function e(t,n){if(t.type==="FeatureCollection")t.features.forEach(r=>e(r,n));else if(t.type==="GeometryCollection")t.geometries.forEach(r=>e(r,n));else if(t.type==="Feature")e(t.geometry,n);else if(t.type==="Polygon")e(t.coordinates,n);else if(t.type==="MultiPolygon")t.coordinates.forEach(r=>{n(r)});else if(Array.isArray(t)){const r=KX(t);r===4?t.forEach(o=>{n(o)}):r===3?n(t):r===2&&n([t])}};const XX=m7;var F8=function(e){const t=e.length;if(t===0)return[];const n=e[0];let r=n[1];const o=[n];for(let l=1;l<t;l++){const c=e[l],[h,f]=c;h<=r+1?o[o.length-1][1]=Math.max(r,f):o.push(c),r=f}return o};const jX=function(e,t){return Math.sign(e[0]-t[0])||Math.sign(e[1]-t[1])};var U8=function(e){return e.sort(jX)},y7=function(e,t){if(!Array.isArray(e))throw new Error("[overlaps] a is not an array");if(!Array.isArray(t))throw new Error("[overlaps] b is not an array");return e[0]<=t[1]&&t[0]<=e[1]};const qX=y7;var x7=function(e,t){if(!Array.isArray(e))throw new Error("[cut] range is not an array: "+JSON.stringify(e));if(t===void 0)return[e];if(!Array.isArray(t))throw new Error("[cut] hole is not an array:"+JSON.stringify(t));if(!qX(e,t))return[e];const n=[];return e[0]<t[0]&&n.push([e[0],t[0]-1]),e[1]>t[1]&&n.push([t[1]+1,e[1]]),n};const $X=x7;var C7=function(e,t){let n=e;return t.forEach(r=>{n=n.map(o=>$X(o,r)).flat()}),n},E7=function(e){const t=[],n=e.length;for(let r=0;r<n;r+=2)t.push([e[r],e[r+1]]);return t},I7=function(e,t){for(let n=1;n<e.length;n++)t([e[n-1],e[n]],n-1)},w7=function(e){const t=e.length;if(t>0){const n=e[0];let r=n[1];const o=[n];for(let l=1;l<t;l++){const c=e[l],[h,f]=c;h<=r?o[o.length-1][1]=f:o.push(c),r=f}return o}},_7=function(e,t){const n=[],r=[],o=e.length;for(let l=0;l<o;l++){const c=e[l];t(c)?n.push(c):r.push(c)}return[n,r]},B7=function(e){return-1*Math.round(-1*e)};const tj=B7;var v7=function(e,t){return([n,r])=>((n=tj((n-e)/t))===-0&&(n=0),(r=Math.round((r-e)/t))===-0&&(r=0),[n,r])};const ej=d7,b7=f7,nj=E7,ij=g7,sj=I7,rj=w7,oj=_7,aj=v7;var M7=function({debug_level:e=0,raster_bbox:t,raster_height:n,raster_width:r,pixel_height:o,pixel_width:l,ring:c,per_pixel:h,per_row_segment:f}){const[p,m,I,w]=t,_=[];for(let S=0;S<n;S++)_.push([]);sj(c,(S,k)=>{const[F,N]=S,[G,V]=F,[W,X]=N,K=Math.sign(X-V),st=V===X,et=G===W,it=(X-V)/(W-G),ot=V,ht=Math.min(V,X),vt=Math.max(V,X);let Ct,wt,mt,Rt;if(G<W?([Ct,wt]=F,[Rt,mt]=N):([Ct,wt]=N,[Rt,mt]=F),Ct===void 0)throw Error("startLng is "+Ct);const Mt=Math.round((t[3]-.5*o-wt)/o),Bt=Math.round((t[3]-.5*o-mt)/o);let at,kt;Mt<Bt?(at=Mt,kt=Bt):(at=Bt,kt=Mt),at=b7(at,0,n-1),kt=b7(kt,0,n-1);for(let _t=at;_t<kt+1;_t++){const zt=w-o*_t-o/2,Ft=V===zt,qt=X===zt,Gt=!qt;let ge,Fe;if(st){if(ot!==zt)continue;ge=Ct,Fe=Rt}else if(et)zt>=ht&&zt<=vt&&(ge=Ct,Fe=Rt);else if(Ft)ge=Fe=G;else if(qt)ge=Fe=W;else try{ge=Fe=G+(zt-V)/it}catch(ee){throw ee}ge!==void 0&&Fe!==void 0&&(st||ge>=Ct&&Fe<=Rt&&zt<=vt&&zt>=ht)&&_[_t].push({direction:K,index:k,edge:S,last_edge_in_ring:k===c.length-2,endsOnLine:qt,endsOffLine:Gt,horizontal:st,startsOnLine:Ft,vertical:et,xmin:ge,xmax:Fe,imageLineY:zt})}});const b=l/2,T=aj(p,l);e>=1&&console.log("[dufour-peyton-intersection] intersectionsByRow:",_),_.forEach((S,k)=>{if(S.length>0){const F=ij(S).map(ej),[N,G]=oj(F,X=>X.through);if(N.length%2==1)throw e>=1&&console.error("[dufour-peyton-intersection] throughs:",JSON.stringify(N)),Error("throughs.length for "+k+" is odd with "+N.length);let V=G.map(X=>[X.xmin,X.xmax]);N.sort((X,K)=>X.xmin-K.xmin);const W=nj(N).map(X=>{const[K,st]=X;return[K.xmin,st.xmax]});V=V.concat(W),V=rj(V),V.forEach(X=>{const[K,st]=X;if(st-K<b)return;const[et,it]=T(X);if(et===it||et>r||it<=0)return;const ot=Math.max(et,0),ht=Math.min(it-1,r-1);if(f&&f({row:k,columns:[ot,ht]}),h)for(let vt=ot;vt<=ht;vt++)h({row:k,column:vt})})}})};const lj=M7,Aj=function(e){e.forEach((t,n)=>{for(let r=0;r<t.length;r++){const o=t[r],[l,c]=o;l>c&&console.warn("[dufour-peyton-intersection] uh oh, encountered invalid range",o,"at row index",n,"with ranges",t);for(let h=r+1;h<t.length;h++)h[0]<=c&&console.warn("[dufour-peyton-intersection] encountered range problem on row index",n,":",t)}})},cj=F8,hj=U8,uj=C7,dj=function({debug_level:e=0,raster_bbox:t,raster_height:n,raster_width:r,pixel_height:o,pixel_width:l,ring:c}){const[h,f,p,m]=t;if(t.every(w=>typeof w=="string"))throw new Error("[dufour-peyton-intersection] raster_bbox should be all numbers, not strings");o==null&&(o=(m-f)/n),l==null&&(l=(p-h)/r);const I=[];for(let w=0;w<n;w++)I.push([]);lj({debug_level:e,raster_bbox:t,raster_height:n,raster_width:r,pixel_height:o,pixel_width:l,ring:c,per_row_segment:({row:w,columns:_})=>{I[w].push(_)}});for(let w=0;w<I.length;w++){const _=I[w];_&&(hj(_),I[w]=cj(_))}return e>=2&&Aj(I),I},fj=function(e){const t=[];return XX(e,n=>t.push(n)),t},pj=F8,gj=U8,mj=function({polygon:e,...t}){const{debug_level:n=0}=t,[r,...o]=e.map(l=>dj({ring:l,...t}));return n>=2&&console.log("[dufour-peyton-intersection] exterior:",r),r.map((l,c)=>{const h=o.map(f=>f[c]).flat();return uj(l,h)})};var yj=function({geometry:e,raster_height:t,per_pixel:n,per_row_segment:r,debug_level:o=0,...l}){const c=fj(e).map(f=>mj({polygon:f,raster_height:t,debug_level:o,...l}));o>=1&&console.log("[dufour-peyton-intersection] inside_rows_by_polygon:",c);const h=new Array(t);for(let f=0;f<t;f++){const p=c.map(m=>m[f]).filter(m=>m!==void 0&&m.length>0).flat();if(p.length>0){const m=gj(p),I=pj(m);h[f]=I}}return(r||n)&&h.forEach((f,p)=>{f&&f.forEach((m,I)=>{if(r&&r({row:p,columns:m}),n){const[w,_]=m;for(let b=w;b<=_;b++)n({row:p,column:b})}})}),{rows:h}},xj=function(e,t){return t[0]>=e[0]&&t[1]<=e[1]};(function(e){const t={calculate:yj,calculateCore:M7,carveHoles:C7,categorizeIntersection:d7,clamp:f7,cluster:p7,clusterLineSegments:g7,couple:E7,eachPair:I7,eachPolygon:m7,mergeRanges:w7,mergeConsecutiveRanges:F8,partition:_7,prepareSnap:v7,rangeContains:xj,rangeCut:x7,rangeOverlap:y7,rangeSort:U8,roundDown:B7};e.exports=t,typeof self=="object"&&(self.dufour_peyton_intersection=t),typeof window=="object"&&(window.dufour_peyton_intersection=t)})(u7);var Cj=u7.exports,S7={exports:{}};const Ej={Int8Array:127,Uint8Array:255,Uint8ClampedArray:255,Int16Array:32767,Uint16Array:65535,Int32Array:2147483647,Uint32Array:4294967295,Float32Array:34e37,Float64Array:1.8*Math.pow(10,308)==1/0?void 0:1.8*Math.pow(10,308),BigInt64Array:9223372036854776e3,BigUint64Array:18446744073709552e3};var T7=e=>(typeof e!="string"&&e.constructor&&(e=e.constructor.name),Ej[e]);(function(e){const t=T7;function n(r,{debug:o=!1,no_data:l,theoretical_max:c}={debug:!1,no_data:void 0,theoretical_max:void 0}){if(o&&console.log("[fast-max] starting with numbers:",r.slice(0,10)),!r.length)throw o&&console.error("[fast-max] Instead of an array of numbers, you passed in",r),new Error("[fast-max] You didn't pass in an array of numbers");if(r.length===0)throw new Error("[fast-max] You passed in an empty array");let h;Array.isArray(l)===!1&&(l=typeof l=="number"?[l]:[]);const f=r.length;o&&console.log("[fast-max] constructor:",r.constructor.name),c==null&&(c=t(r.constructor.name)),o&&console.log("[fast-max] theoretical maximunm is",c);for(let p=0;p<f;p++){const m=r[p];if(typeof m=="number"&&m==m&&l.indexOf(m)===-1&&((h===void 0||m>h)&&(h=m),typeof c=="number"&&m>=c)){o&&console.log("[fast-max] found maximum value of "+m+" at index "+p+" of "+f),h=m;break}}return o&&console.log("[fast-max] returning",h),h}e.exports=n,e.exports.default=n,typeof self=="object"&&(self.fastMax=n),typeof window=="object"&&(window.fastMax=n)})(S7);var Ij=S7.exports,D7={exports:{}};const wj={Int8Array:-128,Uint8Array:0,Uint8ClampedArray:0,Int16Array:-32768,Uint16Array:0,Int32Array:-2147483648,Uint32Array:0,BigInt64Array:-9223372036854776e3,BigUint64Array:0};var R7=e=>(typeof e!="string"&&e.constructor&&(e=e.constructor.name),wj[e]);(function(e){const t=R7;function n(r,{debug:o=!1,no_data:l,theoretical_min:c}={debug:!1,no_data:void 0,theoretical_min:void 0}){if(o&&console.log("[fast-min] starting with numbers:",r.slice(0,10)),!r.length)throw o&&console.error("[fast-min] Instead of an array of numbers, you passed in",r),new Error("[fast-min] You didn't pass in an array of numbers");if(r.length===0)throw new Error("[fast-min] You passed in an empty array");let h;Array.isArray(l)===!1&&(l=typeof l=="number"?[l]:[]);const f=r.length;o&&console.log("[fast-min] constructor:",r.constructor.name),c==null&&(c=t(r.constructor.name)),o&&console.log("[fast-min] theoretical minimunm is",c);for(let p=0;p<f;p++){const m=r[p];if(typeof m=="number"&&m==m&&l.indexOf(m)===-1&&((h===void 0||m<h)&&(h=m),typeof c=="number"&&m<=c)){o&&console.log("[fast-min] found minimum value of "+m+" at index "+p+" of "+f),h=m;break}}return o&&console.log("[fast-min] returning",h),h}e.exports=n,e.exports.default=n,typeof self=="object"&&(self.fastMin=n),typeof window=="object"&&(window.fastMin=n)})(D7);var _j=D7.exports,Q7={exports:{}},k7={exports:{}};(function(e){function t(n,r){const[o,l,c,h,f,p]=n,[m,I]=r;return[o+l*m+c*I,h+f*m+p*I]}e.exports=t,e.exports.default=t})(k7);var Bj=k7.exports,L7={exports:{}};(function(e){function t(n){const[r,o,l,c,h,f]=n,p=o*f-l*h,m=-1*p;return[(l*c-r*f)/p,f/p,l/m,(o*c-r*h)/m,h/m,o/p]}e.exports=t,e.exports.default=t})(L7);var vj=L7.exports;(function(e){const t=Bj,n=vj;function r(o){const l=n(o);return{forward:function(c){return t(o,c)},inverse:function(c,{floor:h=!1,round:f=!1}={floor:!1,round:!1}){let p=t(l,c);return f&&(p=p.map(m=>Math.round(m))),h&&(p=p.map(m=>Math.floor(m))),p}}}e.exports=r,e.exports.default=r})(Q7);var P7=Q7.exports;const F7=Va(P7);var U7={exports:{}},N8={exports:{}};function N7(e){const t={};let n=0;for(let r of e)n++,r in t?t[r][1]++:t[r]=[r,1];return{counts:t,total:n}}N8.exports=N7,N8.exports.default=N7;var bj=N8.exports,G8={exports:{}};const Mj=DR,Sj=a8;function G7(e,t,{precise:n=!1}={precise:!1}){return n?Sj(Mj(e.toString(),t.toString()),"2"):(e+t)/2}G8.exports=G7,G8.exports.default=G7;var Tj=G8.exports;(function(e){const t=bj,n=Tj;function r(l,{no_data:c,precise:h=!1}={no_data:void 0,precise:!1}){const{counts:f,total:p}=t(l);let m=p;if("NaN"in f&&(m-=f.NaN[1],delete f.NaN),"undefined"in f&&(m-=f[void 0][1],delete f[void 0]),"null"in f&&(m-=f.null[1],delete f.null),""in f&&(m-=f[""][1],delete f[""]),Array.isArray(c))for(let b=0;b<c.length;b++){const T=c[b];T in f&&(m-=f[T][1],delete f[T])}else c in f&&(m-=f[c][1],delete f[c]);const I=Object.values(f).sort((b,T)=>b[0]-T[0]),w=m/2,_=I.length;if(_!==0){if(_===1)return h?I[0][0].toString():I[0][0];{let b=0;if(p%2==0)for(let T=0;T<_;T++){const[S,k]=I[T];if(b+=k,b>w)return b-k===w?n(I[T-1][0],S,{precise:h}):h?S.toString():S}else for(let T=0;T<_;T++){const[S,k]=I[T];if(b+=k,b>w)return h?S.toString():S}}}}const o={calculate:r};e.exports=o,e.exports.default={calculate:r},typeof window=="object"&&(window.mediana=o),typeof self=="object"&&(self.mediana=o)})(U7);var Dj=U7.exports,O7={exports:{}},V7={exports:{}};(function(e){function t(n,r,o){const l=typeof o=="object"&&typeof o.debug_level=="number"?o.debug_level:0;let c=typeof o=="object"&&typeof o.densify=="number"?o.densify:0;const h=typeof o=="object"&&typeof o.strategy=="string"?o.strategy:"auto";c=Math.round(c),l>=1&&(console.log("[reproject-line] debug_level:",l),console.log("[reproject-line] densify:",c),console.log("[reproject-line] strategy:",h));const f=[];let[p,m]=r(n[0]),I=null,w=null;for(let _=1;_<n.length;_++){const[b,T]=n[_-1],[S,k]=n[_],F=(S-b)/(c+1),N=(k-T)/(c+1);for(let W=1;W<=c;W++){const[X,K]=r([b+W*F,T+W*N]);w=(K-m)/(X-p),h!=="always"&&w===I||(f.push([p,m]),I=w),p=X,m=K}const[G,V]=r([S,k]);w=(V-m)/(G-p),h!=="always"&&w===I||(f.push([p,m]),I=w),p=G,m=V}return f.push([p,m]),l>=3&&console.log("[reproject-line] returning",f),f}e.exports=t,e.exports.default=t})(V7);var Rj=V7.exports;(function(e){const t=P8,n=Rj;function r(o,{densify:l,reproject:c}){if(typeof c!="function")throw new Error("[reproject-geojson] you must specify a reproject function");if(o.type==="FeatureCollection")return{...o,features:o.features.map(h=>r(h,{densify:l,reproject:c}))};if(o.type==="Feature")return{...o,geometry:r(o.geometry,{densify:l,reproject:c})};if(o.type==="LineString")return{...o,coordinates:n(o.coordinates,c,{densify:l})};if(o.type==="MultiLineString")return{...o,coordinates:o.coordinates.map(h=>n(h,c,{densify:l}))};if(o.type==="MultiPoint")return{...o,coordinates:o.coordinates.map(h=>c(h))};if(o.type==="MultiPolygon")return{...o,coordinates:o.coordinates.map(h=>h.map(f=>n(f,c,{densify:l})))};if(o.type==="Point")return{...o,coordinates:c(o.coordinates)};if(o.type==="Polygon")return{...o,coordinates:o.coordinates.map(h=>n(h,c,{densify:l}))};if(Array.isArray(o)){const h=t(o);if(h===1)return c(o);if(h===2)return o.map(f=>c(f));if(h===3)return o.map(f=>n(f,c,{densify:l}));if(h===4)return o.map(f=>f.map(p=>n(p,c,{densify:l})))}return o}e.exports=r,typeof window=="object"&&(window.reprojectGeoJSONPluggable=r),typeof self=="object"&&(self.reprojectGeoJSONPluggable=r)})(O7);var Qj=O7.exports,H7={exports:{}};(function(e){const t=o=>o.sort()[Math.floor(o.length-2)],n=o=>o.slice().sort((l,c)=>Math.sign(l-c))[0],r={turbocharge:function({bbox:o,debug_level:l=0,quiet:c=!1,reproject:h,threshold:[f,p]}){l>=2&&console.log("[proj-turbo] starting"),l>=3&&console.log("[proj-turbo] bbox:",o),l>=3&&console.log("[proj-turbo] reproject:",h),l>=3&&console.log("[proj-turbo] threshold:",[f,p]),l>=3&&console.log("[proj-turbo] quiet:",c);const[m,I,w,_]=o,b=w-m;l>=3&&console.log("[proj-turbo] width:",b);const T=_-I;l>=3&&console.log("[proj-turbo] height:",T);const S=[[m,_],[w,_],[w,I],[m,I]].map(Rt=>[Rt,h(Rt)]),k=S[0][1][0]-S[3][1][0],F=S[1][1][0]-S[2][1][0],N=Math.max(k,F);l>=3&&console.log("max_x_drift:",N);const G=S[1][1][1]-S[0][1][1],V=S[2][1][1]-S[3][1][1],W=Math.max(G,V);l>=3&&console.log("max_y_drift:",W);const X=b/100;l>=4&&console.log("[proj-turbo] x_offset:",X);const K=T/100;l>=4&&console.log("[proj-turbo] y_offset:",K);const st=[[m+b/4,_-T/4],[w-b/4,_-T/4],[w-b/4,I+T/4],[m+b/4,I+T/4],[m+b/10,_-T/10],[w-b/10,_-T/10],[w-b/10,I+T/10],[m+b/10,I+T/10],[(m+w)/2,(I+_)/2]];l>=5&&console.log("[proj-turbo] train_points: "+JSON.stringify(st));const et=st.map(Rt=>[Rt,h(Rt)]);l>=5&&console.log("[proj-turbo] train_pairs: "+JSON.stringify(et));const it=n(et.concat(S).map(([Rt,[Mt,Bt]])=>Mt));l>=4&&console.log("[proj-turbo] x_origin:",it);const ot=n(et.concat(S).map(([Rt,[Mt,Bt]])=>Bt));l>=4&&console.log("[proj-turbo] y_origin:",ot);let ht=et.map(([[Rt,Mt],[Bt,at]],kt)=>{if(Bt<it)throw new Error("[proj-turbo] uh oh, x1",Bt,"is less than origin",it);return[(Bt-it)/(Rt-m),(at-ot)/(Mt-I)]});if(l>=4&&console.log("[proj-turbo] scales: ",ht.map(([Rt,Mt])=>[Rt.toFixed(10),Mt.toFixed(10)])),ht=ht.filter(([Rt,Mt])=>!(Rt<0||Mt<0||isNaN(Rt)||isNaN(Mt)||Rt===1/0&&Mt===1/0)),ht.length<3){if(l>=1&&console.log("[proj-turbo] origin: ",[it,ot]),l>=1&&console.log("[proj-turbo] scales: ",ht),c)return;throw new Error("[proj-turbo] not enough scales")}const vt=t(ht.map(([Rt,Mt])=>Rt));l>=4&&console.log("[proj-turbo] median horizontal scale:",vt);const Ct=t(ht.map(([Rt,Mt])=>Mt));l>=4&&console.log("[proj-turbo] median vertical scale:",Ct);const wt=([Rt,Mt])=>[it+vt*(Rt-m),ot+Ct*(Mt-I)],mt=[...S,...et];for(let Rt=0;Rt<mt.length;Rt++){const[Mt,[Bt,at]]=mt[Rt],[kt,_t]=wt(Mt),zt=Math.abs(kt-Bt);if(zt>=f){if(l>=1&&console.log(`${it} + ${vt} * (${Mt[0]} - ${m})`),l>=1&&console.log(`predicted ${kt}, which is ${zt} from ${Bt}, which is greater than the threshold ${f}`),c)return;throw Error("[proj-turbo] linear function exceeded horizontal error threshold")}const Ft=Math.abs(_t-at);if(Ft>=p){if(l>=1&&console.log(`${ot} + ${Ct} * (${Mt[1]} - ${I})`),l>=1&&console.log(`predicted ${_t}, which is ${Ft} from ${at}, which is greater than the threshold ${p}`),c)return;throw Error("[proj-turbo] linear function exceeded vertical error threshold")}}return{origin:[it,ot],reproject:wt,scale:[vt,Ct],scales:ht}}};e.exports&&(e.exports=r),typeof self=="object"&&(self.projturbo=r),typeof window=="object"&&(window.projturbo=r)})(H7);var kj=H7.exports,Lj=function(e){return typeof e=="object"&&typeof e.then=="function"?e:{then:t=>t(e)}},z7={exports:{}};(function(e){function t({segments:n,min:r=-1/0,max:o=1/0,debug:l=!1}){if(l&&console.log("[segflip] segs:",n),n==null||Array.isArray(n)&&n.length===0)return l&&console.log("[segflip] segments are empty so return the whole row flipped"),[[r,o]];const c=n.map(([f,p])=>[f-1,p+1]).flat();c.unshift(r),c.push(o),l&&console.log("flattened nums:",c);const h=[];for(let f=1;f<c.length;f+=2){const p=c[f-1],m=c[f];p>m||h.push([p,m])}return h}e.exports=t,typeof window=="object"&&(window.segflip=t),typeof self=="object"&&(self.segflip=t)})(z7);var Pj=z7.exports,W7={exports:{}};(function(e){function t(w){try{w[Symbol.iterator]=function(){return this}}catch{}}function n(w){w["@@iterator"]=function(){return this}}function r(w){const _={next:w};return t(_),n(_),_}function o(w){try{return w.constructor.name.endsWith("Array")}catch{return!1}}function l(w){try{return typeof w.next=="function"}catch{return!1}}function c(w){try{return"@@iterator"in w}catch{return!1}}function h(w){try{return Symbol.iterator in w.constructor.prototype}catch{return!1}}function f(w){try{return Symbol.iterator in w&&typeof w.next=="function"&&w.propertyIsEnumerable("next")===!1}catch{return!1}}function p(w){const _=w["@@iterator"];return l(_)?_:typeof _=="function"?_():void 0}function m(w){let _=0,b=w.length;return r(()=>_++<b?{value:w[_],done:!1}:{done:!0})}function I(w){if(f(w))return w;if(h(w))return w[Symbol.iterator]();if(l(w))return r(w.next);if(c(w))return p(w);if(typeof w=="string"||o(w))return m(w);throw"[iter-fun] unable to determine iterator"}e.exports={addSymbolIterator:t,addSymbolIteratorFallback:n,isIterator:f,isArray:o,hasNext:l,hasSymbolIterator:h,hasIterator:c,getIterator:p,createIterator:m,getOrCreateIterator:I,wrapNextFunction:r,zip:function(w){return w=w.map(I),r(function(){const _=w.map(b=>b.next());return _.every(({done:b})=>b)?{done:!0}:{done:!1,value:_.map(({value:b})=>b)}})}}})(W7);var Fj=W7.exports;const O8={},{wrapNextFunction:V8}=Fj,J7={1:function({point:e}){const t=this.data,n=e[this.d0v0];return{parent:t,index:n,value:t[n]}},2:function({point:e}){const t=this.data,n=this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1];return{parent:t,index:n,value:t[n]}},3:function({point:e}){const t=this.data,n=this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2];return{parent:t,index:n,value:t[n]}},4:function({point:e}){const t=this.data,n=this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2]+this.m0v3*e[this.d0v3];return{parent:t,index:n,value:t[n]}},5:function({point:e}){const t=this.data,n=this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2]+this.m0v3*e[this.d0v3]+this.m0v4*e[this.d0v4];return{parent:t,index:n,value:t[n]}},"1,1":function({point:e}){const t=this.data[e[this.d0v0]],n=e[this.d1v0];return{parent:t,index:n,value:t[n]}},"1,2":function({point:e}){const t=this.data[e[this.d0v0]],n=this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1];return{parent:t,index:n,value:t[n]}},"1,3":function({point:e}){const t=this.data[e[this.d0v0]],n=this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2];return{parent:t,index:n,value:t[n]}},"1,4":function({point:e}){const t=this.data[e[this.d0v0]],n=this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2]+this.m1v3*e[this.d1v3];return{parent:t,index:n,value:t[n]}},"1,5":function({point:e}){const t=this.data[e[this.d0v0]],n=this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2]+this.m1v3*e[this.d1v3]+this.m1v4*e[this.d1v4];return{parent:t,index:n,value:t[n]}},"1,1,1":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]],n=e[this.d2v0];return{parent:t,index:n,value:t[n]}},"1,1,2":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]],n=this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1];return{parent:t,index:n,value:t[n]}},"1,1,3":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]],n=this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2];return{parent:t,index:n,value:t[n]}},"1,1,4":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]],n=this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2]+this.m2v3*e[this.d2v3];return{parent:t,index:n,value:t[n]}},"1,1,5":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]],n=this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2]+this.m2v3*e[this.d2v3]+this.m2v4*e[this.d2v4];return{parent:t,index:n,value:t[n]}},"1,1,1,1":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]],n=e[this.d3v0];return{parent:t,index:n,value:t[n]}},"1,1,1,2":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]],n=this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1];return{parent:t,index:n,value:t[n]}},"1,1,1,3":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]],n=this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2];return{parent:t,index:n,value:t[n]}},"1,1,1,4":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]],n=this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2]+this.m3v3*e[this.d3v3];return{parent:t,index:n,value:t[n]}},"1,1,1,5":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]],n=this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2]+this.m3v3*e[this.d3v3]+this.m3v4*e[this.d3v4];return{parent:t,index:n,value:t[n]}},"1,1,1,1,1":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]],n=e[this.d4v0];return{parent:t,index:n,value:t[n]}},"1,1,1,1,2":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]],n=this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1];return{parent:t,index:n,value:t[n]}},"1,1,1,1,3":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]],n=this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2];return{parent:t,index:n,value:t[n]}},"1,1,1,1,4":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]],n=this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2]+this.m4v3*e[this.d4v3];return{parent:t,index:n,value:t[n]}},"1,1,1,1,5":function({point:e}){const t=this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]],n=this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2]+this.m4v3*e[this.d4v3]+this.m4v4*e[this.d4v4];return{parent:t,index:n,value:t[n]}}},Y7={1:function({point:e,value:t}){this.data[e[this.d0v0]]=t},2:function({point:e,value:t}){this.data[this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]]=t},3:function({point:e,value:t}){this.data[this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2]]=t},4:function({point:e,value:t}){this.data[this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2]+this.m0v3*e[this.d0v3]]=t},5:function({point:e,value:t}){this.data[this.m0v0*e[this.d0v0]+this.m0v1*e[this.d0v1]+this.m0v2*e[this.d0v2]+this.m0v3*e[this.d0v3]+this.m0v4*e[this.d0v4]]=t},"1,1":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]]=t},"1,2":function({point:e,value:t}){this.data[e[this.d0v0]][this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]]=t},"1,3":function({point:e,value:t}){this.data[e[this.d0v0]][this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2]]=t},"1,4":function({point:e,value:t}){this.data[e[this.d0v0]][this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2]+this.m1v3*e[this.d1v3]]=t},"1,5":function({point:e,value:t}){this.data[e[this.d0v0]][this.m1v0*e[this.d1v0]+this.m1v1*e[this.d1v1]+this.m1v2*e[this.d1v2]+this.m1v3*e[this.d1v3]+this.m1v4*e[this.d1v4]]=t},"1,1,1":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]]=t},"1,1,2":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]]=t},"1,1,3":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2]]=t},"1,1,4":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2]+this.m2v3*e[this.d2v3]]=t},"1,1,5":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][this.m2v0*e[this.d2v0]+this.m2v1*e[this.d2v1]+this.m2v2*e[this.d2v2]+this.m2v3*e[this.d2v3]+this.m2v4*e[this.d2v4]]=t},"1,1,1,1":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]]=t},"1,1,1,2":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]]=t},"1,1,1,3":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2]]=t},"1,1,1,4":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2]+this.m3v3*e[this.d3v3]]=t},"1,1,1,5":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][this.m3v0*e[this.d3v0]+this.m3v1*e[this.d3v1]+this.m3v2*e[this.d3v2]+this.m3v3*e[this.d3v3]+this.m3v4*e[this.d3v4]]=t},"1,1,1,1,1":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]][e[this.d4v0]]=t},"1,1,1,1,2":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]][this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]]=t},"1,1,1,1,3":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]][this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2]]=t},"1,1,1,1,4":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]][this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2]+this.m4v3*e[this.d4v3]]=t},"1,1,1,1,5":function({point:e,value:t}){this.data[e[this.d0v0]][e[this.d1v0]][e[this.d2v0]][e[this.d3v0]][this.m4v0*e[this.d4v0]+this.m4v1*e[this.d4v1]+this.m4v2*e[this.d4v2]+this.m4v3*e[this.d4v3]+this.m4v4*e[this.d4v4]]=t}},OR={Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Float32Array,Float64Array};try{OR.BigInt64Array=BigInt64Array,OR.BigUint64Array=BigUint64Array}catch{}const Z7=e=>e.match(/\[[^\]]+\]/g),K7=e=>e.startsWith("[")&&e.endsWith("]")?e.substring(1,e.length-1):e,X7=e=>e.startsWith("(")&&e.endsWith(")")?e.substring(1,e.length-1):e,j7=e=>e.match(/(\(.*?\)|[^\(,\s]+)(?=\s*,|\s*$)/g),H8=e=>{e=K7(e),e=X7(e);const t=j7(e);return t.length===1?{type:"Vector",dim:t[0]}:{type:"Matrix",parts:t.map(H8)}};function q7(e){const t=e.match(/[^ A-Za-z,\[\]]/g);if(t)throw new Error("The following invalid characters were used: "+t.map(n=>`"${n}"`).join(", "));return!0}function t0(e,{useLayoutCache:t=!0}={useLayoutCache:!0}){if(t&&e in O8)return O8[e];q7(e);const n=Z7(e).map(H8),r={type:"Layout",summary:n.map(o=>o.type==="Matrix"?o.parts.length:1),dims:n};return t&&(O8[e]=r),r}function $7({useLayoutCache:e=!0,data:t,layout:n,sizes:r={}}){typeof n=="string"&&(n=t0(n,{useLayoutCache:e}));const{dims:o}=n,l=o.length,c=eV({useLayoutCache:e,layout:n,sizes:r}),h=l-1,f=n.summary.toString();if(f in Y7){const p={data:t};return n.dims.map((m,I)=>{m.type==="Vector"?p[`d${I}v0`]=m.dim:m.type==="Matrix"&&m.parts.forEach((w,_)=>{p[`d${I}v${_}`]=w.dim,p[`m${I}v${_}`]=c[w.dim]})}),Y7[f].bind(p)}return({point:p,value:m})=>{let I=t;for(let w=0;w<l;w++){const _=w===h,b=o[w];let T;T=b.type==="Vector"?p[b.dim]:b.parts.reduce((S,{dim:k})=>S+c[k]*p[k],0),_?I[T]=m:I=I[T]}}}function tV({rect:e={}}){if(e)for(let t in e){const n=e[t];if(n.length!==2)throw new Error("[xdim] uh oh. invalid hyper-rectangle");const[r,o]=n;if(r>o)throw new Error(`[xdim] uh oh. invalid range for "${t}".  Start of ${r} can't be greater than end of ${o}.`);if(r<0)throw new Error(`[xdim] uh oh. invalid hyper-rectangle with start ${r}`)}}function eV({useLayoutCache:e=!0,layout:t,sizes:n}){typeof t=="string"&&(t=t0(t,{useLayoutCache:e}));const{dims:r}=t,o=r.length;let l={};for(let c=0;c<o;c++){const h=r[c];if(h.type==="Vector")l[h.dim]=1;else{const{parts:f}=h;let p=1;for(let m=f.length-1;m>=0;m--){const{dim:I}=f[m];l[I]=p,p*=n[f[m].dim]}}}return l}function z8({useLayoutCache:e=!0,data:t,layout:n,point:r,sizes:o={}}){let l,c;typeof n=="string"&&(n=t0(n,{useLayoutCache:e}));let h=t;const{dims:f}=n,p=f.length;for(let m=0;m<p;m++){const I=f[m];if(I.type==="Vector"){const w=r[I.dim];l=h,c=w,h=h[w]}else{const{parts:w}=I;let _=0,b=1;for(let T=w.length-1;T>=0;T--){const S=w[T];if(S.type==="Vector"){const{dim:k}=S;if(_+=b*r[k],T>0){if(!(k in o))throw new Error(`you cannot calculate the location without knowing the size of the "${k}" dimension.`);b*=o[k]}}}l=h,c=_,h=h[_]}}return{index:c,value:h,parent:l}}function W8({arr:e,fill:t,lens:n,arrayTypes:r}){if(n.length===0)return e;const o=n[0];if(n.length===1){const l=r?r[r.length-1]:"Array";for(let c=0;c<e.length;c++)e[c]=new OR[l](o).fill(t)}else for(let l=0;l<e.length;l++){const c=new Array(o).fill(t);e[l]=c,W8({arr:c,fill:t,lens:n.slice(1),arrayTypes:r})}return e}function nV({fill:e,shape:t,arrayTypes:n}){const r=t[0];if(t.length===1){if(Array.isArray(n)&&n.length!==1)throw new Error("[xdim] shape and arrayTypes have different lengths");const o=Array.isArray(n)?n[0]:"Array";return new OR[o](r).fill(e)}return W8({arr:new Array(r).fill(e),fill:e,lens:t.slice(1),arrayTypes:n})}function J8({fill:e,layout:t,useLayoutCache:n=!0,sizes:r,arrayTypes:o}){typeof t=="string"&&(t=t0(t,{useLayoutCache:n}));const l=t.dims.map(c=>c.type==="Vector"?r[c.dim]:c.type==="Matrix"?c.parts.reduce((h,f)=>{if(!(f.dim in r))throw new Error(`[xdim] could not find "${f.dim}" in sizes: { ${Object.keys(r).join(", ")} }`);return h*r[f.dim]},1):void 0);return{data:nV({fill:e,shape:l,arrayTypes:o}),shape:l,arrayTypes:o}}function VR({start:e=0,end:t=100}){let n=e-1;return t+=1,V8(function(){return n++,n===t?{done:!0}:{done:!1,value:n}})}function Y8({order:e,sizes:t,rect:n={}}){const r=Array.isArray(e)?e:Object.keys(t).sort((p,m)=>t[p]-t[m]),o=new Array(r.length),l={};for(let p=0;p<r.length-1;p++){const m=r[p],[I,w]=n[m]||[0,t[m]-1];o[p]=VR({start:I+1,end:w}),l[m]=I}const c=r[r.length-1],[h,f]=n[c]||[0,t[c]-1];return o[o.length-1]=VR({start:h,end:f}),l[c]=h-1,V8(function(){for(let p=o.length-1;p>=0;p--){const{value:m,done:I}=o[p].next();if(!I){for(let w=p+1;w<o.length;w++){const _=r[w],[b,T]=n[_]||[0,t[_]-1];o[w]=VR({start:b+1,end:T}),l[_]=b}return l[r[p]]=m,{value:l,done:!1}}if(p===0)return{done:!0}}})}var Uj={addDims:W8,checkValidity:q7,createMatrix:nV,iterClip:function({data:e,layout:t,order:n,rect:r={},sizes:o={},useLayoutCache:l=!0}){if(!e)throw new Error("[xdim] must specify data");if(!t)throw new Error("[xdim] must specify layout");const c=Y8({order:n,sizes:o,rect:r});return V8(function(){const{value:h,done:f}=c.next();if(f)return{done:!0};{const{value:p}=z8({data:e,layout:t,point:h,sizes:o,useLayoutCache:l});return{done:!1,value:p}}})},iterRange:VR,iterPoints:Y8,matchSequences:j7,parse:t0,parseDimensions:function(e){const t={},n=/[A-Za-z]+/g;let r;for(;(r=n.exec(e))!==null;){const[o]=r;t[o]={name:o}}return t},parseSequences:H8,parseVectors:Z7,prepareData:J8,prepareSelect:function({useLayoutCache:e=!0,data:t,layout:n,sizes:r={}}){typeof n=="string"&&(n=t0(n,{useLayoutCache:e}));const{dims:o}=n,l=o.length,c=eV({useLayoutCache:e,layout:n,sizes:r}),h=l-1,f=n.summary.toString();if(f in J7){const p={data:t};return n.dims.map((m,I)=>{m.type==="Vector"?p[`d${I}v0`]=m.dim:m.type==="Matrix"&&m.parts.forEach((w,_)=>{p[`d${I}v${_}`]=w.dim,p[`m${I}v${_}`]=c[w.dim]})}),J7[f].bind(p)}return({point:p})=>{let m=t;for(let I=0;I<l;I++){const w=I===h,_=o[I];let b;if(b=_.type==="Vector"?p[_.dim]:_.parts.reduce((T,{dim:S})=>T+c[S]*p[S],0),w)return{index:b,parent:m,value:m[b]};m=m[b]}}},prepareUpdate:$7,removeBraces:K7,removeParentheses:X7,select:z8,transform:function({data:e,fill:t,from:n,to:r,sizes:o,useLayoutCache:l=!0}){typeof n=="string"&&(n=t0(n,{useLayoutCache:l})),typeof r=="string"&&(r=t0(r,{useLayoutCache:l}));const{data:c}=J8({fill:t,layout:r,sizes:o}),h=$7({useLayoutCache:l,data:c,layout:r,sizes:o}),f=Y8({sizes:o});for(point of f){const{value:p}=z8({data:e,layout:n,point,sizes:o});h({point,value:p})}return{data:c}},update:function({useLayoutCache:e=!0,data:t,layout:n,point:r,sizes:o={},value:l}){typeof n=="string"&&(n=t0(n,{useLayoutCache:e}));const{dims:c}=n;for(let h=0;h<c.length;h++){const f=h===c.length-1,p=c[h];let m;if(p.type==="Vector")m=r[p.dim];else{const{parts:I}=p;m=0;let w=1;for(let _=I.length-1;_>=0;_--){const b=I[_],{dim:T}=b;if(m+=w*r[T],_>0){if(!(T in o))throw new Error(`you cannot calculate the location without knowing the size of the "${T}" dimension.`);w*=o[T]}}}f?t[m]=l:t=t[m]}},clip:function({useLayoutCache:e=!0,data:t,layout:n,rect:r,sizes:o={},flat:l=!1,validate:c=!0}){c&&tV({rect:r}),typeof n=="string"&&(n=t0(n,{useLayoutCache:e}));let h=[t];if(n.dims.forEach(w=>{let _=[];h.forEach(b=>{if(w.type==="Vector"){const[T,S]=r[w.dim];_=_.concat(b.slice(T,S+1))}else{const{parts:T}=w;let S=[0],k=1;for(let F=T.length-1;F>=0;F--){const N=T[F],{dim:G}=N,[V,W]=r[G],X=[];for(let K=V;K<=W;K++)S.forEach(st=>{X.push(st+k*K)});S=X,k*=o[G]}S.forEach(F=>{_.push(b[F])})}}),h=_}),l)return{data:h};const f=Object.fromEntries(Object.entries(r).map(([w,[_,b]])=>[w,b-_+1])),{data:p}=J8({layout:n,sizes:f}),m=n.dims.length,I=(w,_)=>{if(_===m)for(let b=0;b<w.length;b++)w[b]=h.shift();else w.forEach(b=>I(b,_+1))};return I(p,1),{data:p}},validateRect:tV};(function(e){const{booleanIntersects:t,calc:n,intersect:r,polygon:o}=YX,l=Cj,c=Ij,h=_j,f=P7,p=P8,m=T7,I=R7,w=Dj.calculate,_=GR,b=Qj,{turbocharge:T}=kj,S=Lj,k=Pj,F=Uj,N=(et,it,ot)=>et<it?it:et>ot?ot:et,G=et=>et==null||et!=et,V=(et,it)=>{const ot=Math.round(et*it);return[ot,ot/et,et/ot]},W=et=>new Array(et).fill(0).map((it,ot)=>ot),X=(et,it)=>{let ot=0,ht=0;return((vt,Ct,wt)=>{const mt=vt.length;for(let Rt=0;Rt<mt;Rt++)wt(vt[Rt])})(et,0,vt=>{ht++,ot+=vt}),ht===0?void 0:ot/ht},K=(et,it)=>{if(et.length===0)return;const ot={};for(let Ct=0;Ct<et.length;Ct++){const wt=et[Ct];wt in ot?ot[wt].count++:ot[wt]={n:wt,count:1}}const ht=Object.values(ot),vt=ht.sort((Ct,wt)=>Math.sign(wt.count-Ct.count))[0].count;return ht.filter(Ct=>Ct.count===vt).map(Ct=>Ct.n)},st=function({debug_level:et=0,in_data:it,in_bbox:ot,in_geotransform:ht,in_layout:vt="[band][row,column]",in_srs:Ct,in_height:wt,in_pixel_depth:mt,in_pixel_height:Rt,in_pixel_width:Mt,in_width:Bt,in_no_data:at,out_array_types:kt,out_bands:_t,out_data:zt,out_pixel_depth:Ft,out_pixel_height:qt,out_pixel_width:Gt,out_bbox:ge=null,out_bbox_in_srs:Fe,out_layout:ee,out_resolution:pn=[1,1],out_srs:Te,out_width:Wt=256,out_height:Ot=256,out_no_data:ue=null,method:Ne="median",read_bands:si,row_start:Ti=0,row_end:hi,expr:Ci,round:Zi=!1,theoretical_min:Je,theoretical_max:be,inverse:me,forward:se,cutline:we,cutline_bbox:Me,cutline_srs:Ee,cutline_forward:ke,cutline_strategy:zn="outside",turbo:On=!1,insert_pixel:rn,insert_sample:Wn,insert_null_strategy:ri="skip",skip_no_data_strategy:oi,cache_process:Di=!1}){var TK,DK;et>=1&&console.log("[geowarp] starting");const Pt=et>=1?performance.now():0;if(isNaN(Ot))throw new Error("[geowarp] out_height is NaN");if(isNaN(Wt))throw new Error("[geowarp] out_width is NaN");let En=0;const[Qn,zi,ps]=V(Ot,pn[1]),[_s,tu,op]=V(Wt,pn[0]);et>=1&&console.log("[geowarp] scaled size:",[_s,Qn]),et>=1&&console.log("[geowarp] resolution:",[tu,zi]),et>=1&&console.log("[geowarp] scale:",[op,ps]);const So=Ct===Te;let tT,sP,eT;if(et>=1&&console.log("[geowarp] input and output srs are the same:",So),et>=1&&console.log("[geowarp] skip_no_data_strategy:",oi),me??(me=arguments[0].reproject),rn??(rn=arguments[0].insert),!So){if(!ot)throw new Error("[geowarp] can't reproject without in_bbox");if(!ge){if(!se)throw new Error("[geowarp] must specify out_bbox or forward");ge=tT=eT=_(ot,se,{density:100})}}if(!So&&typeof me!="function")throw new Error("[geowarp] you must specify a reproject function");if(!wt)throw new Error("[geowarp] you must provide in_height");if(!Bt)throw new Error("[geowarp] you must provide in_width");if(ee||(ee=vt),mt==null)if(vt.startsWith("[band]"))mt=it.length;else{const en=p(it);en===1?mt=it.length/wt/Bt:en===2?mt=it[0].length:en===3&&(mt=it[0][0].length)}var wG;et>=1&&console.log("[geowarp] number of bands in source data:",mt),si||(Ci?si=W(mt):_t?(wG=_t,si=Array.from(new Set(wG)).sort((en,ai)=>ai-en)):si=W(mt)),_t??(_t=si),Zi&&typeof ue=="number"&&(ue=Math.round(ue)),Array.isArray(at)===!1&&(at="in_no_data"in arguments[0]?[at]:[]);const Em=at[0];let gf,_G;if(Ci)gf=Zi?({pixel:en})=>S(Ci({pixel:en})).then(ai=>ai.map(Ei=>Math.round(Ei))):Ci;else{const en=_t.map(ai=>si.indexOf(ai));gf=Zi?({pixel:ai})=>en.map(Ei=>{const Gi=ai[Ei];return G(Gi)||at.includes(Gi)?ue:Math.round(Gi)}):({pixel:ai})=>en.map(Ei=>{const Gi=ai[Ei];return G(Gi)||at.includes(Gi)?ue:Gi})}Di&&([gf,_G]=((en,ai=Ei=>Ei.toString())=>{let Ei={};return[Gi=>{var yr;return Ei[yr=ai(Gi)]??(Ei[yr]=en(Gi))},()=>Ei={}]})(gf,({pixel:en})=>en.toString())),et>=1&&console.log("[geowarp] read_bands:",si),et>=1&&console.log("[geowarp] out_height:",Ot),et>=1&&console.log("[geowarp] out_width:",Wt),So&&ot&&!ge&&(ge=ot);const[nT,rP,oP,Im]=ot;Rt??(Rt=(Im-rP)/wt),Mt??(Mt=(oP-nT)/Bt),et>=1&&console.log("[geowarp] pixel height of source data:",Rt),et>=1&&console.log("[geowarp] pixel width of source data:",Mt),ht??(ht=[nT,Mt,0,Im,0,-1*Rt]);const{forward:tA,inverse:Fa}=f(ht),ud=So?Fa:en=>Fa(MK(en)),[na,ap,yv,wm]=ge;et>=1&&console.log("[geowarp] out_xmin:",na),et>=1&&console.log("[geowarp] out_ymin:",ap),et>=1&&console.log("[geowarp] out_xmax:",yv),et>=1&&console.log("[geowarp] out_ymax:",wm),qt??(qt=(wm-ap)/Ot),Gt??(Gt=(yv-na)/Wt),et>=1&&console.log("[geowarp] out_pixel_height:",qt),et>=1&&console.log("[geowarp] out_pixel_width:",Gt);const lp=qt*ps,mf=Gt*op;et>=1&&console.log("[geowarp] out_sample_height:",lp),et>=1&&console.log("[geowarp] out_sample_width:",mf);const iT=lp/2,sT=mf/2,Htt=So?tA:en=>Ztt(tA(en));if(Je===void 0||be===void 0)try{const en=it[0].constructor.name;et>=1&&console.log("[geowarp] data_constructor:",en),Je??(Je=I(en)),be??(be=m(en)),et>=1&&console.log("[geowarp] theoretical_min:",Je),et>=1&&console.log("[geowarp] theoretical_max:",be)}catch(en){console.error(en)}if(![void 0,null,""].includes(ke)&&typeof ke!="function")throw new Error("[geowarp] cutline_forward must be of type function not "+typeof we);let rE=new Array(Qn).fill(0).map(()=>[]);if(we&&Ee!==Te){if(!ke)throw Ct===Ee&&(ke=se),new Error("[geowarp] must specify cutline_forward when cutline_srs and out_srs differ");let en;ke&&Me&&(en=(TK=T({bbox:Me,debug_level:et,quiet:!0,reproject:ke,threshold:[sT,iT]}))==null?void 0:TK.reproject),we=b(we,{reproject:en||ke})}const _K=_s-1,BK=[0,_K],ztt=[BK];if(we)l.calculate({raster_bbox:ge,raster_height:Qn,raster_width:_s,geometry:we}).rows.forEach((en,ai)=>{rE[ai]=en}),zn==="inside"&&(rE=rE.map(en=>en.length===0?ztt:k({segments:en,min:0,max:_K,debug:!1})));else for(let en=0;en<Qn;en++)rE[en].push(BK);const vK={band:mt,row:wt,column:Bt},xv=F.prepareSelect({data:it,layout:vt,sizes:vK}),bK=({row:en,column:ai})=>si.map(Ei=>xv({point:{band:Ei,row:en,column:ai}}).value),Wtt=(({select:en,width:ai,height:Ei},[Gi,yr])=>{const xr={},Oi=ai/Gi,wa=Ei/yr,To=new Array(yr).fill(null).map((Ua,ia)=>Math.floor(ia*wa)),_a=new Array(Gi).fill(null).map((Ua,ia)=>Math.floor(ia*Oi));return To.forEach(Ua=>{_a.forEach(ia=>{const eA=en({row:Ua,column:ia});eA in xr?xr[eA]++:xr[eA]=1})}),Object.entries(xr).sort(([Ua,ia],[eA,ah])=>Math.sign(ah-ia))})({select:bK,width:Bt,height:wt},[10,10]),{hits:Jtt,total:Ytt}=Wtt.reduce((en,[ai,Ei])=>(en.total+=Ei,en.hits+=Ei-1,en),{hits:0,total:0});if(Di==null&&(Di=Jtt/Ytt>=.85),typeof rn!="function"){let en;const ai=({row:Gi,column:yr,pixel:xr})=>{xr.forEach((Oi,wa)=>{en({point:{band:wa,row:Gi,column:yr},value:Oi})})};let Ei=({pixel:Gi,...yr})=>{try{Ft??(Ft=Gi.length),et>=1&&console.log("[geowarp] out_pixel_depth:",Ft);const xr={band:Ft,row:Ot,column:Wt};et>=1&&console.log("[geowarp] out_sizes:",xr),zt??(zt=F.prepareData({fill:ue,layout:ee,sizes:xr,arrayTypes:kt}).data),et>=1&&console.log("[geowarp] out_data:",typeof zt),en=F.prepareUpdate({data:zt,layout:ee,sizes:xr}),et>=1&&console.log("[geowarp] prepared update function"),Ei=ai,ai({pixel:Gi,...yr})}catch(xr){console.error("first call to insert_pixel_sync failed:",xr)}};rn=({pixel:Gi,...yr})=>{En++,S(Gi).then(xr=>{Ei({pixel:xr,...yr}),En--})}}typeof Wn!="function"&&(Wn=tu===1&&zi===1?en=>rn(en):({row:en,column:ai,pixel:Ei,...Gi})=>{const[yr,xr,Oi,wa]=(([To,_a],[Ua,ia])=>[Math.round(To*Ua),Math.round(_a*ia),Math.round((To+1)*Ua),Math.round((_a+1)*ia)])([ai,en],[op,ps]);for(let To=xr;To<wa;To++)for(let _a=yr;_a<Oi;_a++)rn({row:To,column:_a,pixel:Ei,...Gi})}),hi??(hi=Qn),et>=1&&console.log("[geowarp] method:",Ne);let rT,oT,BG=([en,ai])=>{const Ei=[na+en*mf+sT,wm-ai*lp-iT],Gi=So?Ei:me(Ei);return Fa(Gi).map(xr=>Math.floor(xr))};if(On){const en=(DK=T({bbox:[0,0,Wt,Ot],debug_level:et,quiet:!0,reproject:BG,threshold:[.5,.5]}))==null?void 0:DK.reproject;en&&(BG=ai=>en(ai).map(Ei=>Math.round(Ei)))}On&&(se&&(Fe??(Fe=_(ge,me,{density:100,nan_strategy:"skip"})),sP??(sP=r(ot,Fe)),rT=T({bbox:sP,debug_level:et,quiet:!0,reproject:se,threshold:[sT,iT]})),me&&(tT??(tT=_(ot,se,{density:100})),eT??(eT=r(ge,tT)),oT=T({bbox:eT,debug_level:et,quiet:!0,reproject:me,threshold:[sT,iT]}))),et>=2&&(rT&&console.log("[geowarp] turbocharged forward"),oT&&console.log("[geowarp] turbocharged inverse"));const Ztt=(rT==null?void 0:rT.reproject)||se,MK=(oT==null?void 0:oT.reproject)||me;let aT,lT,vG,bG;Ne!=="near-vectorize"&&Ne!=="nearest-vectorize"||(et>=2&&console.log('[geowarp] choosing between "near" and "vectorize" for best speed'),Fe??(Fe=So?ge:_(ge,me,{density:100,nan_strategy:"skip"})),aT=(Fe[3]-Fe[1])/Qn,lT=(Fe[2]-Fe[0])/_s,vG=aT/Rt,bG=lT/Mt,et>=2&&console.log("[geowarp] pixel_height_ratio:",vG),et>=2&&console.log("[geowarp] pixel_width_ratio:",bG),vG<.1&&bG<.1?(Ne="vectorize",et>=1&&console.log('[geowarp] selected "vectorize" method as it is likely to be faster')):(Ne="near",et>=1&&console.log('[geowarp] selected "near" method as it is likely to be faster')));const aP=oi==="any"?en=>en.some(ai=>G(ai)||at.includes(ai)):oi==="all"?en=>en.every(ai=>G(ai)||at.includes(ai)):()=>!1;if(Ne==="vectorize"){Fe??(Fe=So?ge:_(ge,me,{density:100,nan_strategy:"skip"}));let[en,ai,Ei,Gi]=Fe;aT??(aT=(Gi-ai)/Qn),Rt<aT&&et>=1&&console.warn(`[geowarp] normalized height of sample area of ${aT} is larger than input pixel height of ${Rt}`),lT??(lT=(Ei-en)/Wt),Mt<lT&&et>=1&&console.warn(`[geowarp] normalized width of sample area of ${lT} is larger than input pixel width of ${Mt}`);const yr=we&&b(we,{reproject:me}),xr=we&&n(yr);if((!we||t(ot,xr))&&([en,ai,Ei,Gi]=we&&zn!=="inside"?r(Fe,xr):Fe,et>=1&&console.log("[geowarp] [left, bottom, right, top]:",[en,ai,Ei,Gi]),en<oP&&ai<Im&&Ei>nT||Gi<rP)){const Oi=_(Fe,Fa);if(et>=1&&console.log("[geowarp] out_bbox_in_input_image_coords:",Oi),t(Oi,[0,0,Bt,wt])){const[wa,To,_a,Ua]=Oi.map(Ba=>Math.floor(Ba)),ia=N(To,0,wt-1),eA=N(Ua,0,wt-1),ah=N(wa,0,Bt-1),lh=N(_a,0,Bt-1);for(let Ba=ia;Ba<=eA;Ba++)for(let nA=ah;nA<=lh;nA++){const Ah=si.map(fd=>xv({point:{band:fd,row:Ba,column:nA}}).value);if(aP(Ah))continue;const dd=o([nA,Ba,nA+1,Ba+1]),yf={debug:!1,raster_bbox:ge,raster_height:Qn,raster_width:_s,geometry:b(dd,{reproject:Htt})},eu=gf({pixel:Ah});eu===null&&ri!=="insert"||(yf.per_pixel=we?({row:fd,column:iA})=>{rE[fd].some(([Mw,AT])=>iA>=Mw&&iA<=AT)&&Wn({raw:Ah,pixel:eu,row:fd,column:iA})}:({row:fd,column:iA})=>{Wn({raw:Ah,pixel:eu,row:fd,column:iA})},l.calculate(yf))}}}}else if(Ne==="near"||Ne==="nearest"){const en=Math.min(hi,Qn);for(let ai=Ti;ai<en;ai++){const Ei=rE[ai];for(let Gi=0;Gi<Ei.length;Gi++){const[yr,xr]=Ei[Gi];for(let Oi=yr;Oi<=xr;Oi++){const[wa,To]=BG([Oi,ai]);let _a=[];if(_a=wa<0||To<0||wa>=Bt||To>=wt?new Array(si.length).fill(Em):bK({row:To,column:wa}),aP(_a))continue;const Ua=gf({pixel:_a});Ua===null&&ri!=="insert"||Wn({row:ai,column:Oi,pixel:Ua,raw:_a,x_in_raster_pixels:wa,y_in_raster_pixels:To})}}}}else if(Ne==="bilinear"){const en=Math.min(hi,Qn);let ai=wm+iT-Ti*lp;for(let Ei=Ti;Ei<en;Ei++){ai-=lp;const Gi=rE[Ei];for(let yr=0;yr<Gi.length;yr++){const[xr,Oi]=Gi[yr];for(let wa=xr;wa<=Oi;wa++){const To=[na+wa*mf+sT,ai],_a=So?To:MK(To),[Ua,ia]=Fa(_a),eA=Math.floor(Ua),ah=Math.ceil(Ua),lh=Math.floor(ia),Ba=Math.ceil(ia),nA=ah-Ua,Ah=Ua-eA,dd=lh===Ba?.5:Ba-ia,yf=lh===Ba?.5:ia-lh,eu=eA<0||eA>=Bt,fd=ah<0||ah>=Bt,iA=lh<0||lh>=wt,Mw=Ba<0||Ba>=wt,AT=iA||eu,lP=iA||fd,Cv=Mw||eu,Ktt=Mw||fd,AP=new Array;for(let MG=0;MG<si.length;MG++){const cP=si[MG],cT=AT?Em:xv({point:{band:cP,row:lh,column:eA}}).value,hT=lP?Em:xv({point:{band:cP,row:lh,column:ah}}).value,uT=Cv?Em:xv({point:{band:cP,row:Ba,column:eA}}).value,dT=Ktt?Em:xv({point:{band:cP,row:Ba,column:ah}}).value;let fT;const QK=G(cT)||at.includes(cT),kK=G(hT)||at.includes(hT);let pT;QK&&kK||(fT=QK?hT:kK||cT===hT?cT:nA*cT+Ah*hT);const LK=G(uT)||at.includes(uT),PK=G(dT)||at.includes(dT);let FK;LK&&PK||(pT=LK?dT:PK||uT===dT?uT:nA*uT+Ah*dT),FK=fT===void 0&&pT===void 0?Em:fT===void 0?pT:pT===void 0?fT:yf*pT+dd*fT,AP.push(FK)}if(aP(AP))continue;const RK=gf({pixel:AP});RK===null&&ri!=="insert"||Wn({row:Ei,column:wa,pixel:RK,raw:AP})}}}}else{let en,ai,Ei,Gi,yr;if(typeof Ne=="function")en=Oi=>Ne({values:Oi});else if(Ne==="max")en=Oi=>c(Oi,{theoretical_max:be});else if(Ne==="mean")en=Oi=>X(Oi);else if(Ne==="median")en=Oi=>w(Oi);else if(Ne==="min")en=Oi=>h(Oi,{theoretical_min:Je});else if(Ne==="mode")en=Oi=>K(Oi)[0];else if(Ne==="mode-max")en=Oi=>c(K(Oi));else if(Ne==="mode-mean")en=Oi=>X(K(Oi));else if(Ne==="mode-median")en=Oi=>w(K(Oi));else{if(Ne!=="mode-min")throw new Error(`[geowarp] unknown method "${Ne}"`);en=Oi=>h(K(Oi))}Gi=wm-Ti*Ti;const xr=Math.min(hi,Qn);for(let Oi=Ti;Oi<xr;Oi++){ai=Gi,Gi=ai-lp;const wa=rE[Oi];for(let To=0;To<wa.length;To++){const[_a,Ua]=wa[To];yr=na+mf*_a;for(let ia=_a;ia<=Ua;ia++){let eA,ah,lh,Ba;Ei=yr,yr=Ei+mf;try{[eA,ah,lh,Ba]=_([Ei,Gi,yr,ai],ud,{nan_strategy:"throw"})}catch{continue}et>=4&&console.log("[geowarp] leftInRasterPixels:",eA),et>=4&&console.log("[geowarp] rightInRasterPixels:",lh),et>=4&&console.log("[geowarp] topInRasterPixels:",ah),et>=4&&console.log("[geowarp] bottomInRasterPixels:",Ba);let nA=Math.round(eA),Ah=Math.round(lh),dd=Math.round(ah),yf=Math.round(Ba);if(nA===Ah){const iA=(lh+eA)/2;nA=Math.floor(iA),Ah=nA+1}if(dd===yf){const iA=(ah+Ba)/2;dd=Math.floor(iA),yf=dd+1}let eu=[];if(nA>=Bt||Ah<0||yf<0||dd>=wt)eu=new Array(si.length).fill(Em);else{nA=Math.max(0,nA),Ah=Math.min(Ah,Bt),dd=Math.max(0,dd),yf=Math.min(yf,wt);for(let iA=0;iA<si.length;iA++){const Mw=si[iA],{data:AT}=F.clip({data:it,flat:!0,layout:vt,sizes:vK,rect:{band:[Mw,Mw],row:[dd,Math.max(dd,yf-1)],column:[nA,Math.max(nA,Ah-1)]}}),lP=AT.filter(Cv=>typeof Cv=="number"&&Cv==Cv&&at.indexOf(Cv)===-1);lP.length===0?eu.push(Em):eu.push(en(lP))}}if(aP(eu))continue;const fd=gf({pixel:eu});fd===null&&ri!=="insert"||Wn({row:Oi,column:ia,pixel:fd,raw:eu})}}}}const SK=()=>(et>=1&&console.log("[geowarp] took "+(performance.now()-Pt).toFixed(0)+"ms"),{data:zt,out_bands:_t,out_height:Ot,out_layout:ee,out_pixel_depth:Ft,out_pixel_height:qt,out_pixel_width:Gt,out_sample_height:lp,out_sample_width:mf,out_width:Wt,read_bands:si});return En>0?new Promise(en=>{const ai=setInterval(()=>{En===0&&(clearInterval(ai),en(SK()))},5)}):SK()};e.exports=st,e.exports.default=st,typeof window=="object"&&(window.geowarp=st),typeof self=="object"&&(self.geowarp=st)})(ci);const Nj=Va(ci.exports);var iV={exports:{}};(function(e){var t=Object.defineProperty,n=(Je,be)=>t(Je,"name",{value:be,configurable:!0}),r=(Je,be)=>()=>(be||Je((be={exports:{}}).exports,be),be.exports),o=r((Je,be)=>{var me={char2bits:{0:"110100",1:"110101",2:"110110",3:"110111",4:"111000",5:"111001",6:"111010",7:"111011",8:"111100",9:"111101",A:"000000",Q:"010000",g:"100000",w:"110000",B:"000001",R:"010001",h:"100001",x:"110001",C:"000010",S:"010010",i:"100010",y:"110010",D:"000011",T:"010011",j:"100011",z:"110011",E:"000100",U:"010100",k:"100100",F:"000101",V:"010101",l:"100101",G:"000110",W:"010110",m:"100110",H:"000111",X:"010111",n:"100111",I:"001000",Y:"011000",o:"101000",J:"001001",Z:"011001",p:"101001",K:"001010",a:"011010",q:"101010",L:"001011",b:"011011",r:"101011",M:"001100",c:"011100",s:"101100",N:"001101",d:"011101",t:"101101",O:"001110",e:"011110",u:"101110","+":"111110",P:"001111",f:"011111",v:"101111","/":"111111"}};me.toArrayBuffer=n(function(se){var we=me.char2bits,Me=0;for(let ri=se.length;ri>=0;ri--)se[ri]==="="&&Me++;for(var Ee=se.length-Me,ke=Math.floor(.75*Ee),zn=new Uint8Array(ke),On="",rn=0;rn<Ee;rn++){var Wn=se[rn];if(Wn==="=")break;(On+=we[Wn]).length>=8&&(zn[Math.floor(.75*rn)]=parseInt(On.substring(0,8),2),On=On.substring(8))}return zn.buffer},"toArrayBuffer"),me.toBase64String=n(function(se){if(!me.bits2char){me.bits2char={};for(let rn in me.char2bits)me.bits2char[me.char2bits[rn]]=rn}for(var we=me.bits2char,Me=new Uint8Array(se),Ee="",ke="",zn=0;zn<Me.length;zn++){for(var On=Me[zn].toString(2);On.length<8;)On="0"+On;for(ke+=On;ke.length>=6;)Ee+=we[ke.substring(0,6)],ke=ke.substring(6)}if(ke.length>0){for(;ke.length<6;)ke+="0";Ee+=we[ke]}for(;Ee.length%4!=0;)Ee+="=";return Ee},"toBase64String"),typeof be=="object"&&(be.exports=me),typeof window=="object"&&(window.b64ab=me),typeof self=="object"&&(self.b64ab=me)}),l=r((Je,be)=>{function me(se,we,Me){let Ee=new RegExp(we).exec(se.slice(Me));return Ee?Me+Ee.index:-1}n(me,"indexOfMatch"),be.exports=me,be.exports.default=me}),c=r((Je,be)=>{function me(se,we,Me){let Ee=new RegExp(we).exec(se.slice(Me));return Ee?Me+Ee.index+Ee[0].length-1:-1}n(me,"indexOfMatchEnd"),be.exports=me,be.exports.default=me}),h=r((Je,be)=>{function me(se,we){let Me=new RegExp(we,"g"),Ee=se.match(Me);return Ee?Ee.length:0}n(me,"countSubstring"),be.exports=me,be.exports.default=me}),f=r((Je,be)=>{var me=l(),se=c(),we=h();function Me(Ee,ke,zn){let On=zn&&zn.debug||!1,rn=!(zn&&typeof zn.nested===!1),Wn=zn&&zn.startIndex||0;On&&console.log("[xml-utils] starting findTagByName with",ke," and ",zn);let ri=me(Ee,`<${ke}[ 
>/]`,Wn);if(On&&console.log("[xml-utils] start:",ri),ri===-1)return;let oi=Ee.slice(ri+ke.length),Di=se(oi,"^[^<]*[ /]>",0),Pt=Di!==-1&&oi[Di-1]==="/";if(On&&console.log("[xml-utils] selfClosing:",Pt),Pt===!1)if(rn){let ps=0,_s=1,tu=0;for(;(Di=se(oi,"[ /]"+ke+">",ps))!==-1;){let op=oi.substring(ps,Di+1);if(_s+=we(op,"<"+ke+`[ 
	>]`),tu+=we(op,"</"+ke+">"),tu>=_s)break;ps=Di}}else Di=se(oi,"[ /]"+ke+">",0);let En=ri+ke.length+Di+1;if(On&&console.log("[xml-utils] end:",En),En===-1)return;let Qn,zi=Ee.slice(ri,En);return Qn=Pt?null:zi.slice(zi.indexOf(">")+1,zi.lastIndexOf("<")),{inner:Qn,outer:zi,start:ri,end:En}}n(Me,"findTagByName"),be.exports=Me,be.exports.default=Me}),p=r((Je,be)=>{var me=f();function se(we,Me,Ee){let ke,zn=[],On=Ee&&Ee.debug||!1,rn=!Ee||typeof Ee.nested!="boolean"||Ee.nested,Wn=Ee&&Ee.startIndex||0;for(;ke=me(we,Me,{debug:On,startIndex:Wn});)Wn=rn?ke.start+1+Me.length:ke.end,zn.push(ke);return On&&console.log("findTagsByName found",zn.length,"tags"),zn}n(se,"findTagsByName"),be.exports=se,be.exports.default=se}),m=r((Je,be)=>{var me=p();function se(we,Me,Ee){let ke=Ee&&Ee.debug||!1,zn=Ee&&Ee.returnOnFirst||!1,On=me(we,Me.shift(),{debug:ke,nested:!1});ke&&console.log("first tags are:",On);for(let rn=0;rn<Me.length;rn++){let Wn=Me[rn];ke&&console.log("tagName:",Wn);let ri=[];for(let oi=0;oi<On.length;oi++){let Di=On[oi],Pt=me(Di.outer,Wn,{debug:ke,startIndex:1});if(ke&&console.log("subTags.length:",Pt.length),Pt.length>0){if(Pt.forEach(En=>{En.start+=Di.start,En.end+=Di.start}),zn&&rn===Me.length-1)return[Pt[0]];ri=ri.concat(Pt)}}On=ri}return On}n(se,"findTagsByPath"),be.exports=se,be.exports.default=se}),I=r((Je,be)=>{var me=m();function se(we,Me,Ee){let ke=Ee&&Ee.debug||!1,zn=me(we,Me,{debug:ke,returnOnFirst:!0});if(Array.isArray(zn)&&zn.length===1)return zn[0]}n(se,"findTagByPath"),be.exports=se,be.exports.default=se}),w=r((Je,be)=>{function me(se,we,Me){let Ee=Me&&Me.debug||!1;Ee&&console.log("[xml-utils] getting "+we+" in "+se);let ke=typeof se=="object"?se.outer:se,zn=ke.slice(0,ke.indexOf(">")+1),On=['"',"'"];for(let rn=0;rn<On.length;rn++){let Wn=On[rn],ri=we+"\\="+Wn+"([^"+Wn+"]*)"+Wn;Ee&&console.log("[xml-utils] pattern:",ri);let oi=new RegExp(ri).exec(zn);if(Ee&&console.log("[xml-utils] match:",oi),oi)return oi[1]}}n(me,"getAttribute"),be.exports=me,be.exports.default=me}),_=r((Je,be)=>{var me=/\s/,se=/[A-Za-z]/,we=/[A-Za-z84_]/,Me=/[,\]]/,Ee=/[\d\.E\-\+]/;function ke(Pt){if(typeof Pt!="string")throw new Error("not a string");this.text=Pt.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function zn(Pt){return new ke(Pt).output()}function On(Pt,En,Qn){Array.isArray(En)&&(Qn.unshift(En),En=null);var zi=En?{}:Pt,ps=Qn.reduce(function(_s,tu){return rn(tu,_s),_s},zi);En&&(Pt[En]=ps)}function rn(Pt,En){if(Array.isArray(Pt)){var Qn=Pt.shift();if(Qn==="PARAMETER"&&(Qn=Pt.shift()),Pt.length===1)return Array.isArray(Pt[0])?(En[Qn]={},void rn(Pt[0],En[Qn])):void(En[Qn]=Pt[0]);if(Pt.length)if(Qn!=="TOWGS84"){if(Qn==="AXIS")return Qn in En||(En[Qn]=[]),void En[Qn].push(Pt);var zi;switch(Array.isArray(Qn)||(En[Qn]={}),Qn){case"UNIT":case"PRIMEM":case"VERT_DATUM":return En[Qn]={name:Pt[0].toLowerCase(),convert:Pt[1]},void(Pt.length===3&&rn(Pt[2],En[Qn]));case"SPHEROID":case"ELLIPSOID":return En[Qn]={name:Pt[0],a:Pt[1],rf:Pt[2]},void(Pt.length===4&&rn(Pt[3],En[Qn]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return Pt[0]=["name",Pt[0]],void On(En,Qn,Pt);default:for(zi=-1;++zi<Pt.length;)if(!Array.isArray(Pt[zi]))return rn(Pt,En[Qn]);return On(En,Qn,Pt)}}else En[Qn]=Pt;else En[Qn]=!0}else En[Pt]=!0}n(ke,"Parser"),ke.prototype.readCharicter=function(){var Pt=this.text[this.place++];if(this.state!==4)for(;me.test(Pt);){if(this.place>=this.text.length)return;Pt=this.text[this.place++]}switch(this.state){case 1:return this.neutral(Pt);case 2:return this.keyword(Pt);case 4:return this.quoted(Pt);case 5:return this.afterquote(Pt);case 3:return this.number(Pt);case-1:return}},ke.prototype.afterquote=function(Pt){if(Pt==='"')return this.word+='"',void(this.state=4);if(Me.test(Pt))return this.word=this.word.trim(),void this.afterItem(Pt);throw new Error(`havn't handled "`+Pt+'" in afterquote yet, index '+this.place)},ke.prototype.afterItem=function(Pt){return Pt===","?(this.word!==null&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):Pt==="]"?(this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ke.prototype.number=function(Pt){if(!Ee.test(Pt)){if(Me.test(Pt))return this.word=parseFloat(this.word),void this.afterItem(Pt);throw new Error(`havn't handled "`+Pt+'" in number yet, index '+this.place)}this.word+=Pt},ke.prototype.quoted=function(Pt){Pt!=='"'?this.word+=Pt:this.state=5},ke.prototype.keyword=function(Pt){if(we.test(Pt))this.word+=Pt;else{if(Pt==="["){var En=[];return En.push(this.word),this.level++,this.root===null?this.root=En:this.currentObject.push(En),this.stack.push(this.currentObject),this.currentObject=En,void(this.state=1)}if(!Me.test(Pt))throw new Error(`havn't handled "`+Pt+'" in keyword yet, index '+this.place);this.afterItem(Pt)}},ke.prototype.neutral=function(Pt){if(se.test(Pt))return this.word=Pt,void(this.state=2);if(Pt==='"')return this.word="",void(this.state=4);if(Ee.test(Pt))return this.word=Pt,void(this.state=3);if(!Me.test(Pt))throw new Error(`havn't handled "`+Pt+'" in neutral yet, index '+this.place);this.afterItem(Pt)},ke.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===-1)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)},n(zn,"parseString"),n(On,"mapit"),n(rn,"sExpr");function Wn(Pt,En){var Qn=En[0],zi=En[1];!(Qn in Pt)&&zi in Pt&&(Pt[Qn]=Pt[zi],En.length===3&&(Pt[Qn]=En[2](Pt[Qn])))}function ri(Pt){return .017453292519943295*Pt}function oi(Pt){if(Pt.type==="GEOGCS"?Pt.projName="longlat":Pt.type==="LOCAL_CS"?(Pt.projName="identity",Pt.local=!0):typeof Pt.PROJECTION=="object"?Pt.projName=Object.keys(Pt.PROJECTION)[0]:Pt.projName=Pt.PROJECTION,Pt.AXIS){for(var En="",Qn=0,zi=Pt.AXIS.length;Qn<zi;++Qn){var ps=[Pt.AXIS[Qn][0].toLowerCase(),Pt.AXIS[Qn][1].toLowerCase()];ps[0].indexOf("north")!==-1||(ps[0]==="y"||ps[0]==="lat")&&ps[1]==="north"?En+="n":ps[0].indexOf("south")!==-1||(ps[0]==="y"||ps[0]==="lat")&&ps[1]==="south"?En+="s":ps[0].indexOf("east")!==-1||(ps[0]==="x"||ps[0]==="lon")&&ps[1]==="east"?En+="e":(ps[0].indexOf("west")!==-1||(ps[0]==="x"||ps[0]==="lon")&&ps[1]==="west")&&(En+="w")}En.length===2&&(En+="u"),En.length===3&&(Pt.axis=En)}Pt.UNIT&&(Pt.units=Pt.UNIT.name.toLowerCase(),Pt.units==="metre"&&(Pt.units="meter"),Pt.UNIT.convert&&(Pt.type==="GEOGCS"?Pt.DATUM&&Pt.DATUM.SPHEROID&&(Pt.to_meter=Pt.UNIT.convert*Pt.DATUM.SPHEROID.a):Pt.to_meter=Pt.UNIT.convert));var _s=Pt.GEOGCS;function tu(So){return So*(Pt.to_meter||1)}Pt.type==="GEOGCS"&&(_s=Pt),_s&&(_s.DATUM?Pt.datumCode=_s.DATUM.name.toLowerCase():Pt.datumCode=_s.name.toLowerCase(),Pt.datumCode.slice(0,2)==="d_"&&(Pt.datumCode=Pt.datumCode.slice(2)),(Pt.datumCode==="new_zealand_geodetic_datum_1949"||Pt.datumCode==="new_zealand_1949")&&(Pt.datumCode="nzgd49"),(Pt.datumCode==="wgs_1984"||Pt.datumCode==="world_geodetic_system_1984")&&(Pt.PROJECTION==="Mercator_Auxiliary_Sphere"&&(Pt.sphere=!0),Pt.datumCode="wgs84"),Pt.datumCode.slice(-6)==="_ferro"&&(Pt.datumCode=Pt.datumCode.slice(0,-6)),Pt.datumCode.slice(-8)==="_jakarta"&&(Pt.datumCode=Pt.datumCode.slice(0,-8)),~Pt.datumCode.indexOf("belge")&&(Pt.datumCode="rnb72"),_s.DATUM&&_s.DATUM.SPHEROID&&(Pt.ellps=_s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),Pt.ellps.toLowerCase().slice(0,13)==="international"&&(Pt.ellps="intl"),Pt.a=_s.DATUM.SPHEROID.a,Pt.rf=parseFloat(_s.DATUM.SPHEROID.rf,10)),_s.DATUM&&_s.DATUM.TOWGS84&&(Pt.datum_params=_s.DATUM.TOWGS84),~Pt.datumCode.indexOf("osgb_1936")&&(Pt.datumCode="osgb36"),~Pt.datumCode.indexOf("osni_1952")&&(Pt.datumCode="osni52"),(~Pt.datumCode.indexOf("tm65")||~Pt.datumCode.indexOf("geodetic_datum_of_1965"))&&(Pt.datumCode="ire65"),Pt.datumCode==="ch1903+"&&(Pt.datumCode="ch1903"),~Pt.datumCode.indexOf("israel")&&(Pt.datumCode="isr93")),Pt.b&&!isFinite(Pt.b)&&(Pt.b=Pt.a),n(tu,"toMeter");var op=n(function(So){return Wn(Pt,So)},"renamer");[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ri],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ri],["x0","false_easting",tu],["y0","false_northing",tu],["long0","central_meridian",ri],["lat0","latitude_of_origin",ri],["lat0","standard_parallel_1",ri],["lat1","standard_parallel_1",ri],["lat2","standard_parallel_2",ri],["azimuth","Azimuth"],["alpha","azimuth",ri],["srsCode","name"]].forEach(op),!Pt.long0&&Pt.longc&&(Pt.projName==="Albers_Conic_Equal_Area"||Pt.projName==="Lambert_Azimuthal_Equal_Area")&&(Pt.long0=Pt.longc),Pt.lat_ts||!Pt.lat1||Pt.projName!=="Stereographic_South_Pole"&&Pt.projName!=="Polar Stereographic (variant B)"?!Pt.lat_ts&&Pt.lat0&&Pt.projName==="Polar_Stereographic"&&(Pt.lat_ts=Pt.lat0,Pt.lat0=ri(Pt.lat0>0?90:-90)):(Pt.lat0=ri(Pt.lat1>0?90:-90),Pt.lat_ts=Pt.lat1)}n(Wn,"rename"),n(ri,"d2r"),n(oi,"cleanWKT");var Di=n(function(Pt){var En=zn(Pt),Qn=En.shift(),zi=En.shift();En.unshift(["name",zi]),En.unshift(["type",Qn]);var ps={};return rn(En,ps),oi(ps),ps},"index");be.exports=Di}),b=r((Je,be)=>{function me(se){if(!se)return;let we=/PROJCS\[\"([^"]+)\"/.exec(se);if(!we)return;let Me=we[1];if(Me.match(/^WGS_1984_UTM_Zone_\d{1,2}(N|S)$/)){let Ee=Me.split("_").pop(),ke=Ee.substring(0,Ee.length-1),zn=Ee.substring(Ee.length-1)=="N"?6:7;return Number.parseInt("32"+zn+ke)}if(Me.match(/^NAD_1983_UTM_Zone_\d{1,2}N$/)){let Ee=Me.split("_").pop(),ke=Ee.substring(0,Ee.length-1);return Number.parseInt("269"+ke)}}n(me,"getCodeFromEsriWKT"),typeof be=="object"&&(be.exports=me,be.exports.default=me)}),T=r((Je,be)=>{function me(se){if(se.includes("+proj=utm")&&se.includes("+zone=")){let we=se.split(" "),Me=we.find(zn=>zn.startsWith("+zone=")).split("=")[1],Ee=se.includes("+south"),ke=we.find(zn=>zn.startsWith("+ellps="));if(ke&&(ke=ke.split("=")[1]),ke==="GRS80"&&Ee===!1)return Number.parseInt("269"+Me);{let zn=Ee?"7":"6";return Number.parseInt("32"+zn+Me)}}}n(me,"getCodeFromProjString"),typeof be=="object"&&(be.exports=me,be.exports.default=me)}),S=r((Je,be)=>{function me(se){let we,Me,Ee=0;if((se=(se=(se=(se=se.trim()).replace(/\n/g," ")).replace(/\t/g," ")).replace(/ +/g," ")).length===0)return Ee;let ke=se.length;for(we=0;we<ke;we++)Me=se.charCodeAt(we),Ee=(Ee<<5)-Ee+Me,Ee|=0;return Ee}n(me,"hash32"),be.exports=me,be.exports.default=me}),k=r((Je,be)=>{function me(Ee,{keywords:ke}={}){let zn=Object.keys(Ee).filter(On=>!/\d+/.test(On));if(!ke){ke=[];let On={};if(Array.isArray(Ee)){Ee.forEach(rn=>{if(Array.isArray(rn)&&rn.length>=2&&typeof rn[1]=="string"){let Wn=rn[0];On[Wn]||(On[Wn]=0),On[Wn]++}});for(let rn in On)On[rn]>0&&ke.push(rn)}}return zn.forEach(On=>{Ee[On]=me(Ee[On])}),ke.forEach(On=>{let rn=[],Wn=[];Ee.forEach((ri,oi)=>{Array.isArray(ri)&&ri[0]===On&&(rn.push(oi),Wn.push(ri))}),Wn.sort((ri,oi)=>(ri=ri[1].toString())<(oi=oi[1].toString())?-1:ri>oi?1:0),Wn.forEach((ri,oi)=>{Ee[rn[oi]]=ri})}),Ee}function se(Ee,ke){let zn,On=typeof ke=="object"&&ke.raw===!0,rn=typeof ke=="object"&&ke.debug===!0;rn&&console.log(`[wktcrs] parse starting with
`,Ee),Ee=Ee.replace(/[A-Z][A-Z\d_]+\[/gi,function(oi){return'["'+oi.substr(0,oi.length-1)+'",'}),Ee=Ee.replace(/, ?([A-Z][A-Z\d_]+[,\]])/gi,function(oi,Di){let Pt=Di.substr(0,Di.length-1);return',"'+(On?"raw:":"")+Pt+'"'+Di[Di.length-1]}),typeof ke=="object"&&ke.raw===!0&&(Ee=Ee.replace(/, {0,2}(-?[\.\d]+)(?=,|\])/g,function(oi,Di){return',"'+(On?"raw:":"")+Di+'"'})),rn&&console.log("[wktcrs] json'd wkt: '"+Ee+"'");try{zn=JSON.parse(Ee)}catch(oi){throw console.error(`[wktcrs] failed to parse '${Ee}'`),oi}function Wn(oi,Di){let Pt=oi[0];oi.forEach(function(Qn){Array.isArray(Qn)&&Wn(Qn,oi)});let En="MULTIPLE_"+Pt;return En in Di?Di[En].push(oi):Pt in Di?(Di[En]=[Di[Pt],oi],delete Di[Pt]):Di[Pt]=oi,Di}rn&&console.log("[wktcrs] json parsed: '"+Ee+"'"),n(Wn,"process");let ri=Wn(zn,[zn]);return rn&&console.log("[wktcrs] parse returning",ri),{data:ri}}function we(Ee,ke){Array.isArray(Ee)&&Ee.length==1&&Array.isArray(Ee[0])&&(Ee=Ee[0]);let[zn,...On]=Ee;return{data:zn+"["+On.map(rn=>{if(Array.isArray(rn))return we(rn).data;if(typeof rn=="number")return rn.toString();if(typeof rn=="string")return rn.startsWith("raw:")?rn.replace("raw:",""):'"'+rn+'"';throw new Error('[wktcrs] unexpected attribute "'+rn+'"')}).join(",")+"]"}}n(me,"sort"),n(se,"parse"),n(we,"unparse");var Me={parse:se,unparse:we,sort:me};typeof be=="object"&&(be.exports=Me),typeof window=="object"&&(window.wktcrs=Me),typeof self=="object"&&(self.wktcrs=Me)}),F=r((Je,be)=>{var me=k();function se(Me){let{data:Ee}=me.parse(Me,{raw:!0});return me.sort(Ee),me.unparse(Ee,{raw:!0}).data}function we(Me,{debug:Ee=!1}={debug:!1}){return Me=(Me=(Me=(Me=(Me=(Me=(Me=(Me=(Me=Me.trim()).replace(/\n/g," ")).replace(/\t/g," ")).replace(/ +/g," ")).replace(/ /g,"_")).replace('GEOGCS["GCS_','GEOGCS["')).replace('DATUM["D_','DATUM["')).replace("Gauss_Kruger","GK")).replace(/\.\d{16,}/g,ke=>ke.substr(0,16)),Me=Me.replace(/\d+\.0[,"'\]]/g,ke=>ke.substring(0,ke.indexOf("."))+ke.charAt(ke.length-1)),Me=Me.replace(/[_|"]1984[_|"]/g,ke=>ke.charAt(0)+"84"+ke.charAt(ke.length-1)),Me=Me.replace(/"[A-Za-z_\d]+"/g,ke=>'"'+ke.substring(1,ke.length-1).toLowerCase()+'"'),Me=se(Me),Ee&&console.log('[get-epsg-code] wkt after cleaning: "'+Me+'"'),Me}n(se,"sort_wkt"),n(we,"normalize_wkt"),be.exports=we,be.exports.default=we}),N=r((Je,be)=>{var me=F();function se(we,{debug:Me=!1}={debug:!1}){return me(we,{debug:Me})}n(se,"normalize_esriwkt"),be.exports=se,be.exports.default=se}),G=r((Je,be)=>{function me(se,{debug:we=!1,remove_k1:Me=!0,remove_no_defs:Ee=!0,remove_title:ke=!0,remove_init:zn=!0,remove_type:On=!0}={}){let rn=(se=(se=se.trim()).replace(/ +/g," ")).split(/ ?\+/g).filter(Wn=>Wn.trim()!=="").sort();return Me&&(rn=rn.filter(Wn=>Wn!=="k=1")),Ee&&(rn=rn.filter(Wn=>Wn!=="no_defs")),On&&(rn=rn.filter(Wn=>!Wn.startsWith("type"))),zn&&(rn=rn.filter(Wn=>!Wn.startsWith("init"))),ke&&(rn=rn.filter(Wn=>!Wn.startsWith("title"))),se=rn.map(Wn=>"+"+Wn).join(" "),we&&console.log(`normalized proj4 string
from "`+arguments[0]+`"
to "`+se+'"'),se}n(me,"normalize_proj4"),be.exports=me,be.exports.default=me}),V=r((Je,be)=>{var me=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS","PRIMEM","DATUM"];function se(we){if(!((we=we.trim()).startsWith("PROJCS[")||we.startsWith("PROJCRS[")||we.startsWith("GEOGCS[")||we.startsWith("GEOGCRS[")))return!1;for(let Me=0;Me<me.length;Me++){let Ee=me[Me];if(we.includes(Ee+"["))return!0}}n(se,"isWKT"),typeof be=="object"&&(be.exports=se,be.exports.default=se),typeof self=="object"&&(self.isWKT=se),typeof window=="object"&&(window.isWKT=se)}),W=r((Je,be)=>{be.exports={FORMATS:{ESRI_WKT:"esriwkt",GEOSERVER:"geoserver",MAPFILE:"mapfile",MAPNIK:"mapnik",OGC_GML:"gml",OGC_XML:"xml",OGC_WKT:"wkt",POSTGIS:"postgis",PROJ_4:"proj4",PROJ_4_JS:"js",PROJJSON:"PROJJSON",WKT_2:"wkt2"}}}),X=r((Je,be)=>{var me=V(),se=k(),{FORMATS:we}=W(),{ESRI_WKT:Me,GEOSERVER:Ee,MAPFILE:ke,MAPNIK:zn,OGC_GML:On,OGC_XML:rn,OGC_WKT:Wn,POSTGIS:ri,PROJ_4:oi,PROJ_4_JS:Di,PROJJSON:Pt,WKT_2:En}=we;function Qn(zi,{debug:ps=!1}={debug:!1}){if(zi.startsWith("{")&&zi.includes("projjson"))return Pt;if(me(zi)){let _s=se.parse(zi.toUpperCase()).data;return"AUTHORITY"in(_s.PROJCS||_s.PROJCRS||_s.GEOGCS||_s.GEOGCRS)?Wn:"ID"in _s?En:Me}return zi.includes("gml:ProjectedCRS")||zi.includes("gml:GeodeticCRS")||zi.includes("gml:GeographicCRS")?zi.includes("gml:srsID")?rn:On:zi.startsWith("+")&&zi.includes("+proj=")?oi:zi.startsWith("proj4.defs(")?Di:/^\d{1,6}\=(PROJCS|GEOGCS)/.test(zi)?Ee:zi.startsWith("PROJECTION")&&zi.endsWith("END")?ke:zi.endsWith("</Map>")?zn:zi.startsWith("INSERT")?ri:(ps&&console.log('get-proj-type could not identify "'+zi+'"'),"SOMETHING ELSE")}n(Qn,"getProjType"),be.exports=Qn,be.exports.default=Qn}),K=r((Je,be)=>{function me(se,{debug:we=!1}={debug:!1}){let Me=se.indexOf(":")+1,Ee=se.indexOf('"',Me+2),ke=se.substring(Me,Ee);if(we&&console.log('parseProj4JS str: "'+ke+'"'),ke)return Number(ke)}n(me,"parseProj4JS"),be.exports=me,be.exports.default=me}),st=r((Je,be)=>{be.exports={properties:{columns:["epsg_code","esriwkt","mapfile","proj4"],key:"epsg_code",dataType:"int32"},data:"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"}}),et=o(),it=I(),ot=f(),ht=w(),vt=_(),Ct=b(),wt=T(),mt=S(),Rt=N(),Mt=G(),Bt=X(),at=K(),{FORMATS:kt}=W(),_t=st(),zt=n(Je=>Je.default||Je,"getDefault"),Ft=[];function qt(Je){let be=et.toArrayBuffer(_t.data),me=new Int32Array(be);Je&&console.log("arr:",me);let se=_t.properties.columns.length,we=me.length/se;for(let Me=0;Me<we;Me++){let Ee={};for(let ke=0;ke<se;ke++)Ee[_t.properties.columns[ke]]=me[Me*se+ke];Ft.push(Ee)}return Je&&console.log("[get-epsg-code] rows:",Ft),Ft}function Gt(Je,be,me=!1){if(!_t.properties.columns.includes(be))throw new Error("[get-epsg-code] "+be+" not supported");Ft.length===0&&qt(me);let se=mt(Je);me&&console.log("[get-epsg-code] hashed:",se);let we=Ft.filter(Me=>Me[be]===se);return me&&console.log("[get-epsg-code] found:",we),we.map(Me=>Me.epsg_code)}n(qt,"_load_rows"),n(Gt,"lookup");var{ESRI_WKT:ge,GEOSERVER:Fe,MAPFILE:ee,MAPNIK:pn,OGC_GML:Te,OGC_XML:Wt,OGC_WKT:Ot,POSTGIS:ue,PROJJSON:Ne,PROJ_4:si,PROJ_4_JS:Ti,WKT_2:hi}=kt;function Ci(Je,be){var me=!(!be||!be.debug)&&be.debug;typeof Je=="string"&&(Je=Je.trim());let se=Bt(Je,{debug:me});if(me&&console.log("dataType:",se),se===Ot){let we=zt(vt)(Je);if(me&&console.log("parsed:",we),we.AUTHORITY){let Me=we.AUTHORITY;return{type:se,codes:[Number(Me.epsg||Me.EPSG)]}}}else if(se===hi){let we=zt(vt)(Je);if(me&&console.log("parsed:",we),typeof we.ID=="object"&&typeof we.ID.EPSG=="number")return{type:se,codes:[we.ID.EPSG]}}else{if(se==ge){let we=Ct(Je);return we?{type:se,codes:[we]}:{type:se,codes:Gt(Je=Rt(Je,{debug:me}),ge,me)}}if(se===Te){let we=zt(ot)(Je,"gml:identifier",{debug:me}).inner;return{type:se,codes:[Number(we.replace("urn:ogc:def:crs:EPSG::",""))]}}if(se===Wt)return{type:se,codes:[Number(zt(it)(Je,["gml:srsID","gml:name"],{debug:me}).inner)]};if(se===si)return(Je=Mt(Je,{debug:me})).startsWith("+")&&Je.includes("+proj=utm")?{type:se,codes:[wt(Je)]}:{type:se,codes:Gt(Je,si,me)};if(se===Ti){let we=at(Je);return{type:se,codes:we?[we]:[]}}if(se===Fe)return{type:se,codes:[Number(Je.match(/^\d{1,6}/)[0])]};if(se===ee){if(Je.includes("init=epsg:"))return{type:se,codes:[Number.parseInt(/("init\=epsg:)(\d{1,10})(")/.exec(Je)[2])]};if(Je.includes('"proj=utm"')){let we=/("zone\=)(\d{1,2})(")/.exec(Je)[2],Me=Je.includes('"south"');if(Je.includes("ellps=GRS80")&&Me===!1)return{type:se,codes:[Number.parseInt("269"+we)]};{let Ee=Me?"7":"6";return{type:se,codes:[Number.parseInt("32"+Ee+we)]}}}return{type:se,codes:Gt(Je,ee,me)}}if(se===pn){let we=ot(Je,"Map");return{type:se,codes:Ci(ht(we.outer,"srs")).codes}}if(se===ue)return{type:se,codes:[Number(Je.substring(Je.indexOf("values (")+8,Je.indexOf("EPSG")-3).trim())]};if(se===Ne){let we=JSON.parse(Je);if(typeof we.id=="object"&&(we.id.authority==="EPSG"||!("authority"in we.id))&&typeof we.id.code=="number")return{type:se,codes:[we.id.code]}}}}function Zi(Je,be){let me=Ci(Je,be);if(me)return me.codes[0]}n(Ci,"getEPSGCodes"),n(Zi,"getEPSGCode"),e.exports=Zi,e.exports.getEPSGCode=Zi,e.exports.getEPSGCodes=Ci,e.exports._load_rows=qt,typeof window<"u"?(window.getEPSGCode=Zi,window.getEPSGCodes=Ci):typeof self<"u"&&(self.getEPSGCode=Zi,self.getEPSGCodes=Ci)})(iV);const Gj=Va(iV.exports);async function sV(e){const t=await e.getImage(),n=await t.getGeoKeys(),{ProjectedCSTypeGeoKey:r}=n;if(typeof r=="number"&&r!==32767&&r<=32760)return r;const{GeographicTypeGeoKey:o}=n;if(typeof o=="number"&&typeof r!="number")return o;const{PCSCitationGeoKey:l}=n;if(l&&l.includes("ESRI PE String")){const c=l.split("\0").find(p=>p.startsWith("ESRI PE String")),h=c.replace("ESRI PE String = ",""),f=await Gj(h);if(f)return f}}var rV={exports:{}};(function(e){function t(n,{debug:r=!1}={debug:!1}){const o=n.fileDirectory;if(o.ModelTransformation){const[l,c,h,f,p,m,I,w,_,b,T,S,k,F,N,G]=o.ModelTransformation;return[f,l,c,w,p,m]}if(o.ModelTiepoint&&!o.ModelPixelScale)r&&console.log("[geotiff-geotransform] missing ModelPixelScaleTag");else if(o.ModelPixelScale&&!o.ModelTiepoint)r&&console.log("[geotiff-geotransform] missing ModelTiepointTag");else if(o.ModelTiepoint&&o.ModelPixelScale){const[l,c,h,f,p,m]=o.ModelTiepoint;r&&(l!==0&&console.log("[geotiff-geotransform] unexpected i value in ModelTiepoint: "+l),c!==0&&console.log("[geotiff-geotransform] unexpected j value in ModelTiepoint: "+c),h!==0&&console.log("[geotiff-geotransform] unexpected k value in ModelTiepoint: "+h));const[I,w,_]=o.ModelPixelScale;return[f,I,0,p,0,-1*w]}}e.exports=t,e.exports.default=t})(rV);const oV=Va(rV.exports);var aV={exports:{}},lV={exports:{}};(function(e){function t(){const n=[],r=c=>{if(c){if(Array.isArray(c))return c.forEach(r);c.default&&(c=c.default),(h=>typeof h=="object"&&Object.keys(h).length===0&&JSON.stringify(h)==="{}")(c)||n.push(c)}};if(Array.from(arguments).forEach(r),n.length===0)throw Error("[proj4-merge] merge called with zero instances of proj4");const[o,...l]=n;return l.forEach(c=>{o.defs(Object.entries(c.defs))}),o}e.exports=t,e.exports.default=t})(lV);var AV=lV.exports,cV=6378137,hV=.0066943799901413165,eM=484813681109536e-20,He=Math.PI/2,un=1e-10,kl=.017453292519943295,e0=57.29577951308232,Us=Math.PI/4,nM=2*Math.PI,Ll=3.14159265359,Oj={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Vj={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var uV=/[\s_\-\/\(\)]/g;function Fy(e,t){if(e[t])return e[t];for(var n,r=Object.keys(e),o=t.toLowerCase().replace(uV,""),l=-1;++l<r.length;)if((n=r[l]).toLowerCase().replace(uV,"")===o)return e[n]}function Z8(e){var t,n,r,o={},l=e.split("+").map(function(h){return h.trim()}).filter(function(h){return h}).reduce(function(h,f){var p=f.split("=");return p.push(!0),h[p[0].toLowerCase()]=p[1],h},{}),c={proj:"projName",datum:"datumCode",rf:function(h){o.rf=parseFloat(h)},lat_0:function(h){o.lat0=h*kl},lat_1:function(h){o.lat1=h*kl},lat_2:function(h){o.lat2=h*kl},lat_ts:function(h){o.lat_ts=h*kl},lon_0:function(h){o.long0=h*kl},lon_1:function(h){o.long1=h*kl},lon_2:function(h){o.long2=h*kl},alpha:function(h){o.alpha=parseFloat(h)*kl},gamma:function(h){o.rectified_grid_angle=parseFloat(h)},lonc:function(h){o.longc=h*kl},x_0:function(h){o.x0=parseFloat(h)},y_0:function(h){o.y0=parseFloat(h)},k_0:function(h){o.k0=parseFloat(h)},k:function(h){o.k0=parseFloat(h)},a:function(h){o.a=parseFloat(h)},b:function(h){o.b=parseFloat(h)},r:function(h){o.a=o.b=parseFloat(h)},r_a:function(){o.R_A=!0},zone:function(h){o.zone=parseInt(h,10)},south:function(){o.utmSouth=!0},towgs84:function(h){o.datum_params=h.split(",").map(function(f){return parseFloat(f)})},to_meter:function(h){o.to_meter=parseFloat(h)},units:function(h){o.units=h;var f=Fy(Vj,h);f&&(o.to_meter=f.to_meter)},from_greenwich:function(h){o.from_greenwich=h*kl},pm:function(h){var f=Fy(Oj,h);o.from_greenwich=(f||parseFloat(h))*kl},nadgrids:function(h){h==="@null"?o.datumCode="none":o.nadgrids=h},axis:function(h){var f="ewnsud";h.length===3&&f.indexOf(h.substr(0,1))!==-1&&f.indexOf(h.substr(1,1))!==-1&&f.indexOf(h.substr(2,1))!==-1&&(o.axis=h)},approx:function(){o.approx=!0}};for(t in l)n=l[t],t in c?typeof(r=c[t])=="function"?r(n):o[r]=n:o[t]=n;return typeof o.datumCode=="string"&&o.datumCode!=="WGS84"&&(o.datumCode=o.datumCode.toLowerCase()),o}var Hj=/\s/,zj=/[A-Za-z]/,Wj=/[A-Za-z84_]/,HR=/[,\]]/,dV=/[\d\.E\-\+]/;function eg(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function K8(e,t,n){Array.isArray(t)&&(n.unshift(t),t=null);var r=t?{}:e,o=n.reduce(function(l,c){return Y_(c,l),l},r);t&&(e[t]=o)}function Y_(e,t){if(Array.isArray(e)){var n=e.shift();if(n==="PARAMETER"&&(n=e.shift()),e.length===1)return Array.isArray(e[0])?(t[n]={},void Y_(e[0],t[n])):void(t[n]=e[0]);if(e.length)if(n!=="TOWGS84"){if(n==="AXIS")return n in t||(t[n]=[]),void t[n].push(e);var r;switch(Array.isArray(n)||(t[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return t[n]={name:e[0].toLowerCase(),convert:e[1]},void(e.length===3&&Y_(e[2],t[n]));case"SPHEROID":case"ELLIPSOID":return t[n]={name:e[0],a:e[1],rf:e[2]},void(e.length===4&&Y_(e[3],t[n]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return e[0]=["name",e[0]],void K8(t,n,e);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return e[0]=["name",e[0]],K8(t,n,e),void(t[n].type=n);default:for(r=-1;++r<e.length;)if(!Array.isArray(e[r]))return Y_(e,t[n]);return K8(t,n,e)}}else t[n]=e;else t[n]=!0}else t[e]=!0}eg.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==4)for(;Hj.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case 1:return this.neutral(e);case 2:return this.keyword(e);case 4:return this.quoted(e);case 5:return this.afterquote(e);case 3:return this.number(e);case-1:return}},eg.prototype.afterquote=function(e){if(e==='"')return this.word+='"',void(this.state=4);if(HR.test(e))return this.word=this.word.trim(),void this.afterItem(e);throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)},eg.prototype.afterItem=function(e){return e===","?(this.word!==null&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):e==="]"?(this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},eg.prototype.number=function(e){if(!dV.test(e)){if(HR.test(e))return this.word=parseFloat(this.word),void this.afterItem(e);throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)}this.word+=e},eg.prototype.quoted=function(e){e!=='"'?this.word+=e:this.state=5},eg.prototype.keyword=function(e){if(Wj.test(e))this.word+=e;else{if(e==="["){var t=[];return t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,void(this.state=1)}if(!HR.test(e))throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place);this.afterItem(e)}},eg.prototype.neutral=function(e){if(zj.test(e))return this.word=e,void(this.state=2);if(e==='"')return this.word="",void(this.state=4);if(dV.test(e))return this.word=e,void(this.state=3);if(!HR.test(e))throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place);this.afterItem(e)},eg.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===-1)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Jj=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function n0(e){return .017453292519943295*e}function fV(e){for(var t=Object.keys(e),n=0,r=t.length;n<r;++n){var o=t[n];Jj.indexOf(o)!==-1&&Yj(e[o]),typeof e[o]=="object"&&fV(e[o])}}function Yj(e){if(e.AUTHORITY){var t=Object.keys(e.AUTHORITY)[0];t&&t in e.AUTHORITY&&(e.title=t+":"+e.AUTHORITY[t])}if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var n="",r=0,o=e.AXIS.length;r<o;++r){var l=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];l[0].indexOf("north")!==-1||(l[0]==="y"||l[0]==="lat")&&l[1]==="north"?n+="n":l[0].indexOf("south")!==-1||(l[0]==="y"||l[0]==="lat")&&l[1]==="south"?n+="s":l[0].indexOf("east")!==-1||(l[0]==="x"||l[0]==="lon")&&l[1]==="east"?n+="e":l[0].indexOf("west")===-1&&(l[0]!=="x"&&l[0]!=="lon"||l[1]!=="west")||(n+="w")}n.length===2&&(n+="u"),n.length===3&&(e.axis=n)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var c=e.GEOGCS;function h(f){return f*(e.to_meter||1)}e.type==="GEOGCS"&&(c=e),c&&(c.DATUM?e.datumCode=c.DATUM.name.toLowerCase():e.datumCode=c.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),e.datumCode==="new_zealand_1949"&&(e.datumCode="nzgd49"),e.datumCode!=="wgs_1984"&&e.datumCode!=="world_geodetic_system_1984"||(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode==="belge_1972"&&(e.datumCode="rnb72"),c.DATUM&&c.DATUM.SPHEROID&&(e.ellps=c.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=c.DATUM.SPHEROID.a,e.rf=parseFloat(c.DATUM.SPHEROID.rf,10)),c.DATUM&&c.DATUM.TOWGS84&&(e.datum_params=c.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",n0],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",n0],["x0","false_easting",h],["y0","false_northing",h],["long0","central_meridian",n0],["lat0","latitude_of_origin",n0],["lat0","standard_parallel_1",n0],["lat1","standard_parallel_1",n0],["lat2","standard_parallel_2",n0],["azimuth","Azimuth"],["alpha","azimuth",n0],["srsCode","name"]].forEach(function(f){return function(p,m){var I=m[0],w=m[1];!(I in p)&&w in p&&(p[I]=p[w],m.length===3&&(p[I]=m[2](p[I])))}(e,f)}),e.long0||!e.longc||e.projName!=="Albers_Conic_Equal_Area"&&e.projName!=="Lambert_Azimuthal_Equal_Area"||(e.long0=e.longc),e.lat_ts||!e.lat1||e.projName!=="Stereographic_South_Pole"&&e.projName!=="Polar Stereographic (variant B)"?!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=n0(e.lat0>0?90:-90)):(e.lat0=n0(e.lat1>0?90:-90),e.lat_ts=e.lat1)}function pV(e){var t=new eg(e).output(),n=t[0],r={};return Y_(t,r),fV(r),r[n]}function WA(e){var t=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?WA[e]=Z8(arguments[1]):WA[e]=pV(arguments[1]):WA[e]=n}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(r){Array.isArray(r)?WA.apply(t,r):WA(r)});if(typeof e=="string"){if(e in WA)return WA[e]}else"EPSG"in e?WA["EPSG:"+e.EPSG]=e:"ESRI"in e?WA["ESRI:"+e.ESRI]=e:"IAU2000"in e?WA["IAU2000:"+e.IAU2000]=e:console.log(e);return}}(function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var t=1;t<=60;++t)e("EPSG:"+(32600+t),"+proj=utm +zone="+t+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+t),"+proj=utm +zone="+t+" +south +datum=WGS84 +units=m");e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]})(WA);var Zj=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Kj=["3857","900913","3785","102113"];function Xj(e){if(!function(r){return typeof r=="string"}(e))return e;if(function(r){return r in WA}(e))return WA[e];if(function(r){return Zj.some(function(o){return r.indexOf(o)>-1})}(e)){var t=pV(e);if(function(r){var o=Fy(r,"authority");if(o){var l=Fy(o,"epsg");return l&&Kj.indexOf(l)>-1}}(t))return WA["EPSG:3857"];var n=function(r){var o=Fy(r,"extension");if(o)return Fy(o,"proj4")}(t);return n?Z8(n):t}return function(r){return r[0]==="+"}(e)?Z8(e):void 0}function gV(e,t){var n,r;if(e=e||{},!t)return e;for(r in t)(n=t[r])!==void 0&&(e[r]=n);return e}function i0(e,t,n){var r=e*t;return n/Math.sqrt(1-r*r)}function iM(e){return e<0?-1:1}function fn(e){return Math.abs(e)<=Ll?e:e-iM(e)*nM}function Nd(e,t,n){var r=e*n,o=.5*e;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(He-t))/r}function sM(e,t){for(var n,r,o=.5*e,l=He-2*Math.atan(t),c=0;c<=15;c++)if(n=e*Math.sin(l),l+=r=He-2*Math.atan(t*Math.pow((1-n)/(1+n),o))-l,Math.abs(r)<=1e-10)return l;return-9999}const jj={init:function(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=i0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(e){var t,n,r=e.x,o=e.y;if(o*e0>90&&o*e0<-90&&r*e0>180&&r*e0<-180||Math.abs(Math.abs(o)-He)<=un)return null;if(this.sphere)t=this.x0+this.a*this.k0*fn(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Us+.5*o));else{var l=Math.sin(o),c=Nd(this.e,o,l);t=this.x0+this.a*this.k0*fn(r-this.long0),n=this.y0-this.a*this.k0*Math.log(c)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r=e.x-this.x0,o=e.y-this.y0;if(this.sphere)n=He-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var l=Math.exp(-o/(this.a*this.k0));if((n=sM(this.e,l))===-9999)return null}return t=fn(this.long0+r/(this.a*this.k0)),e.x=t,e.y=n,e},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]};function mV(e){return e}var qj=[jj,{init:function(){},forward:mV,inverse:mV,names:["longlat","identity"]}],zR={},WR=[];function yV(e,t){var n=WR.length;return e.names?(WR[n]=e,e.names.forEach(function(r){zR[r.toLowerCase()]=n}),this):(console.log(t),!0)}const $j={start:function(){qj.forEach(yV)},add:yV,get:function(e){if(!e)return!1;var t=e.toLowerCase();return zR[t]!==void 0&&WR[zR[t]]?WR[zR[t]]:void 0}};var X8={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},tq=X8.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};X8.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var JR={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var eq in JR){var xV=JR[eq];JR[xV.datumName]=xV}var CV={};function nq(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:CV[e]||null,isNull:!1}}function Z_(e){return e/3600*Math.PI/180}function j8(e,t,n){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,n)))}function iq(e){return e.map(function(t){return[Z_(t.longitudeShift),Z_(t.latitudeShift)]})}function sq(e,t,n){return{name:j8(e,t+8,t+16).trim(),parent:j8(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,n),upperLatitude:e.getFloat64(t+88,n),lowerLongitude:e.getFloat64(t+104,n),upperLongitude:e.getFloat64(t+120,n),latitudeInterval:e.getFloat64(t+136,n),longitudeInterval:e.getFloat64(t+152,n),gridNodeCount:e.getInt32(t+168,n)}}function rq(e,t,n,r){for(var o=t+176,l=[],c=0;c<n.gridNodeCount;c++){var h={latitudeShift:e.getFloat32(o+16*c,r),longitudeShift:e.getFloat32(o+16*c+4,r),latitudeAccuracy:e.getFloat32(o+16*c+8,r),longitudeAccuracy:e.getFloat32(o+16*c+12,r)};l.push(h)}return l}function s0(e,t){if(!(this instanceof s0))return new s0(e);t=t||function(p){if(p)throw p};var n=Xj(e);if(typeof n=="object"){var r=s0.projections.get(n.projName);if(r){if(n.datumCode&&n.datumCode!=="none"){var o=Fy(JR,n.datumCode);o&&(n.datum_params=n.datum_params||(o.towgs84?o.towgs84.split(","):null),n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var l=function(p,m,I,w,_){if(!p){var b=Fy(X8,w);b||(b=tq),p=b.a,m=b.b,I=b.rf}return I&&!m&&(m=(1-1/I)*p),(I===0||Math.abs(p-m)<un)&&(_=!0,m=p),{a:p,b:m,rf:I,sphere:_}}(n.a,n.b,n.rf,n.ellps,n.sphere),c=function(p,m,I,w){var _=p*p,b=m*m,T=(_-b)/_,S=0;return w?(_=(p*=1-T*(.16666666666666666+T*(.04722222222222222+.022156084656084655*T)))*p,T=0):S=Math.sqrt(T),{es:T,e:S,ep2:(_-b)/b}}(l.a,l.b,l.rf,n.R_A),h=function(p){return p===void 0?null:p.split(",").map(nq)}(n.nadgrids),f=n.datum||function(p,m,I,w,_,b,T){var S={};return S.datum_type=p===void 0||p==="none"?5:4,m&&(S.datum_params=m.map(parseFloat),S.datum_params[0]===0&&S.datum_params[1]===0&&S.datum_params[2]===0||(S.datum_type=1),S.datum_params.length>3&&(S.datum_params[3]===0&&S.datum_params[4]===0&&S.datum_params[5]===0&&S.datum_params[6]===0||(S.datum_type=2,S.datum_params[3]*=eM,S.datum_params[4]*=eM,S.datum_params[5]*=eM,S.datum_params[6]=S.datum_params[6]/1e6+1))),T&&(S.datum_type=3,S.grids=T),S.a=I,S.b=w,S.es=_,S.ep2=b,S}(n.datumCode,n.datum_params,l.a,l.b,c.es,c.ep2,h);gV(this,n),gV(this,r),this.a=l.a,this.b=l.b,this.rf=l.rf,this.sphere=l.sphere,this.es=c.es,this.e=c.e,this.ep2=c.ep2,this.datum=f,this.init(),t(null,this)}else t("Could not get projection name from: "+e)}else t("Could not parse to valid json: "+e)}function EV(e,t,n){var r,o,l,c,h=e.x,f=e.y,p=e.z?e.z:0;if(f<-He&&f>-1.001*He)f=-He;else if(f>He&&f<1.001*He)f=He;else{if(f<-He)return{x:-1/0,y:-1/0,z:e.z};if(f>He)return{x:1/0,y:1/0,z:e.z}}return h>Math.PI&&(h-=2*Math.PI),o=Math.sin(f),c=Math.cos(f),l=o*o,{x:((r=n/Math.sqrt(1-t*l))+p)*c*Math.cos(h),y:(r+p)*c*Math.sin(h),z:(r*(1-t)+p)*o}}function IV(e,t,n,r){var o,l,c,h,f,p,m,I,w,_,b,T,S,k,F,N=1e-12,G=e.x,V=e.y,W=e.z?e.z:0;if(o=Math.sqrt(G*G+V*V),l=Math.sqrt(G*G+V*V+W*W),o/n<N){if(k=0,l/n<N)return F=-r,{x:e.x,y:e.y,z:e.z}}else k=Math.atan2(V,G);c=W/l,I=(h=o/l)*(1-t)*(f=1/Math.sqrt(1-t*(2-t)*h*h)),w=c*f,S=0;do S++,p=t*(m=n/Math.sqrt(1-t*w*w))/(m+(F=o*I+W*w-m*(1-t*w*w))),T=(b=c*(f=1/Math.sqrt(1-p*(2-p)*h*h)))*I-(_=h*(1-p)*f)*w,I=_,w=b;while(T*T>1e-24&&S<30);return{x:k,y:Math.atan(b/Math.abs(_)),z:F}}function YR(e){return e===1||e===2}function oq(e,t,n){if(function(f,p){return f.datum_type===p.datum_type&&!(f.a!==p.a||Math.abs(f.es-p.es)>5e-11)&&(f.datum_type===1?f.datum_params[0]===p.datum_params[0]&&f.datum_params[1]===p.datum_params[1]&&f.datum_params[2]===p.datum_params[2]:f.datum_type!==2||f.datum_params[0]===p.datum_params[0]&&f.datum_params[1]===p.datum_params[1]&&f.datum_params[2]===p.datum_params[2]&&f.datum_params[3]===p.datum_params[3]&&f.datum_params[4]===p.datum_params[4]&&f.datum_params[5]===p.datum_params[5]&&f.datum_params[6]===p.datum_params[6])}(e,t)||e.datum_type===5||t.datum_type===5)return n;var r=e.a,o=e.es;if(e.datum_type===3){if(wV(e,!1,n)!==0)return;r=cV,o=hV}var l=t.a,c=t.b,h=t.es;if(t.datum_type===3&&(l=cV,c=6356752314e-3,h=hV),o===h&&r===l&&!YR(e.datum_type)&&!YR(t.datum_type))return n;if(n=EV(n,o,r),YR(e.datum_type)&&(n=function(f,p,m){if(p===1)return{x:f.x+m[0],y:f.y+m[1],z:f.z+m[2]};if(p===2){var I=m[0],w=m[1],_=m[2],b=m[3],T=m[4],S=m[5],k=m[6];return{x:k*(f.x-S*f.y+T*f.z)+I,y:k*(S*f.x+f.y-b*f.z)+w,z:k*(-T*f.x+b*f.y+f.z)+_}}}(n,e.datum_type,e.datum_params)),YR(t.datum_type)&&(n=function(f,p,m){if(p===1)return{x:f.x-m[0],y:f.y-m[1],z:f.z-m[2]};if(p===2){var I=m[0],w=m[1],_=m[2],b=m[3],T=m[4],S=m[5],k=m[6],F=(f.x-I)/k,N=(f.y-w)/k,G=(f.z-_)/k;return{x:F+S*N-T*G,y:-S*F+N+b*G,z:T*F-b*N+G}}}(n,t.datum_type,t.datum_params)),n=IV(n,h,l,c),!(t.datum_type===3&&wV(t,!0,n)!==0))return n}function wV(e,t,n){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},o={x:Number.NaN,y:Number.NaN},l=[];t:for(var c=0;c<e.grids.length;c++){var h=e.grids[c];if(l.push(h.name),h.isNull){o=r;break}if(h.mandatory,h.grid!==null)for(var f=h.grid.subgrids,p=0,m=f.length;p<m;p++){var I=f[p],w=(Math.abs(I.del[1])+Math.abs(I.del[0]))/1e4,_=I.ll[0]-w,b=I.ll[1]-w,T=I.ll[0]+(I.lim[0]-1)*I.del[0]+w,S=I.ll[1]+(I.lim[1]-1)*I.del[1]+w;if(!(b>r.y||_>r.x||S<r.y||T<r.x)&&(o=aq(r,t,I),!isNaN(o.x)))break t}else if(h.mandatory)return console.log("Unable to find mandatory grid '"+h.name+"'"),-1}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*e0+" "+r.y*e0+" tried: '"+l+"'"),-1):(n.x=-o.x,n.y=o.y,0)}function aq(e,t,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return r;var o={x:e.x,y:e.y};o.x-=n.ll[0],o.y-=n.ll[1],o.x=fn(o.x-Math.PI)+Math.PI;var l=_V(o,n);if(t){if(isNaN(l.x))return r;l.x=o.x-l.x,l.y=o.y-l.y;var c,h,f=9;do{if(h=_V(l,n),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:o.x-(h.x+l.x),y:o.y-(h.y+l.y)},l.x+=c.x,l.y+=c.y}while(f--&&Math.abs(c.x)>1e-12&&Math.abs(c.y)>1e-12);if(f<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=fn(l.x+n.ll[0]),r.y=l.y+n.ll[1]}else isNaN(l.x)||(r.x=e.x+l.x,r.y=e.y+l.y);return r}function _V(e,t){var n,r={x:e.x/t.del[0],y:e.y/t.del[1]},o=Math.floor(r.x),l=Math.floor(r.y),c=r.x-1*o,h=r.y-1*l,f={x:Number.NaN,y:Number.NaN};if(o<0||o>=t.lim[0]||l<0||l>=t.lim[1])return f;n=l*t.lim[0]+o;var p=t.cvs[n][0],m=t.cvs[n][1];n++;var I=t.cvs[n][0],w=t.cvs[n][1];n+=t.lim[0];var _=t.cvs[n][0],b=t.cvs[n][1];n--;var T=t.cvs[n][0],S=t.cvs[n][1],k=c*h,F=c*(1-h),N=(1-c)*(1-h),G=(1-c)*h;return f.x=N*p+F*I+G*T+k*_,f.y=N*m+F*w+G*S+k*b,f}function BV(e,t,n){var r,o,l,c=n.x,h=n.y,f=n.z||0,p={};for(l=0;l<3;l++)if(!t||l!==2||n.z!==void 0)switch(l===0?(r=c,o="ew".indexOf(e.axis[l])!==-1?"x":"y"):l===1?(r=h,o="ns".indexOf(e.axis[l])!==-1?"y":"x"):(r=f,o="z"),e.axis[l]){case"e":case"n":p[o]=r;break;case"w":case"s":p[o]=-r;break;case"u":n[o]!==void 0&&(p.z=r);break;case"d":n[o]!==void 0&&(p.z=-r);break;default:return null}return p}function vV(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function bV(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!=e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function ZR(e,t,n,r){var o,l=(n=Array.isArray(n)?vV(n):{x:n.x,y:n.y,z:n.z,m:n.m}).z!==void 0;if(function(c){bV(c.x),bV(c.y)}(n),e.datum&&t.datum&&function(c,h){return(c.datum.datum_type===1||c.datum.datum_type===2||c.datum.datum_type===3)&&h.datumCode!=="WGS84"||(h.datum.datum_type===1||h.datum.datum_type===2||h.datum.datum_type===3)&&c.datumCode!=="WGS84"}(e,t)&&(n=ZR(e,o=new s0("WGS84"),n,r),e=o),r&&e.axis!=="enu"&&(n=BV(e,!1,n)),e.projName==="longlat")n={x:n.x*kl,y:n.y*kl,z:n.z||0};else if(e.to_meter&&(n={x:n.x*e.to_meter,y:n.y*e.to_meter,z:n.z||0}),!(n=e.inverse(n)))return;if(e.from_greenwich&&(n.x+=e.from_greenwich),n=oq(e.datum,t.datum,n))return t.from_greenwich&&(n={x:n.x-t.from_greenwich,y:n.y,z:n.z||0}),t.projName==="longlat"?n={x:n.x*e0,y:n.y*e0,z:n.z||0}:(n=t.forward(n),t.to_meter&&(n={x:n.x/t.to_meter,y:n.y/t.to_meter,z:n.z||0})),r&&t.axis!=="enu"?BV(t,!0,n):(n&&!l&&delete n.z,n)}s0.projections=$j,s0.projections.start();var MV=s0("WGS84");function q8(e,t,n,r){var o,l,c;return Array.isArray(n)?(o=ZR(e,t,n,r)||{x:NaN,y:NaN},n.length>2?e.name!==void 0&&e.name==="geocent"||t.name!==void 0&&t.name==="geocent"?typeof o.z=="number"?[o.x,o.y,o.z].concat(n.slice(3)):[o.x,o.y,n[2]].concat(n.slice(3)):[o.x,o.y].concat(n.slice(2)):[o.x,o.y]):(l=ZR(e,t,n,r),(c=Object.keys(n)).length===2||c.forEach(function(h){if(e.name!==void 0&&e.name==="geocent"||t.name!==void 0&&t.name==="geocent"){if(h==="x"||h==="y"||h==="z")return}else if(h==="x"||h==="y")return;l[h]=n[h]}),l)}function SV(e){return e instanceof s0?e:e.oProj?e.oProj:s0(e)}function bh(e,t,n){e=SV(e);var r,o=!1;return t===void 0?(t=e,e=MV,o=!0):(t.x!==void 0||Array.isArray(t))&&(n=t,t=e,e=MV,o=!0),t=SV(t),n?q8(e,t,n):(r={forward:function(l,c){return q8(e,t,l,c)},inverse:function(l,c){return q8(t,e,l,c)}},o&&(r.oProj=t),r)}var TV="AJSAJS",DV="AFAFAF",K_=65,Qc=73,vu=79,rM=86,oM=90;const lq={forward:RV,inverse:function(e){var t=tU(PV(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]},toPoint:QV};function RV(e,t){return t=t||5,function(n,r){var o="00000"+n.easting,l="00000"+n.northing;return n.zoneNumber+n.zoneLetter+(T=n.easting,S=n.northing,k=n.zoneNumber,F=LV(k),N=Math.floor(T/1e5),G=Math.floor(S/1e5)%20,c=N,h=G,f=F,p=f-1,m=TV.charCodeAt(p),I=DV.charCodeAt(p),w=m+c-1,_=I+h,b=!1,w>oM&&(w=w-oM+K_-1,b=!0),(w===Qc||m<Qc&&w>Qc||(w>Qc||m<Qc)&&b)&&w++,(w===vu||m<vu&&w>vu||(w>vu||m<vu)&&b)&&++w===Qc&&w++,w>oM&&(w=w-oM+K_-1),_>rM?(_=_-rM+K_-1,b=!0):b=!1,(_===Qc||I<Qc&&_>Qc||(_>Qc||I<Qc)&&b)&&_++,(_===vu||I<vu&&_>vu||(_>vu||I<vu)&&b)&&++_===Qc&&_++,_>rM&&(_=_-rM+K_-1),String.fromCharCode(w)+String.fromCharCode(_))+o.substr(o.length-5,r)+l.substr(l.length-5,r);var c,h,f,p,m,I,w,_,b,T,S,k,F,N,G}(function(n){var r,o,l,c,h,f,p,m,I=n.lat,w=n.lon,_=6378137,b=.00669438,T=.9996,S=$8(I),k=$8(w);m=Math.floor((w+180)/6)+1,w===180&&(m=60),I>=56&&I<64&&w>=3&&w<12&&(m=32),I>=72&&I<84&&(w>=0&&w<9?m=31:w>=9&&w<21?m=33:w>=21&&w<33?m=35:w>=33&&w<42&&(m=37)),p=$8(6*(m-1)-180+3),r=b/(1-b),o=_/Math.sqrt(1-b*Math.sin(S)*Math.sin(S)),l=Math.tan(S)*Math.tan(S),c=r*Math.cos(S)*Math.cos(S),h=Math.cos(S)*(k-p),f=_*((1-b/4-3*b*b/64-5*b*b*b/256)*S-(3*b/8+3*b*b/32+45*b*b*b/1024)*Math.sin(2*S)+(15*b*b/256+45*b*b*b/1024)*Math.sin(4*S)-35*b*b*b/3072*Math.sin(6*S));var F=T*o*(h+(1-l+c)*h*h*h/6+(5-18*l+l*l+72*c-58*r)*h*h*h*h*h/120)+5e5,N=T*(f+o*Math.tan(S)*(h*h/2+(5-l+9*c+4*c*c)*h*h*h*h/24+(61-58*l+l*l+600*c-330*r)*h*h*h*h*h*h/720));return I<0&&(N+=1e7),{northing:Math.round(N),easting:Math.round(F),zoneNumber:m,zoneLetter:Aq(I)}}({lat:e[1],lon:e[0]}),t)}function QV(e){var t=tU(PV(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function $8(e){return e*(Math.PI/180)}function kV(e){return e/Math.PI*180}function tU(e){var t=e.northing,n=e.easting,r=e.zoneLetter,o=e.zoneNumber;if(o<0||o>60)return null;var l,c,h,f,p,m,I,w,_,b=.9996,T=6378137,S=.00669438,k=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),F=n-5e5,N=t;r<"N"&&(N-=1e7),I=6*(o-1)-180+3,l=.006739496752268451,_=(w=N/b/6367449145945056e-9)+(3*k/2-27*k*k*k/32)*Math.sin(2*w)+(21*k*k/16-55*k*k*k*k/32)*Math.sin(4*w)+151*k*k*k/96*Math.sin(6*w),c=T/Math.sqrt(1-S*Math.sin(_)*Math.sin(_)),h=Math.tan(_)*Math.tan(_),f=l*Math.cos(_)*Math.cos(_),p=.99330562*T/Math.pow(1-S*Math.sin(_)*Math.sin(_),1.5),m=F/(c*b);var G=_-c*Math.tan(_)/p*(m*m/2-(5+3*h+10*f-4*f*f-9*l)*m*m*m*m/24+(61+90*h+298*f+45*h*h-1.6983531815716497-3*f*f)*m*m*m*m*m*m/720);G=kV(G);var V,W=(m-(1+2*h+f)*m*m*m/6+(5-2*f+28*h-3*f*f+8*l+24*h*h)*m*m*m*m*m/120)/Math.cos(_);if(W=I+kV(W),e.accuracy){var X=tU({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});V={top:X.lat,right:X.lon,bottom:G,left:W}}else V={lat:G,lon:W};return V}function Aq(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function LV(e){var t=e%6;return t===0&&(t=6),t}function PV(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t,n=e.length,r=null,o="",l=0;!/[A-Z]/.test(t=e.charAt(l));){if(l>=2)throw"MGRSPoint bad conversion from: "+e;o+=t,l++}var c=parseInt(o,10);if(l===0||l+3>n)throw"MGRSPoint bad conversion from: "+e;var h=e.charAt(l++);if(h<="A"||h==="B"||h==="Y"||h>="Z"||h==="I"||h==="O")throw"MGRSPoint zone letter "+h+" not handled: "+e;r=e.substring(l,l+=2);for(var f=LV(c),p=function(F,N){for(var G=TV.charCodeAt(N-1),V=1e5,W=!1;G!==F.charCodeAt(0);){if(++G===Qc&&G++,G===vu&&G++,G>oM){if(W)throw"Bad character: "+F;G=K_,W=!0}V+=1e5}return V}(r.charAt(0),f),m=function(F,N){if(F>"V")throw"MGRSPoint given invalid Northing "+F;for(var G=DV.charCodeAt(N-1),V=0,W=!1;G!==F.charCodeAt(0);){if(++G===Qc&&G++,G===vu&&G++,G>rM){if(W)throw"Bad character: "+F;G=K_,W=!0}V+=1e5}return V}(r.charAt(1),f);m<cq(h);)m+=2e6;var I=n-l;if(I%2!=0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var w,_,b,T=I/2,S=0,k=0;return T>0&&(w=1e5/Math.pow(10,T),_=e.substring(l,l+T),S=parseFloat(_)*w,b=e.substring(l+T),k=parseFloat(b)*w),{easting:S+p,northing:k+m,zoneLetter:h,zoneNumber:c,accuracy:w}}function cq(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function X_(e,t,n){if(!(this instanceof X_))return new X_(e,t,n);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&t===void 0){var r=e.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=e,this.y=t,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}X_.fromMGRS=function(e){return new X_(QV(e))},X_.prototype.toMGRS=function(e){return RV([this.x,this.y],e)};var FV=.046875,UV=.01953125,NV=.01068115234375;function eU(e){var t=[];t[0]=1-e*(.25+e*(FV+e*(UV+e*NV))),t[1]=e*(.75-e*(FV+e*(UV+e*NV)));var n=e*e;return t[2]=n*(.46875-e*(.013020833333333334+.007120768229166667*e)),n*=e,t[3]=n*(.3645833333333333-.005696614583333333*e),t[4]=n*e*.3076171875,t}function j_(e,t,n,r){return n*=t,t*=t,r[0]*e-n*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}function nU(e,t,n){for(var r=1/(1-t),o=e,l=20;l;--l){var c=Math.sin(o),h=1-t*c*c;if(o-=h=(j_(o,c,Math.cos(o),n)-e)*(h*Math.sqrt(h))*r,Math.abs(h)<un)return o}return o}const KR={init:function(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=eU(this.es),this.ml0=j_(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(e){var t,n,r,o=e.x,l=e.y,c=fn(o-this.long0),h=Math.sin(l),f=Math.cos(l);if(this.es){var p=f*c,m=Math.pow(p,2),I=this.ep2*Math.pow(f,2),w=Math.pow(I,2),_=Math.abs(f)>un?Math.tan(l):0,b=Math.pow(_,2),T=Math.pow(b,2);t=1-this.es*Math.pow(h,2),p/=Math.sqrt(t);var S=j_(l,h,f,this.en);n=this.a*(this.k0*p*(1+m/6*(1-b+I+m/20*(5-18*b+T+14*I-58*b*I+m/42*(61+179*T-T*b-479*b)))))+this.x0,r=this.a*(this.k0*(S-this.ml0+h*c*p/2*(1+m/12*(5-b+9*I+4*w+m/30*(61+T-58*b+270*I-330*b*I+m/56*(1385+543*T-T*b-3111*b))))))+this.y0}else{var k=f*Math.sin(c);if(Math.abs(Math.abs(k)-1)<un)return 93;if(n=.5*this.a*this.k0*Math.log((1+k)/(1-k))+this.x0,r=f*Math.cos(c)/Math.sqrt(1-Math.pow(k,2)),(k=Math.abs(r))>=1){if(k-1>un)return 93;r=0}else r=Math.acos(r);l<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return e.x=n,e.y=r,e},inverse:function(e){var t,n,r,o,l=(e.x-this.x0)*(1/this.a),c=(e.y-this.y0)*(1/this.a);if(this.es)if(n=nU(t=this.ml0+c/this.k0,this.es,this.en),Math.abs(n)<He){var h=Math.sin(n),f=Math.cos(n),p=Math.abs(f)>un?Math.tan(n):0,m=this.ep2*Math.pow(f,2),I=Math.pow(m,2),w=Math.pow(p,2),_=Math.pow(w,2);t=1-this.es*Math.pow(h,2);var b=l*Math.sqrt(t)/this.k0,T=Math.pow(b,2);r=n-(t*=p)*T/(1-this.es)*.5*(1-T/12*(5+3*w-9*m*w+m-4*I-T/30*(61+90*w-252*m*w+45*_+46*m-T/56*(1385+3633*w+4095*_+1574*_*w)))),o=fn(this.long0+b*(1-T/6*(1+2*w+m-T/20*(5+28*w+24*_+8*m*w+6*m-T/42*(61+662*w+1320*_+720*_*w))))/f)}else r=He*iM(c),o=0;else{var S=Math.exp(l/this.k0),k=.5*(S-1/S),F=this.lat0+c/this.k0,N=Math.cos(F);t=Math.sqrt((1-Math.pow(N,2))/(1+Math.pow(k,2))),r=Math.asin(t),c<0&&(r=-r),o=k===0&&N===0?0:fn(Math.atan2(k,N)+this.long0)}return e.x=o,e.y=r,e},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function GV(e){var t=Math.exp(e);return t=(t-1/t)/2}function kc(e,t){e=Math.abs(e),t=Math.abs(t);var n=Math.max(e,t),r=Math.min(e,t)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function hq(e){var t=Math.abs(e);return t=function(n){var r=1+n,o=r-1;return o===0?n:n*Math.log(r)/o}(t*(1+t/(kc(1,t)+1))),e<0?-t:t}function iU(e,t){for(var n,r=2*Math.cos(2*t),o=e.length-1,l=e[o],c=0;--o>=0;)n=r*l-c+e[o],c=l,l=n;return t+n*Math.sin(2*t)}function OV(e,t,n){for(var r,o,l=Math.sin(t),c=Math.cos(t),h=GV(n),f=function(S){var k=Math.exp(S);return(k+1/k)/2}(n),p=2*c*f,m=-2*l*h,I=e.length-1,w=e[I],_=0,b=0,T=0;--I>=0;)r=b,o=_,w=p*(b=w)-r-m*(_=T)+e[I],T=m*b-o+p*_;return[(p=l*f)*w-(m=c*h)*T,p*T+m*w]}const XR={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(KR.init.apply(this),this.forward=KR.forward,this.inverse=KR.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),n=t;this.cgb[0]=t*(2+t*(-2/3+t*(t*(116/45+t*(26/45+t*(-2854/675)))-2))),this.cbg[0]=t*(t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))-2),n*=t,this.cgb[1]=n*(7/3+t*(t*(-227/45+t*(2704/315+t*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),n*=t,this.cgb[2]=n*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=n*(-26/15+t*(34/21+t*(1.6+t*(-12686/2835)))),n*=t,this.cgb[3]=n*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=n*(1237/630+t*(t*(-24832/14175)-2.4)),n*=t,this.cgb[4]=n*(4174/315+t*(-144838/6237)),this.cbg[4]=n*(-734/315+t*(109598/31185)),n*=t,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=t*(t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))-.5),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=n*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=n*(13/48+t*(t*(557/1440+t*(281/630+t*(-1983433/1935360)))-.6)),n*=t,this.utg[2]=n*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=n*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),n*=t,this.utg[3]=n*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=n*(49561/161280+t*(-179/168+t*(6601661/7257600))),n*=t,this.utg[4]=n*(-4583/161280+t*(108847/3991680)),this.gtu[4]=n*(34729/80640+t*(-3418889/1995840)),n*=t,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var r=iU(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(o,l){for(var c,h=2*Math.cos(l),f=o.length-1,p=o[f],m=0;--f>=0;)c=h*p-m+o[f],m=p,p=c;return Math.sin(l)*c}(this.gtu,2*r))},forward:function(e){var t=fn(e.x-this.long0),n=e.y;n=iU(this.cbg,n);var r=Math.sin(n),o=Math.cos(n),l=Math.sin(t),c=Math.cos(t);n=Math.atan2(r,c*o),t=Math.atan2(l*o,kc(r,o*c)),t=hq(Math.tan(t));var h,f,p=OV(this.gtu,2*n,2*t);return n+=p[0],t+=p[1],Math.abs(t)<=2.623395162778?(h=this.a*(this.Qn*t)+this.x0,f=this.a*(this.Qn*n+this.Zb)+this.y0):(h=1/0,f=1/0),e.x=h,e.y=f,e},inverse:function(e){var t,n,r=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(o=(o-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var l=OV(this.utg,2*o,2*r);o+=l[0],r+=l[1],r=Math.atan(GV(r));var c=Math.sin(o),h=Math.cos(o),f=Math.sin(r),p=Math.cos(r);o=Math.atan2(c*p,kc(f,p*h)),t=fn((r=Math.atan2(f,p*h))+this.long0),n=iU(this.cgb,o)}else t=1/0,n=1/0;return e.x=t,e.y=n,e},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"]},uq={init:function(){var e=function(t,n){if(t===void 0){if((t=Math.floor(30*(fn(n)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*kl,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,XR.init.apply(this),this.forward=XR.forward,this.inverse=XR.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function sU(e,t){return Math.pow((1-e)/(1+e),t)}const rU={init:function(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Us)/(Math.pow(Math.tan(.5*this.lat0+Us),this.C)*sU(this.e*e,this.ratexp))},forward:function(e){var t=e.x,n=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Us),this.C)*sU(this.e*Math.sin(n),this.ratexp))-He,e.x=this.C*t,e},inverse:function(e){for(var t=e.x/this.C,n=e.y,r=Math.pow(Math.tan(.5*n+Us)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(r*sU(this.e*Math.sin(e.y),-.5*this.e))-He,!(Math.abs(n-e.y)<1e-14));--o)e.y=n;return o?(e.x=t,e.y=n,e):null}},dq={init:function(){rU.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(e){var t,n,r,o;return e.x=fn(e.x-this.long0),rU.forward.apply(this,[e]),t=Math.sin(e.y),n=Math.cos(e.y),r=Math.cos(e.x),o=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*n*r),e.x=o*n*Math.sin(e.x),e.y=o*(this.cosc0*t-this.sinc0*n*r),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){var t,n,r,o,l;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,l=kc(e.x,e.y)){var c=2*Math.atan2(l,this.R2);t=Math.sin(c),n=Math.cos(c),o=Math.asin(n*this.sinc0+e.y*t*this.cosc0/l),r=Math.atan2(e.x*t,l*this.cosc0*n-e.y*this.sinc0*t)}else o=this.phic0,r=0;return e.x=r,e.y=o,rU.inverse.apply(this,[e]),e.x=fn(e.x+this.long0),e},names:["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},fq={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=un&&(this.k0=.5*(1+iM(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=un&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=un&&Math.abs(Math.cos(this.lat_ts))>un&&(this.k0=.5*this.cons*i0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Nd(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=i0(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-He,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(e){var t,n,r,o,l,c,h=e.x,f=e.y,p=Math.sin(f),m=Math.cos(f),I=fn(h-this.long0);return Math.abs(Math.abs(h-this.long0)-Math.PI)<=un&&Math.abs(f+this.lat0)<=un?(e.x=NaN,e.y=NaN,e):this.sphere?(t=2*this.k0/(1+this.sinlat0*p+this.coslat0*m*Math.cos(I)),e.x=this.a*t*m*Math.sin(I)+this.x0,e.y=this.a*t*(this.coslat0*p-this.sinlat0*m*Math.cos(I))+this.y0,e):(n=2*Math.atan(this.ssfn_(f,p,this.e))-He,o=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=un?(l=Nd(this.e,f*this.con,this.con*p),c=2*this.a*this.k0*l/this.cons,e.x=this.x0+c*Math.sin(h-this.long0),e.y=this.y0-this.con*c*Math.cos(h-this.long0),e):(Math.abs(this.sinlat0)<un?(t=2*this.a*this.k0/(1+o*Math.cos(I)),e.y=t*r):(t=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(I))),e.y=t*(this.cosX0*r-this.sinX0*o*Math.cos(I))+this.y0),e.x=t*o*Math.sin(I)+this.x0,e))},inverse:function(e){var t,n,r,o,l;e.x-=this.x0,e.y-=this.y0;var c=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var h=2*Math.atan(c/(2*this.a*this.k0));return t=this.long0,n=this.lat0,c<=un?(e.x=t,e.y=n,e):(n=Math.asin(Math.cos(h)*this.sinlat0+e.y*Math.sin(h)*this.coslat0/c),t=Math.abs(this.coslat0)<un?this.lat0>0?fn(this.long0+Math.atan2(e.x,-1*e.y)):fn(this.long0+Math.atan2(e.x,e.y)):fn(this.long0+Math.atan2(e.x*Math.sin(h),c*this.coslat0*Math.cos(h)-e.y*this.sinlat0*Math.sin(h))),e.x=t,e.y=n,e)}if(Math.abs(this.coslat0)<=un){if(c<=un)return n=this.lat0,t=this.long0,e.x=t,e.y=n,e;e.x*=this.con,e.y*=this.con,r=c*this.cons/(2*this.a*this.k0),n=this.con*sM(this.e,r),t=this.con*fn(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else o=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,c<=un?l=this.X0:(l=Math.asin(Math.cos(o)*this.sinX0+e.y*Math.sin(o)*this.cosX0/c),t=fn(this.long0+Math.atan2(e.x*Math.sin(o),c*this.cosX0*Math.cos(o)-e.y*this.sinX0*Math.sin(o)))),n=-1*sM(this.e,Math.tan(.5*(He+l)));return e.x=t,e.y=n,e},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],ssfn_:function(e,t,n){return t*=n,Math.tan(.5*(He+e))*Math.pow((1-t)/(1+t),.5*n)}},pq={init:function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),n=this.a,r=1/this.rf,o=2*r-Math.pow(r,2),l=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(t,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var c=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+e/2)),f=Math.log((1+l*t)/(1-l*t));this.K=c-this.alpha*h+this.alpha*l/2*f},forward:function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),r=-this.alpha*(t+n)+this.K,o=2*(Math.atan(Math.exp(r))-Math.PI/4),l=this.alpha*(e.x-this.lambda0),c=Math.atan(Math.sin(l)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(l))),h=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(l));return e.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,e.x=this.R*c+this.x0,e},inverse:function(e){for(var t=e.x-this.x0,n=e.y-this.y0,r=t/this.R,o=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),l=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(r)),c=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(o))),h=this.lambda0+c/this.alpha,f=0,p=l,m=-1e3,I=0;Math.abs(p-m)>1e-7;){if(++I>20)return;f=1/this.alpha*(Math.log(Math.tan(Math.PI/4+l/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(p))/2)),m=p,p=2*Math.atan(Math.exp(f))-Math.PI/2}return e.x=h,e.y=p,e},names:["somerc"]};var q_=1e-7;const gq={init:function(){var e,t,n,r,o,l,c,h,f,p,m,I=0,w=0,_=0,b=0,T=0,S=0,k=0;this.no_off=function(V){var W=typeof V.PROJECTION=="object"?Object.keys(V.PROJECTION)[0]:V.PROJECTION;return"no_uoff"in V||"no_off"in V||["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(W)!==-1}(this),this.no_rot="no_rot"in this;var F=!1;"alpha"in this&&(F=!0);var N=!1;if("rectified_grid_angle"in this&&(N=!0),F&&(k=this.alpha),N&&(I=this.rectified_grid_angle*kl),F||N)w=this.longc;else if(_=this.long1,T=this.lat1,b=this.long2,S=this.lat2,Math.abs(T-S)<=q_||(e=Math.abs(T))<=q_||Math.abs(e-He)<=q_||Math.abs(Math.abs(this.lat0)-He)<=q_||Math.abs(Math.abs(S)-He)<=q_)throw new Error;var G=1-this.es;t=Math.sqrt(G),Math.abs(this.lat0)>un?(h=Math.sin(this.lat0),n=Math.cos(this.lat0),e=1-this.es*h*h,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/G),this.A=this.B*this.k0*t/e,(o=(r=this.B*t/(n*Math.sqrt(e)))*r-1)<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=r,this.E*=Math.pow(Nd(this.e,this.lat0,h),this.B)):(this.B=1/t,this.A=this.k0,this.E=r=o=1),F||N?(F?(m=Math.asin(Math.sin(k)/r),N||(I=k)):(m=I,k=Math.asin(r*Math.sin(m))),this.lam0=w-Math.asin(.5*(o-1/o)*Math.tan(m))/this.B):(l=Math.pow(Nd(this.e,T,Math.sin(T)),this.B),c=Math.pow(Nd(this.e,S,Math.sin(S)),this.B),o=this.E/l,f=(c-l)/(c+l),p=((p=this.E*this.E)-c*l)/(p+c*l),(e=_-b)<-Math.pi?b-=nM:e>Math.pi&&(b+=nM),this.lam0=fn(.5*(_+b)-Math.atan(p*Math.tan(.5*this.B*(_-b))/f)/this.B),m=Math.atan(2*Math.sin(this.B*fn(_-this.lam0))/(o-1/o)),I=k=Math.asin(r*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(I),this.cosrot=Math.cos(I),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(k))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(Us-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(Us+o))},forward:function(e){var t,n,r,o,l,c,h,f,p={};if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-He)>un){if(t=.5*((l=this.E/Math.pow(Nd(this.e,e.y,Math.sin(e.y)),this.B))-(c=1/l)),n=.5*(l+c),o=Math.sin(this.B*e.x),r=(t*this.singam-o*this.cosgam)/n,Math.abs(Math.abs(r)-1)<un)throw new Error;f=.5*this.ArB*Math.log((1-r)/(1+r)),c=Math.cos(this.B*e.x),h=Math.abs(c)<q_?this.A*e.x:this.ArB*Math.atan2(t*this.cosgam+o*this.singam,c)}else f=e.y>0?this.v_pole_n:this.v_pole_s,h=this.ArB*e.y;return this.no_rot?(p.x=h,p.y=f):(h-=this.u_0,p.x=f*this.cosrot+h*this.sinrot,p.y=h*this.cosrot-f*this.sinrot),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},inverse:function(e){var t,n,r,o,l,c,h,f={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(n=e.y,t=e.x):(n=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),o=.5*((r=Math.exp(-this.BrA*n))-1/r),l=.5*(r+1/r),h=((c=Math.sin(this.BrA*t))*this.cosgam+o*this.singam)/l,Math.abs(Math.abs(h)-1)<un)f.x=0,f.y=h<0?-He:He;else{if(f.y=this.E/Math.sqrt((1+h)/(1-h)),f.y=sM(this.e,Math.pow(f.y,1/this.B)),f.y===1/0)throw new Error;f.x=-this.rB*Math.atan2(o*this.cosgam-c*this.singam,Math.cos(this.BrA*t))}return f.x+=this.lam0,f},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},mq={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<un)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),n=Math.cos(this.lat1),r=i0(this.e,t,n),o=Nd(this.e,this.lat1,t),l=Math.sin(this.lat2),c=Math.cos(this.lat2),h=i0(this.e,l,c),f=Nd(this.e,this.lat2,l),p=Nd(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>un?this.ns=Math.log(r/h)/Math.log(o/f):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=r/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(p,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(e){var t=e.x,n=e.y;Math.abs(2*Math.abs(n)-Math.PI)<=un&&(n=iM(n)*(He-2e-10));var r,o,l=Math.abs(Math.abs(n)-He);if(l>un)r=Nd(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(r,this.ns);else{if((l=n*this.ns)<=0)return null;o=0}var c=this.ns*fn(t-this.long0);return e.x=this.k0*(o*Math.sin(c))+this.x0,e.y=this.k0*(this.rh-o*Math.cos(c))+this.y0,e},inverse:function(e){var t,n,r,o,l,c=(e.x-this.x0)/this.k0,h=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(c*c+h*h),n=1):(t=-Math.sqrt(c*c+h*h),n=-1);var f=0;if(t!==0&&(f=Math.atan2(n*c,n*h)),t!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(t/(this.a*this.f0),n),(o=sM(this.e,r))===-9999)return null}else o=-He;return l=fn(f/this.ns+this.long0),e.x=l,e.y=o,e},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},yq={init:function(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(e){var t,n,r,o,l,c,h,f=e.x,p=e.y,m=fn(f-this.long0);return t=Math.pow((1+this.e*Math.sin(p))/(1-this.e*Math.sin(p)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(p/2+this.s45),this.alfa)/t)-this.s45),r=-m*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),l=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(o)),c=this.n*l,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),e.y=h*Math.cos(c)/1,e.x=h*Math.sin(c)/1,this.czech||(e.y*=-1,e.x*=-1),e},inverse:function(e){var t,n,r,o,l,c,h,f=e.x;e.x=e.y,e.y=f,this.czech||(e.y*=-1,e.x*=-1),l=Math.sqrt(e.x*e.x+e.y*e.y),o=Math.atan2(e.y,e.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(o)),n=Math.asin(Math.cos(r)*Math.sin(o)/Math.cos(t)),e.x=this.long0-n/this.alfa,c=t,h=0;var p=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),Math.abs(c-e.y)<1e-10&&(h=1),c=e.y,p+=1;while(h===0&&p<15);return p>=15?null:e},names:["Krovak","krovak"]};function JA(e,t,n,r,o){return e*o-t*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)}function aM(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function lM(e){return .375*e*(1+.25*e*(1+.46875*e))}function AM(e){return .05859375*e*e*(1+.75*e)}function cM(e){return e*e*e*(35/3072)}function $_(e,t,n){var r=t*n;return e/Math.sqrt(1-r*r)}function Uy(e){return Math.abs(e)<He?e:e-iM(e)*Math.PI}function jR(e,t,n,r,o){var l,c;l=e/t;for(var h=0;h<15;h++)if(l+=c=(e-(t*l-n*Math.sin(2*l)+r*Math.sin(4*l)-o*Math.sin(6*l)))/(t-2*n*Math.cos(2*l)+4*r*Math.cos(4*l)-6*o*Math.cos(6*l)),Math.abs(c)<=1e-10)return l;return NaN}const xq={init:function(){this.sphere||(this.e0=aM(this.es),this.e1=lM(this.es),this.e2=AM(this.es),this.e3=cM(this.es),this.ml0=this.a*JA(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(e){var t,n,r=e.x,o=e.y;if(r=fn(r-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(o)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var l=Math.sin(o),c=Math.cos(o),h=$_(this.a,this.e,l),f=Math.tan(o)*Math.tan(o),p=r*Math.cos(o),m=p*p,I=this.es*c*c/(1-this.es);t=h*p*(1-m*f*(1/6-(8-f+8*I)*m/120)),n=this.a*JA(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+h*l/c*m*(.5+(5-f+6*I)*m/24)}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r=e.x/this.a,o=e.y/this.a;if(this.sphere){var l=o+this.lat0;t=Math.asin(Math.sin(l)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(l))}else{var c=jR(this.ml0/this.a+o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(c)-He)<=un)return e.x=this.long0,e.y=He,o<0&&(e.y*=-1),e;var h=$_(this.a,this.e,Math.sin(c)),f=h*h*h/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(c),2),m=r*this.a/h,I=m*m;t=c-h*Math.tan(c)/f*m*m*(.5-(1+3*p)*m*m/24),n=m*(1-I*(p/3+(1+3*p)*p*I/15))/Math.cos(c)}return e.x=fn(n+this.long0),e.y=Uy(t),e},names:["Cassini","Cassini_Soldner","cass"]};function Ny(e,t){var n;return e>1e-7?(1-e*e)*(t/(1-(n=e*t)*n)-.5/e*Math.log((1-n)/(1+n))):2*t}var Cq=.3333333333333333,Eq=.17222222222222222,Iq=.10257936507936508,wq=.06388888888888888,_q=.0664021164021164,Bq=.016415012942191543;const vq={init:function(){var e,t=Math.abs(this.lat0);if(Math.abs(t-He)<un?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<un?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ny(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(n){var r,o=[];return o[0]=n*Cq,r=n*n,o[0]+=r*Eq,o[1]=r*wq,r*=n,o[0]+=r*Iq,o[1]+=r*_q,o[2]=r*Bq,o}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Ny(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(e){var t,n,r,o,l,c,h,f,p,m,I=e.x,w=e.y;if(I=fn(I-this.long0),this.sphere){if(l=Math.sin(w),m=Math.cos(w),r=Math.cos(I),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+m*r:1+this.sinph0*l+this.cosph0*m*r)<=un)return null;t=(n=Math.sqrt(2/n))*m*Math.sin(I),n*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*m*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(w+this.lat0)<un)return null;n=Us-.5*w,t=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(I),n*=r}}else{switch(h=0,f=0,p=0,r=Math.cos(I),o=Math.sin(I),l=Math.sin(w),c=Ny(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=c/this.qp,f=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:p=1+this.sinb1*h+this.cosb1*f*r;break;case this.EQUIT:p=1+f*r;break;case this.N_POLE:p=He+w,c=this.qp-c;break;case this.S_POLE:p=w-He,c=this.qp+c}if(Math.abs(p)<un)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),n=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*h-this.sinb1*f*r):(p=Math.sqrt(2/(1+f*r)))*h*this.ymf,t=this.xmf*p*f*o;break;case this.N_POLE:case this.S_POLE:c>=0?(t=(p=Math.sqrt(c))*o,n=r*(this.mode===this.S_POLE?p:-p)):t=n=0}}return e.x=this.a*t+this.x0,e.y=this.a*n+this.y0,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t,n,r,o,l,c,h,f=e.x/this.a,p=e.y/this.a;if(this.sphere){var m,I=0,w=0;if((n=.5*(m=Math.sqrt(f*f+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(w=Math.sin(n),I=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(m)<=un?0:Math.asin(p*w/m),f*=w,p=I*m;break;case this.OBLIQ:n=Math.abs(m)<=un?this.lat0:Math.asin(I*this.sinph0+p*w*this.cosph0/m),f*=w*this.cosph0,p=(I-Math.sin(n)*this.sinph0)*m;break;case this.N_POLE:p=-p,n=He-n;break;case this.S_POLE:n-=He}t=p!==0||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,p):0}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,p*=this.dd,(c=Math.sqrt(f*f+p*p))<un)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*c/this.rq),r=Math.cos(o),f*=o=Math.sin(o),this.mode===this.OBLIQ?(h=r*this.sinb1+p*o*this.cosb1/c,l=this.qp*h,p=c*this.cosb1*r-p*this.sinb1*o):(h=p*o/c,l=this.qp*h,p=c*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(l=f*f+p*p))return e.x=this.long0,e.y=this.lat0,e;h=1-l/this.qp,this.mode===this.S_POLE&&(h=-h)}t=Math.atan2(f,p),n=function(_,b){var T=_+_;return _+b[0]*Math.sin(T)+b[1]*Math.sin(T+T)+b[2]*Math.sin(T+T+T)}(Math.asin(h),this.apa)}return e.x=fn(this.long0+t),e.y=n,e},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function Gy(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}const bq={init:function(){Math.abs(this.lat1+this.lat2)<un||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=i0(this.e3,this.sin_po,this.cos_po),this.qs1=Ny(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=i0(this.e3,this.sin_po,this.cos_po),this.qs2=Ny(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ny(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>un?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(e){var t=e.x,n=e.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Ny(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,l=this.ns0*fn(t-this.long0),c=o*Math.sin(l)+this.x0,h=this.rh-o*Math.cos(l)+this.y0;return e.x=c,e.y=h,e},inverse:function(e){var t,n,r,o,l,c;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1),o=0,t!==0&&(o=Math.atan2(r*e.x,r*e.y)),r=t*this.ns0/this.a,this.sphere?c=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,c=this.phi1z(this.e3,n)),l=fn(o/this.ns0+this.long0),e.x=l,e.y=c,e},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(e,t){var n,r,o,l,c=Gy(.5*t);if(e<un)return c;for(var h=e*e,f=1;f<=25;f++)if(c+=l=.5*(o=1-(r=e*(n=Math.sin(c)))*r)*o/Math.cos(c)*(t/(1-h)-n/o+.5/e*Math.log((1-r)/(1+r))),Math.abs(l)<=1e-7)return c;return null}},Mq={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(e){var t,n,r,o,l,c,h,f=e.x,p=e.y;return r=fn(f-this.long0),t=Math.sin(p),n=Math.cos(p),o=Math.cos(r),(l=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(l)<=un?(c=this.x0+1*this.a*n*Math.sin(r)/l,h=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)/l):(c=this.x0+this.infinity_dist*n*Math.sin(r),h=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*n*o)),e.x=c,e.y=h,e},inverse:function(e){var t,n,r,o,l,c;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(o=Math.atan2(t,this.rc),n=Math.sin(o),c=Gy((r=Math.cos(o))*this.sin_p14+e.y*n*this.cos_p14/t),l=Math.atan2(e.x*n,t*this.cos_p14*r-e.y*this.sin_p14*n),l=fn(this.long0+l)):(c=this.phic0,l=0),e.x=l,e.y=c,e},names:["gnom"]},Sq={init:function(){this.sphere||(this.k0=i0(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(e){var t,n,r=e.x,o=e.y,l=fn(r-this.long0);if(this.sphere)t=this.x0+this.a*l*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var c=Ny(this.e,Math.sin(o));t=this.x0+this.a*this.k0*l,n=this.y0+this.a*c*.5/this.k0}return e.x=t,e.y=n,e},inverse:function(e){var t,n;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=fn(this.long0+e.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(n=function(r,o){var l=1-(1-r*r)/(2*r)*Math.log((1-r)/(1+r));if(Math.abs(Math.abs(o)-l)<1e-6)return o<0?-1*He:He;for(var c,h,f,p,m=Math.asin(.5*o),I=0;I<30;I++)if(h=Math.sin(m),f=Math.cos(m),p=r*h,m+=c=Math.pow(1-p*p,2)/(2*f)*(o/(1-r*r)-h/(1-p*p)+.5/r*Math.log((1-p)/(1+p))),Math.abs(c)<=1e-10)return m;return NaN}(this.e,2*e.y*this.k0/this.a),t=fn(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=n,e},names:["cea"]},Tq={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(e){var t=e.x,n=e.y,r=fn(t-this.long0),o=Uy(n-this.lat0);return e.x=this.x0+this.a*r*this.rc,e.y=this.y0+this.a*o,e},inverse:function(e){var t=e.x,n=e.y;return e.x=fn(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Uy(this.lat0+(n-this.y0)/this.a),e},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Dq={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aM(this.es),this.e1=lM(this.es),this.e2=AM(this.es),this.e3=cM(this.es),this.ml0=this.a*JA(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var t,n,r,o=e.x,l=e.y,c=fn(o-this.long0);if(r=c*Math.sin(l),this.sphere)Math.abs(l)<=un?(t=this.a*c,n=-1*this.a*this.lat0):(t=this.a*Math.sin(r)/Math.tan(l),n=this.a*(Uy(l-this.lat0)+(1-Math.cos(r))/Math.tan(l)));else if(Math.abs(l)<=un)t=this.a*c,n=-1*this.ml0;else{var h=$_(this.a,this.e,Math.sin(l))/Math.tan(l);t=h*Math.sin(r),n=this.a*JA(this.e0,this.e1,this.e2,this.e3,l)-this.ml0+h*(1-Math.cos(r))}return e.x=t+this.x0,e.y=n+this.y0,e},inverse:function(e){var t,n,r,o,l,c,h,f,p;if(r=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=un)t=fn(r/this.a+this.long0),n=0;else{var m;for(c=this.lat0+o/this.a,h=r*r/this.a/this.a+c*c,f=c,l=20;l;--l)if(f+=p=-1*(c*(f*(m=Math.tan(f))+1)-f-.5*(f*f+h)*m)/((f-c)/m-1),Math.abs(p)<=un){n=f;break}t=fn(this.long0+Math.asin(r*Math.tan(f)/this.a)/Math.sin(n))}else if(Math.abs(o+this.ml0)<=un)n=0,t=fn(this.long0+r/this.a);else{var I,w,_,b,T;for(c=(this.ml0+o)/this.a,h=r*r/this.a/this.a+c*c,f=c,l=20;l;--l)if(T=this.e*Math.sin(f),I=Math.sqrt(1-T*T)*Math.tan(f),w=this.a*JA(this.e0,this.e1,this.e2,this.e3,f),_=this.e0-2*this.e1*Math.cos(2*f)+4*this.e2*Math.cos(4*f)-6*this.e3*Math.cos(6*f),f-=p=(c*(I*(b=w/this.a)+1)-b-.5*I*(b*b+h))/(this.es*Math.sin(2*f)*(b*b+h-2*c*b)/(4*I)+(c-b)*(I*_-2/Math.sin(2*f))-_),Math.abs(p)<=un){n=f;break}I=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),t=fn(this.long0+Math.asin(r*I/this.a)/Math.sin(n))}return e.x=t,e.y=n,e},names:["Polyconic","poly"]},Rq={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(e){var t,n=e.x,r=e.y-this.lat0,o=n-this.long0,l=r/eM*1e-5,c=o,h=1,f=0;for(t=1;t<=10;t++)h*=l,f+=this.A[t]*h;var p,m=f,I=c,w=1,_=0,b=0,T=0;for(t=1;t<=6;t++)p=_*m+w*I,w=w*m-_*I,_=p,b=b+this.B_re[t]*w-this.B_im[t]*_,T=T+this.B_im[t]*w+this.B_re[t]*_;return e.x=T*this.a+this.x0,e.y=b*this.a+this.y0,e},inverse:function(e){var t,n,r=e.x,o=e.y,l=r-this.x0,c=(o-this.y0)/this.a,h=l/this.a,f=1,p=0,m=0,I=0;for(t=1;t<=6;t++)n=p*c+f*h,f=f*c-p*h,p=n,m=m+this.C_re[t]*f-this.C_im[t]*p,I=I+this.C_im[t]*f+this.C_re[t]*p;for(var w=0;w<this.iterations;w++){var _,b=m,T=I,S=c,k=h;for(t=2;t<=6;t++)_=T*m+b*I,b=b*m-T*I,T=_,S+=(t-1)*(this.B_re[t]*b-this.B_im[t]*T),k+=(t-1)*(this.B_im[t]*b+this.B_re[t]*T);b=1,T=0;var F=this.B_re[1],N=this.B_im[1];for(t=2;t<=6;t++)_=T*m+b*I,b=b*m-T*I,T=_,F+=t*(this.B_re[t]*b-this.B_im[t]*T),N+=t*(this.B_im[t]*b+this.B_re[t]*T);var G=F*F+N*N;m=(S*F+k*N)/G,I=(k*F-S*N)/G}var V=m,W=I,X=1,K=0;for(t=1;t<=9;t++)X*=V,K+=this.D[t]*X;var st=this.lat0+K*eM*1e5,et=this.long0+W;return e.x=et,e.y=st,e},names:["New_Zealand_Map_Grid","nzmg"]},Qq={init:function(){},forward:function(e){var t=e.x,n=e.y,r=fn(t-this.long0),o=this.x0+this.a*r,l=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return e.x=o,e.y=l,e},inverse:function(e){e.x-=this.x0,e.y-=this.y0;var t=fn(this.long0+e.x/this.a),n=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=n,e},names:["Miller_Cylindrical","mill"]},kq={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=eU(this.es)},forward:function(e){var t,n,r=e.x,o=e.y;if(r=fn(r-this.long0),this.sphere){if(this.m)for(var l=this.n*Math.sin(o),c=20;c;--c){var h=(this.m*o+Math.sin(o)-l)/(this.m+Math.cos(o));if(o-=h,Math.abs(h)<un)break}else o=this.n!==1?Math.asin(this.n*Math.sin(o)):o;t=this.a*this.C_x*r*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var f=Math.sin(o),p=Math.cos(o);n=this.a*j_(o,f,p,this.en),t=this.a*r*p/Math.sqrt(1-this.es*f*f)}return e.x=t,e.y=n,e},inverse:function(e){var t,n,r;return e.x-=this.x0,n=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,n/=this.C_x*(this.m+Math.cos(t)),this.m?t=Gy((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=Gy(Math.sin(t)/this.n)),n=fn(n+this.long0),t=Uy(t)):(t=nU(e.y/this.a,this.es,this.en),(r=Math.abs(t))<He?(r=Math.sin(t),n=fn(this.long0+e.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(t)))):r-un<He&&(n=this.long0)),e.x=n,e.y=t,e},names:["Sinusoidal","sinu"]},Lq={init:function(){},forward:function(e){for(var t=e.x,n=e.y,r=fn(t-this.long0),o=n,l=Math.PI*Math.sin(n);;){var c=-(o+Math.sin(o)-l)/(1+Math.cos(o));if(o+=c,Math.abs(c)<un)break}o/=2,Math.PI/2-Math.abs(n)<un&&(r=0);var h=.900316316158*this.a*r*Math.cos(o)+this.x0,f=1.4142135623731*this.a*Math.sin(o)+this.y0;return e.x=h,e.y=f,e},inverse:function(e){var t,n;e.x-=this.x0,e.y-=this.y0,n=e.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),t=Math.asin(n);var r=fn(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*t+Math.sin(2*t))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return e.x=r,e.y=o,e},names:["Mollweide","moll"]},Pq={init:function(){Math.abs(this.lat1+this.lat2)<un||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=aM(this.es),this.e1=lM(this.es),this.e2=AM(this.es),this.e3=cM(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=i0(this.e,this.sinphi,this.cosphi),this.ml1=JA(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<un?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=i0(this.e,this.sinphi,this.cosphi),this.ml2=JA(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=JA(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(e){var t,n=e.x,r=e.y;if(this.sphere)t=this.a*(this.g-r);else{var o=JA(this.e0,this.e1,this.e2,this.e3,r);t=this.a*(this.g-o)}var l=this.ns*fn(n-this.long0),c=this.x0+t*Math.sin(l),h=this.y0+this.rh-t*Math.cos(l);return e.x=c,e.y=h,e},inverse:function(e){var t,n,r,o;e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns>=0?(n=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(n=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var l=0;return n!==0&&(l=Math.atan2(t*e.x,t*e.y)),this.sphere?(o=fn(this.long0+l/this.ns),r=Uy(this.g-n/this.a),e.x=o,e.y=r,e):(r=jR(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),o=fn(this.long0+l/this.ns),e.x=o,e.y=r,e)},names:["Equidistant_Conic","eqdc"]},Fq={init:function(){this.R=this.a},forward:function(e){var t,n,r=e.x,o=e.y,l=fn(r-this.long0);Math.abs(o)<=un&&(t=this.x0+this.R*l,n=this.y0);var c=Gy(2*Math.abs(o/Math.PI));(Math.abs(l)<=un||Math.abs(Math.abs(o)-He)<=un)&&(t=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*c):this.y0+Math.PI*this.R*-Math.tan(.5*c));var h=.5*Math.abs(Math.PI/l-l/Math.PI),f=h*h,p=Math.sin(c),m=Math.cos(c),I=m/(p+m-1),w=I*I,_=I*(2/p-1),b=_*_,T=Math.PI*this.R*(h*(I-b)+Math.sqrt(f*(I-b)*(I-b)-(b+f)*(w-b)))/(b+f);l<0&&(T=-T),t=this.x0+T;var S=f+I;return T=Math.PI*this.R*(_*S-h*Math.sqrt((b+f)*(f+1)-S*S))/(b+f),n=o>=0?this.y0+T:this.y0-T,e.x=t,e.y=n,e},inverse:function(e){var t,n,r,o,l,c,h,f,p,m,I,w;return e.x-=this.x0,e.y-=this.y0,I=Math.PI*this.R,l=(r=e.x/I)*r+(o=e.y/I)*o,I=3*(o*o/(f=-2*(c=-Math.abs(o)*(1+l))+1+2*o*o+l*l)+(2*(h=c-2*o*o+r*r)*h*h/f/f/f-9*c*h/f/f)/27)/(p=(c-h*h/3/f)/f)/(m=2*Math.sqrt(-p/3)),Math.abs(I)>1&&(I=I>=0?1:-1),w=Math.acos(I)/3,n=e.y>=0?(-m*Math.cos(w+Math.PI/3)-h/3/f)*Math.PI:-(-m*Math.cos(w+Math.PI/3)-h/3/f)*Math.PI,t=Math.abs(r)<un?this.long0:fn(this.long0+Math.PI*(l-1+Math.sqrt(1+2*(r*r-o*o)+l*l))/2/r),e.x=t,e.y=n,e},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Uq={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(e){var t,n,r,o,l,c,h,f,p,m,I,w,_,b,T,S,k,F,N,G,V,W,X=e.x,K=e.y,st=Math.sin(e.y),et=Math.cos(e.y),it=fn(X-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=un?(e.x=this.x0+this.a*(He-K)*Math.sin(it),e.y=this.y0-this.a*(He-K)*Math.cos(it),e):Math.abs(this.sin_p12+1)<=un?(e.x=this.x0+this.a*(He+K)*Math.sin(it),e.y=this.y0+this.a*(He+K)*Math.cos(it),e):(F=this.sin_p12*st+this.cos_p12*et*Math.cos(it),k=(S=Math.acos(F))?S/Math.sin(S):1,e.x=this.x0+this.a*k*et*Math.sin(it),e.y=this.y0+this.a*k*(this.cos_p12*st-this.sin_p12*et*Math.cos(it)),e):(t=aM(this.es),n=lM(this.es),r=AM(this.es),o=cM(this.es),Math.abs(this.sin_p12-1)<=un?(l=this.a*JA(t,n,r,o,He),c=this.a*JA(t,n,r,o,K),e.x=this.x0+(l-c)*Math.sin(it),e.y=this.y0-(l-c)*Math.cos(it),e):Math.abs(this.sin_p12+1)<=un?(l=this.a*JA(t,n,r,o,He),c=this.a*JA(t,n,r,o,K),e.x=this.x0+(l+c)*Math.sin(it),e.y=this.y0+(l+c)*Math.cos(it),e):(h=st/et,f=$_(this.a,this.e,this.sin_p12),p=$_(this.a,this.e,st),m=Math.atan((1-this.es)*h+this.es*f*this.sin_p12/(p*et)),N=(I=Math.atan2(Math.sin(it),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(it)))===0?Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(I)-Math.PI)<=un?-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.asin(Math.sin(it)*Math.cos(m)/Math.sin(I)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),S=f*N*(1-(G=N*N)*(T=(_=this.e*this.cos_p12*Math.cos(I)/Math.sqrt(1-this.es))*_)*(1-T)/6+(V=G*N)/8*(b=w*_)*(1-2*T)+(W=V*N)/120*(T*(4-7*T)-3*w*w*(1-7*T))-W*N/48*b),e.x=this.x0+S*Math.sin(I),e.y=this.y0+S*Math.cos(I),e))},inverse:function(e){var t,n,r,o,l,c,h,f,p,m,I,w,_,b,T,S,k,F,N,G,V,W,X;return e.x-=this.x0,e.y-=this.y0,this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y))>2*He*this.a?void 0:(n=t/this.a,r=Math.sin(n),o=Math.cos(n),l=this.long0,Math.abs(t)<=un?c=this.lat0:(c=Gy(o*this.sin_p12+e.y*r*this.cos_p12/t),h=Math.abs(this.lat0)-He,l=Math.abs(h)<=un?this.lat0>=0?fn(this.long0+Math.atan2(e.x,-e.y)):fn(this.long0-Math.atan2(-e.x,e.y)):fn(this.long0+Math.atan2(e.x*r,t*this.cos_p12*o-e.y*this.sin_p12*r))),e.x=l,e.y=c,e):(f=aM(this.es),p=lM(this.es),m=AM(this.es),I=cM(this.es),Math.abs(this.sin_p12-1)<=un?(c=jR(((w=this.a*JA(f,p,m,I,He))-(t=Math.sqrt(e.x*e.x+e.y*e.y)))/this.a,f,p,m,I),l=fn(this.long0+Math.atan2(e.x,-1*e.y)),e.x=l,e.y=c,e):Math.abs(this.sin_p12+1)<=un?(w=this.a*JA(f,p,m,I,He),c=jR(((t=Math.sqrt(e.x*e.x+e.y*e.y))-w)/this.a,f,p,m,I),l=fn(this.long0+Math.atan2(e.x,e.y)),e.x=l,e.y=c,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),T=Math.atan2(e.x,e.y),_=$_(this.a,this.e,this.sin_p12),S=Math.cos(T),F=-(k=this.e*this.cos_p12*S)*k/(1-this.es),N=3*this.es*(1-F)*this.sin_p12*this.cos_p12*S/(1-this.es),W=1-F*(V=(G=t/_)-F*(1+F)*Math.pow(G,3)/6-N*(1+3*F)*Math.pow(G,4)/24)*V/2-G*V*V*V/6,b=Math.asin(this.sin_p12*Math.cos(V)+this.cos_p12*Math.sin(V)*S),l=fn(this.long0+Math.asin(Math.sin(T)*Math.sin(V)/Math.cos(b))),X=Math.sin(b),c=Math.atan2((X-this.es*W*this.sin_p12)*Math.tan(b),X*(1-this.es)),e.x=l,e.y=c,e))},names:["Azimuthal_Equidistant","aeqd"]},Nq={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(e){var t,n,r,o,l,c,h,f=e.x,p=e.y;return r=fn(f-this.long0),t=Math.sin(p),n=Math.cos(p),o=Math.cos(r),((l=this.sin_p14*t+this.cos_p14*n*o)>0||Math.abs(l)<=un)&&(c=1*this.a*n*Math.sin(r),h=this.y0+1*this.a*(this.cos_p14*t-this.sin_p14*n*o)),e.x=c,e.y=h,e},inverse:function(e){var t,n,r,o,l,c,h;return e.x-=this.x0,e.y-=this.y0,n=Gy((t=Math.sqrt(e.x*e.x+e.y*e.y))/this.a),r=Math.sin(n),o=Math.cos(n),c=this.long0,Math.abs(t)<=un?(h=this.lat0,e.x=c,e.y=h,e):(h=Gy(o*this.sin_p14+e.y*r*this.cos_p14/t),l=Math.abs(this.lat0)-He,Math.abs(l)<=un?(c=this.lat0>=0?fn(this.long0+Math.atan2(e.x,-e.y)):fn(this.long0-Math.atan2(-e.x,e.y)),e.x=c,e.y=h,e):(c=fn(this.long0+Math.atan2(e.x*r,t*this.cos_p14*o-e.y*this.sin_p14*r)),e.x=c,e.y=h,e))},names:["ortho"]};var VV=1,hM=2,uM=3,dM=4,oU=5,aU=6,Oy=1,Vy=2,Hy=3,tB=4;function qR(e,t,n,r){var o;return e<un?(r.value=Oy,o=0):(o=Math.atan2(t,n),Math.abs(o)<=Us?r.value=Oy:o>Us&&o<=He+Us?(r.value=Vy,o-=He):o>He+Us||o<=-(He+Us)?(r.value=Hy,o=o>=0?o-Ll:o+Ll):(r.value=tB,o+=He)),o}function eB(e,t){var n=e+t;return n<-3.14159265359?n+=nM:n>3.14159265359&&(n-=nM),n}const Gq={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=He-Us/2?this.face=oU:this.lat0<=-(He-Us/2)?this.face=aU:Math.abs(this.long0)<=Us?this.face=VV:Math.abs(this.long0)<=He+Us?this.face=this.long0>0?hM:dM:this.face=uM,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(e){var t,n,r,o,l,c,h={x:0,y:0},f={value:0};if(e.x-=this.long0,t=this.es!==0?Math.atan(this.one_minus_f_squared*Math.tan(e.y)):e.y,n=e.x,this.face===oU)o=He-t,n>=Us&&n<=He+Us?(f.value=Oy,r=n-He):n>He+Us||n<=-(He+Us)?(f.value=Vy,r=n>0?n-Ll:n+Ll):n>-(He+Us)&&n<=-Us?(f.value=Hy,r=n+He):(f.value=tB,r=n);else if(this.face===aU)o=He+t,n>=Us&&n<=He+Us?(f.value=Oy,r=-n+He):n<Us&&n>=-Us?(f.value=Vy,r=-n):n<-Us&&n>=-(He+Us)?(f.value=Hy,r=-n-He):(f.value=tB,r=n>0?-n+Ll:-n-Ll);else{var p,m,I,w,_,b;this.face===hM?n=eB(n,+He):this.face===uM?n=eB(n,3.14159265359):this.face===dM&&(n=eB(n,-He)),w=Math.sin(t),_=Math.cos(t),b=Math.sin(n),p=_*Math.cos(n),m=_*b,I=w,this.face===VV?r=qR(o=Math.acos(p),I,m,f):this.face===hM?r=qR(o=Math.acos(m),I,-p,f):this.face===uM?r=qR(o=Math.acos(-p),I,-m,f):this.face===dM?r=qR(o=Math.acos(-m),I,p,f):(o=r=0,f.value=Oy)}return c=Math.atan(12/Ll*(r+Math.acos(Math.sin(r)*Math.cos(Us))-He)),l=Math.sqrt((1-Math.cos(o))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(r))))),f.value===Vy?c+=He:f.value===Hy?c+=Ll:f.value===tB&&(c+=1.5*Ll),h.x=l*Math.cos(c),h.y=l*Math.sin(c),h.x=h.x*this.a+this.x0,h.y=h.y*this.a+this.y0,e.x=h.x,e.y=h.y,e},inverse:function(e){var t,n,r,o,l,c,h,f,p,m,I,w,_={lam:0,phi:0},b={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,n=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),t=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?b.value=Oy:e.y>=0&&e.y>=Math.abs(e.x)?(b.value=Vy,t-=He):e.x<0&&-e.x>=Math.abs(e.y)?(b.value=Hy,t=t<0?t+Ll:t-Ll):(b.value=tB,t+=He),p=Ll/12*Math.tan(t),l=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),c=Math.atan(l),(h=1-(r=Math.cos(t))*r*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(c)))))<-1?h=-1:h>1&&(h=1),this.face===oU)f=Math.acos(h),_.phi=He-f,b.value===Oy?_.lam=c+He:b.value===Vy?_.lam=c<0?c+Ll:c-Ll:b.value===Hy?_.lam=c-He:_.lam=c;else if(this.face===aU)f=Math.acos(h),_.phi=f-He,b.value===Oy?_.lam=-c+He:b.value===Vy?_.lam=-c:b.value===Hy?_.lam=-c-He:_.lam=c<0?-c-Ll:-c+Ll;else{var T,S,k;p=(T=h)*T,S=(p+=(k=p>=1?0:Math.sqrt(1-p)*Math.sin(c))*k)>=1?0:Math.sqrt(1-p),b.value===Vy?(p=S,S=-k,k=p):b.value===Hy?(S=-S,k=-k):b.value===tB&&(p=S,S=k,k=-p),this.face===hM?(p=T,T=-S,S=p):this.face===uM?(T=-T,S=-S):this.face===dM&&(p=T,T=S,S=-p),_.phi=Math.acos(-k)-He,_.lam=Math.atan2(S,T),this.face===hM?_.lam=eB(_.lam,-He):this.face===uM?_.lam=eB(_.lam,-3.14159265359):this.face===dM&&(_.lam=eB(_.lam,+He))}return this.es!==0&&(m=_.phi<0?1:0,I=Math.tan(_.phi),w=this.b/Math.sqrt(I*I+this.one_minus_f_squared),_.phi=Math.atan(Math.sqrt(this.a*this.a-w*w)/(this.one_minus_f*w)),m&&(_.phi=-_.phi)),_.lam+=this.long0,e.x=_.lam,e.y=_.phi,e},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var lU=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],fM=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],HV=.8487,zV=1.3523,WV=e0/5,Oq=1/WV,AU=18,$R=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))};const Vq={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(e){var t=fn(e.x-this.long0),n=Math.abs(e.y),r=Math.floor(n*WV);r<0?r=0:r>=AU&&(r=17);var o={x:$R(lU[r],n=e0*(n-Oq*r))*t,y:$R(fM[r],n)};return e.y<0&&(o.y=-o.y),o.x=o.x*this.a*HV+this.x0,o.y=o.y*this.a*zV+this.y0,o},inverse:function(e){var t={x:(e.x-this.x0)/(this.a*HV),y:Math.abs(e.y-this.y0)/(this.a*zV)};if(t.y>=1)t.x/=lU[18][0],t.y=e.y<0?-He:He;else{var n=Math.floor(t.y*AU);for(n<0?n=0:n>=AU&&(n=17);;)if(fM[n][0]>t.y)--n;else{if(!(fM[n+1][0]<=t.y))break;++n}var r=fM[n],o=5*(t.y-r[0])/(fM[n+1][0]-r[0]);o=function(l,c,h,f){for(var p=c;f;--f){var m=l(p);if(p-=m,Math.abs(m)<h)break}return p}(function(l){return($R(r,l)-t.y)/function(c,h){return c[1]+h*(2*c[2]+3*h*c[3])}(r,l)},o,un,100),t.x/=$R(lU[n],o),t.y=(5*n+o)*kl,e.y<0&&(t.y=-t.y)}return t.x=fn(t.x+this.long0),t},names:["Robinson","robin"]},Hq={init:function(){this.name="geocent"},forward:function(e){return EV(e,this.es,this.a)},inverse:function(e){return IV(e,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var tQ=0,eQ=1,nQ=2,iQ=3,pM={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const zq={init:function(){if(Object.keys(pM).forEach((function(n){if(this[n]===void 0)this[n]=pM[n].def;else{if(pM[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);pM[n].num&&(this[n]=parseFloat(this[n]))}pM[n].degrees&&(this[n]=this[n]*kl)}).bind(this)),Math.abs(Math.abs(this.lat0)-He)<un?this.mode=this.lat0<0?eQ:tQ:Math.abs(this.lat0)<un?this.mode=nQ:(this.mode=iQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)},forward:function(e){e.x-=this.long0;var t,n,r,o,l=Math.sin(e.y),c=Math.cos(e.y),h=Math.cos(e.x);switch(this.mode){case iQ:n=this.sinph0*l+this.cosph0*c*h;break;case nQ:n=c*h;break;case eQ:n=-l;break;case tQ:n=l}switch(t=(n=this.pn1/(this.p-n))*c*Math.sin(e.x),this.mode){case iQ:n*=this.cosph0*l-this.sinph0*c*h;break;case nQ:n*=l;break;case tQ:n*=-c*h;break;case eQ:n*=c*h}return o=1/((r=n*this.cg+t*this.sg)*this.sw*this.h1+this.cw),t=(t*this.cg-n*this.sg)*this.cw*o,n=r*o,e.x=t*this.a,e.y=n*this.a,e},inverse:function(e){e.x/=this.a,e.y/=this.a;var t,n,r,o={x:e.x,y:e.y};r=1/(this.pn1-e.y*this.sw),t=this.pn1*e.x*r,n=this.pn1*e.y*this.cw*r,e.x=t*this.cg+n*this.sg,e.y=n*this.cg-t*this.sg;var l=kc(e.x,e.y);if(Math.abs(l)<un)o.x=0,o.y=e.y;else{var c,h;switch(h=1-l*l*this.pfact,h=(this.p-Math.sqrt(h))/(this.pn1/l+l/this.pn1),c=Math.sqrt(1-h*h),this.mode){case iQ:o.y=Math.asin(c*this.sinph0+e.y*h*this.cosph0/l),e.y=(c-this.sinph0*Math.sin(o.y))*l,e.x*=h*this.cosph0;break;case nQ:o.y=Math.asin(e.y*h/l),e.y=c*l,e.x*=h;break;case tQ:o.y=Math.asin(c),e.y=-e.y;break;case eQ:o.y=-Math.asin(c)}o.x=Math.atan2(e.x,e.y)}return e.x=o.x+this.long0,e.y=o.y,e},names:["Tilted_Perspective","tpers"]},Wq={init:function(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(e){var t,n,r,o,l=e.x,c=e.y;if(l-=this.long0,this.shape==="ellipse"){c=Math.atan(this.radius_p2*Math.tan(c));var h=this.radius_p/kc(this.radius_p*Math.cos(c),Math.sin(c));if(n=h*Math.cos(l)*Math.cos(c),r=h*Math.sin(l)*Math.cos(c),o=h*Math.sin(c),(this.radius_g-n)*n-r*r-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/kc(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/kc(r,t)))}else this.shape==="sphere"&&(t=Math.cos(c),n=Math.cos(l)*t,r=Math.sin(l)*t,o=Math.sin(c),t=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(r/kc(o,t)),e.y=this.radius_g_1*Math.atan(o/t)):(e.x=this.radius_g_1*Math.atan(r/t),e.y=this.radius_g_1*Math.atan(o/kc(r,t))));return e.x=e.x*this.a,e.y=e.y*this.a,e},inverse:function(e){var t,n,r,o,l=-1,c=0,h=0;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(h=Math.tan(e.y/this.radius_g_1),c=Math.tan(e.x/this.radius_g_1)*kc(1,h)):(c=Math.tan(e.x/this.radius_g_1),h=Math.tan(e.y/this.radius_g_1)*kc(1,c));var f=h/this.radius_p;if(t=c*c+f*f+l*l,(r=(n=2*this.radius_g*l)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),l=this.radius_g+o*l,c*=o,h*=o,e.x=Math.atan2(c,l),e.y=Math.atan(h*Math.cos(e.x)/l),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(h=Math.tan(e.y/this.radius_g_1),c=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+h*h)):(c=Math.tan(e.x/this.radius_g_1),h=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+c*c)),t=c*c+h*h+l*l,(r=(n=2*this.radius_g*l)*n-4*t*this.C)<0)return e.x=Number.NaN,e.y=Number.NaN,e;o=(-n-Math.sqrt(r))/(2*t),l=this.radius_g+o*l,c*=o,h*=o,e.x=Math.atan2(c,l),e.y=Math.atan(h*Math.cos(e.x)/l)}return e.x=e.x+this.long0,e},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};var gM=1.340264,mM=-.081106,yM=893e-6,xM=.003796,sQ=Math.sqrt(3)/2;const Jq={init:function(){this.es=0,this.long0=this.long0!==void 0?this.long0:0},forward:function(e){var t=fn(e.x-this.long0),n=e.y,r=Math.asin(sQ*Math.sin(n)),o=r*r,l=o*o*o;return e.x=t*Math.cos(r)/(sQ*(gM+3*mM*o+l*(7*yM+9*xM*o))),e.y=r*(gM+mM*o+l*(yM+xM*o)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e},inverse:function(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t,n,r,o,l=e.y;for(o=0;o<12&&(l-=r=(l*(gM+mM*(t=l*l)+(n=t*t*t)*(yM+xM*t))-e.y)/(gM+3*mM*t+n*(7*yM+9*xM*t)),!(Math.abs(r)<1e-9));++o);return n=(t=l*l)*t*t,e.x=sQ*e.x*(gM+3*mM*t+n*(7*yM+9*xM*t))/Math.cos(l),e.y=Math.asin(Math.sin(l)/sQ),e.x=fn(e.x+this.long0),e},names:["eqearth","Equal Earth","Equal_Earth"]};var CM=1e-10;function Yq(e){var t,n,r,o=fn(e.x-(this.long0||0)),l=e.y;return t=this.am1+this.m1-j_(l,n=Math.sin(l),r=Math.cos(l),this.en),n=r*o/(t*Math.sqrt(1-this.es*n*n)),e.x=t*Math.sin(n),e.y=this.am1-t*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Zq(e){var t,n,r,o;if(e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a,n=kc(e.x,e.y=this.am1-e.y),o=nU(this.am1+this.m1-n,this.es,this.en),(t=Math.abs(o))<He)t=Math.sin(o),r=n*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(o);else{if(!(Math.abs(t-He)<=CM))throw new Error;r=0}return e.x=fn(r+(this.long0||0)),e.y=Uy(o),e}function Kq(e){var t,n,r=fn(e.x-(this.long0||0)),o=e.y;return n=this.cphi1+this.phi1-o,Math.abs(n)>CM?(e.x=n*Math.sin(t=r*Math.cos(o)/n),e.y=this.cphi1-n*Math.cos(t)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function Xq(e){var t,n;e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var r=kc(e.x,e.y=this.cphi1-e.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>He)throw new Error;return t=Math.abs(Math.abs(n)-He)<=CM?0:r*Math.atan2(e.x,e.y)/Math.cos(n),e.x=fn(t+(this.long0||0)),e.y=Uy(n),e}const jq={init:function(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<CM)throw new Error;this.es?(this.en=eU(this.es),this.m1=j_(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Zq,this.forward=Yq):(Math.abs(this.phi1)+CM>=He?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Xq,this.forward=Kq)},names:["bonne","Bonne (Werner lat_1=90)"]};bh.defaultDatum="WGS84",bh.Proj=s0,bh.WGS84=new bh.Proj("WGS84"),bh.Point=X_,bh.toPoint=vV,bh.defs=WA,bh.nadgrid=function(e,t){var n=new DataView(t),r=function(h){var f=h.getInt32(8,!1);return f===11?!1:(f=h.getInt32(8,!0),f!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(n),o=function(h,f){return{nFields:h.getInt32(8,f),nSubgridFields:h.getInt32(24,f),nSubgrids:h.getInt32(40,f),shiftType:j8(h,56,64).trim(),fromSemiMajorAxis:h.getFloat64(120,f),fromSemiMinorAxis:h.getFloat64(136,f),toSemiMajorAxis:h.getFloat64(152,f),toSemiMinorAxis:h.getFloat64(168,f)}}(n,r),l=function(h,f,p){for(var m=176,I=[],w=0;w<f.nSubgrids;w++){var _=sq(h,m,p),b=rq(h,m,_,p),T=Math.round(1+(_.upperLongitude-_.lowerLongitude)/_.longitudeInterval),S=Math.round(1+(_.upperLatitude-_.lowerLatitude)/_.latitudeInterval);I.push({ll:[Z_(_.lowerLongitude),Z_(_.lowerLatitude)],del:[Z_(_.longitudeInterval),Z_(_.latitudeInterval)],lim:[T,S],count:_.gridNodeCount,cvs:iq(b)}),m+=176+16*_.gridNodeCount}return I}(n,o,r),c={header:o,subgrids:l};return CV[e]=c,c},bh.transform=ZR,bh.mgrs=lq,bh.version="__VERSION__",function(e){e.Proj.projections.add(KR),e.Proj.projections.add(XR),e.Proj.projections.add(uq),e.Proj.projections.add(dq),e.Proj.projections.add(fq),e.Proj.projections.add(pq),e.Proj.projections.add(gq),e.Proj.projections.add(mq),e.Proj.projections.add(yq),e.Proj.projections.add(xq),e.Proj.projections.add(vq),e.Proj.projections.add(bq),e.Proj.projections.add(Mq),e.Proj.projections.add(Sq),e.Proj.projections.add(Tq),e.Proj.projections.add(Dq),e.Proj.projections.add(Rq),e.Proj.projections.add(Qq),e.Proj.projections.add(kq),e.Proj.projections.add(Lq),e.Proj.projections.add(Pq),e.Proj.projections.add(Fq),e.Proj.projections.add(Uq),e.Proj.projections.add(Nq),e.Proj.projections.add(Gq),e.Proj.projections.add(Vq),e.Proj.projections.add(Hq),e.Proj.projections.add(zq),e.Proj.projections.add(Wq),e.Proj.projections.add(Jq),e.Proj.projections.add(jq)}(bh);const JV=p6(Object.freeze(Object.defineProperty({__proto__:null,default:bh},Symbol.toStringTag,{value:"Module"})));var YV={exports:{}};const s=" +no_defs",v=" +towgs84=0,0,0,0,0,0,0",g=" +ellps=GRS80",x="+proj=tmerc",A=" +units=m",Yt=" +towgs84=23.92,-141.27,-80.9,-0,0.35,0.82,-0.12",jt=" +towgs84=24.47,-130.89,-81.56,-0,-0,0.13,-0.22",L="+proj=lcc",U="+proj=utm",Y=" +units=us-ft",rt="+proj=longlat",R=" +lat_0=0",$=" +ellps=krass",y=" +y_0=0",tt=" +x_0=500000",xe=" +towgs84=0,0,4.5,0,0,0.554,0.2263",Ce=" +towgs84=0,0,1.9,0,0,0.814,-0.38",ft=" +ellps=intl",bt=" +datum=WGS84",Lt=" +ellps=WGS72",Tn=" +towgs84=15.8,-154.4,-82.3,0,0,0,0",yt=" +k=0.9999",ls=" +towgs84=59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",Jt=" +datum=NAD27",te=" +ellps=bessel",Bn=" +x_0=609601.2192024384",$t=" +x_0=600000",kr=" +towgs84=33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84",_e=" +ellps=clrk80",Dn=" +b=6356755.288157528",Zn=" +x_0=152400.3048006096",pi=" +lat_0=36.66666666666666",Lr=" +towgs84=-146.414,507.337,680.507,0,0,0,0",ye=" +x_0=200000",Ke=" +ellps=clrk66",Oe=" +ellps=WGS84",gi=" +x_0=500000.001016002",De=" +x_0=240000",de=" +lat_0=-90",bs=" +towgs84=-87,-98,-121,0,0,0,0",dt=" +south",Wi=" +lat_0=41.66666666666666",Re=" +y_0=36000",Mh=" +towgs84=-117.808,-51.536,137.784,0.303,0.446,0.234,-0.29",It=" +x_0=0",ve=" +units=ft",sn=" +x_0=400000",YA=" +towgs84=-115.854,-99.0583,-152.462,0,0,0,0",ZA=" +towgs84=-208.406,-109.878,-2.5764,0,0,0,0",$n=" +ellps=aust_SA",cr=" +lat_0=39.33333333333334",Gd=" +towgs84=577.326,90.129,463.919,5.137,1.474,5.297,2.4232",_r=" +lat_0=37.66666666666666",Br=" +lat_0=36.33333333333334",bu=" +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7",qs=" +y_0=500000.0001016001",$s=" +x_0=200000.0001016002",tr=" +x_0=500000.0001016001",Rs=" +x_0=500000.00001016",Fn=" +y_0=1000000",xn=" +x_0=300000",ti=" +lon_0=-120.5",no=" +lat_0=43.66666666666666",io=" +lat_0=43.83333333333334",Vo=" +lat_1=-68.66666666666667",Ho=" +lat_2=-71.33333333333333",_i=" +k=0.999966667",Ve=" +k=0.9996",zo=" +lat_0=38.33333333333334",Wo=" +lat_1=73.66666666666667",Jo=" +lat_2=70.33333333333333",Yo=" +lat_0=72.02500919444445",Xn=" +a=6378249.2",jn=" +x_0=1500000",Ra=" +lat_ts=-80.23861111111111",CA=" +towgs84=-288,175,-376,0,0,0,0",da=" +lat_1=41.78333333333333",Qa=" +lat_2=-75.33333333333333",r0=" +towgs84=278.3,93,474.5,7.889,0.05,-6.61,6.21",Hn=" +x_0=304800",Jr=" +x_0=2000000.0001016",di=" +k=0.9999375",Yn=" +y_0=500000",HI=" +towgs84=-209.362,-87.8162,404.62,0.0046,3.4784,0.5805,-1.4547",Xa=" +lon_0=-100.3333333333333",ja=" +lat_1=-72.66666666666667",qa=" +lat_1=-76.66666666666667",$a=" +lat_2=-79.33333333333333",ki=" +y_0=10000000",Pl=" +towgs84=-57,1,-41,0,0,0,0",Xi=" +k=0.999941177",fa=" +x_0=800000.0000101599",pa=" +y_0=99999.99998983997",tl=" +lat_1=38.43333333333333",el=" +lat_0=24.33333333333333",KA=" +towgs84=26,-121,-78,0,0,0,0",Rn=" +a=6378140",zI=" +towgs84=-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496",Eo=" +x_0=399999.99998984",EA=" +towgs84=-24,-15,5,0,0,0,0",Lc=" +towgs84=682,-203,480,0,0,0,0",Sh=" +towgs84=-136,-108,-292,0,0,0,0",so=" +b=6356075.41314024",Fl=" +lat_1=37.96666666666667",Ul=" +lat_0=38.83333333333334",Nl=" +lat_0=40.16666666666666",Gl=" +lat_0=34.33333333333334",Ol=" +lat_0=42.83333333333334",IA=" +lon_0=-84.36666666666666",nl=" +x_0=300000.0000000001",Es=" +k=0.999933333",wA=" +lat_1=48.73333333333333",is=" +lon_0=-111.5",il=" +k=0.9999473679999999",o0=" +towgs84=-67.35,3.88,-38.22,0,0,0,0",XA=" +lat_2=73.66666666666667",jA=" +lat_0=75.36440330555556",ei=" +b=6356515",ng=" +towgs84=25,-141,-78.5,-0,0.35,0.736,0",Ji="+proj=stere",Pc=" +lat_1=-64.66666666666667",Fc=" +lat_2=-67.33333333333333",sl=" +b=6356514.966398753",Mu=" +towgs84=295,736,257,0,0,0,0",Li=" +x_0=100000",Th=" +towgs84=-11,851,5,0,0,0,0",WI=" +towgs84=414.1,41.3,603.1,-0.855,2.141,-7.023,0",nB=" +towgs84=-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06",Uc=" +lat_0=39.66666666666666",ss=" +x_0=1000000",Qs=" +lon_0=-105.5",iB=" +towgs84=482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15",hr=" +a=6378249.145",ds=" +x_0=2000000",Dh=" +lat_0=45.66666666666666",Rh=" +lat_1=80.33333333333333",Qh=" +lat_0=78.70733752777778",Vl=" +b=6356774.50408554",Su=" +lon_0=-91.33333333333333",Tu=" +lon_0=-123.3333333333333",a0=" +towgs84=-168,-60,320,0,0,0,0",ni=" +lat_0=31",EM=" +towgs84=0.072,-0.507,-0.245,-0.0183,0.0003,-0.007,-0.0093",rs=" +x_0=150000",ks=" +x_0=3500000",zy=" +towgs84=213.11,9.37,-74.95,0,0,0,0",Du=" +lat_1=43.66666666666666",Ru=" +lat_0=40.33333333333334",l0=" +towgs84=-148,136,90,0,0,0,0",A0=" +towgs84=616,97,-251,0,0,0,0",Fi=" +lon_0=-90",As=" +x_0=250000",kh=" +x_0=914401.8288036576",Od=" +lon_0=-90.33333333333333",ro=" +a=6377276.345",Nc=" +b=6356103.038993155",Is=" +lat_0=40.5",ig=" +towgs84=-134,-48,149,0,0,0,0",JI=" +towgs84=25,-141,-78.5,0,0.35,0.736,0",Vd=" +lat_1=27.83333333333333",Hd=" +lat_2=26.16666666666667",zd=" +lat_2=40.71666666666667",Wd=" +lat_2=39.01666666666667",Jd=" +lat_2=37.21666666666667",Yd=" +lat_1=70.33333333333333",Zd=" +lat_0=68.68747555555557",IM=" +towgs84=-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68",Qu=" +y_0=304800.6096012192",ku=" +x_0=699999.9998983998",Lu=" +y_0=999999.9998983998",Ms=" +y_0=800000",Yi=" +k=0.99995",ur=" +lat_0=34.75",ji=" +lon_0=-81",Ls=" +lon_0=-100",Lh=" +b=6356098.145120132",vr="+proj=omerc",br=" +lon_0=-98.5",sB=" +towgs84=-103.746,-9.614,-255.95,0,0,0,0",Ns=" +x_0=800000",c0=" +lat_0=37.83333333333334",h0=" +lat_2=44.33333333333334",u0=" +lat_2=42.33333333333334",d0=" +lat_0=29.66666666666667",f0=" +lat_0=25.66666666666667",p0=" +lat_0=35.83333333333334",g0=" +lat_1=83.66666666666667",m0=" +lat_2=80.33333333333333",y0=" +lat_0=82.05842488888888",Pi=" +lat_0=38",Pr=" +x_0=2500000",Wy=" +towgs84=-377,681,-50,0,0,0,0",er="+proj=cass",Yr=" +y_0=2000000",Jy=" +towgs84=-143,-236,7,0,0,0,0",sg=" +lon_0=-110.1666666666667",rg=" +lon_0=-111.9166666666667",og=" +lon_0=-75.41666666666667",ag=" +lon_0=-82.16666666666667",lg=" +lon_0=-84.16666666666667",Ag=" +lon_0=-112.1666666666667",cg=" +lon_0=-88.83333333333333",hg=" +lon_0=-104.3333333333333",ug=" +lon_0=-107.8333333333333",dg=" +lon_0=-76.58333333333333",fg=" +lon_0=-78.58333333333333",pg=" +lon_0=-120.8333333333333",gg=" +lon_0=-88.33333333333333",mg=" +lon_0=-90.16666666666667",yg=" +lon_0=-85.66666666666667",xg=" +lon_0=-87.08333333333333",Cg=" +lon_0=-70.16666666666667",Eg=" +lon_0=-93.09999999999999",Ig=" +lon_0=-115.5833333333333",wg=" +lon_0=-116.6666666666667",_g=" +lon_0=-118.5833333333333",Bg=" +lon_0=-71.66666666666667",vg=" +lon_0=-105.1666666666667",bg=" +lon_0=-107.3333333333333",Mg=" +lon_0=-110.0833333333333",dr=" +lat_0=37.5",fr=" +y_0=700000",rB=" +towgs84=-242.2,-144.9,370.3,0,0,0,0",oo=" +x_0=4500000",ao=" +y_0=1500000",Pu=" +x_0=599999.9999976",rQ=" +towgs84=-275.722,94.7824,340.894,-8.001,-4.42,-11.821,1",Ps="+proj=aea",ga=" +y_0=-2500000",Sg=" +lat_2=38.96666666666667",Tg=" +lat_1=41.66666666666666",Dg=" +lat_1=39.83333333333334",Rg=" +lat_2=38.33333333333334",Qg=" +lat_2=37.06666666666667",kg=" +lat_0=35.33333333333334",Lg=" +lat_1=35.46666666666667",Pg=" +lat_2=34.03333333333333",Fg=" +lat_1=33.88333333333333",Ug=" +lat_2=32.78333333333333",Ng=" +lat_0=32.16666666666666",Gg=" +lat_2=37.23333333333333",Og=" +lat_1=41.86666666666667",Vg=" +lat_0=40.83333333333334",Hg=" +lat_2=29.58333333333333",zg=" +lat_2=41.71666666666667",Wg=" +lat_1=41.03333333333333",Jg=" +lat_2=40.66666666666666",Yg=" +lat_1=36.76666666666667",Zg=" +lat_0=33.33333333333334",Kg=" +lat_1=40.96666666666667",Xg=" +lat_2=39.93333333333333",jg=" +lat_0=31.83333333333333",qg=" +lat_0=31.66666666666667",$g=" +lat_0=27.83333333333333",t1=" +lat_2=36.76666666666667",e1=" +lat_0=45.33333333333334",n1=" +lat_0=45.16666666666666",i1=" +lat_1=36.23333333333333",s1=" +lat_2=34.93333333333333",r1=" +lat_1=34.76666666666667",o1=" +lat_0=32.66666666666666",a1=" +lat_1=43.26666666666667",l1=" +lat_2=42.06666666666667",A1=" +lat_2=40.61666666666667",c1=" +lat_1=39.78333333333333",h1=" +lat_2=38.71666666666667",u1=" +lat_1=38.56666666666667",d1=" +lat_2=37.26666666666667",f1=" +lat_0=41.08333333333334",p1=" +lat_0=42.33333333333334",Mr=" +y_0=100000",Kd=" +b=6356173.508712696",Io=" +y_0=5500000",Gs=" +lon_0=105",ka=" +y_0=-5000000",x0=" +k=0.9995000000000001",C0=" +k=0.9999749999999999",YI=" +towgs84=-160,-6,-302,0,0,0,0",ZI=" +towgs84=307,304,-318,0,0,0,0",Zo=" +lon_0=-82.5",wM=" +towgs84=70.995,-335.916,262.898,0,0,0,0",_M=" +towgs84=-304.046,-60.576,103.64,0,0,0,0",Zr=" +x_0=700000",Kr=" +x_0=213360",rl=" +lon_0=-85.75",ol=" +lon_0=-100.5",al=" +lon_0=-77.75",g1=" +x_0=999999.9999898402",BM=" +towgs84=-151.99,287.04,-147.45,0,0,0,0",nr=" +lon_0=129",E0=" +a=6378293.645208759",I0=" +b=6356617.987679838",ma=" +x_0=5500000",Yy=" +lat_1=40.78333333333333",Zy=" +lat_2=39.71666666666667",Ky=" +lat_1=37.93333333333333",Xy=" +lat_2=36.73333333333333",jy=" +lat_1=42.68333333333333",qy=" +lat_1=41.48333333333333",$y=" +lat_2=41.28333333333333",tx=" +lat_1=47.08333333333334",ex=" +lat_2=45.48333333333333",nx=" +lat_0=44.78333333333333",ix=" +lat_2=44.18333333333333",sx=" +lat_0=43.31666666666667",rx=" +lat_1=36.16666666666666",ox=" +lat_2=34.33333333333334",ax=" +lat_2=47.43333333333333",lx=" +lat_1=47.48333333333333",Ax=" +lat_2=46.18333333333333",cx=" +lat_2=35.56666666666667",hx=" +lat_1=35.23333333333333",ux=" +lat_2=33.93333333333333",dx=" +lat_2=40.88333333333333",fx=" +lat_1=34.83333333333334",px=" +lat_1=36.41666666666666",gx=" +lat_1=36.18333333333333",mx=" +lat_1=33.96666666666667",yx=" +lat_2=32.13333333333333",xx=" +lat_1=31.88333333333333",Cx=" +lat_2=30.11666666666667",Ex=" +lat_1=30.28333333333333",Ix=" +lat_2=28.38333333333333",wx=" +lat_2=38.03333333333333",_x=" +lat_1=47.33333333333334",Bx=" +lat_2=45.83333333333334",vx=" +lat_1=46.76666666666667",bx=" +lat_2=45.56666666666667",Mx=" +lat_1=44.06666666666667",Sx=" +lat_2=42.73333333333333",Tx=" +lat_1=32.66666666666666",Dx=" +lat_2=31.16666666666667",Rx=" +lat_1=48.63333333333333",Qx=" +lat_2=47.03333333333333",kx=" +lat_2=45.61666666666667",Lx=" +lat_1=45.21666666666667",Px=" +lat_2=43.78333333333333",Fx=" +lat_0=39.83333333333334",Ux=" +lat_2=40.43333333333333",Nx=" +lat_1=40.03333333333333",Gx=" +lat_2=38.73333333333333",Ox=" +lat_1=45.68333333333333",Vx=" +lat_2=44.41666666666666",Hx=" +lat_2=42.83333333333334",zx=" +lat_1=38.88333333333333",Wx=" +lat_2=37.48333333333333",Jx=" +lat_1=37.08333333333334",Yx=" +lat_2=38.66666666666666",fs=" +lat_0=58",pr=" +lon_0=-98",gr=" +lon_0=117",mr=" +lon_0=135",wo=" +lat_0=41.5",_o=" +lat_0=42.5",La=" +y_0=3000000",Sr=" +lon_0=123",Ss=" +lat_0=40",Ts=" +lat_0=54",cU=" +towgs84=-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188",hU=" +towgs84=565.417,50.3319,465.552,-0.398957,0.343988,-1.8774,4.0725",Fu=" +x_0=914401.8289",Uu=" +y_0=304800.6096",Fr=" +lon_0=111",Ph=" +k_0=0.99878641",KI=" +lon_0=-66.43333333333334",oB=" +towgs84=61,-285,-181,0,0,0,0",aB=" +towgs84=-133,-77,-51,0,0,0,0",lB=" +towgs84=-679,669,-48,0,0,0,0",ll=" +lon_0=-71.5",Al=" +lon_0=-78.5",cl=" +lon_0=-93.5",hl=" +lat_0=41.75",Zx=" +y_0=249999.9998983998",Kx=" +y_0=999999.9999898402",Xx=" +to_meter=1.0000135965",Gc=" +a=6377304.063",Os=" +lat_0=36",vM=" +towgs84=-79.9,-158,-168.9,0,0,0,0",bM=" +towgs84=-50.9,-347.6,-231,0,0,0,0",uU=" +towgs84=-106.869,52.2978,-103.724,0.3366,-0.457,1.8422,-1.2747",AB=" +towgs84=283,682,231,0,0,0,0",cB=" +towgs84=-206,172,-6,0,0,0,0",hB=" +towgs84=-92,-93,122,0,0,0,0",uB=" +to_meter=0.9143985307444408",qA="+proj=sterea",XI=" +lat_0=21.16666666666667",jI=" +lat_1=18.43333333333333",qI=" +lat_2=18.03333333333333",$I=" +lat_0=17.83333333333333",tw=" +gamma=323.1301023611111",Hl=" +lon_0=-79.5",zl=" +y_0=4500000",$A=" +x_0=31500000",m1=" +x_0=500000.0001504",y1=" +b=6356514.96582849",MM=" +towgs84=674.4,15.1,405.3,0,0,0,0",dU=" +towgs84=-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.7101",dB=" +towgs84=589,76,480,0,0,0,0",fB=" +towgs84=-263,6,431,0,0,0,0",ir=" +lon_0=15",sr=" +axis=wsu",rr=" +lon_0=21",or=" +lat_0=30",Fh=" +ellps=helmert",Uh=" +a=6377299.151",_A=" +lon_0=-74.5",jx=" +b=6356750.304921594",qx=" +y_0=2000000.0001016",$x=" +x_0=3500000.0001016",tC=" +y_0=399999.99998984",eC=" +x_0=200000.00001016",nC=" +b=6356098.359005156",Oc=" +x_0=14500000",Vc=" +x_0=29500000",SM=" +towgs84=-117,-132,-164,0,0,0,0",cs=" +zone=20",ul=" +lon_0=-122",Xd=" +ellps=bess_nam",pB=" +lon_0=-86.15000000000001",TM=" +towgs84=-189,-242,-91,0,0,0,0",DM=" +towgs84=-265,120,-358,0,0,0,0",fU=" +towgs84=-73.472,-51.66,-112.482,0.953,4.6,-2.368,0.586",oQ=" +towgs84=-17.51,-108.32,-62.39,0,0,0,0",aQ=" +towgs84=-10.18,-350.43,291.37,0,0,0,0",lQ=" +towgs84=-190.421,8.532,238.69,0,0,0,0",tc=" +lon_0=-68.5",iC=" +a=6377299.36559538",sC=" +x_0=79999.99999968",rC=" +x_0=50000.00001504",ws=" +lon_0=0",Ur=" +lon_0=27",Nr=" +lon_0=75",Gr=" +lon_0=81",Or=" +lon_0=93",Vr=" +lon_0=99",Wl=" +x_0=900000",Nh=" +x_0=13500000",Gh=" +x_0=20500000",Oh=" +x_0=22500000",RM=" +towgs84=-166,-15,204,0,0,0,0",QM=" +towgs84=-130,110,-13,0,0,0,0",AQ=" +towgs84=-587.8,519.75,145.76,0,0,0,0",gB=" +lat_2=83.66666666666667",mB=" +lat_0=85.43711833333333",cQ=" +towgs84=-273.5,110.6,-357.9,0,0,0,0",Xr=" +lon_0=87",BA="+proj=laea",kM=" +towgs84=-403,684,41,0,0,0,0",Hc=" +lon_0=-92.5",zc=" +y_0=6000000",Fs=" +zone=19",vA=" +lat_0=29.5",bA=" +y_0=300000",MA=" +lat_2=45.5",jd=" +k=0.999909091",qd=" +a=6377492.018",ew=" +b=6356751.689189189",nw=" +b=6356100.230165384",lo=" +lon_0=90",Ao=" +lat_0=90",Nu=" +x_0=18500000",Gu=" +x_0=19500000",Ou=" +x_0=15500000",Vu=" +x_0=16500000",Hu=" +x_0=21500000",zu=" +x_0=23500000",Wu=" +x_0=25500000",Ju=" +x_0=26500000",Yu=" +x_0=27500000",Zu=" +x_0=28500000",Vs=" +zone=18",Hs=" +zone=21",hQ=" +towgs84=-124.76,53,466.79,0,0,0,0",dl=" +lon_0=-92",Bo=" +lon_0=33",vo=" +lon_0=12",bo=" +lon_0=24",Mo=" +lat_2=77",ec=" +y_0=200000",Vh=" +lon_0=-70.5",Hh=" +x_0=7500000",zh=" +y_0=3500000",LM=" +towgs84=31,146,47,0,0,0,0",Ko=" +lat_0=45",Xo=" +lat_0=26",Jl=" +a=6378160",$d=" +lon_0=-109.5",tf=" +x_0=30500000",ef=" +x_0=32500000",PM=" +lon_0=-85.83333333333333",FM=" +lon_0=-118.3333333333333",UM=" +y_0=0.003048006096012192",Wc=" +lat_0=30.5",ya=" +lat_0=44",xa=" +lon_0=30",Ca=" +lat_0=47",Ea=" +lat_1=77",NM=" +lat_0=36.16666666666666",GM=" +lat_0=4.596200416666666",OM=" +gamma=53.13010236111111",VM=" +lon_0=13.33333333333333",HM=" +lat_0=81.31722600000001",zM=" +lat_0=73.15574086111111",WM=" +lat_0=65.10127088888888",Tr=" +zone=17",SA=" +lon_0=132",TA=" +lon_0=114",uQ=" +towgs84=-143,-90,-294,0,0,0,0",Hr=" +zone=22",Pa=" +lat_0=41",Wh=" +lat_0=46.5",Jh=" +lon_0=-118",Yh=" +y_0=400000",w0=" +x_0=17500000",_0=" +x_0=33500000",x1=" +lon_0=-113.75",C1=" +lon_0=-116.25",E1=" +lon_0=-115.75",I1=" +lon_0=-106.25",w1=" +k=0.999916667",_1=" +k=0.999964286",B1=" +lon_0=-108.75",dQ=" +towgs84=-73,-247,227,0,0,0,0",pU=" +towgs84=265.025,384.929,-194.046,0,0,0,0",nc=" +k=0.99998",nf=" +lat_1=40.65",sf=" +lat_1=38.35",rf=" +y_0=2500000",of=" +y_0=6500000",yB=" +x_0=39999.99999984",gU=" +towgs84=-61.702,284.488,472.052,0,0,0,0",mU=" +towgs84=-223.237,110.193,36.649,0,0,0,0",jr=" +zone=39",qr=" +zone=32",fQ=" +towgs84=-125,53,467,0,0,0,0",pQ=" +towgs84=198,881,317,0,0,0,0",gQ=" +towgs84=214,804,268,0,0,0,0",mQ=" +towgs84=217,823,299,0,0,0,0",fl=" +lon_0=45",pl=" +lat_1=43",Ku="+proj=merc",JM=" +x_0=99999.99998983997",YM=" +x_0=99999.99999960001",ZM=" +x_0=2743195.592233322",KM=" +y_0=914398.5307444407",co=" +zone=38",ho=" +zone=28",Xu=" +lon_0=-114",ju=" +lat_1=45.5",yQ=" +towgs84=-73,46,-86,0,0,0,0",xQ=" +towgs84=11,72,-101,0,0,0,0",yU=" +towgs84=287.58,177.78,-135.41,0,0,0,0",ZV=" +towgs84=-162.619,-276.959,-161.764,0.067753,-2.24365,-1.15883,-1.09425",Jc=" +lon_0=-87",Yc=" +lon_0=-99",Zc=" +lon_0=102",Kc=" +lon_0=126",Xc=" +k=0.99999",jc=" +x_0=50000",Yl=" +lat_2=40",v1=" +lon_0=-84.25",b1=" +x_0=11500000",M1=" +lon_0=-72.75",S1=" +lon_0=-101.5",T1=" +lon_0=-94.25",B0=" +x_0=6500000",v0=" +y_0=5000000",b0=" +x_0=1700000",xU=" +towgs84=31.95,300.99,419.19,0,0,0,0",KV=" +towgs84=-189.681,18.3463,-42.7695,-0.33746,-3.09264,2.53861,0.4598",XV=" +towgs84=-119.425,-303.659,-11.0006,1.1643,0.174458,1.09626,3.65706",jV=" +towgs84=982.609,552.753,-540.873,6.68163,-31.6115,-19.8482,16.805",jo=" +zone=29",qo=" +lon_0=9",$o=" +zone=33",ta=" +zone=37",ea=" +no_uoff",Zh=" +lon_0=120",Kh=" +lon_0=177",af=" +lon_0=-177",lf=" +lon_0=-158",Af=" +y_0=250000",cf=" +lon_0=-111",XM=" +x_0=2500000.0001424",jM=" +x_0=1500000.0001464",CQ=" +lon_0=-71.60561777777777",EQ=" +lon_0=-156.6666666666667",IQ=" +lon_0=-160.1666666666667",wQ=" +lat_0=0.1166666666666667",_Q=" +towgs84=0,0,0,-0,-0,-0,0",BQ=" +lon_0=-117.8333333333333",vQ=" +lon_0=-123.1666666666667",bQ=" +lon_0=-122.3333333333333",MQ=" +lon_0=-119.1666666666667",SQ=" +lon_0=-123.0833333333333",TQ=" +lon_0=-85.84999999999999",DQ=" +lon_0=-87.09999999999999",RQ=" +lon_0=-86.90000000000001",QQ=" +lon_0=-89.24166666666667",kQ=" +lon_0=-92.63333333333334",qV=" +towgs84=347.103,1078.12,2623.92,-33.8875,70.6773,-9.3943,186.074",$V=" +towgs84=8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926",tH=" +towgs84=-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7",eH=" +towgs84=-0.293,766.95,87.713,0.195704,1.69507,3.47302,-0.039338",nH=" +towgs84=221.525,152.948,176.768,-2.3847,-1.3896,-0.877,11.4741",iH=" +towgs84=215.525,149.593,176.229,-3.2624,-1.692,-1.1571,10.4773",Ia=" +zone=35",LQ=" +lat_0=46.95240555555556",PQ=" +alpha=30.28813972222222",FQ=" +lat_1=10.16666666666667",UQ=" +lat_0=10.16666666666667",NQ=" +lat_0=18.83333333333333",GQ=" +lat_0=20.33333333333333",OQ=" +lat_0=21.83333333333333",VQ=" +lat_0=21.66666666666667",HQ=" +lat_0=45.30916666666666",zQ=" +lat_1=49.83333333333334",WQ=" +lat_2=51.16666666666666",JQ=" +lonc=-133.6666666666667",YQ=" +alpha=323.1301023611111",ZQ=" +lat_1=53.83333333333334",KQ=" +lat_2=51.83333333333334",XQ=" +lat_1=44.66666666666666",jQ=" +lat_0=44.66666666666666",qQ=" +lat_1=45.66666666666666",$Q=" +lat_0=45.91666666666666",tk=" +lat_0=45.08333333333334",ek=" +lat_0=44.33333333333334",nk=" +lat_0=44.08333333333334",ik=" +lat_1=48.33333333333334",sk=" +lat_0=48.33333333333334",rk=" +lat_0=31.73409694444445",ok=" +lon_0=35.21208055555556",ak=" +lat_0=44.03611111111111",lk=" +lat_0=4.599047222222222",Ak=" +lat_0=40.66666666666666",ic=" +lat_1=49",sc=" +lon_0=39",D1=" +lat_1=37.25",R1=" +lat_1=39.75",Q1=" +lat_2=38.45",k1=" +lat_1=30.75",L1=" +lon_0=-84.5",P1=" +lat_0=33.75",F1=" +x_0=4000000",U1=" +y_0=4000000",N1=" +lon_0=-72.5",G1=" +x_0=5000000",oC=" +x_0=10500000",aC=" +x_0=12500000",lC=" +x_0=24500000",AC=" +k=0.99999375",qM=" +x_0=399999.9999984",qu=" +lon_0=-77",$u=" +lon_0=108",td=" +lon_0=171",sH=" +towgs84=-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925",M0=" +lon_0=-171",S0=" +lat_0=32.5",T0=" +lon_0=-117",D0=" +k=1.000015",R0=" +k=1.000034",Q0=" +k=1.000031",k0=" +k=1.000026",iw=" +ellps=evrstSS",sw=" +a=6377301.243",rH=" +towgs84=410.721,55.049,80.746,2.5779,2.3514,0.6664,17.3311",oH=" +towgs84=72.438,345.918,79.486,1.6045,0.8823,0.5565,1.3746",qc=" +pm=ferro",$c=" +lon_0=78",th=" +lon_0=10",eh=" +pm=paris",aH=" +towgs84=0.055,-0.541,-0.185,0.0183,-0.0003,-0.007,-0.014",lH=" +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489",AH=" +towgs84=8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081",cH=" +towgs84=572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378",gl=" +zone=58",ml=" +zone=23",ck=" +x_0=304800.6096012192",hk=" +y_0=152400.3048006096",uk=" +x_0=800000.0001016001",dk=" +x_0=399999.9998983998",fk=" +x_0=7999999.999968001",pk=" +x_0=5999999.999976001",gk=" +x_0=830000.0001016001",mk=" +x_0=249999.9998983998",yk=" +x_0=350000.0001016001",xk=" +to_meter=0.3047972654",Ck=" +x_0=99999.99989839978",Ek=" +y_0=8000000.000010163",Ik=" +x_0=699999.9999898402",hf=" +lon_0=-69",uf=" +lon_0=-86",CU=" +towgs84=-3.2,-5.7,2.8,0,0,0,0",cC=" +x_0=8500000",hC=" +x_0=9500000",uC=" +lat_1=39.45",dC=" +lat_0=44.25",fC=" +lat_1=41.95",pC=" +lat_2=35.25",gC=" +lat_2=34.65",mC=" +lat_2=44.25",yC=" +lat_1=47.05",xC=" +lat_1=40.25",CC=" +k_0=1.00012",EC=" +lat_0=40.25",Zl=" +zone=40",Kl=" +zone=36",Xl=" +zone=51",jl=" +zone=48",ql=" +zone=49",Xh=" +lon_0=96",O1=" +y_0=750000",V1=" +lat_0=36.5",H1=" +lon_0=-119",z1=" +lat_0=33.5",W1=" +lat_2=41.2",J1=" +k=0.999995",Y1=" +lat_2=33.3",Z1=" +lat_0=38.5",K1=" +lon_0=-154",X1=" +lon_0=-120",rw=" +x_0=34500000",ow=" +x_0=35500000",aw=" +x_0=36500000",lw=" +x_0=37500000",Aw=" +x_0=38500000",cw=" +x_0=39500000",hw=" +x_0=40500000",uw=" +x_0=41500000",dw=" +x_0=43500000",fw=" +x_0=45500000",wk=" +y_0=3999999.99998984",_k=" +y_0=2000000.00001016",EU=" +towgs84=164,138,-189,0,0,0,0",IU=" +towgs84=-186,230,110,0,0,0,0",wU=" +towgs84=-199,32,322,0,0,0,0",_U=" +to_meter=0.3047997101815088",BU=" +towgs84=-76,-138,67,0,0,0,0",vU=" +towgs84=-43,-163,45,0,0,0,0",bU=" +towgs84=-346,-1,224,0,0,0,0",MU=" +towgs84=210,814,289,0,0,0,0",SU=" +towgs84=-74,-130,42,0,0,0,0",DA=" +zone=15",RA=" +zone=16",QA=" +zone=34",kA=" +zone=50",LA=" +zone=52",L0=" +lon_0=-62",P0=" +lon_0=-84",F0=" +lon_0=-79",U0=" +lon_0=131",N0=" +lon_0=153",G0=" +lon_0=165",O0=" +lon_0=-94",V0=" +lon_0=-54",xB=" +a=6378300.789",CB=" +b=6356566.435",Bk=" +y_0=3999999.9998984",vk=" +y_0=5000000.0001016",bk=" +x_0=150000.00001464",ed=" +lat_2=46",nd=" +lon_0=84",id=" +lat_0=43",$M=" +k_0=0.999625769",TU=" +towgs84=51,391,-36,0,0,0,0",DU=" +towgs84=-83,37,124,0,0,0,0",RU=" +towgs84=-355,21,72,0,0,0,0",QU=" +towgs84=-23,259,-9,0,0,0,0",hH=" +towgs84=174.05,-25.49,112.57,-0,-0,0.554,0.2263",rc=" +zone=59",oc=" +zone=25",ac=" +zone=11",lc=" +zone=12",Ac=" +zone=13",cc=" +zone=54",hc=" +zone=14",uc=" +zone=24",dc=" +zone=47",IC=" +lat_2=38.3",wC=" +lat_1=45.7",_C=" +lat_2=42.1",BC=" +x_0=165000",vC=" +lat_2=32.5",bC=" +x_0=609600",MC=" +lat_1=39.2",SC=" +lat_2=47.5",TC=" +lat_1=30.7",DC=" +lat_2=29.3",RC=" +lat_0=28.5",QC=" +lat_1=41.7",kC=" +lat_1=44.4",LC=" +lat_1=27.5",PC=" +lon_0=-150",FC=" +lat_0=44.5",UC=" +k=1.000027",NC=" +k=1.000038",GC=" +k=1.000036",pw=" +lon_0=-87.5",Mk=" +x_0=3999999.999984",Sk=" +x_0=199999.9999992",kU=" +towgs84=16,196,93,0,0,0,0",LU=" +towgs84=-88,4,101,0,0,0,0",df=" +lat_0=18",ff=" +lat_2=67",j1=" +lon_0=-96",q1=" +x_0=80000",$1=" +lon_0=-82",tm=" +lon_0=-74",em=" +lon_0=147",nm=" +lon_0=150",im=" +x_0=40000",sm=" +k=1.00002",EB=" +x_0=42500000",IB=" +x_0=44500000",wB=" +lon_0=-85.05",tS=" +ellps=mod_airy",PU=" +lat_0=0.1333333333333333",FU=" +lat_1=-60.66666666666666",UU=" +lat_2=-63.33333333333334",NU=" +lon_0=-91.91666666666667",GU=" +y_0=0.003352806705613411",nh=" +zone=30",ih=" +lon_0=3",sh=" +zone=26",rh=" +zone=53",OU=" +lat_0=31.73439361111111",VU=" +lon_0=35.20451694444445",HU=" +lon_0=7.439583333333333",zU=" +lon_0=132.1666666666667",WU=" +lon_0=134.3333333333333",JU=" +lon_0=137.1666666666667",YU=" +lon_0=139.8333333333333",ZU=" +lon_0=140.8333333333333",KU=" +lon_0=3.192280555555556",XU=" +lat_1=49.50000000000001",jU=" +lat_0=49.50000000000001",qU=" +alpha=53.31582047222222",$U=" +lon_0=10.33333333333333",tN=" +lon_0=16.33333333333333",uH=" +towgs84=-502.862,-247.438,312.724,0,0,0,0",dH=" +towgs84=-381.788,-57.501,-256.673,0,0,0,0",fH=" +towgs84=-43.685,-179.785,-267.721,0,0,0,0",jh=" +zone=60",qh=" +zone=55",H0=" +lon_0=36",z0=" +lon_0=42",W0=" +lat_1=46",J0=" +lat_1=44",Y0=" +lat_0=42",Z0=" +lon_0=51",K0=" +lat_0=33",X0=" +lat_0=52",gw=" +ellps=airy",mw=" +pm=jakarta",eS=" +x_0=2743195.5",Tk=" +y_0=-4354009.816",eN=" +k_0=0.9987864078000001",pH=" +towgs84=-106.226,166.366,-37.893,0,0,0,0",gH=" +towgs84=508.088,-191.042,565.223,0,0,0,0",OC=" +k=0.99996",VC=" +a=6378135",HC=" +lon_0=-66",zC=" +lon_0=141",WC=" +lon_0=159",JC=" +k=0.99984",YC=" +lat_0=-22",_B=" +lon_0=127.5",BB=" +x_0=6000000",vB=" +x_0=3900000",bB=" +y_0=1300000",MB=" +lat_0=44.75",SB=" +lat_0=37.75",TB=" +lat_0=40.55",DB=" +lon_0=-87.3",RB=" +lon_0=-86.5",mH=" +towgs84=195.671,332.517,274.607,0,0,0,0",yH=" +towgs84=-204.619,140.176,55.226,0,0,0,0",nS="+proj=somerc",nN=" +y_0=30480.06096012192",iN=" +y_0=999999.9999960001",sN=" +x_0=182880.3657607315",xH=" +towgs84=674.374,15.056,405.346,0,0,0,0",CH=" +towgs84=-133.63,-157.5,-158.62,0,0,0,0",EH=" +towgs84=-0.465,372.095,171.736,0,0,0,0",IH=" +towgs84=-56.263,16.136,-22.856,0,0,0,0",wH=" +towgs84=-241.54,-163.64,396.06,0,0,0,0",sd=" +zone=31",rd=" +zone=10",od=" +zone=46",Dk=" +x_0=304800.6096",Rk=" +y_0=152400.3048",Qk=" +alpha=337.25556",kk=" +x_0=2546731.496",Lk=" +gamma=337.25556",Pk=" +k_0=0.999625544",_H=" +towgs84=335.47,222.58,-230.94,0,0,0,0",BH=" +towgs84=217.037,86.959,23.956,0,0,0,0",vH=" +towgs84=-128.16,-282.42,21.93,0,0,0,0",bH=" +towgs84=103.25,-100.4,-307.19,0,0,0,0",rm=" +lon_0=31",om=" +lon_0=18",am=" +lat_2=36",lm=" +lat_0=29",Am=" +lat_0=35",cm=" +lat_0=34",hm=" +lon_0=63",um=" +lat_0=37",dm=" +lat_2=65",iS=" +y_0=-4000000",sS=" +y_0=914398.5",MH=" +towgs84=-199.87,74.79,246.62,0,0,0,0",SH=" +towgs84=-11.64,-348.6,291.98,0,0,0,0",TH=" +towgs84=-254.1,-5.36,-100.29,0,0,0,0",DH=" +towgs84=-206.1,-174.7,-87.7,0,0,0,0",RH=" +towgs84=-770.1,158.4,-498.2,0,0,0,0",QH=" +towgs84=-146.21,112.63,4.05,0,0,0,0",kH=" +towgs84=-294.7,-200.1,525.5,0,0,0,0",pf=" +lat_0=4",yw=" +a=6378300",xw=" +lon_0=-63",Cw=" +lon_0=162",Ew=" +lat_ts=90",QB=" +y_0=600000",kB=" +x_0=350000",LB=" +y_0=900000",PB=" +lat_1=32.5",FB=" +lon_0=-147",UB=" +k=1.000043",NB=" +lat_0=48.5",GB=" +lat_0=40.9",OB=" +k=1.000028",VB=" +k=1.000025",Fk=" +x_0=170251.555",rN=" +b=6356657.142669561",oN=" +b=6356094.667915204",aN=" +b=6355862.933255573",lN=" +a=6378249.144808011",AN=" +b=6356514.966204134",LH=" +towgs84=-70.9,-151.8,-41.4,0,0,0,0",PH=" +towgs84=52.17,-71.82,-14.9,0,0,0,0",FH=" +towgs84=283.7,735.9,261.1,0,0,0,0",fc=" +zone=5",pc=" +zone=7",ZC=" +lon_0=19",KC=" +lon_0=25",XC=" +lat_2=45",jC=" +lon_0=57",qC=" +lon_0=69",$C=" +lat_2=39",tE=" +lat_2=35",eE=" +lon_0=28",rS=" +lon_0=-61.5",oS=" +lon_0=-64.5",aS=" +lon_0=-90.5",lS=" +lon_0=-94.5",AS=" +y_0=2800000",cS=" +x_0=4321000",hS=" +y_0=3210000",uS=" +y_0=14743.5",cN=" +y_0=1999999.999992",hN=" +y_0=2999999.999988",uN=" +y_0=50000.00001504",j0=" +zone=41",q0=" +zone=42",$0=" +k=0.994",tp=" +zone=56",Uk=" +lon_0=-67.875",Nk=" +lon_0=-70.375",Gk=" +x_0=609601.22",Ok=" +b=6356889.449",Vk=" +lon_0=-69.125",Hk=" +lon_0=-121.75",zk=" +lon_0=-121.25",Wk=" +lon_0=-119.75",Jk=" +lon_0=-122.75",oh=" +zone=6",Yk="+proj=krovak",UH=" +towgs84=-637,-549,-203,0,0,0,0",NH=" +towgs84=-20.8,11.3,2.4,0,0,0,0",HB=" +lon_0=-93",zB=" +lon_0=127",WB=" +lon_0=125",JB=" +k=0.99975",YB=" +lon_0=136",ZB=" +lon_0=138",KB=" +lon_0=180",XB=" +y_0=50000",jB=" +lon_0=-85",qB=" +k=1.00016",$B=" +lon_0=2.7",GH=" +towgs84=27.5,14,186.4,0,0,0,0",OH=" +towgs84=-499,-249,314,0,0,0,0",VH=" +towgs84=-467,-16,-300,0,0,0,0",HH=" +towgs84=-382,-59,-262,0,0,0,0",zH=" +towgs84=253,-132,-127,0,0,0,0",WH=" +towgs84=-963,510,-359,0,0,0,0",JH=" +towgs84=94,-948,-1262,0,0,0,0",$h=" +zone=1",fm=" +zone=27",pm=" +zone=57",gm=" +pm=oslo",mm=" +zone=43",Iw=" +lon_0=23",ww=" +lon_0=48",_w=" +lon_0=54",dS=" +lat_0=49.5",fS=" +k=0.999912",pS=" +lon_0=-174",gS=" +lon_0=-168",mS=" +lon_0=-170",yS=" +lon_0=-165",xS=" +lat_2=40.5",CS=" +lon_0=-115",ES=" +lat_1=29.5",IS=" +k=1.000045",wS=" +lat_1=39.5",_S=" +lat_1=33.3",BS=" +lat_0=33.3",Zk=" +lon_0=-155.5",Kk=" +lon_0=-159.5",Xk=" +y_0=-4480000",jk=" +lon_0=-176.5",qk=" +lon_0=-89.75",$k=" +k_0=1.000008",tL=" +lonc=-124.05",eL=" +k_0=1.000002",nL=" +lon_0=-122.5",iL=" +lon_0=-98.25",sL=" +lon_0=-112.5",rL=" +lon_0=-84.95",oL=" +lon_0=-86.95",aL=" +lon_0=-85.45",lL=" +lon_0=-87.45",AL=" +lon_0=-87.55",YH=" +towgs84=-149,128,296,0,0,0,0",ZH=" +towgs84=-425,-169,81,0,0,0,0",KH=" +towgs84=-104,167,-38,0,0,0,0",XH=" +towgs84=-106,-87,188,0,0,0,0",jH=" +towgs84=-289,-124,60,0,0,0,0",qH=" +towgs84=137,248,-430,0,0,0,0",$H=" +towgs84=-13,-348,292,0,0,0,0",tz=" +towgs84=-115,118,426,0,0,0,0",ez=" +towgs84=0,-0.15,0.68,0,0,0,0",nz=" +towgs84=145,-187,103,0,0,0,0",iz=" +towgs84=-134,229,-29,0,0,0,0",sz=" +towgs84=70,207,389.5,0,0,0,0",rz=" +towgs84=-148,51,-291,0,0,0,0",oz=" +towgs84=-255,-15,71,0,0,0,0",az=" +towgs84=725,685,536,0,0,0,0",lz=" +towgs84=72,213.7,93,0,0,0,0",Az=" +towgs84=174,359,365,0,0,0,0",cz=" +towgs84=-173,253,27,0,0,0,0",hz=" +towgs84=-203,141,53,0,0,0,0",uz=" +towgs84=186,482,151,0,0,0,0",dz=" +towgs84=162,117,154,0,0,0,0",fz=" +towgs84=-73,213,296,0,0,0,0",pz=" +towgs84=-130,29,364,0,0,0,0",gz=" +towgs84=-10,375,165,0,0,0,0",mz=" +towgs84=175,-38,113,0,0,0,0",yz=" +to_meter=0.9143984146160287",ad=" +zone=2",ld=" +zone=8",Ad=" +zone=9",cd=" +zone=4",xz=" +towgs84=30,430,368,0,0,0,0",Cz=" +towgs84=185,165,42,0,0,0,0",Ez=" +towgs84=-97,787,86,0,0,0,0",Iz=" +towgs84=639,405,60,0,0,0,0",nE=" +zone=44",iE=" +zone=45",cL=" +lon_0=-58.5",hL=" +lon_0=-67.5",uL=" +lon_0=-73.5",dL=" +lon_0=-76.5",fL=" +y_0=1200000",pL=" +lon_0=133.5",gL=" +x_0=8000000",mL=" +y_0=8000000",yL=" +k=0.9998335",xL=" +lon_0=-85.5",CL=" +x_0=7000000",EL=" +lat_0=43.75",IL=" +lat_0=43.25",wL=" +lat_0=45.25",_L=" +lon_0=-86.3",BL=" +lat_0=38.15",vL=" +lat_0=39.15",bL=" +lat_0=41.25",ML=" +lat_0=40.65",SL=" +lat_0=39.25",TL=" +lat_0=40.35",DL=" +lon_0=-85.8",wz=" +towgs84=9,183,236,0,0,0,0",_z=" +towgs84=-48,55,52,0,0,0,0",Bz=" +towgs84=84,274,65,0,0,0,0",tv=" +lon_0=17",ev=" +lat_1=60",nv=" +k=0.9998",iv=" +lon_0=66",sv=" +lon_0=20",rv=" +lon_0=26",ov=" +lat_0=51",av=" +lat_1=87",lv=" +lat_1=26",vS=" +lon_0=144",bS=" +lon_0=168",MS=" +lon_0=174",SS=" +lon_0=-72",TS=" +lon_0=-75",DS=" +lon_0=-60",RS=" +lon_0=-39",RL="+proj=poly",dN=" +x_0=219529.584",fN=" +a=6378306.3696",vz=" +lon_0=-61.33333333333334",bz=" +lon_0=-91.86666666666666",Mz=" +lon_0=-8.131906111111112",Sz=" +lon_0=-83.66666666666667",Tz=" +lon_0=-108.4166666666667",Dz=" +lon_0=-108.3333333333333",Rz=" +lon_0=-85.40000000000001",Qz=" +lon_0=-86.65000000000001",kz=" +lon_0=-86.40000000000001",Lz=" +lon_0=-85.59999999999999",Pz=" +lon_0=-87.15000000000001",Fz=" +lon_0=-86.59999999999999",Uz=" +lon_0=-84.90000000000001",Nz=" +lon_0=-85.65000000000001",Gz=" +lon_0=-87.65000000000001",Oz=" +lon_0=-85.34999999999999",Vz=" +lon_0=-87.40000000000001",Hz=" +lon_0=-87.34999999999999",zz=" +lon_0=-85.90000000000001",Wz=" +lon_0=-90.62222222222222",Jz=" +lon_0=-91.84999999999999",Yz=" +lon_0=-91.15277777777779",Zz=" +lon_0=-91.79722222222222",Kz=" +lon_0=-92.45777777777778",Xz=" +lon_0=-91.29444444444444",jz=" +lon_0=-90.70833333333334",qz=" +lon_0=-89.39444444444445",$z=" +lon_0=-89.42222222222223",tW=" +lon_0=-88.77500000000001",eW=" +lon_0=-87.27222222222223",nW=" +lon_0=-91.89444444444445",iW=" +lon_0=-91.28888888888889",sW=" +lon_0=-88.14166666666668",rW=" +lon_0=-88.63333333333334",oW=" +lon_0=-89.83888888888889",aW=" +lon_0=-90.16111111111111",lW=" +lon_0=-90.25555555555556",AW=" +lon_0=-90.84429651944444",cW=" +lon_0=-87.89444444444445",hW=" +lon_0=-91.31666666666666",uW=" +lon_0=-89.03333333333333",dW=" +lon_0=-89.73333333333333",fW=" +lon_0=-87.71111111111111",pW=" +lon_0=-88.41666666666667",gW=" +lon_0=-90.64166666666668",mW=" +lon_0=-87.90833333333335",yW=" +lon_0=-89.54444444444444",xW=" +lon_0=-92.22777777777777",CW=" +lon_0=-90.48888888888889",EW=" +lon_0=-90.43055555555556",IW=" +lon_0=-89.07222222222222",wW=" +lon_0=-91.06666666666666",_W=" +lon_0=-89.90000000000001",BW=" +lon_0=-91.11666666666666",vW=" +lon_0=-88.60555555555555",bW=" +lon_0=-90.48333333333333",MW=" +lon_0=-91.36666666666666",SW=" +lon_0=-90.78333333333333",TW=" +lon_0=-89.48888888888889",DW=" +lon_0=-88.54166666666667",RW=" +lon_0=-91.78333333333333",QW=" +lon_0=-88.06388888888888",kW=" +lon_0=-88.22499999999999",LW=" +lon_0=-88.81666666666666",PW=" +y_0=0.004876809753619507",FW=" +y_0=0.008534417068834137",UW=" +y_0=0.003962407924815849",NW=" +y_0=0.005791211582423164",GW=" +lon_0=-55.68333333333333",OW=" +to_meter=0.201166195164",VW=" +lat_0=4.666666666666667",HW=" +lat_0=6.666666666666667",zW=" +lon_0=6.166666666666667",WW=" +lat_0=10.44166666666667",JW=" +lat_0=22.31213333333334",YW=" +lon_0=114.1785555555556",ZW=" +lon_0=51.21666666666667",KW=" +lon_0=11.30827777777778",XW=" +lon_0=13.55827777777778",jW=" +lon_0=15.80827777777778",qW=" +lon_0=18.05827777777778",$W=" +lon_0=20.30827777777778",tJ=" +lon_0=22.55827777777778",eJ=" +lat_1=27.41666666666667",nJ=" +lat_2=34.91666666666666",iJ=" +lat_0=31.16666666666667",sJ=" +lat_1=59.33333333333334",rJ=" +lat_0=57.51755393055556",oJ=" +lon_0=4.359215833333333",aJ=" +lat_1=61.66666666666666",lJ=" +lat_0=29.02626833333333",AJ=" +lat_1=48.66666666666666",cJ=" +lat_2=53.66666666666666",hJ=" +lon_0=127.0028902777778",uJ=" +lon_0=89.84999999999999",dJ=" +lon_0=91.56666666666666",fJ=" +lon_0=24.83333333333333",pJ=" +lat_2=63.66666666666666",gJ=" +lat_0=65.35103930555555",mJ=" +lat_1=63.66666666666666",yJ=" +lat_2=60.33333333333334",xJ=" +lat_0=62.01530688888889",CJ=" +lat_1=45.78333333333333",EJ=" +lat_0=45.78333333333333",IJ=" +lat_0=42.66666666666666",wJ=" +lat_0=43.36666666666667",_J=" +lat_0=45.70611111111111",BJ=" +lat_0=45.13333333333333",vJ=" +lat_1=46.66964837722222",bJ=" +lat_0=46.66964837722222",MJ=" +lat_0=43.48138888888889",SJ=" +lat_1=45.89871486583333",TJ=" +lat_0=45.89871486583333",DJ=" +lat_0=42.71944444444445",RJ=" +lat_1=44.97785689861112",QJ=" +lat_0=44.97785689861112",kJ=" +lat_1=43.46254664583333",LJ=" +lat_0=43.46254664583333",PJ=" +lon_0=-90.9388888888889",FJ=" +lat_0=41.47222222222222",UJ=" +lat_0=45.88333333333333",NJ=" +lat_0=44.40833333333333",GJ=" +lat_1=44.87228112638889",OJ=" +lat_0=44.87228112638889",VJ=" +lat_0=45.43888888888888",HJ=" +lat_0=44.00555555555555",zJ=" +lat_0=41.41111111111111",WJ=" +lat_1=42.63756227694444",JJ=" +lat_0=42.63756227694444",YJ=" +lat_1=43.80700011777778",ZJ=" +lat_0=43.80700011777778",KJ=" +lat_0=42.53888888888888",XJ=" +lat_0=45.43333333333333",jJ=" +lat_0=44.25333512777778",qJ=" +lat_0=42.21666666666667",$J=" +lat_0=43.26666666666667",tY=" +lat_0=43.45111111111111",eY=" +lat_1=45.15423710527778",nY=" +lat_0=45.15423710527778",iY=" +lat_0=44.84444444444445",sY=" +lat_1=44.90090442361111",rY=" +lat_0=44.90090442361111",oY=" +lat_0=44.69166666666666",aY=" +lat_0=44.71666666666667",lY=" +lat_1=44.00007392861111",AY=" +lat_0=44.00007392861111",cY=" +lat_0=44.39722222222222",hY=" +lat_1=45.70422377027778",uY=" +lat_0=45.70422377027778",dY=" +lat_1=44.63614887194444",fY=" +lat_0=44.63614887194444",pY=" +lat_0=44.66111111111111",gY=" +lat_1=44.41682397527777",mY=" +lat_0=44.41682397527777",yY=" +lat_0=44.55555555555555",xY=" +lat_0=41.94444444444444",CY=" +lat_0=43.91944444444444",EY=" +lat_0=42.81944444444445",IY=" +lat_1=45.90009913138888",wY=" +lat_0=45.90009913138888",_Y=" +lat_1=45.17782208583333",BY=" +lat_0=45.17782208583333",vY=" +lat_0=43.16111111111111",bY=" +lat_1=43.57503293972223",MY=" +lat_0=43.57503293972223",SY=" +lat_1=46.07784409055556",TY=" +lat_0=46.07784409055556",DY=" +lat_1=42.66946209694444",RY=" +lat_0=42.66946209694444",QY=" +lat_1=45.96121983333334",kY=" +lat_0=45.96121983333334",LY=" +lat_0=42.91805555555555",PY=" +lat_0=42.56944444444445",FY=" +lat_0=43.42027777777778",UY=" +lat_1=44.11394404583334",NY=" +lat_0=44.11394404583334",GY=" +lat_1=44.36259546944444",OY=" +lat_0=44.36259546944444",VY=" +lat_1=44.10000000000001",HY=" +lat_0=44.10000000000001",zY=" +lat_1=42.16500000000001",WY=" +lat_0=42.16500000000001",JY=" +lat_0=52.15616055555555",YY=" +lat_2=48.73333333333333",ep=" +zone=3",QL=" +lat_0=53.5",kL=" +k=0.999923",LL=" +x_0=850000",PL=" +x_0=830000",FL=" +lon_0=16.5",UL=" +x_0=520000",NL=" +lat_2=31.5",OL=" +lon_0=10.5",VL=" +lat_1=44.5",HL=" +lon_0=-153",zL=" +lon_0=-135",WL=" +x_0=750000",JL=" +lat_0=43.5",YL=" +lon_0=-142",ZL=" +lon_0=-146",KL=" +lon_0=-162",XL=" +lon_0=-166",jL=" +lon_0=-176",qL=" +lat_2=39.5",$L=" +lon_0=-129",t5=" +k_0=1.0002",e5=" +k=1.000023",n5=" +lon_0=-121",i5=" +k=1.000175",s5=" +lat_0=45.5",r5=" +k=1.000155",o5=" +lat_2=37.5",a5=" +lat_1=48.5",l5=" +k=1.000029",A5=" +lat_0=39.6",c5=" +k=1.000013",h5=" +k=1.000022",u5=" +lat_0=40.7",d5=" +lat_0=39.3",f5=" +lat_0=37.8",p5=" +lat_0=38.9",g5=" +lon_0=-5.4",pN=" +y_0=626907.39",gN=" +b=6356571.996",mN=" +a=6377295.664",ZY=" +lon_0=5.38763888888889",KY=" +y_0=-4600000.00001208",XY=" +y_0=1889763.779527559",jY=" +y_0=99999.99999960001",qY=" +x_0=120091.4401828804",QS=" +lon_0=72",kS=" +lat_0=50",LS=" +lat_1=50",PS=" +lat_1=35",FS=" +lon_0=22",US=" +lat_1=34",NS=" +lonc=115",GS=" +lat_0=-9",OS=" +lat_0=23",VS=" +lat_1=85",HS=" +lat_2=69",zS=" +lat_1=69",WS=" +lat_2=61",JS=" +lon_0=34",yN=" +lon_0=140.25",xN=" +lon_0=142.25",CN=" +lon_0=144.25",EN=" +x_0=47500000",IN=" +y_0=-3000000",$Y=" +pm=2.337208333333333",tZ=" +x_0=7000000.00000248",Av=" +lon_0=6",cv=" +k=0.997",m5=" +lon_0=106",y5=" +lon_0=154",x5=" +lon_0=156",C5=" +lat_2=-36",E5=" +lon_0=119",I5=" +lon_0=121",w5=" +lon_0=166",_5=" +a=6371228",B5=" +b=6371228",v5=" +a=6378273",b5=" +lat_0=-44",M5=" +pm=lisbon",S5=" +lon_0=-57",T5=" +lon_0=-56",D5=" +k=1.00007",R5=" +lonc=-123",Q5=" +alpha=295",k5=" +gamma=295",L5=" +k=1.00011",P5=" +k=1.00005",F5=" +k=1.00013",U5=" +x_0=30000",N5=" +k=1.00001",G5=" +k=1.00003",eZ=" +y_0=130000.00001472",nZ=" +x_0=119999.99999952",iZ=" +y_0=-2999999.999988",sZ=" +x_0=-299999.9999988",rZ=" +lat_1=43.0695160375",oZ=" +lat_0=43.0695160375",aZ=" +lat_1=43.3223129275",lZ=" +lat_0=43.3223129275",wN=" +k=1.0000067",_N=" +a=6378298.3",BN=" +lon_0=-66.5",vN=" +lon_0=129.5",bN=" +lon_0=138.5",MN=" +x_0=2300000",SN=" +x_0=3300000",TN=" +x_0=4300000",DN=" +y_0=7500000",RN=" +lonc=102.25",QN=" +y_0=1166200",kN=" +x_0=3000000",LN=" +lat_1=46.25",PN=" +ellps=WGS66",FN=" +ellps=GRS67",UN=" +lat_1=34.65",AZ=" +y_0=59999.99999976",cZ=" +y_0=30000.00001512",hZ=" +x_0=59999.99999976",uZ=" +x_0=30000.00001512",dZ=" +lat_1=43.200055605",fZ=" +lat_0=43.200055605",pZ=" +y_0=65379.0134283",gZ=" +alpha=323.0257905",mZ=" +alpha=53.31580995",yZ=" +x_0=10000.0000152";var qq=[2e3,x+R+L0+x0+sn+y+_e+A+s,1,x+R+L0+x0+sn+y+_e+oz+A+s,1,x+R+L0+x0+sn+y+_e+az+A+s,1,x+R+L0+x0+sn+y+_e+lz+A+s,1,x+R+L0+x0+sn+y+_e+Az+A+s,1,x+R+L0+x0+sn+y+_e+wz+A+s,1,x+R+L0+x0+sn+y+_e+YH+A+s,1,x+R+L0+x0+sn+y+_e+mH+A+s,2,x+R+cL+yt+Hn+y+Ke+A+s,1,x+R+rS+yt+Hn+y+Ke+A+s,1,x+R+oS+yt+Hn+y+Ke+A+s,1,x+R+hL+yt+Hn+y+Ke+A+s,1,x+R+Vh+yt+Hn+y+Ke+A+s,1,x+R+uL+yt+Hn+y+Ke+A+s,1,x+R+dL+yt+Hn+y+Ke+A+s,1,x+R+Hl+yt+Hn+y+Ke+A+s,1,x+R+uL+yt+Hn+y+Ke+A+s,1,x+R+dL+yt+Hn+y+Ke+A+s,1,x+R+Hl+yt+Hn+y+Ke+A+s,1,x+R+Zo+yt+Hn+y+Ke+A+s,1,x+R+ji+yt+Hn+y+Ke+A+s,1,x+R+P0+yt+Hn+y+Ke+A+s,1,x+R+Jc+yt+Hn+y+Ke+A+s,1,x+R+Fi+yt+Hn+y+Ke+A+s,1,x+R+HB+yt+Hn+y+Ke+A+s,1,x+R+j1+yt+Hn+y+Ke+A+s,1,U+DA+Ke+A+s,1,U+RA+Ke+A+s,1,U+Tr+Ke+A+s,1,U+Vs+Ke+A+s,1,U+Tr+Ke+A+s,1,U+Vs+Ke+A+s,1,U+Fs+Ke+A+s,1,U+cs+Ke+A+s,1,U+Hs+Ke+A+s,4,x+OU+VU+wN+dN+pN+g+_z+A+s,1,U+nh+_e+fQ+A+s,1,U+nh+_e+hQ+A+s,1,U+jo+_e+fQ+A+s,1,U+jo+_e+hQ+A+s,1,x+R+Gs+" +k=1"+Nu+y+$+oQ+A+s,1,x+R+Fr+" +k=1"+Gu+y+$+oQ+A+s,1,x+R+ir+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+tv+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+ZC+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+rr+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+Iw+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+KC+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+Ur+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+" +lon_0=29 +k=1"+It+y+sr+Oe+v+A+s,1,x+R+rm+" +k=1"+It+y+sr+Oe+v+A+s,1,x+R+Bo+" +k=1"+It+y+sr+Oe+v+A+s,1,nS+LQ+HU+" +k_0=1 +x_0=2600000"+fL+te+xH+A+s,1,vr+" +lat_0=27.51882880555555 +lonc=52.60353916666667 +alpha=0.5716611944444444 +k=0.999895934 +x_0=658377.437 +y_0=3044969.194 +gamma=0.5716611944444444"+ft+CH+A+s,1,U+co+ft+SM+A+s,1,U+jr+ft+SM+A+s,1,U+Zl+ft+SM+A+s,1,U+j0+ft+SM+A+s,1,L+" +lat_1=40"+Ss+ws+" +k_0=0.9988085293"+$t+QB+_N+rN+" +pm=madrid"+A+s,3,Yk+dS+" +lon_0=42.5"+PQ+yt+It+y+te+dB+qc+A+s,1,er+" +lat_0=11.25217861111111 +lon_0=-60.68600888888889 +x_0=37718.66159325 +y_0=36209.91512952"+E0+I0+OW+s,1,U+cs+ft+EH+A+s,1,x+R+qo+yt+ye+y+ft+YA+A+s,1,x+R+" +lon_0=11"+yt+ye+y+ft+YA+A+s,1,x+R+" +lon_0=13"+yt+ye+y+ft+YA+A+s,1,x+R+ir+yt+ye+y+ft+YA+A+s,1,x+R+tv+yt+ye+y+ft+YA+A+s,1,x+R+ZC+yt+ye+y+ft+YA+A+s,1,x+R+rr+yt+ye+y+ft+YA+A+s,1,x+R+Iw+yt+ye+y+ft+YA+A+s,1,x+R+KC+yt+ye+y+ft+YA+A+s,1,U+qr+ft+YA+A+s,1,U+$o+ft+YA+A+s,1,U+QA+ft+YA+A+s,1,U+Ia+ft+YA+A+s,1,x+de+hf+" +k=1"+Pr+y+ft+A+s,1,x+de+hf+" +k=1"+Pr+y+ft+GH+A+s,1,x+de+hf+" +k=1"+Pr+y+ft+kU+A+s,1,U+Fs+dt+ft+kU+A+s,3,x+R+vo+Ve+tt+y+ft+YA+A+s,1,x+R+" +lon_0=11"+Ve+tt+y+Xn+ei+fB+A+s,1,U+co+Oe+v+A+s,1,U+jr+Oe+v+A+s,3,x+R+m5+" +k=1"+tt+y+$+oQ+A+s,1,x+R+m5+Ve+tt+y+Lt+Ce+A+s,1,U+ho+ft+cz+A+s,1,x+Pi+nr+" +k=1"+ye+Yn+te+A+s,1,x+Pi+zB+" +k=1"+ye+Yn+te+A+s,1,x+Pi+WB+" +k=1"+ye+Yn+te+A+s,1,er+" +lat_0=25.38236111111111 +lon_0=50.76138888888889"+Li+Mr+Fh+A+s,1,x+R+bo+Ve+tt+y+g+MH+A+s,1,L+FQ+UQ+CQ+" +k_0=1"+It+" +y_0=-52684.972"+ft+A+s,1,L+FQ+UQ+CQ+" +k_0=1"+ye+" +y_0=147315.028"+ft+A+s,1,L+FQ+UQ+CQ+" +k_0=1"+tt+" +y_0=447315.028"+ft+A+s,1,L+FQ+UQ+CQ+" +k_0=1 +x_0=-17044 +y_0=-23139.97"+ft+A+s,1,x+" +lat_0=-36.87972222222222 +lon_0=174.7641666666667"+yt+sn+Ms+g+v+A+s,1,x+" +lat_0=-37.76111111111111 +lon_0=176.4661111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-38.62444444444444 +lon_0=177.8855555555556 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-39.65083333333333 +lon_0=176.6736111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-39.13555555555556 +lon_0=174.2277777777778 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-39.51222222222222 +lon_0=175.64 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-40.24194444444444 +lon_0=175.4880555555555 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-40.92527777777777 +lon_0=175.6472222222222 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-41.3011111111111 +lon_0=174.7763888888889 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-40.71472222222223 +lon_0=172.6719444444444 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-41.27444444444444 +lon_0=173.2991666666667 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-41.28972222222222 +lon_0=172.1088888888889 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-41.81055555555555 +lon_0=171.5811111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-42.33361111111111 +lon_0=171.5497222222222 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-42.68888888888888 +lon_0=173.01 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-41.54444444444444 +lon_0=173.8019444444444 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-42.88611111111111 +lon_0=170.9797222222222 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-43.11 +lon_0=170.2608333333333 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-43.97777777777778 +lon_0=168.6061111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-43.59055555555556 +lon_0=172.7269444444445 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-43.74861111111111 +lon_0=171.3605555555555 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-44.40194444444445 +lon_0=171.0572222222222 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-44.735 +lon_0=169.4675 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-45.13277777777778 +lon_0=168.3986111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-45.56361111111111 +lon_0=167.7386111111111 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-45.81611111111111 +lon_0=170.6283333333333 +k=1"+sn+Ms+g+v+A+s,1,x+" +lat_0=-45.86138888888889 +lon_0=170.2825"+OC+sn+Ms+g+v+A+s,1,x+" +lat_0=-46.6 +lon_0=168.3427777777778 +k=1"+sn+Ms+g+v+A+s,1,U+gl+dt+g+v+A+s,1,U+rc+dt+g+v+A+s,1,U+jh+dt+g+v+A+s,1,x+VW+" +lon_0=-1"+JB+" +x_0=274319.7391633579"+y+yw+ew+wU+_U+s,1,x+R+" +lon_0=-1"+Ve+tt+y+yw+ew+wU+A+s,1,L+ev+ed+ya+tc+It+y+Ke+A+s,16,L+ic+" +lat_2=44"+Wh+ih+Zr+" +y_0=6600000"+g+v+A+s,3,x+QL+" +lon_0=-8 +k=0.99982"+$t+O1+g+v+A+s,1,U+jo+g+v+A+s,1,x+HW+" +lon_0=-12 +k=1 +x_0=152399.8550907544"+y+yw+ew+_U+s,1,x+HW+" +lon_0=-12 +k=1 +x_0=243839.7681452071 +y_0=182879.8261089053"+yw+ew+_U+s,1,U+ho+_e+LU+A+s,1,U+jo+_e+LU+A+s,1,BA+Ko+Ls+It+y+" +a=6370997 +b=6370997"+A+s,1,x+R+" +lon_0=-5"+Ve+tt+y+_e+fQ+A+s,1,x+R+" +lon_0=-5"+Ve+tt+y+_e+hQ+A+s,4,x+" +lat_0=49.83333333333334"+zW+" +k=1"+q1+Mr+ft+KV+A+s,3,qA+" +lat_0=53.00194444444445 +lon_0=21.50277777777778"+nv+" +x_0=4603000 +y_0=5806000"+$+kr+A+s,1,qA+" +lat_0=53.58333333333334 +lon_0=17.00833333333333"+nv+" +x_0=3501000 +y_0=5999000"+$+kr+A+s,1,qA+" +lat_0=51.67083333333333 +lon_0=16.67222222222222"+nv+" +x_0=3703000 +y_0=5627000"+$+kr+A+s,1,x+R+" +lon_0=18.95833333333333 +k=0.999983 +x_0=237000 +y_0=-4700000"+$+kr+A+s,1,x+R+ir+kL+ma+y+g+v+A+s,1,x+R+om+kL+B0+y+g+v+A+s,1,x+R+rr+kL+Hh+y+g+v+A+s,1,x+R+bo+kL+cC+y+g+v+A+s,1,x+R+ZC+" +k=0.9993"+tt+" +y_0=-5300000"+g+v+A+s,8,U+oc+ft+ZH+A+s,1,U+sh+ft+KH+A+s,1,U+sh+ft+hz+A+s,3,x+R+" +lon_0=173"+Ve+" +x_0=1600000"+ki+g+v+A+s,2,U+ad+dt+g+v+A+s,1,x+R+" +lon_0=9.5"+Yi+ye+y+g+v+A+s,1,x+R+vo+Yi+tt+y+g+v+A+s,1,x+R+ir+" +k=1"+Wl+y+g+v+A+s,2,qA+Wh+BN+fS+xn+Ms+VC+jx+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,L+" +lat_1=35.25 +lat_2=36.41666666666666 +lat_0=34.66666666666666"+uf+Bn+nN+Jt+Y+s,1,L+Fl+Sg+dr+v1+tt+y+g+v+A+s,1,x+R+Ur+" +k=1"+hC+y+ft+bs+A+s,1,x+R+xa+" +k=1"+oC+y+ft+bs+A+s,1,x+R+Bo+" +k=1"+b1+y+ft+bs+A+s,1,x+R+H0+" +k=1"+aC+y+ft+bs+A+s,1,x+R+sc+" +k=1"+Nh+y+ft+bs+A+s,1,x+R+z0+" +k=1"+Oc+y+ft+bs+A+s,1,x+R+fl+" +k=1"+Ou+y+ft+bs+A+s,1,x+R+xa+Ve+tt+y+g+v+A+s,2,U+qr+Xn+ei+LH+A+s,1,U+Hr+ft+EU+A+s,1,U+ml+ft+EU+A+s,2,U+Fs+VC+jx+A+s,1,U+cs+VC+jx+A+s,2,x+ni+sg+yt+Kr+y+g+v+ve+s,1,x+ni+rg+yt+Kr+y+g+v+ve+s,1,x+ni+x1+Es+Kr+y+g+v+ve+s,1,L+Tg+Yl+cr+ul+Jr+qs+g+v+Y+s,1,L+Dg+Rg+_r+ul+Jr+qs+g+v+Y+s,1,L+tl+Qg+V1+ti+Jr+qs+g+v+Y+s,1,L+D1+am+kg+H1+Jr+qs+g+v+Y+s,1,L+Lg+Pg+z1+Jh+Jr+qs+g+v+Y+s,1,L+Fg+Ug+Ng+C1+Jr+qs+g+v+Y+s,1,L+Yy+Zy+cr+Qs+kh+Qu+g+v+Y+s,1,L+R1+Q1+c0+Qs+kh+Qu+g+v+Y+s,1,L+tl+Gg+pi+Qs+kh+Qu+g+v+Y+s,1,L+Og+W1+Vg+M1+ck+hk+g+v+Y+s,1,x+Pi+og+J1+$s+y+g+v+Y+s,1,x+el+ji+Xi+$s+y+g+v+Y+s,1,x+el+$1+Xi+$s+y+g+v+Y+s,1,L+k1+Hg+lm+L1+$t+y+g+v+Y+s,1,x+or+ag+yt+$s+y+g+v+Y+s,1,x+or+lg+yt+ku+y+g+v+Y+s,1,x+Wi+Ag+il+$s+y+g+v+Y+s,1,x+Wi+Xu+il+tr+y+g+v+Y+s,1,x+Wi+E1+Es+uk+y+g+v+Y+s,3,L+Fl+Sg+dr+v1+tr+y+g+v+Y+s,1,L+Ky+Xy+Br+rl+tr+qs+g+v+Y+s,1,L+uC+IC+_r+qu+dk+y+g+v+Y+s,1,L+jy+zg+Pa+ll+$s+O1+g+v+Y+s,1,L+qy+$y+Pa+Vh+tr+y+g+v+Y+s,1,L+tx+ex+nx+Jc+fk+y+g+v+ve+s,1,L+wC+ix+sx+IA+pk+y+g+v+ve+s,1,L+Du+_C+wo+IA+Mk+y+g+v+ve+s,1,x+vA+cg+Yi+nl+y+g+v+Y+s,1,x+vA+Od+Yi+ku+y+g+v+Y+s,1,L+ic+XC+dC+$d+Pu+y+g+v+ve+s,1,x+ni+hg+jd+BC+y+g+v+Y+s,1,x+ni+I1+yt+tr+y+g+v+Y+s,1,x+ni+ug+w1+gk+y+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,x+Ss+dg+di+mk+y+g+v+Y+s,1,x+Ss+fg+di+yk+y+g+v+Y+s,1,L+Wg+Jg+Nl+tm+nl+y+g+v+Y+s,1,L+rx+ox+P1+F0+Bn+y+g+v+Y+s,1,L+wA+ax+Ca+ol+Pu+y+g+v+ve+s,1,L+lx+Ax+Dh+ol+Pu+y+g+v+ve+s,1,L+Yg+cx+Am+pr+$t+y+g+v+Y+s,1,L+hx+ux+Zg+pr+$t+y+g+v+Y+s,1,L+W0+h0+no+ti+XM+y+g+v+ve+s,1,L+J0+u0+Wi+ti+jM+y+g+v+ve+s,1,L+fC+dx+Nl+al+$t+y+g+v+Y+s,1,L+Kg+Xg+cr+al+$t+y+g+v+Y+s,1,L+fx+vC+jg+ji+bC+y+g+v+ve+s,1,L+px+pC+Gl+uf+$t+y+g+v+Y+s,1,L+gx+gC+cm+S1+$s+Lu+g+v+Y+s,1,L+mx+yx+qg+br+$t+qx+g+v+Y+s,1,L+xx+Cx+d0+Xa+ku+La+g+v+Y+s,1,L+Ex+Ix+$g+Yc+$t+Bk+g+v+Y+s,1,L+Vd+Hd+f0+br+nl+vk+g+v+Y+s,1,L+da+zd+Ru+is+m1+iN+g+v+ve+s,1,L+nf+Wd+zo+is+m1+cN+g+v+ve+s,1,L+sf+Jd+pi+is+m1+hN+g+v+ve+s,1,L+MC+wx+_r+Al+$x+qx+g+v+Y+s,1,L+Fl+t1+Br+Al+$x+Lu+g+v+Y+s,1,L+wA+SC+Ca+pg+tr+y+g+v+Y+s,1,L+_x+Bx+e1+ti+tr+y+g+v+Y+s,1,L+vx+bx+n1+Fi+$t+y+g+v+Y+s,1,L+ju+mC+io+Fi+$t+y+g+v+Y+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+Y+s,1,qA+" +lat_0=47.25"+xw+fS+Zr+Yh+VC+jx+A+s,4,x+R+rS+yt+oo+y+VC+jx+A+s,1,x+R+oS+yt+ma+y+VC+jx+A+s,13,x+R+" +lon_0=109"+Ve+tt+ki+te+Wy+A+s,1,x+R+" +lon_0=116"+Ve+tt+ki+bt+A+s,1,x+R+SA+Ve+tt+ki+bt+A+s,1,x+R+Av+Ve+tt+y+bt+A+s,1,U+$o+_e+A+s,1,U+$o+_e+A+s,1,er+WW+vz+" +x_0=86501.46392052001"+pZ+E0+I0+gU+xk+s,1,U+Fs+dt+ft+l0+A+s,1,U+cs+dt+ft+l0+A+s,1,L+" +lat_1=9 +lat_2=3 +lat_0=6"+HC+ss+Fn+ft+CA+A+s,1,L+" +lat_1=17 +lat_2=33 +lat_0=25.08951"+ww+It+y+ft+Jy+A+s,1,x+R+Ur+" +k=1"+tt+y+ft+bs+A+s,1,x+R+xa+" +k=1"+tt+y+ft+bs+A+s,1,x+R+Bo+" +k=1"+tt+y+ft+bs+A+s,1,x+R+H0+" +k=1"+tt+y+ft+bs+A+s,1,x+R+sc+" +k=1"+tt+y+ft+bs+A+s,1,x+R+z0+" +k=1"+tt+y+ft+bs+A+s,1,x+R+fl+" +k=1"+tt+y+ft+bs+A+s,1,x+JW+YW+" +k=1 +x_0=836694.05 +y_0=819069.8"+ft+ZV+A+s,1,x+R+Nr+" +k=1"+Nh+y+Rn+Dn+A+s,1,x+R+Gr+" +k=1"+Oc+y+Rn+Dn+A+s,1,x+R+Xr+" +k=1"+Ou+y+Rn+Dn+A+s,1,x+R+Or+" +k=1"+Vu+y+Rn+Dn+A+s,1,x+R+Vr+" +k=1"+w0+y+Rn+Dn+A+s,1,x+R+Gs+" +k=1"+Nu+y+Rn+Dn+A+s,1,x+R+Fr+" +k=1"+Gu+y+Rn+Dn+A+s,1,x+R+gr+" +k=1"+Gh+y+Rn+Dn+A+s,1,x+R+Sr+" +k=1"+Hu+y+Rn+Dn+A+s,1,x+R+nr+" +k=1"+Oh+y+Rn+Dn+A+s,1,x+R+mr+" +k=1"+zu+y+Rn+Dn+A+s,1,x+R+Nr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Gr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Xr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Or+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Vr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Gs+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Fr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+gr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Sr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+nr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+mr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Nr+" +k=1"+Wu+y+Rn+Dn+A+s,1,x+R+$c+" +k=1"+Ju+y+Rn+Dn+A+s,1,x+R+Gr+" +k=1"+Yu+y+Rn+Dn+A+s,1,x+R+nd+" +k=1"+Zu+y+Rn+Dn+A+s,1,x+R+Xr+" +k=1"+Vc+y+Rn+Dn+A+s,1,x+R+lo+" +k=1"+tf+y+Rn+Dn+A+s,1,x+R+Or+" +k=1"+$A+y+Rn+Dn+A+s,1,x+R+Xh+" +k=1"+ef+y+Rn+Dn+A+s,1,x+R+Vr+" +k=1"+_0+y+Rn+Dn+A+s,1,x+R+Zc+" +k=1"+rw+y+Rn+Dn+A+s,1,x+R+Gs+" +k=1"+ow+y+Rn+Dn+A+s,1,x+R+$u+" +k=1"+aw+y+Rn+Dn+A+s,1,x+R+Fr+" +k=1"+lw+y+Rn+Dn+A+s,1,x+R+TA+" +k=1"+Aw+y+Rn+Dn+A+s,1,x+R+gr+" +k=1"+cw+y+Rn+Dn+A+s,1,x+R+Zh+" +k=1"+hw+y+Rn+Dn+A+s,1,x+R+Sr+" +k=1"+uw+y+Rn+Dn+A+s,1,x+R+Kc+" +k=1"+EB+y+Rn+Dn+A+s,1,x+R+nr+" +k=1"+dw+y+Rn+Dn+A+s,1,x+R+SA+" +k=1"+IB+y+Rn+Dn+A+s,1,x+R+mr+" +k=1"+fw+y+Rn+Dn+A+s,1,x+R+Nr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+$c+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Gr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+nd+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Xr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+lo+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Or+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Xh+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Vr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Zc+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Gs+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+$u+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Fr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+TA+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+gr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Zh+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Sr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+Kc+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+nr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+SA+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+mr+" +k=1"+tt+y+Rn+Dn+A+s,1,x+R+rr+" +k=1"+jn+y+ft+zI+A+s,1,x+R+bo+" +k=1"+Pr+y+ft+zI+A+s,1,x+R+Ur+" +k=1"+ks+y+ft+zI+A+s,1,x+R+xa+" +k=1"+oo+y+ft+zI+A+s,1,x+R+fl+" +k=1"+cC+y+$+BU+A+s,1,x+R+Z0+" +k=1"+hC+y+$+BU+A+s,1,x+R+qo+" +k=1"+ks+y+$+KA+A+s,1,x+R+vo+" +k=1"+oo+y+$+KA+A+s,1,x+R+ir+" +k=1"+ma+y+$+KA+A+s,2,x+R+Nr+" +k=1"+Wu+y+$+Tn+A+s,1,x+R+$c+" +k=1"+Ju+y+$+Tn+A+s,1,x+R+Gr+" +k=1"+Yu+y+$+Tn+A+s,1,x+R+nd+" +k=1"+Zu+y+$+Tn+A+s,1,x+R+Xr+" +k=1"+Vc+y+$+Tn+A+s,1,x+R+lo+" +k=1"+tf+y+$+Tn+A+s,1,x+R+Or+" +k=1"+$A+y+$+Tn+A+s,1,x+R+Xh+" +k=1"+ef+y+$+Tn+A+s,1,x+R+Vr+" +k=1"+_0+y+$+Tn+A+s,1,x+R+Zc+" +k=1"+rw+y+$+Tn+A+s,1,x+R+Gs+" +k=1"+ow+y+$+Tn+A+s,1,x+R+$u+" +k=1"+aw+y+$+Tn+A+s,1,x+R+Fr+" +k=1"+lw+y+$+Tn+A+s,1,x+R+TA+" +k=1"+Aw+y+$+Tn+A+s,1,x+R+gr+" +k=1"+cw+y+$+Tn+A+s,1,x+R+Zh+" +k=1"+hw+y+$+Tn+A+s,1,x+R+Sr+" +k=1"+uw+y+$+Tn+A+s,1,x+R+Kc+" +k=1"+EB+y+$+Tn+A+s,1,x+R+nr+" +k=1"+dw+y+$+Tn+A+s,1,x+R+SA+" +k=1"+IB+y+$+Tn+A+s,1,x+R+mr+" +k=1"+fw+y+$+Tn+A+s,1,x+R+Nr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+$c+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Gr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+nd+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Xr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+lo+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Or+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Xh+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Vr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Zc+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Gs+" +k=1"+tt+y+$+Tn+A+s,1,x+R+$u+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Fr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+TA+" +k=1"+tt+y+$+Tn+A+s,1,x+R+gr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Zh+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Sr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Kc+" +k=1"+tt+y+$+Tn+A+s,1,x+R+nr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+SA+" +k=1"+tt+y+$+Tn+A+s,1,x+R+mr+" +k=1"+tt+y+$+Tn+A+s,1,x+K0+vN+yt+It+y+g+v+A+s,1,x+K0+U0+yt+It+y+g+v+A+s,1,x+Os+zU+yt+It+y+g+v+A+s,1,x+K0+pL+yt+It+y+g+v+A+s,1,x+Os+WU+yt+It+y+g+v+A+s,1,x+Os+YB+yt+It+y+g+v+A+s,1,x+Os+JU+yt+It+y+g+v+A+s,1,x+Os+bN+yt+It+y+g+v+A+s,1,x+Os+YU+yt+It+y+g+v+A+s,1,x+Ss+ZU+yt+It+y+g+v+A+s,1,x+ya+yN+yt+It+y+g+v+A+s,1,x+ya+xN+yt+It+y+g+v+A+s,1,x+ya+CN+yt+It+y+g+v+A+s,1,x+Xo+" +lon_0=142"+yt+It+y+g+v+A+s,1,x+Xo+_B+yt+It+y+g+v+A+s,1,x+Xo+" +lon_0=124"+yt+It+y+g+v+A+s,1,x+Xo+U0+yt+It+y+g+v+A+s,1,x+" +lat_0=20"+YB+yt+It+y+g+v+A+s,1,x+Xo+y5+yt+It+y+g+v+A+s,1,x+R+rr+" +k=1"+oo+y+$+A+s,1,x+R+rr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Ur+" +k=1"+tt+y+$+jt+A+s,1,x+R+Bo+" +k=1"+tt+y+$+jt+A+s,1,x+R+sc+" +k=1"+tt+y+$+jt+A+s,1,x+R+fl+" +k=1"+tt+y+$+jt+A+s,1,x+R+Z0+" +k=1"+tt+y+$+jt+A+s,1,x+R+jC+" +k=1"+tt+y+$+jt+A+s,1,x+R+hm+" +k=1"+tt+y+$+jt+A+s,1,x+R+qC+" +k=1"+tt+y+$+jt+A+s,1,x+R+Nr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Gr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Xr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Or+" +k=1"+tt+y+$+jt+A+s,1,x+R+Vr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Gs+" +k=1"+tt+y+$+jt+A+s,1,x+R+Fr+" +k=1"+tt+y+$+jt+A+s,1,x+R+gr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Sr+" +k=1"+tt+y+$+jt+A+s,1,x+R+nr+" +k=1"+tt+y+$+jt+A+s,1,x+R+mr+" +k=1"+tt+y+$+jt+A+s,1,x+R+zC+" +k=1"+tt+y+$+jt+A+s,1,x+R+em+" +k=1"+tt+y+$+jt+A+s,1,x+R+N0+" +k=1"+tt+y+$+jt+A+s,1,x+R+WC+" +k=1"+tt+y+$+jt+A+s,1,x+R+G0+" +k=1"+tt+y+$+jt+A+s,1,x+R+td+" +k=1"+tt+y+$+jt+A+s,1,x+R+Kh+" +k=1"+tt+y+$+jt+A+s,1,x+R+af+" +k=1"+tt+y+$+jt+A+s,1,x+R+M0+" +k=1"+tt+y+$+jt+A+s,3,x+R+rr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Ur+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Bo+" +k=1"+tt+y+$+Yt+A+s,1,x+R+sc+" +k=1"+tt+y+$+Yt+A+s,1,x+R+fl+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Z0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+jC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+hm+" +k=1"+tt+y+$+Yt+A+s,1,x+R+qC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Nr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Gr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Xr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Or+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Vr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Gs+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Fr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+gr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Sr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+nr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+mr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+zC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+em+" +k=1"+tt+y+$+Yt+A+s,1,x+R+N0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+WC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+G0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+td+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Kh+" +k=1"+tt+y+$+Yt+A+s,1,x+R+af+" +k=1"+tt+y+$+Yt+A+s,1,x+R+M0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+rr+" +k=1"+Hh+y+$+Yt+A+s,1,x+R+bo+" +k=1"+cC+y+$+Yt+A+s,1,x+R+Ur+" +k=1"+hC+y+$+Yt+A+s,1,x+R+xa+" +k=1"+oC+y+$+Yt+A+s,1,x+R+Bo+" +k=1"+b1+y+$+Yt+A+s,1,x+R+H0+" +k=1"+aC+y+$+Yt+A+s,1,x+R+sc+" +k=1"+Nh+y+$+Yt+A+s,1,x+R+z0+" +k=1"+Oc+y+$+Yt+A+s,1,x+R+fl+" +k=1"+Ou+y+$+Yt+A+s,1,x+R+ww+" +k=1"+Vu+y+$+Yt+A+s,1,x+R+Z0+" +k=1"+w0+y+$+Yt+A+s,1,x+R+_w+" +k=1"+Nu+y+$+Yt+A+s,1,x+R+jC+" +k=1"+Gu+y+$+Yt+A+s,1,x+R+" +lon_0=60 +k=1"+Gh+y+$+Yt+A+s,1,x+R+hm+" +k=1"+Hu+y+$+Yt+A+s,1,x+R+iv+" +k=1"+Oh+y+$+Yt+A+s,1,x+R+qC+" +k=1"+zu+y+$+Yt+A+s,1,x+R+QS+" +k=1"+lC+y+$+Yt+A+s,1,x+R+Nr+" +k=1"+Wu+y+$+Yt+A+s,1,x+R+$c+" +k=1"+Ju+y+$+Yt+A+s,1,x+R+Gr+" +k=1"+Yu+y+$+Yt+A+s,1,x+R+nd+" +k=1"+Zu+y+$+Yt+A+s,1,x+R+Xr+" +k=1"+Vc+y+$+Yt+A+s,1,x+R+lo+" +k=1"+tf+y+$+Yt+A+s,1,x+R+Or+" +k=1"+$A+y+$+Yt+A+s,1,x+R+Xh+" +k=1"+ef+y+$+Yt+A+s,1,x+R+Vr+" +k=1"+_0+y+$+Yt+A+s,2,x+R+Zc+" +k=1"+rw+y+$+Yt+A+s,1,x+R+Gs+" +k=1"+ow+y+$+Yt+A+s,1,x+R+$u+" +k=1"+aw+y+$+Yt+A+s,1,x+R+Fr+" +k=1"+lw+y+$+Yt+A+s,1,x+R+TA+" +k=1"+Aw+y+$+Yt+A+s,1,x+R+gr+" +k=1"+cw+y+$+Yt+A+s,1,x+R+Zh+" +k=1"+hw+y+$+Yt+A+s,1,x+R+Sr+" +k=1"+uw+y+$+Yt+A+s,1,x+R+Kc+" +k=1"+EB+y+$+Yt+A+s,1,x+R+nr+" +k=1"+dw+y+$+Yt+A+s,1,x+R+SA+" +k=1"+IB+y+$+Yt+A+s,1,x+R+mr+" +k=1"+fw+y+$+Yt+A+s,1,x+R+ZB+" +k=1 +x_0=46500000"+y+$+Yt+A+s,1,x+R+zC+" +k=1"+EN+y+$+Yt+A+s,1,x+R+vS+" +k=1 +x_0=48500000"+y+$+Yt+A+s,1,x+R+em+" +k=1 +x_0=49500000"+y+$+Yt+A+s,1,x+R+nm+" +k=1 +x_0=50500000"+y+$+Yt+A+s,1,x+R+N0+" +k=1 +x_0=51500000"+y+$+Yt+A+s,1,x+R+x5+" +k=1 +x_0=52500000"+y+$+Yt+A+s,1,x+R+WC+" +k=1 +x_0=53500000"+y+$+Yt+A+s,1,x+R+Cw+" +k=1 +x_0=54500000"+y+$+Yt+A+s,1,x+R+G0+" +k=1 +x_0=55500000"+y+$+Yt+A+s,1,x+R+bS+" +k=1 +x_0=56500000"+y+$+Yt+A+s,1,x+R+td+" +k=1 +x_0=57500000"+y+$+Yt+A+s,1,x+R+MS+" +k=1 +x_0=58500000"+y+$+Yt+A+s,1,x+R+Kh+" +k=1 +x_0=59500000"+y+$+Yt+A+s,2,x+R+af+" +k=1 +x_0=61500000"+y+$+Yt+A+s,1,x+R+pS+" +k=1 +x_0=62500000"+y+$+Yt+A+s,1,x+R+M0+" +k=1 +x_0=63500000"+y+$+Yt+A+s,1,x+R+gS+" +k=1 +x_0=64500000"+y+$+Yt+A+s,1,x+R+rr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+bo+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Ur+" +k=1"+tt+y+$+Yt+A+s,1,x+R+xa+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Bo+" +k=1"+tt+y+$+Yt+A+s,1,x+R+H0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+sc+" +k=1"+tt+y+$+Yt+A+s,1,x+R+z0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+fl+" +k=1"+tt+y+$+Yt+A+s,1,x+R+ww+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Z0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+_w+" +k=1"+tt+y+$+Yt+A+s,1,x+R+jC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+" +lon_0=60 +k=1"+tt+y+$+Yt+A+s,1,x+R+hm+" +k=1"+tt+y+$+Yt+A+s,1,x+R+iv+" +k=1"+tt+y+$+Yt+A+s,1,x+R+qC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+QS+" +k=1"+tt+y+$+Yt+A+s,2,x+R+Nr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+$c+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Gr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+nd+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Xr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+lo+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Or+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Xh+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Vr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Zc+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Gs+" +k=1"+tt+y+$+Yt+A+s,1,x+R+$u+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Fr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+TA+" +k=1"+tt+y+$+Yt+A+s,1,x+R+gr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Zh+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Sr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Kc+" +k=1"+tt+y+$+Yt+A+s,1,x+R+nr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+SA+" +k=1"+tt+y+$+Yt+A+s,1,x+R+mr+" +k=1"+tt+y+$+Yt+A+s,1,x+R+ZB+" +k=1"+tt+y+$+Yt+A+s,1,x+R+zC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+vS+" +k=1"+tt+y+$+Yt+A+s,1,x+R+em+" +k=1"+tt+y+$+Yt+A+s,1,x+R+nm+" +k=1"+tt+y+$+Yt+A+s,1,x+R+N0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+x5+" +k=1"+tt+y+$+Yt+A+s,1,x+R+WC+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Cw+" +k=1"+tt+y+$+Yt+A+s,1,x+R+G0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+bS+" +k=1"+tt+y+$+Yt+A+s,1,x+R+td+" +k=1"+tt+y+$+Yt+A+s,1,x+R+MS+" +k=1"+tt+y+$+Yt+A+s,1,x+R+Kh+" +k=1"+tt+y+$+Yt+A+s,1,x+R+KB+" +k=1"+tt+y+$+Yt+A+s,1,x+R+af+" +k=1"+tt+y+$+Yt+A+s,1,x+R+pS+" +k=1"+tt+y+$+Yt+A+s,1,x+R+M0+" +k=1"+tt+y+$+Yt+A+s,1,x+R+gS+" +k=1"+tt+y+$+Yt+A+s,1,x+R+rr+" +k=1"+Hh+y+$+jt+A+s,1,x+R+bo+" +k=1"+cC+y+$+jt+A+s,1,x+R+Ur+" +k=1"+hC+y+$+jt+A+s,1,x+R+xa+" +k=1"+oC+y+$+jt+A+s,1,x+R+Bo+" +k=1"+b1+y+$+jt+A+s,1,x+R+H0+" +k=1"+aC+y+$+jt+A+s,1,x+R+sc+" +k=1"+Nh+y+$+jt+A+s,1,x+R+z0+" +k=1"+Oc+y+$+jt+A+s,1,x+R+fl+" +k=1"+Ou+y+$+jt+A+s,1,x+R+ww+" +k=1"+Vu+y+$+jt+A+s,1,x+R+Z0+" +k=1"+w0+y+$+jt+A+s,1,x+R+_w+" +k=1"+Nu+y+$+jt+A+s,1,x+R+jC+" +k=1"+Gu+y+$+jt+A+s,1,x+R+" +lon_0=60 +k=1"+Gh+y+$+jt+A+s,1,x+R+hm+" +k=1"+Hu+y+$+jt+A+s,1,x+R+iv+" +k=1"+Oh+y+$+jt+A+s,1,x+R+qC+" +k=1"+zu+y+$+jt+A+s,1,x+R+QS+" +k=1"+lC+y+$+jt+A+s,1,x+R+Nr+" +k=1"+Wu+y+$+jt+A+s,1,x+R+$c+" +k=1"+Ju+y+$+jt+A+s,1,x+R+Gr+" +k=1"+Yu+y+$+jt+A+s,1,x+R+nd+" +k=1"+Zu+y+$+jt+A+s,1,x+R+Xr+" +k=1"+Vc+y+$+jt+A+s,1,x+R+lo+" +k=1"+tf+y+$+jt+A+s,1,x+R+Or+" +k=1"+$A+y+$+jt+A+s,1,x+R+Xh+" +k=1"+ef+y+$+jt+A+s,1,x+R+Vr+" +k=1"+_0+y+$+jt+A+s,1,x+R+Zc+" +k=1"+rw+y+$+jt+A+s,1,x+R+Gs+" +k=1"+ow+y+$+jt+A+s,1,x+R+$u+" +k=1"+aw+y+$+jt+A+s,1,x+R+Fr+" +k=1"+lw+y+$+jt+A+s,1,x+R+TA+" +k=1"+Aw+y+$+jt+A+s,1,x+R+gr+" +k=1"+cw+y+$+jt+A+s,1,x+R+Zh+" +k=1"+hw+y+$+jt+A+s,1,x+R+Sr+" +k=1"+uw+y+$+jt+A+s,1,x+R+Kc+" +k=1"+EB+y+$+jt+A+s,1,x+R+nr+" +k=1"+dw+y+$+jt+A+s,1,x+R+SA+" +k=1"+IB+y+$+jt+A+s,1,x+R+mr+" +k=1"+fw+y+$+jt+A+s,1,x+R+ZB+" +k=1 +x_0=46500000"+y+$+jt+A+s,1,x+R+zC+" +k=1"+EN+y+$+jt+A+s,1,x+R+vS+" +k=1 +x_0=48500000"+y+$+jt+A+s,1,x+R+em+" +k=1 +x_0=49500000"+y+$+jt+A+s,1,x+R+nm+" +k=1 +x_0=50500000"+y+$+jt+A+s,1,x+R+N0+" +k=1 +x_0=51500000"+y+$+jt+A+s,1,x+R+x5+" +k=1 +x_0=52500000"+y+$+jt+A+s,1,x+R+WC+" +k=1 +x_0=53500000"+y+$+jt+A+s,1,x+R+Cw+" +k=1 +x_0=54500000"+y+$+jt+A+s,1,x+R+G0+" +k=1 +x_0=55500000"+y+$+jt+A+s,1,x+R+bS+" +k=1 +x_0=56500000"+y+$+jt+A+s,1,x+R+td+" +k=1 +x_0=57500000"+y+$+jt+A+s,1,x+R+MS+" +k=1 +x_0=58500000"+y+$+jt+A+s,1,x+R+Kh+" +k=1 +x_0=59500000"+y+$+jt+A+s,2,x+R+af+" +k=1 +x_0=61500000"+y+$+jt+A+s,1,x+R+pS+" +k=1 +x_0=62500000"+y+$+jt+A+s,1,x+R+M0+" +k=1 +x_0=63500000"+y+$+jt+A+s,1,x+R+gS+" +k=1 +x_0=64500000"+y+$+jt+A+s,1,x+R+rr+" +k=1"+tt+y+$+jt+A+s,1,x+R+bo+" +k=1"+tt+y+$+jt+A+s,1,x+R+Ur+" +k=1"+tt+y+$+jt+A+s,1,x+R+xa+" +k=1"+tt+y+$+jt+A+s,1,x+R+Bo+" +k=1"+tt+y+$+jt+A+s,1,x+R+H0+" +k=1"+tt+y+$+jt+A+s,1,x+R+sc+" +k=1"+tt+y+$+jt+A+s,1,x+R+z0+" +k=1"+tt+y+$+jt+A+s,1,x+R+fl+" +k=1"+tt+y+$+jt+A+s,1,x+R+ww+" +k=1"+tt+y+$+jt+A+s,1,x+R+Z0+" +k=1"+tt+y+$+jt+A+s,1,x+R+_w+" +k=1"+tt+y+$+jt+A+s,1,x+R+jC+" +k=1"+tt+y+$+jt+A+s,1,x+R+" +lon_0=60 +k=1"+tt+y+$+jt+A+s,1,x+R+hm+" +k=1"+tt+y+$+jt+A+s,1,x+R+iv+" +k=1"+tt+y+$+jt+A+s,1,x+R+qC+" +k=1"+tt+y+$+jt+A+s,1,x+R+QS+" +k=1"+tt+y+$+jt+A+s,1,x+R+Nr+" +k=1"+tt+y+$+jt+A+s,1,x+R+$c+" +k=1"+tt+y+$+jt+A+s,1,x+R+Gr+" +k=1"+tt+y+$+jt+A+s,1,x+R+nd+" +k=1"+tt+y+$+jt+A+s,1,x+R+Xr+" +k=1"+tt+y+$+jt+A+s,1,x+R+lo+" +k=1"+tt+y+$+jt+A+s,1,x+R+Or+" +k=1"+tt+y+$+jt+A+s,1,x+R+Xh+" +k=1"+tt+y+$+jt+A+s,1,x+R+Vr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Zc+" +k=1"+tt+y+$+jt+A+s,1,x+R+Gs+" +k=1"+tt+y+$+jt+A+s,1,x+R+$u+" +k=1"+tt+y+$+jt+A+s,1,x+R+Fr+" +k=1"+tt+y+$+jt+A+s,1,x+R+TA+" +k=1"+tt+y+$+jt+A+s,1,x+R+gr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Zh+" +k=1"+tt+y+$+jt+A+s,1,x+R+Sr+" +k=1"+tt+y+$+jt+A+s,1,x+R+Kc+" +k=1"+tt+y+$+jt+A+s,1,x+R+nr+" +k=1"+tt+y+$+jt+A+s,1,U+Kl+dt+Ke+fU+A+s,1,U+ta+dt+Ke+fU+A+s,1,x+R+SA+" +k=1"+tt+y+$+jt+A+s,1,x+R+mr+" +k=1"+tt+y+$+jt+A+s,1,x+R+ZB+" +k=1"+tt+y+$+jt+A+s,1,x+R+zC+" +k=1"+tt+y+$+jt+A+s,1,x+R+vS+" +k=1"+tt+y+$+jt+A+s,1,x+R+em+" +k=1"+tt+y+$+jt+A+s,1,x+R+nm+" +k=1"+tt+y+$+jt+A+s,1,x+R+N0+" +k=1"+tt+y+$+jt+A+s,1,x+R+x5+" +k=1"+tt+y+$+jt+A+s,1,x+R+WC+" +k=1"+tt+y+$+jt+A+s,1,x+R+Cw+" +k=1"+tt+y+$+jt+A+s,1,x+R+G0+" +k=1"+tt+y+$+jt+A+s,1,x+R+bS+" +k=1"+tt+y+$+jt+A+s,1,x+R+td+" +k=1"+tt+y+$+jt+A+s,1,x+R+MS+" +k=1"+tt+y+$+jt+A+s,1,x+R+Kh+" +k=1"+tt+y+$+jt+A+s,1,x+R+KB+" +k=1"+tt+y+$+jt+A+s,1,x+R+af+" +k=1"+tt+y+$+jt+A+s,1,x+R+pS+" +k=1"+tt+y+$+jt+A+s,1,x+R+M0+" +k=1"+tt+y+$+jt+A+s,1,x+R+gS+" +k=1"+tt+y+$+jt+A+s,1,x+Wc+PM+OC+ye+y+g+v+A+s,1,x+or+pw+Es+$t+y+g+v+A+s,1,x+ni+sg+yt+Kr+y+g+v+A+s,1,x+ni+rg+yt+Kr+y+g+v+A+s,1,x+ni+x1+Es+Kr+y+g+v+A+s,1,L+i1+s1+Gl+dl+sn+y+g+v+A+s,1,L+r1+Y1+o1+dl+sn+Yh+g+v+A+s,1,L+Tg+Yl+cr+ul+ds+Yn+g+v+A+s,1,L+Dg+Rg+_r+ul+ds+Yn+g+v+A+s,1,L+tl+Qg+V1+ti+ds+Yn+g+v+A+s,1,L+D1+am+kg+H1+ds+Yn+g+v+A+s,1,L+Lg+Pg+z1+Jh+ds+Yn+g+v+A+s,1,L+Fg+Ug+Ng+C1+ds+Yn+g+v+A+s,1,L+Yy+Zy+cr+Qs+Fu+Uu+g+v+A+s,1,L+R1+Q1+c0+Qs+Fu+Uu+g+v+A+s,1,L+tl+Gg+pi+Qs+Fu+Uu+g+v+A+s,1,L+Og+W1+Vg+M1+Dk+Rk+g+v+A+s,1,x+Pi+og+J1+ye+y+g+v+A+s,1,x+el+ji+Xi+ye+y+g+v+A+s,1,x+el+$1+Xi+ye+y+g+v+A+s,1,L+k1+Hg+lm+L1+$t+y+g+v+A+s,1,x+or+ag+yt+ye+y+g+v+A+s,1,x+or+lg+yt+Zr+y+g+v+A+s,1,x+NQ+Zk+_i+tt+y+g+v+A+s,1,x+GQ+EQ+_i+tt+y+g+v+A+s,1,x+XI+lf+Xc+tt+y+g+v+A+s,1,x+OQ+Kk+Xc+tt+y+g+v+A+s,1,x+VQ+IQ+" +k=1"+tt+y+g+v+A+s,1,x+Wi+Ag+il+ye+y+g+v+A+s,1,x+Wi+Xu+il+tt+y+g+v+A+s,1,x+Wi+E1+Es+Ns+y+g+v+A+s,1,x+pi+gg+C0+xn+y+g+v+A+s,1,x+pi+mg+Xi+Zr+y+g+v+A+s,1,x+dr+yg+_i+Li+Af+g+v+A+s,1,x+dr+xg+_i+Wl+Af+g+v+A+s,1,L+a1+l1+wo+cl+jn+Fn+g+v+A+s,1,L+da+A1+Ss+cl+tt+y+g+v+A+s,1,L+c1+h1+zo+pr+sn+y+g+v+A+s,1,L+u1+d1+pi+br+sn+Yh+g+v+A+s,1,L+Fl+Sg+dr+v1+tt+y+g+v+A+s,1,L+Ky+Xy+Br+rl+tt+Yn+g+v+A+s,1,L+Tx+Dx+Wc+Hc+ss+y+g+v+A+s,1,L+TC+DC+RC+Su+ss+y+g+v+A+s,1,x+no+tc+yt+xn+y+g+v+A+s,1,x+Ol+Cg+_i+Wl+y+g+v+A+s,1,L+uC+IC+_r+qu+sn+y+g+v+A+s,1,L+jy+zg+Pa+ll+ye+O1+g+v+A+s,1,L+qy+$y+Pa+Vh+tt+y+g+v+A+s,1,L+tx+ex+nx+Jc+gL+y+g+v+A+s,1,L+wC+ix+sx+IA+BB+y+g+v+A+s,1,L+Du+_C+wo+IA+F1+y+g+v+A+s,1,L+Rx+Qx+Wh+Eg+Ns+Mr+g+v+A+s,1,L+yC+kx+Ko+T1+Ns+Mr+g+v+A+s,1,L+Lx+Px+id+O0+Ns+Mr+g+v+A+s,1,x+vA+cg+Yi+xn+y+g+v+A+s,1,x+vA+Od+Yi+Zr+y+g+v+A+s,1,x+p0+aS+Es+As+y+g+v+A+s,1,x+p0+Hc+Es+tt+y+g+v+A+s,1,x+NM+lS+Xi+LL+y+g+v+A+s,1,L+ic+XC+dC+$d+$t+y+g+v+A+s,1,L+pl+Yl+Fx+Ls+tt+y+g+v+A+s,1,x+ur+Ig+yt+ye+mL+g+v+A+s,1,x+ur+wg+yt+tt+zc+g+v+A+s,1,x+ur+_g+yt+Ns+U1+g+v+A+s,1,x+_o+Bg+_i+xn+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+ni+hg+jd+BC+y+g+v+A+s,1,x+ni+I1+yt+tt+y+g+v+A+s,1,x+ni+ug+w1+PL+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+Ss+dg+di+As+y+g+v+A+s,1,x+Ss+fg+di+kB+y+g+v+A+s,1,L+Wg+Jg+Nl+tm+xn+y+g+v+A+s,1,L+wA+ax+Ca+ol+$t+y+g+v+A+s,1,L+lx+Ax+Dh+ol+$t+y+g+v+A+s,1,L+QC+Ux+Uc+Zo+$t+y+g+v+A+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+A+s,1,L+Yg+cx+Am+pr+$t+y+g+v+A+s,1,L+hx+ux+Zg+pr+$t+y+g+v+A+s,1,L+W0+h0+no+ti+Pr+y+g+v+A+s,1,L+J0+u0+Wi+ti+jn+y+g+v+A+s,1,x+f1+ll+AC+Li+y+g+v+A+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+A+s,1,L+kC+Hx+p1+Xa+$t+y+g+v+A+s,1,L+px+pC+Gl+uf+$t+y+g+v+A+s,1,L+gx+gC+cm+S1+ye+Fn+g+v+A+s,1,L+mx+yx+qg+br+$t+Yr+g+v+A+s,1,L+xx+Cx+d0+Xa+Zr+La+g+v+A+s,1,L+Ex+Ix+$g+Yc+$t+U1+g+v+A+s,1,L+Vd+Hd+f0+br+xn+v0+g+v+A+s,1,L+da+zd+Ru+is+tt+Fn+g+v+A+s,1,L+nf+Wd+zo+is+tt+Yr+g+v+A+s,1,L+sf+Jd+pi+is+tt+La+g+v+A+s,1,x+_o+N1+_1+tt+y+g+v+A+s,1,L+MC+wx+_r+Al+ks+Yr+g+v+A+s,1,L+Fl+t1+Br+Al+ks+Fn+g+v+A+s,1,L+wA+SC+Ca+pg+tt+y+g+v+A+s,1,L+_x+Bx+e1+ti+tt+y+g+v+A+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+A+s,1,L+zx+Wx+um+ji+$t+y+g+v+A+s,1,L+vx+bx+n1+Fi+$t+y+g+v+A+s,1,L+ju+mC+io+Fi+$t+y+g+v+A+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+A+s,1,x+Is+vg+di+ye+y+g+v+A+s,1,x+Is+bg+di+sn+Mr+g+v+A+s,1,x+Is+B1+di+$t+y+g+v+A+s,1,x+Is+Mg+di+Ns+Mr+g+v+A+s,1,L+jI+qI+$I+KI+ye+ec+g+v+A+s,1,x+ni+sg+yt+Kr+y+g+v+ve+s,1,x+ni+rg+yt+Kr+y+g+v+ve+s,1,x+ni+x1+Es+Kr+y+g+v+ve+s,1,L+Tg+Yl+cr+ul+Jr+qs+g+v+Y+s,1,L+Dg+Rg+_r+ul+Jr+qs+g+v+Y+s,1,L+tl+Qg+V1+ti+Jr+qs+g+v+Y+s,1,L+D1+am+kg+H1+Jr+qs+g+v+Y+s,1,L+Lg+Pg+z1+Jh+Jr+qs+g+v+Y+s,1,L+Fg+Ug+Ng+C1+Jr+qs+g+v+Y+s,1,L+Yy+Zy+cr+Qs+kh+Qu+g+v+Y+s,1,L+R1+Q1+c0+Qs+kh+Qu+g+v+Y+s,1,L+tl+Gg+pi+Qs+kh+Qu+g+v+Y+s,1,L+Og+W1+Vg+M1+ck+hk+g+v+Y+s,1,x+Pi+og+J1+$s+y+g+v+Y+s,1,x+el+ji+Xi+$s+y+g+v+Y+s,1,x+el+$1+Xi+$s+y+g+v+Y+s,1,L+k1+Hg+lm+L1+$t+y+g+v+Y+s,1,x+or+ag+yt+$s+y+g+v+Y+s,1,x+or+lg+yt+ku+y+g+v+Y+s,1,x+Wi+Ag+il+$s+y+g+v+Y+s,1,x+Wi+Xu+il+tr+y+g+v+Y+s,1,x+Wi+E1+Es+uk+y+g+v+Y+s,3,L+Fl+Sg+dr+v1+tr+y+g+v+Y+s,1,L+Ky+Xy+Br+rl+tr+qs+g+v+Y+s,1,L+uC+IC+_r+qu+dk+y+g+v+Y+s,1,L+jy+zg+Pa+ll+$s+O1+g+v+Y+s,1,L+qy+$y+Pa+Vh+tr+y+g+v+Y+s,1,L+tx+ex+nx+Jc+fk+y+g+v+ve+s,1,L+wC+ix+sx+IA+pk+y+g+v+ve+s,1,L+Du+_C+wo+IA+Mk+y+g+v+ve+s,1,x+vA+cg+Yi+nl+y+g+v+Y+s,1,x+vA+Od+Yi+ku+y+g+v+Y+s,1,L+ic+XC+dC+$d+Pu+y+g+v+ve+s,1,x+ni+hg+jd+BC+y+g+v+Y+s,1,x+ni+I1+yt+tr+y+g+v+Y+s,1,x+ni+ug+w1+gk+y+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,x+Ss+dg+di+mk+y+g+v+Y+s,1,x+Ss+fg+di+yk+y+g+v+Y+s,1,L+Wg+Jg+Nl+tm+nl+y+g+v+Y+s,1,L+wA+ax+Ca+ol+Pu+y+g+v+ve+s,1,L+lx+Ax+Dh+ol+Pu+y+g+v+ve+s,1,L+Yg+cx+Am+pr+$t+y+g+v+Y+s,1,L+hx+ux+Zg+pr+$t+y+g+v+Y+s,1,L+W0+h0+no+ti+XM+y+g+v+ve+s,1,L+J0+u0+Wi+ti+jM+y+g+v+ve+s,1,L+px+pC+Gl+uf+$t+y+g+v+Y+s,1,L+gx+gC+cm+S1+$s+Lu+g+v+Y+s,1,L+mx+yx+qg+br+$t+qx+g+v+Y+s,1,L+xx+Cx+d0+Xa+ku+La+g+v+Y+s,1,L+Ex+Ix+$g+Yc+$t+Bk+g+v+Y+s,1,L+Vd+Hd+f0+br+nl+vk+g+v+Y+s,1,L+da+zd+Ru+is+m1+iN+g+v+ve+s,1,L+nf+Wd+zo+is+m1+cN+g+v+ve+s,1,L+sf+Jd+pi+is+m1+hN+g+v+ve+s,1,L+MC+wx+_r+Al+$x+qx+g+v+Y+s,1,L+Fl+t1+Br+Al+$x+Lu+g+v+Y+s,1,L+wA+SC+Ca+pg+tr+y+g+v+Y+s,1,L+_x+Bx+e1+ti+tr+y+g+v+Y+s,1,L+vx+bx+n1+Fi+$t+y+g+v+Y+s,1,L+ju+mC+io+Fi+$t+y+g+v+Y+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+Y+s,1,x+R+" +lon_0=13"+Ve+tt+y+Xn+ei+XH+A+s,1,x+" +lat_0=24.45"+ZW+Xc+ye+bA+ft+XV+A+s,1,U+kA+dt+te+kM+A+s,2,x+wQ+" +lon_0=41.53333333333333 +k=1 +x_0=1300000"+y+$+Yt+A+s,1,x+wQ+" +lon_0=44.53333333333333 +k=1"+MN+y+$+Yt+A+s,1,x+wQ+" +lon_0=47.53333333333333 +k=1"+SN+y+$+Yt+A+s,1,x+wQ+" +lon_0=50.53333333333333 +k=1"+TN+y+$+Yt+A+s,1,x+PU+" +lon_0=50.76666666666667 +k=1"+MN+y+$+Yt+A+s,1,x+PU+" +lon_0=53.76666666666667 +k=1"+SN+y+$+Yt+A+s,1,x+PU+" +lon_0=56.76666666666667 +k=1"+TN+y+$+Yt+A+s,1,U+ho+ft+OH+A+s,1,U+ho+ft+jH+A+s,2,x+R+cL+yt+Hn+y+g+v+A+s,1,x+R+rS+yt+Hn+y+g+v+A+s,1,x+R+oS+yt+Hn+y+g+v+A+s,1,x+R+hL+yt+Hn+y+g+v+A+s,1,x+R+Vh+yt+Hn+y+g+v+A+s,1,x+R+uL+yt+Hn+y+g+v+A+s,1,x+R+dL+yt+Hn+y+g+v+A+s,1,x+R+Hl+yt+Hn+y+g+v+A+s,1,qA+Wh+BN+fS+Pr+DN+g+v+A+s,1,qA+" +lat_0=47.25"+xw+fS+sn+Ms+g+v+A+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,U+Hs+g+v+A+s,2,Ps+" +lat_1=55"+dm+kS+K1+It+y+Jt+Y+s,1,x+dr+yg+_i+Ck+Zx+g+v+Y+s,1,x+dr+xg+_i+Wl+Zx+g+v+Y+s,1,x+dr+yg+_i+Ck+Zx+g+v+Y+s,1,x+dr+xg+_i+Wl+Zx+g+v+Y+s,1,U+cs+ft+qH+A+s,1,U+cs+ft+VH+A+s,1,U+Hr+ft+IU+A+s,1,U+Hr+g+v+A+s,1,U+cs+ft+uz+A+s,2,U+Zl+dt+g+v+A+s,1,U+oh+dt+ft+dz+A+s,1,U+fc+dt+ft+oH+A+s,1,U+pc+dt+ft+Bz+A+s,2,U+co+dt+ft+HH+A+s,1,U+gl+dt+ft+_H+A+s,6,U+Hs+Ke+xz+A+s,1,U+$h+dt+ft+zH+A+s,3,L+pl+MA+hl+ti+sn+y+g+v+A+s,1,L+pl+MA+hl+ti+qM+y+g+v+ve+s,1,L+pl+MA+hl+ti+sn+y+g+v+A+s,1,L+pl+MA+hl+ti+qM+y+g+v+ve+s,1,U+gl+dt+ft+yU+A+s,1,U+gl+dt+ft+$H+A+s,1,U+gl+dt+ft+tH+A+s,1,U+gl+dt+ft+aQ+A+s,1,U+co+dt+ft+WH+A+s,1,Ku+" +lon_0=110"+cv+vB+LB+te+kM+A+s,1,Ku+" +lon_0=110"+cv+vB+LB+te+Wy+A+s,1,Ku+" +lon_0=110"+cv+vB+LB+te+AQ+A+s,1,x+R+qo+Ve+jn+y+ft+IM+A+s,1,x+R+ir+Ve+" +x_0=2520000"+y+ft+IM+A+s,1,Ps+LS+" +lat_2=58.5"+Ko+" +lon_0=-126"+ss+y+g+v+A+s,1,U+$o+g+v+A+s,1,x+R+vo+" +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=13.5 +k=1"+rs+y+g+v+A+s,1,x+R+ir+" +k=1"+rs+y+g+v+A+s,1,x+R+FL+" +k=1"+rs+y+g+v+A+s,1,x+R+om+" +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=14.25 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=15.75 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=17.25 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=18.75 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=20.25 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=21.75 +k=1"+rs+y+g+v+A+s,1,x+R+" +lon_0=23.25 +k=1"+rs+y+g+v+A+s,1,x+R+KW+" +k=1"+jn+y+te+WI+A+s,1,x+R+XW+" +k=1"+jn+y+te+WI+A+s,1,x+R+jW+" +k=1"+jn+y+te+WI+A+s,1,x+R+qW+" +k=1"+jn+y+te+WI+A+s,1,x+R+$W+" +k=1"+jn+y+te+WI+A+s,1,x+R+tJ+" +k=1"+jn+y+te+WI+A+s,1,x+R+KW+" +k=1"+jn+y+te+A+s,1,x+R+XW+" +k=1"+jn+y+te+A+s,1,x+R+jW+" +k=1"+jn+y+te+A+s,1,x+R+qW+" +k=1"+jn+y+te+A+s,1,x+R+$W+" +k=1"+jn+y+te+A+s,1,x+R+tJ+" +k=1"+jn+y+te+A+s,1,Ji+de+" +lat_ts=-71"+ws+" +k=1"+It+y+bt+A+s,1,Ji+de+" +lat_ts=-71 +lon_0=70 +k=1"+BB+zc+bt+A+s,1,L+" +lat_1=-68.5 +lat_2=-74.5 +lat_0=-50 +lon_0=70"+BB+zc+bt+A+s,1,L+PS+dm+X0+th+F1+AS+g+v+A+s,1,BA+X0+th+cS+hS+g+v+A+s,1,U+Kl+dt+Oe+_Q+A+s,1,U+ta+dt+Oe+_Q+A+s,3,U+ho+g+v+A+s,1,U+jo+g+v+A+s,1,U+nh+g+v+A+s,1,U+sd+g+v+A+s,1,U+qr+g+v+A+s,1,U+$o+g+v+A+s,1,U+QA+g+v+A+s,1,U+Ia+g+v+A+s,1,U+Kl+g+v+A+s,1,U+ta+g+v+A+s,5,U+sh+ft+yQ+A+s,1,U+fm+ft+yQ+A+s,1,U+ho+ft+yQ+A+s,1,L+" +lat_1=64.25 +lat_2=65.75 +lat_0=65 +lon_0=-19"+tt+Yn+g+v+A+s,1,x+R+" +lon_0=-8.5 +k=1"+jc+" +y_0=-7800000"+ft+jV+A+s,1,x+R+bo+Ve+tt+" +y_0=-6000000"+g+v+A+s,1,U+gl+dt+ft+SH+A+s,1,U+ho+ft+uH+A+s,1,U+sh+ft+yH+A+s,1,U+sh+ft+pH+A+s,1,U+qr+Oe+v+A+s,1,U+$o+Oe+v+A+s,1,x+R+" +lon_0=37"+nv+tt+IN+ft+bs+A+s,1,U+Ia+g+v+A+s,1,er+" +lat_0=52.41864827777778 +lon_0=13.62720366666667"+im+" +y_0=10000"+te+bu+A+s,1,x+R+Fi+Ve+tt+" +y_0=-4500000"+Jt+A+s,1,x+R+Fi+Ve+UL+Xk+g+v+A+s,1,x+R+Fi+Ve+UL+Xk+g+v+A+s,1,x+io+Uk+nc+Zr+y+g+v+A+s,2,x+Ol+Nk+nc+xn+y+g+v+A+s,1,x+io+Uk+nc+Zr+y+g+v+A+s,2,x+Ol+Nk+nc+xn+y+g+v+A+s,1,vr+HQ+" +lonc=-86"+Qk+Ve+kk+Tk+ea+Lk+g+v+A+s,1,vr+HQ+" +lonc=-86"+Qk+Ve+kk+Tk+ea+Lk+g+v+A+s,1,L+eJ+nJ+iJ+Ls+" +x_0=914400 +y_0=914400"+Jt+ve+s,1,L+eJ+nJ+iJ+Ls+ss+Fn+g+v+A+s,1,L+LC+tE+df+Ls+jn+v0+g+v+A+s,1,Ps+LC+tE+df+Ls+jn+zc+g+v+A+s,1,L+LC+tE+df+Ls+jn+v0+g+v+A+s,1,Ps+LC+tE+df+Ls+jn+zc+g+v+A+s,1,Ps+" +lat_1=24"+NL+" +lat_0=24"+P0+sn+y+g+v+A+s,1,Ps+" +lat_1=24"+NL+" +lat_0=24"+P0+sn+y+g+v+A+s,1,L+Jx+Yx+Br+rl+jn+Fn+g+v+A+s,1,L+Jx+Yx+Br+rl+jn+Lu+g+v+Y+s,1,L+Jx+Yx+Br+rl+jn+Fn+g+v+A+s,1,L+Jx+Yx+Br+rl+jn+Lu+g+v+Y+s,1,U+Xl+te+Lr+A+s,1,U+LA+te+Lr+A+s,1,U+rh+te+Lr+A+s,1,U+cc+te+Lr+A+s,1,U+qh+te+Lr+A+s,1,U+Xl+g+v+A+s,1,U+LA+g+v+A+s,1,U+rh+g+v+A+s,1,U+cc+g+v+A+s,1,U+qh+g+v+A+s,1,L+" +lat_1=-14.26666666666667 +lat_0=-14.26666666666667"+mS+" +k_0=1"+Zn+" +y_0=95169.31165862332"+Ke+tz+Y+s,4,x+R+lo+Ve+tt+y+ro+so+FH+A+s,1,L+" +lat_1=-28"+C5+" +lat_0=-32"+mr+ss+Yr+g+v+A+s,1,x+dS+" +lon_0=-2.416666666666667 +k=0.999997 +x_0=47000"+XB+g+v+A+s,1,x+" +lat_0=49.225 +lon_0=-2.135 +k=0.9999999000000001"+im+" +y_0=70000"+g+v+A+s,1,L+" +lat_1=-36 +lat_2=-38 +lat_0=-37 +lon_0=145"+Pr+zl+$n+Mh+A+s,1,L+" +lat_1=-36 +lat_2=-38 +lat_0=-37 +lon_0=145"+Pr+rf+g+v+A+s,1,L+" +lat_1=-18"+C5+R+" +lon_0=134"+It+y+g+v+A+s,1,x+" +lat_0=-28"+N0+Xc+jc+Mr+g+v+A+s,1,x+GM+" +lon_0=-80.07750791666666 +k=1"+ss+Fn+g+v+A+s,1,x+GM+" +lon_0=-77.07750791666666 +k=1"+ss+Fn+g+v+A+s,1,x+GM+" +lon_0=-74.07750791666666 +k=1"+ss+Fn+g+v+A+s,1,x+GM+" +lon_0=-71.07750791666666 +k=1"+ss+Fn+g+v+A+s,1,x+GM+" +lon_0=-68.07750791666666 +k=1"+ss+Fn+g+v+A+s,1,x+R+OL+" +k=0.999"+ss+Fn+ft+DH+A+s,1,qA+" +lat_0=50.625 +lon_0=21.08333333333333"+nv+" +x_0=4637000 +y_0=5467000"+$+kr+A+s,1,x+R+gr+Yi+tt+y+Ke+nB+A+s,1,x+R+E5+Yi+tt+y+Ke+nB+A+s,1,x+R+I5+Yi+tt+y+Ke+nB+A+s,1,x+R+Sr+Yi+tt+y+Ke+nB+A+s,1,x+R+WB+Yi+tt+y+Ke+nB+A+s,1,x+R+ZC+" +k=1"+tt+y+g+v+A+s,1,x+R+sv+" +k=1"+tt+y+g+v+A+s,1,x+R+rr+" +k=1"+tt+y+g+v+A+s,1,x+R+FS+" +k=1"+tt+y+g+v+A+s,1,x+R+Iw+" +k=1"+tt+y+g+v+A+s,1,x+R+bo+" +k=1"+tt+y+g+v+A+s,1,x+R+KC+" +k=1"+tt+y+g+v+A+s,1,x+R+rv+" +k=1"+tt+y+g+v+A+s,1,x+R+Ur+" +k=1"+tt+y+g+v+A+s,1,x+R+eE+" +k=1"+tt+y+g+v+A+s,1,x+R+" +lon_0=29 +k=1"+tt+y+g+v+A+s,1,x+R+xa+" +k=1"+tt+y+g+v+A+s,1,x+R+rm+" +k=1"+tt+y+g+v+A+s,2,er+" +lat_0=-18 +lon_0=178 +x_0=109435.392 +y_0=141622.272"+fN+gN+TU+" +to_meter=0.201168"+s,1,U+jh+dt+ft+pU+A+s,1,U+$h+dt+ft+pU+A+s,6,U+jl+ro+so+pQ+A+s,1,U+ql+ro+so+pQ+A+s,3,x+R+" +lon_0=18.05779 +k=0.99999425 +x_0=100178.1808 +y_0=-6500614.7836"+g+v+A+s,1,Ps+LS+" +lat_2=58.5"+Ko+" +lon_0=-126"+ss+y+g+v+A+s,1,U+pc+g+v+A+s,1,U+ld+g+v+A+s,1,U+Ad+g+v+A+s,1,U+rd+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,L+VL+" +lat_2=53.5"+R+jB+" +x_0=930000 +y_0=6430000"+g+v+A+s,1,L+VL+" +lat_2=53.5"+R+jB+" +x_0=930000 +y_0=6430000"+g+v+A+s,1,L+" +lat_1=-20.66666666666667 +lat_2=-22.33333333333333 +lat_0=-21.5"+w5+sn+bA+g+v+A+s,1,U+gl+dt+Oe+IH+A+s,1,L+" +lat_1=-22.24469175 +lat_2=-22.29469175 +lat_0=-22.26969175 +lon_0=166.44242575 +x_0=0.66 +y_0=1.02"+ft+aQ+A+s,1,L+" +lat_1=-22.24472222222222 +lat_2=-22.29472222222222 +lat_0=-22.26972222222222 +lon_0=166.4425 +x_0=8.313000000000001 +y_0=-2.354"+ft+aQ+A+s,1,vr+pf+RN+gZ+JC+im+y+ea+tw+mN+oN+" +to_meter=20.116756"+s,1,vr+pf+RN+gZ+JC+" +x_0=804670.24"+y+ea+tw+mN+oN+A+s,1,U+pm+dt+g+v+A+s,1,U+gl+dt+g+v+A+s,1,U+rc+dt+g+v+A+s,1,U+rc+dt+ft+yU+A+s,2,Ps+" +lat_1=42.122774 +lat_2=49.01518 +lat_0=45.568977 +lon_0=-84.455955"+ss+Fn+g+v+A+s,1,Ps+" +lat_1=42.122774 +lat_2=49.01518 +lat_0=45.568977 +lon_0=-83.248627"+ss+Fn+g+v+A+s,1,x+R+m5+Ve+tt+y+ro+so+pQ+A+s,1,x+R+tv+" +k=0.9965000000000001"+ss+y+ft+ZA+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,U+Hs+g+v+A+s,1,U+Hr+g+v+A+s,1,U+ml+g+v+A+s,1,U+uc+g+v+A+s,1,U+oc+g+v+A+s,1,U+sh+g+v+A+s,1,U+fm+g+v+A+s,1,U+ho+g+v+A+s,1,U+jo+g+v+A+s,1,x+R+qo+Yi+ye+y+ft+ZA+A+s,1,x+R+" +lon_0=11"+Yi+ye+y+ft+ZA+A+s,1,x+R+" +lon_0=13"+Yi+ye+y+ft+ZA+A+s,1,x+R+ir+Yi+ye+y+ft+ZA+A+s,1,x+R+tv+Yi+ye+y+ft+ZA+A+s,1,x+R+ZC+Yi+ye+y+ft+ZA+A+s,1,x+R+rr+Yi+ye+y+ft+ZA+A+s,1,x+R+Iw+Yi+ye+y+ft+ZA+A+s,1,x+R+KC+Yi+ye+y+ft+ZA+A+s,1,U+qr+ft+ZA+A+s,1,L+PB+S0+fl+eN+jn+QN+_e+wH+A+s,1,U+$o+ft+ZA+A+s,1,U+QA+ft+ZA+A+s,1,U+Ia+ft+ZA+A+s,1,L+FU+UU+de+HC+It+y+bt+A+s,1,L+FU+UU+de+V0+It+y+bt+A+s,1,L+FU+UU+de+" +lon_0=-42"+It+y+bt+A+s,1,L+Pc+Fc+de+pS+It+y+bt+A+s,1,L+Pc+Fc+de+HC+It+y+bt+A+s,1,L+Pc+Fc+de+V0+It+y+bt+A+s,1,L+Pc+Fc+de+z0+It+y+bt+A+s,1,L+Pc+Fc+de+_w+It+y+bt+A+s,1,L+Pc+Fc+de+iv+It+y+bt+A+s,1,L+Pc+Fc+de+$c+It+y+bt+A+s,1,L+Pc+Fc+de+lo+It+y+bt+A+s,1,L+Pc+Fc+de+Zc+It+y+bt+A+s,1,L+Pc+Fc+de+TA+It+y+bt+A+s,1,L+Pc+Fc+de+Kc+It+y+bt+A+s,1,L+Pc+Fc+de+ZB+It+y+bt+A+s,1,L+Pc+Fc+de+nm+It+y+bt+A+s,1,L+Pc+Fc+de+Cw+It+y+bt+A+s,1,L+Vo+Ho+de+" +lon_0=-102"+It+y+bt+A+s,1,L+Vo+Ho+de+Fi+It+y+bt+A+s,1,L+Vo+Ho+de+" +lon_0=-78"+It+y+bt+A+s,1,L+Vo+Ho+de+HC+It+y+bt+A+s,1,L+Vo+Ho+de+" +lon_0=-18"+It+y+bt+A+s,1,L+Vo+Ho+de+" +lon_0=-6"+It+y+bt+A+s,1,L+Vo+Ho+de+Av+It+y+bt+A+s,1,L+Vo+Ho+de+om+It+y+bt+A+s,1,L+Vo+Ho+de+xa+It+y+bt+A+s,1,L+Vo+Ho+de+z0+It+y+bt+A+s,1,L+Vo+Ho+de+_w+It+y+bt+A+s,1,L+Vo+Ho+de+iv+It+y+bt+A+s,1,L+Vo+Ho+de+$c+It+y+bt+A+s,1,L+Vo+Ho+de+lo+It+y+bt+A+s,1,L+Vo+Ho+de+Zc+It+y+bt+A+s,1,L+Vo+Ho+de+TA+It+y+bt+A+s,1,L+Vo+Ho+de+Kc+It+y+bt+A+s,1,L+Vo+Ho+de+ZB+It+y+bt+A+s,1,L+Vo+Ho+de+nm+It+y+bt+A+s,1,L+Vo+Ho+de+Cw+It+y+bt+A+s,1,L+Vo+Ho+de+MS+It+y+bt+A+s,1,L+ja+Qa+de+HL+It+y+bt+A+s,1,L+ja+Qa+de+zL+It+y+bt+A+s,1,L+ja+Qa+de+T0+It+y+bt+A+s,1,L+ja+Qa+de+Yc+It+y+bt+A+s,1,L+ja+Qa+de+ji+It+y+bt+A+s,1,L+ja+Qa+de+xw+It+y+bt+A+s,1,L+ja+Qa+de+" +lon_0=-27"+It+y+bt+A+s,1,L+ja+Qa+de+" +lon_0=-9"+It+y+bt+A+s,1,L+ja+Qa+de+qo+It+y+bt+A+s,1,L+ja+Qa+de+Ur+It+y+bt+A+s,1,L+ja+Qa+de+fl+It+y+bt+A+s,1,L+ja+Qa+de+hm+It+y+bt+A+s,1,L+ja+Qa+de+Gr+It+y+bt+A+s,1,L+ja+Qa+de+Vr+It+y+bt+A+s,1,L+ja+Qa+de+gr+It+y+bt+A+s,1,L+ja+Qa+de+mr+It+y+bt+A+s,1,L+ja+Qa+de+N0+It+y+bt+A+s,1,L+ja+Qa+de+td+It+y+bt+A+s,1,L+qa+$a+de+gS+It+y+bt+A+s,1,L+qa+$a+de+" +lon_0=-144"+It+y+bt+A+s,1,L+qa+$a+de+X1+It+y+bt+A+s,1,L+qa+$a+de+j1+It+y+bt+A+s,1,L+qa+$a+de+SS+It+y+bt+A+s,1,L+qa+$a+de+" +lon_0=-48"+It+y+bt+A+s,1,L+qa+$a+de+" +lon_0=-24"+It+y+bt+A+s,1,L+qa+$a+de+ws+It+y+bt+A+s,1,L+qa+$a+de+bo+It+y+bt+A+s,1,L+qa+$a+de+ww+It+y+bt+A+s,1,L+qa+$a+de+QS+It+y+bt+A+s,1,L+qa+$a+de+Xh+It+y+bt+A+s,1,L+qa+$a+de+Zh+It+y+bt+A+s,1,L+qa+$a+de+vS+It+y+bt+A+s,1,L+qa+$a+de+bS+It+y+bt+A+s,1,Ji+de+Ra+yS+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+zL+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+" +lon_0=-105 +k=1"+It+y+bt+A+s,1,Ji+de+Ra+TS+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+" +lon_0=-45 +k=1"+It+y+bt+A+s,1,Ji+de+Ra+" +lon_0=-15 +k=1"+It+y+bt+A+s,1,Ji+de+Ra+ir+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+fl+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+Nr+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+Gs+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+mr+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+G0+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+PC+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+Fi+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+" +lon_0=-30 +k=1"+It+y+bt+A+s,1,Ji+de+Ra+xa+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+lo+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+nm+" +k=1"+It+y+bt+A+s,1,Ji+de+Ra+ws+" +k=1"+It+y+bt+A+s,1,L+qa+$a+" +lat_0=-78"+Cw+It+y+bt+A+s,2,U+fc+dt+g+EM+A+s,1,U+oh+dt+g+EM+A+s,1,U+pc+dt+g+EM+A+s,1,U+ld+dt+g+EM+A+s,1,L+sJ+" +lat_2=58"+rJ+bo+tt+" +y_0=6375000"+g+aH+A+s,1,L+sJ+" +lat_2=58"+rJ+bo+tt+" +y_0=6375000"+g+v+A+s,1,U+pc+dt+ft+rH+A+s,1,U+pc+dt+ft+qV+A+s,1,U+oh+dt+ft+nH+A+s,1,U+oh+dt+ft+iH+A+s,1,U+fc+dt+ft+BH+A+s,1,U+jr+Oe+ez+A+s,1,L+" +lat_1=-30.75 +lat_2=-35.75 +lat_0=-33.25"+em+" +x_0=9300000"+zl+g+v+A+s,1,Ps+US+xS+R+X1+It+iS+Jt+A+s,1,Ps+US+xS+R+X1+It+iS+g+v+A+s,1,Ps+US+xS+R+X1+It+iS+g+v+A+s,1,U+Hs+ft+IU+A+s,1,U+Hs+g+v+A+s,3,x+R+FS+yt+tt+ki+_e+A+s,1,x+R+bo+yt+tt+ki+_e+A+s,1,x+R+vo+yt+tt+ki+_e+A+s,1,x+R+" +lon_0=14"+yt+tt+ki+_e+A+s,1,x+R+" +lon_0=16"+yt+tt+ki+_e+A+s,1,x+R+om+yt+tt+ki+_e+A+s,1,x+R+sv+yt+tt+ki+_e+A+s,1,x+R+FS+yt+tt+ki+_e+A+s,1,x+R+bo+yt+tt+ki+_e+A+s,1,x+R+rv+yt+tt+ki+_e+A+s,1,x+R+eE+yt+tt+ki+_e+A+s,1,x+R+xa+yt+tt+ki+_e+A+s,1,qA+" +lat_0=52.16666666666666 +lon_0=19.16666666666667 +k=0.999714"+tt+Yn+$+kr+A+s,1,x+R+ir+" +k=1"+ma+y+$+kr+A+s,1,x+R+om+" +k=1"+B0+y+$+kr+A+s,1,x+R+rr+" +k=1"+Hh+y+$+kr+A+s,1,x+R+bo+" +k=1"+cC+y+$+kr+A+s,1,x+R+ir+" +k=1"+ks+y+$+kr+A+s,1,x+R+rr+" +k=1"+oo+y+$+kr+A+s,1,x+R+Ur+" +k=1"+ma+y+$+kr+A+s,1,U+q0+dt+ft+nz+A+s,1,L+" +lat_1=-20.19506944444445 +lat_0=-20.19506944444445 +lon_0=57.52182777777778 +k_0=1"+ss+Fn+_e+RH+A+s,1,Ps+" +lat_1=55"+dm+kS+K1+It+y+g+v+A+s,1,x+R+vo+yt+tt+ki+_e+vM+A+s,1,x+R+" +lon_0=14"+yt+tt+ki+_e+vM+A+s,1,x+R+" +lon_0=16"+yt+tt+ki+_e+vM+A+s,1,U+$o+dt+_e+vM+A+s,1,U+ho+g+v+A+s,1,U+jo+g+v+A+s,1,U+nh+g+v+A+s,1,x+R+bo+nv+tt+y+g+v+A+s,1,L+ic+Mo+" +lat_0=63.390675"+bz+" +x_0=6200000"+La+g+v+A+s,1,L+ic+Mo+" +lat_0=63.390675"+bz+" +x_0=6200000"+La+g+v+A+s,2,x+" +lat_0=0.1 +lon_0=21.95 +k=1"+As+y+$+Yt+A+s,1,x+" +lat_0=0.1 +lon_0=24.95 +k=1 +x_0=1250000"+y+$+Yt+A+s,1,x+" +lat_0=0.1 +lon_0=27.95 +k=1 +x_0=2250000"+y+$+Yt+A+s,1,U+qr+dt+ft+A+s,1,U+qr+dt+ft+A+s,1,x+or+rm+" +k=1 +x_0=615000 +y_0=810000"+Fh+QH+A+s,3,L+rx+ox+P1+F0+Gk+y+g+v+A+s,2,L+fx+vC+jg+ji+bC+y+g+v+A+s,1,L+fx+vC+jg+ji+bC+y+g+v+ve+s,1,L+fC+dx+Nl+al+$t+y+g+v+A+s,1,L+fC+dx+Nl+al+$t+y+g+v+Y+s,1,L+Kg+Xg+cr+al+$t+y+g+v+A+s,1,L+Kg+Xg+cr+al+$t+y+g+v+Y+s,2,U+ho+_e+A+s,1,U+jo+_e+A+s,1,U+nh+_e+A+s,1,U+rc+Jt+A+s,1,U+jh+Jt+A+s,1,U+rc+g+v+A+s,1,U+jh+g+v+A+s,1,U+jo+ft+A+s,1,vr+pf+RN+" +alpha=323.0257964666666"+JC+" +x_0=804671"+y+ea+tw+g+A+s,1,vr+pf+NS+mZ+JC+It+y+ea+OM+g+A+s,1,er+" +lat_0=2.121679744444445 +lon_0=103.4279362361111 +x_0=-14810.562 +y_0=8758.32"+g+A+s,1,er+" +lat_0=2.682347636111111 +lon_0=101.9749050416667 +x_0=3673.785 +y_0=-4240.573"+g+A+s,1,er+" +lat_0=3.769388088888889 +lon_0=102.3682989833333 +x_0=-7368.228 +y_0=6485.858"+g+A+s,1,er+" +lat_0=3.68464905 +lon_0=101.3891079138889 +x_0=-34836.161 +y_0=56464.049"+g+A+s,1,er+" +lat_0=4.9762852 +lon_0=103.070275625 +x_0=19594.245 +y_0=3371.895"+g+A+s,1,er+" +lat_0=5.421517541666667 +lon_0=100.3443769638889 +x_0=-23.414 +y_0=62.283"+g+A+s,1,er+" +lat_0=5.964672713888889 +lon_0=100.6363711111111"+It+y+g+A+s,1,er+" +lat_0=4.859063022222222 +lon_0=100.8154105861111 +x_0=-1.769 +y_0=133454.779"+g+A+s,1,er+" +lat_0=5.972543658333334 +lon_0=102.2952416694444 +x_0=13227.851 +y_0=8739.894"+g+A+s,1,x+R+om+" +k=1"+tt+y+ft+zI+A+s,1,x+R+Bo+" +k=1"+ma+y+ft+zI+A+s,1,Ku+Z0+" +lat_ts=42"+It+y+$+Yt+A+s,1,x+R+KB+" +k=1 +x_0=60500000"+y+$+Yt+A+s,1,x+R+KB+" +k=1 +x_0=60500000"+y+$+jt+A+s,1,U+ta+_e+wM+A+s,1,U+co+_e+wM+A+s,1,U+jr+_e+wM+A+s,1,L+PB+S0+fl+eN+jn+QN+_e+A+s,1,Ku+ws+" +k=1"+It+y+bt+A+s,1,x+R+qo+" +k=1"+ks+y+te+A+s,1,x+R+vo+" +k=1"+oo+y+te+A+s,1,x+R+vo+" +k=1"+oo+y+te+A+s,1,x+R+ir+" +k=1"+ma+y+te+A+s,1,x+R+CS+" +k=0.9992"+tt+y+g+v+A+s,1,x+R+CS+" +k=0.9992"+It+y+g+v+A+s,1,x+R+CS+" +k=0.9992"+tt+y+g+v+A+s,1,x+R+CS+" +k=0.9992"+It+y+g+v+A+s,1,L+rx+ox+P1+F0+Bn+y+g+v+Y+s,1,U+jl+Oe+cU+A+s,1,U+ql+Oe+cU+A+s,1,er+JW+YW+" +x_0=40243.57775604237 +y_0=19069.93351512578"+E0+I0+xk+s,1,BA+Ao+ws+It+y+_5+B5+A+s,1,BA+de+ws+It+y+_5+B5+A+s,1,"+proj=cea"+ws+" +lat_ts=30"+It+y+_5+B5+A+s,1,Ji+Ao+" +lat_ts=70 +lon_0=-45 +k=1"+It+y+v5+Ok+A+s,1,Ji+de+" +lat_ts=-70"+ws+" +k=1"+It+y+v5+Ok+A+s,1,Ji+Ao+" +lat_ts=70 +lon_0=-45 +k=1"+It+y+bt+A+s,1,x+" +lat_0=1.366666666666667 +lon_0=103.8333333333333 +k=1 +x_0=28001.642 +y_0=38744.572"+Oe+A+s,1,L+" +lat_1=18 +lat_2=24 +lat_0=21"+TA+tt+Yn+Lt+Ce+A+s,1,L+ic+ed+" +lat_0=47.5"+VM+sn+Yh+g+v+A+s,1,L+a1+l1+wo+cl+jn+Kx+g+v+Y+s,1,L+da+A1+Ss+cl+Rs+y+g+v+Y+s,1,L+c1+h1+zo+pr+Eo+y+g+v+Y+s,1,L+u1+d1+pi+br+Eo+tC+g+v+Y+s,1,x+ur+Ig+yt+eC+Ek+g+v+Y+s,1,x+ur+wg+yt+Rs+zc+g+v+Y+s,1,x+ur+_g+yt+fa+wk+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,L+a1+l1+wo+cl+jn+Kx+g+v+Y+s,1,L+da+A1+Ss+cl+Rs+y+g+v+Y+s,1,L+c1+h1+zo+pr+Eo+y+g+v+Y+s,1,L+u1+d1+pi+br+Eo+tC+g+v+Y+s,1,x+ur+Ig+yt+eC+Ek+g+v+Y+s,1,x+ur+wg+yt+Rs+zc+g+v+Y+s,1,x+ur+_g+yt+fa+wk+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,L+i1+s1+Gl+dl+Eo+y+g+v+Y+s,1,L+r1+Y1+o1+dl+Eo+tC+g+v+Y+s,1,x+pi+gg+C0+nl+y+g+v+Y+s,1,x+pi+mg+Xi+Ik+y+g+v+Y+s,1,x+_o+Bg+_i+nl+y+g+v+Y+s,1,x+f1+ll+AC+JM+y+g+v+Y+s,1,U+jr+_e+dU+A+s,1,U+Zl+_e+dU+A+s,1,L+i1+s1+Gl+dl+Eo+y+g+v+Y+s,1,L+r1+Y1+o1+dl+Eo+tC+g+v+Y+s,1,x+pi+gg+C0+nl+y+g+v+Y+s,1,x+pi+mg+Xi+Ik+y+g+v+Y+s,1,x+_o+Bg+_i+nl+y+g+v+Y+s,1,x+f1+ll+AC+JM+y+g+v+Y+s,1,L+zQ+WQ+" +lat_0=50.797815"+oJ+" +x_0=150328 +y_0=166262"+g+v+A+s,1,L+" +lat_1=18"+df+qu+" +k_0=1"+WL+" +y_0=650000"+Oe+v+A+s,1,U+Tr+Oe+v+A+s,1,U+Vs+Oe+v+A+s,1,L+Tx+Dx+Wc+Hc+g1+y+g+v+Y+s,1,L+TC+DC+RC+Su+g1+y+g+v+Y+s,1,L+Vd+Hd+" +lat_0=25.5"+Su+g1+y+g+v+Y+s,2,L+kC+Hx+p1+Xa+$t+y+g+v+Y+s,1,L+Tx+Dx+Wc+Hc+g1+y+g+v+Y+s,1,L+TC+DC+RC+Su+g1+y+g+v+Y+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+Y+s,1,L+kC+Hx+p1+Xa+$t+y+g+v+Y+s,1,x+" +lat_0=-17 +lon_0=178.75 +k=0.99985"+ds+U1+Lt+xe+A+s,1,U+ho+Xn+ei+DU+A+s,1,U+jo+Xn+ei+DU+A+s,1,x+JL+Vk+nc+tt+y+g+v+A+s,1,x+JL+Vk+nc+tt+y+g+v+A+s,1,x+Wc+PM+OC+ye+y+g+v+A+s,1,x+or+pw+Es+$t+y+g+v+A+s,1,Ps+" +lat_1=55"+dm+kS+K1+It+y+g+v+A+s,1,vr+" +lat_0=57"+JQ+YQ+yt+G1+ka+ea+tw+g+v+A+s,1,x+Ts+YL+yt+tt+y+g+v+A+s,1,x+Ts+ZL+yt+tt+y+g+v+A+s,1,x+Ts+PC+yt+tt+y+g+v+A+s,1,x+Ts+K1+yt+tt+y+g+v+A+s,1,x+Ts+lf+yt+tt+y+g+v+A+s,1,x+Ts+KL+yt+tt+y+g+v+A+s,1,x+Ts+XL+yt+tt+y+g+v+A+s,1,x+Ts+mS+yt+tt+y+g+v+A+s,1,L+ZQ+KQ+ov+jL+ss+y+g+v+A+s,1,x+ni+rg+yt+Kr+y+g+v+A+s,1,x+ni+rg+yt+Kr+y+g+v+ve+s,1,x+ni+sg+yt+Kr+y+g+v+A+s,1,x+ni+sg+yt+Kr+y+g+v+ve+s,1,x+ni+x1+Es+Kr+y+g+v+A+s,1,x+ni+x1+Es+Kr+y+g+v+ve+s,1,L+i1+s1+Gl+dl+sn+y+g+v+A+s,1,L+i1+s1+Gl+dl+Eo+y+g+v+Y+s,1,L+r1+Y1+o1+dl+sn+Yh+g+v+A+s,1,L+r1+Y1+o1+dl+Eo+tC+g+v+Y+s,1,Ps+US+xS+R+X1+It+iS+g+v+A+s,1,L+Tg+Yl+cr+ul+ds+Yn+g+v+A+s,1,L+Tg+Yl+cr+ul+Jr+qs+g+v+Y+s,1,L+Dg+Rg+_r+ul+ds+Yn+g+v+A+s,1,L+Dg+Rg+_r+ul+Jr+qs+g+v+Y+s,1,L+tl+Qg+V1+ti+ds+Yn+g+v+A+s,1,L+tl+Qg+V1+ti+Jr+qs+g+v+Y+s,1,L+D1+am+kg+H1+ds+Yn+g+v+A+s,1,L+D1+am+kg+H1+Jr+qs+g+v+Y+s,1,L+Lg+Pg+z1+Jh+ds+Yn+g+v+A+s,1,L+Lg+Pg+z1+Jh+Jr+qs+g+v+Y+s,1,L+Fg+Ug+Ng+C1+ds+Yn+g+v+A+s,1,L+Fg+Ug+Ng+C1+Jr+qs+g+v+Y+s,1,L+R1+Q1+c0+Qs+Fu+Uu+g+v+A+s,1,L+R1+Q1+c0+Qs+kh+Qu+g+v+Y+s,1,L+Yy+Zy+cr+Qs+Fu+Uu+g+v+A+s,1,L+Yy+Zy+cr+Qs+kh+Qu+g+v+Y+s,1,L+tl+Gg+pi+Qs+Fu+Uu+g+v+A+s,1,L+tl+Gg+pi+Qs+kh+Qu+g+v+Y+s,1,L+Og+W1+Vg+M1+Dk+Rk+g+v+A+s,1,L+Og+W1+Vg+M1+ck+hk+g+v+Y+s,1,x+Pi+og+J1+ye+y+g+v+A+s,1,x+Pi+og+J1+$s+y+g+v+Y+s,1,x+el+ji+Xi+ye+y+g+v+A+s,1,x+el+ji+Xi+$s+y+g+v+Y+s,1,Ps+" +lat_1=24"+NL+" +lat_0=24"+P0+sn+y+g+v+A+s,1,L+k1+Hg+lm+L1+$t+y+g+v+A+s,1,L+k1+Hg+lm+L1+$t+y+g+v+Y+s,1,x+el+$1+Xi+ye+y+g+v+A+s,1,x+el+$1+Xi+$s+y+g+v+Y+s,1,x+or+ag+yt+ye+y+g+v+A+s,1,x+or+ag+yt+$s+y+g+v+Y+s,1,x+or+lg+yt+Zr+y+g+v+A+s,1,x+or+lg+yt+ku+y+g+v+Y+s,1,x+Wi+Xu+il+tt+y+g+v+A+s,1,x+Wi+Xu+il+tr+y+g+v+Y+s,1,x+Wi+Ag+il+ye+y+g+v+A+s,1,x+Wi+Ag+il+$s+y+g+v+Y+s,1,x+Wi+E1+Es+Ns+y+g+v+A+s,1,x+Wi+E1+Es+uk+y+g+v+Y+s,1,x+pi+gg+C0+xn+y+g+v+A+s,1,x+pi+gg+C0+nl+y+g+v+Y+s,1,x+pi+mg+Xi+Zr+y+g+v+A+s,1,x+pi+mg+Xi+Ik+y+g+v+Y+s,1,x+dr+yg+_i+Li+Af+g+v+A+s,1,x+dr+yg+_i+Ck+Zx+g+v+Y+s,1,x+dr+xg+_i+Wl+Af+g+v+A+s,1,x+dr+xg+_i+Wl+Zx+g+v+Y+s,1,L+a1+l1+wo+cl+jn+Fn+g+v+A+s,1,L+a1+l1+wo+cl+jn+Kx+g+v+Y+s,1,L+da+A1+Ss+cl+tt+y+g+v+A+s,1,L+da+A1+Ss+cl+Rs+y+g+v+Y+s,1,L+c1+h1+zo+pr+sn+y+g+v+A+s,1,L+c1+h1+zo+pr+Eo+y+g+v+Y+s,1,L+u1+d1+pi+br+sn+Yh+g+v+A+s,1,L+u1+d1+pi+br+Eo+tC+g+v+Y+s,1,L+Fl+Sg+dr+v1+tt+y+g+v+A+s,1,L+Fl+Sg+dr+v1+tr+y+g+v+Y+s,1,L+Jx+Yx+Br+rl+jn+Fn+g+v+A+s,1,L+Jx+Yx+Br+rl+jn+Lu+g+v+Y+s,1,L+Ky+Xy+Br+rl+tt+Yn+g+v+A+s,1,L+Ky+Xy+Br+rl+tr+qs+g+v+Y+s,1,L+Tx+Dx+Wc+Hc+ss+y+g+v+A+s,1,L+Tx+Dx+Wc+Hc+g1+y+g+v+Y+s,1,L+TC+DC+RC+Su+ss+y+g+v+A+s,1,L+TC+DC+RC+Su+g1+y+g+v+Y+s,1,x+JL+Vk+nc+tt+y+g+v+A+s,1,x+io+Uk+nc+Zr+y+g+v+A+s,1,x+Ol+Nk+nc+xn+y+g+v+A+s,1,x+no+tc+yt+xn+y+g+v+A+s,1,x+Ol+Cg+_i+Wl+y+g+v+A+s,1,L+uC+IC+_r+qu+sn+y+g+v+A+s,1,L+da+zd+Ru+is+Rs+Kx+g+v+Y+s,1,x+NQ+Zk+_i+Zn+y+Ke+oB+Y+s,1,x+GQ+EQ+_i+Zn+y+Ke+oB+Y+s,1,x+XI+lf+Xc+Zn+y+Ke+oB+Y+s,1,x+OQ+Kk+Xc+Zn+y+Ke+oB+Y+s,1,x+VQ+IQ+" +k=1"+Zn+y+Ke+oB+Y+s,1,L+nf+Wd+zo+is+Rs+_k+g+v+Y+s,1,L+sf+Jd+pi+is+Rs+La+g+v+Y+s,1,L+da+zd+Ru+is+Rs+Kx+g+v+Y+s,1,L+nf+Wd+zo+is+Rs+_k+g+v+Y+s,1,L+sf+Jd+pi+is+Rs+La+g+v+Y+s,1,BA+Ao+KB+It+y+bt+A+s,1,BA+Ao+PC+It+y+bt+A+s,1,BA+Ao+Ls+It+y+bt+A+s,1,BA+Ao+" +lon_0=-40"+It+y+bt+A+s,1,BA+Ao+th+It+y+bt+A+s,1,BA+Ao+lo+It+y+bt+A+s,1,Ps+" +lat_1=-18"+C5+R+SA+It+y+g+v+A+s,1,Ps+aJ+" +lat_2=68 +lat_0=59 +lon_0=-132.5"+tt+Yn+g+v+A+s,1,Ps+aJ+" +lat_2=68 +lat_0=59 +lon_0=-132.5"+tt+Yn+g+v+A+s,1,L+" +lat_1=62 +lat_2=70"+R+" +lon_0=-112"+It+y+g+v+A+s,1,L+" +lat_1=62 +lat_2=70"+R+" +lon_0=-112"+It+y+g+v+A+s,1,L+uC+IC+_r+qu+dk+y+g+v+Y+s,1,L+qy+$y+Pa+Vh+tt+y+g+v+A+s,1,L+qy+$y+Pa+Vh+tr+y+g+v+Y+s,1,L+jy+zg+Pa+ll+ye+O1+g+v+A+s,1,L+jy+zg+Pa+ll+$s+O1+g+v+Y+s,1,L+wC+ix+sx+IA+BB+y+g+v+A+s,1,L+wC+ix+sx+IA+pk+y+g+v+ve+s,1,L+tx+ex+nx+Jc+gL+y+g+v+A+s,1,L+tx+ex+nx+Jc+fk+y+g+v+ve+s,1,vr+HQ+" +lonc=-86"+Qk+Ve+kk+Tk+ea+Lk+g+v+A+s,1,L+Du+_C+wo+IA+F1+y+g+v+A+s,1,L+Du+_C+wo+IA+Mk+y+g+v+ve+s,1,L+yC+kx+Ko+T1+Ns+Mr+g+v+A+s,1,L+Rx+Qx+Wh+Eg+Ns+Mr+g+v+A+s,1,L+Lx+Px+id+O0+Ns+Mr+g+v+A+s,1,x+vA+cg+Yi+xn+y+g+v+A+s,1,x+vA+cg+Yi+nl+y+g+v+Y+s,1,x+vA+Od+Yi+Zr+y+g+v+A+s,1,x+vA+Od+Yi+ku+y+g+v+Y+s,1,x+p0+Hc+Es+tt+y+g+v+A+s,1,x+p0+aS+Es+As+y+g+v+A+s,1,x+NM+lS+Xi+LL+y+g+v+A+s,1,L+ic+XC+dC+$d+$t+y+g+v+A+s,1,L+ic+XC+dC+$d+Pu+y+g+v+ve+s,1,L+pl+Yl+Fx+Ls+tt+y+g+v+A+s,1,x+ur+wg+yt+tt+zc+g+v+A+s,1,x+ur+wg+yt+Rs+zc+g+v+Y+s,1,x+ur+Ig+yt+ye+mL+g+v+A+s,1,x+ur+Ig+yt+eC+Ek+g+v+Y+s,1,x+ur+_g+yt+Ns+U1+g+v+A+s,1,x+ur+_g+yt+fa+wk+g+v+Y+s,1,x+_o+Bg+_i+xn+y+g+v+A+s,1,x+_o+Bg+_i+nl+y+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,x+ni+I1+yt+tt+y+g+v+A+s,1,x+ni+I1+yt+tr+y+g+v+Y+s,1,x+ni+hg+jd+BC+y+g+v+A+s,1,x+ni+hg+jd+BC+y+g+v+Y+s,1,x+ni+ug+w1+PL+y+g+v+A+s,1,x+ni+ug+w1+gk+y+g+v+Y+s,1,x+Ss+dg+di+As+y+g+v+A+s,1,x+Ss+dg+di+mk+y+g+v+Y+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+Y+s,1,L+Wg+Jg+Nl+tm+xn+y+g+v+A+s,1,L+Wg+Jg+Nl+tm+nl+y+g+v+Y+s,1,x+Ss+fg+di+kB+y+g+v+A+s,1,x+Ss+fg+di+yk+y+g+v+Y+s,1,L+rx+ox+P1+F0+Gk+y+g+v+A+s,1,L+rx+ox+P1+F0+Bn+y+g+v+Y+s,1,L+wA+ax+Ca+ol+$t+y+g+v+A+s,1,L+wA+ax+Ca+ol+Pu+y+g+v+ve+s,1,L+lx+Ax+Dh+ol+$t+y+g+v+A+s,1,L+lx+Ax+Dh+ol+Pu+y+g+v+ve+s,1,L+QC+Ux+Uc+Zo+$t+y+g+v+A+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+A+s,1,L+Yg+cx+Am+pr+$t+y+g+v+A+s,1,L+Yg+cx+Am+pr+$t+y+g+v+Y+s,1,L+hx+ux+Zg+pr+$t+y+g+v+A+s,1,L+hx+ux+Zg+pr+$t+y+g+v+Y+s,1,L+pl+MA+hl+ti+sn+y+g+v+A+s,1,L+pl+MA+hl+ti+qM+y+g+v+ve+s,1,L+W0+h0+no+ti+Pr+y+g+v+A+s,1,L+W0+h0+no+ti+XM+y+g+v+ve+s,1,L+J0+u0+Wi+ti+jn+y+g+v+A+s,1,L+J0+u0+Wi+ti+jM+y+g+v+ve+s,1,L+fC+dx+Nl+al+$t+y+g+v+A+s,1,L+fC+dx+Nl+al+$t+y+g+v+Y+s,1,L+Kg+Xg+cr+al+$t+y+g+v+A+s,1,L+Kg+Xg+cr+al+$t+y+g+v+Y+s,1,x+f1+ll+AC+Li+y+g+v+A+s,1,x+f1+ll+AC+JM+y+g+v+Y+s,1,L+fx+vC+jg+ji+bC+y+g+v+A+s,1,L+fx+vC+jg+ji+bC+y+g+v+ve+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+A+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+Y+s,1,L+kC+Hx+p1+Xa+$t+y+g+v+A+s,1,L+kC+Hx+p1+Xa+$t+y+g+v+Y+s,1,L+px+pC+Gl+uf+$t+y+g+v+A+s,1,L+px+pC+Gl+uf+$t+y+g+v+Y+s,1,L+xx+Cx+d0+Xa+Zr+La+g+v+A+s,1,L+xx+Cx+d0+Xa+ku+La+g+v+Y+s,1,Ps+LC+tE+df+Ls+jn+zc+g+v+A+s,1,L+LC+tE+df+Ls+jn+v0+g+v+A+s,1,L+gx+gC+cm+S1+ye+Fn+g+v+A+s,1,L+gx+gC+cm+S1+$s+Lu+g+v+Y+s,1,L+mx+yx+qg+br+$t+Yr+g+v+A+s,1,L+mx+yx+qg+br+$t+qx+g+v+Y+s,1,L+Vd+Hd+f0+br+xn+v0+g+v+A+s,1,L+Vd+Hd+f0+br+nl+vk+g+v+Y+s,1,L+Ex+Ix+$g+Yc+$t+U1+g+v+A+s,1,L+Ex+Ix+$g+Yc+$t+Bk+g+v+Y+s,1,L+nf+Wd+zo+is+tt+Yr+g+v+A+s,1,L+nf+Wd+zo+is+m1+cN+g+v+ve+s,1,L+nf+Wd+zo+is+Rs+_k+g+v+Y+s,1,L+da+zd+Ru+is+tt+Fn+g+v+A+s,1,L+da+zd+Ru+is+m1+iN+g+v+ve+s,1,L+da+zd+Ru+is+Rs+Kx+g+v+Y+s,1,L+sf+Jd+pi+is+tt+La+g+v+A+s,1,L+sf+Jd+pi+is+m1+hN+g+v+ve+s,1,L+sf+Jd+pi+is+Rs+La+g+v+Y+s,1,x+_o+N1+_1+tt+y+g+v+A+s,1,L+MC+wx+_r+Al+ks+Yr+g+v+A+s,1,L+MC+wx+_r+Al+$x+qx+g+v+Y+s,1,L+Fl+t1+Br+Al+ks+Fn+g+v+A+s,1,L+Fl+t1+Br+Al+$x+Lu+g+v+Y+s,1,L+wA+SC+Ca+pg+tt+y+g+v+A+s,1,L+wA+SC+Ca+pg+tr+y+g+v+Y+s,1,L+_x+Bx+e1+ti+tt+y+g+v+A+s,1,L+_x+Bx+e1+ti+tr+y+g+v+Y+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+A+s,1,L+zx+Wx+um+ji+$t+y+g+v+A+s,1,L+ju+mC+io+Fi+$t+y+g+v+A+s,1,L+ju+mC+io+Fi+$t+y+g+v+Y+s,1,L+vx+bx+n1+Fi+$t+y+g+v+A+s,1,L+vx+bx+n1+Fi+$t+y+g+v+Y+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+A+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+Y+s,1,x+R+Fi+Ve+UL+Xk+g+v+A+s,1,x+Is+vg+di+ye+y+g+v+A+s,1,x+Is+bg+di+sn+Mr+g+v+A+s,1,x+Is+B1+di+$t+y+g+v+A+s,1,x+Is+Mg+di+Ns+Mr+g+v+A+s,1,U+rc+g+v+A+s,1,U+jh+g+v+A+s,1,U+$h+g+v+A+s,1,U+ad+g+v+A+s,1,U+ep+g+v+A+s,1,U+cd+g+v+A+s,1,U+fc+g+v+A+s,1,U+oh+g+v+A+s,1,U+pc+g+v+A+s,1,U+ld+g+v+A+s,1,U+Ad+g+v+A+s,1,U+rd+g+v+A+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,x+" +lat_0=-21.11666666666667 +lon_0=55.53333333333333 +k=1 +x_0=160000"+XB+ft+JH+A+s,1,L+QC+Ux+Uc+Zo+$t+y+g+v+Y+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+Y+s,1,x+Is+vg+di+eC+y+g+v+Y+s,1,x+Is+bg+di+Eo+pa+g+v+Y+s,1,x+Is+B1+di+$t+y+g+v+Y+s,1,x+Is+Mg+di+fa+pa+g+v+Y+s,1,L+QC+Ux+Uc+Zo+$t+y+g+v+Y+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+Y+s,1,x+Is+vg+di+eC+y+g+v+Y+s,1,x+Is+bg+di+Eo+pa+g+v+Y+s,1,x+Is+B1+di+$t+y+g+v+Y+s,1,x+Is+Mg+di+fa+pa+g+v+Y+s,1,U+rd+g+v+A+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cd+g+v+A+s,1,U+fc+g+v+A+s,2,L+QC+Ux+Uc+Zo+$t+y+g+v+Y+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+Y+s,1,x+Is+vg+di+eC+y+g+v+Y+s,1,x+Is+bg+di+Eo+pa+g+v+Y+s,1,x+Is+B1+di+$t+y+g+v+Y+s,1,x+Is+Mg+di+fa+pa+g+v+Y+s,1,x+XI+lf+Xc+Rs+y+g+v+Y+s,1,x+XI+lf+Xc+Rs+y+g+v+Y+s,1,U+Hr+g+v+A+s,1,L+" +lat_1=-54 +lat_2=-54.75 +lat_0=-55 +lon_0=-37"+It+y+bt+A+s,1,x+" +lat_0=39.66825833333333 +lon_0=-8.133108333333334 +k=1"+It+y+g+v+A+s,1,x+b5+jk+" +k=1"+sn+Ms+g+v+A+s,1,x+R+FL+yt+tt+y+g+v+A+s,1,L+" +lat_1=45.91666666666666 +lat_2=43.08333333333334"+R+FL+It+y+g+v+A+s,1,U+$o+g+v+A+s,1,U+QA+g+v+A+s,1,U+cs+Ke+fz+A+s,1,x+" +lat_0=32 +lon_0=-64.75 +k=1 +x_0=550000"+Mr+Oe+v+A+s,1,x+R+cf+yt+It+y+Jt+A+s,1,x+R+Xu+yt+It+y+Jt+A+s,1,x+R+T0+yt+It+y+Jt+A+s,2,x+R+cf+yt+It+y+g+v+A+s,1,x+R+Xu+yt+It+y+g+v+A+s,1,x+R+T0+yt+It+y+g+v+A+s,2,x+R+cf+yt+It+y+g+v+A+s,1,x+R+Xu+yt+It+y+g+v+A+s,1,x+R+T0+yt+It+y+g+v+A+s,2,x+" +lat_0=-25.06855261111111 +lon_0=-130.1129671111111 +k=1 +x_0=14200 +y_0=15500"+Oe+v+A+s,1,U+Ad+dt+ft+Cz+A+s,4,x+R+w5+" +k=1"+ks+ki+g+v+A+s,1,x+R+" +lon_0=169 +k=1"+ks+ki+g+v+A+s,1,x+R+" +lon_0=179 +k=1"+ks+ki+g+v+A+s,1,x+R+" +lon_0=-178 +k=1"+ks+ki+g+v+A+s,2,x+R+jk+" +k=1"+ks+ki+g+v+A+s,1,x+R+ir+yt+tt+ka+g+v+A+s,1,L+" +lat_1=23 +lat_2=21.7 +lat_0=22.35"+ji+tt+" +y_0=280296.016"+Jt+A+s,1,L+" +lat_1=21.3 +lat_2=20.13333333333333 +lat_0=20.71666666666667 +lon_0=-76.83333333333333"+tt+" +y_0=229126.939"+Jt+A+s,1,L+LS+ed+ya+" +lon_0=-70"+Ns+y+Jt+A+s,1,L+LS+ed+ya+" +lon_0=-70"+Ns+y+g+v+A+s,1,L+LS+ed+ya+" +lon_0=-70"+Ns+y+g+v+A+s,1,x+R+X1+yt+It+y+Jt+A+s,1,x+R+X1+yt+It+y+g+v+A+s,1,x+R+X1+yt+It+y+g+v+A+s,10,L+zQ+WQ+" +lat_0=50.797815"+oJ+" +x_0=649328 +y_0=665262"+g+v+A+s,2,x+S0+qk+yL+tt+bB+g+v+A+s,1,x+S0+qk+yL+tt+bB+g+v+A+s,1,x+S0+qk+yL+tt+bB+g+v+A+s,3,rt+te+" +towgs84=595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"+s,2,rt+$n+s,3,rt+g+v+s,1,x+R+E5+yt+As+y+g+v+A+s,1,x+R+I5+yt+As+y+g+v+A+s,1,x+R+E5+yt+As+y+$n+A+s,1,x+R+I5+yt+As+y+$n+A+s,1,U+Xl+ft+UH+A+s,3,Ku+nm+" +k=1"+It+y+bt+A+s,1,x+R+qo+" +k=1"+Pr+y+$+kr+A+s,1,x+R+qo+" +k=1"+Pr+y+$+KA+A+s,1,x+R+ir+" +k=1"+ks+y+$+KA+A+s,1,x+R+rr+" +k=1"+oo+y+$+KA+A+s,1,x+R+qo+" +k=1"+ks+y+$+kr+A+s,1,x+R+vo+" +k=1"+oo+y+$+kr+A+s,1,x+R+Ur+" +k=1"+hC+y+$+kr+A+s,1,x+R+xa+" +k=1"+oC+y+$+kr+A+s,1,x+R+om+" +k=1"+B0+y+$+KA+A+s,3,qA+" +lat_0=46"+KC+JB+tt+Yn+$+kr+A+s,1,x+R+" +lon_0=11.30625 +k=1.000006 +x_0=1500025.141 +y_0=-667.282"+g+v+A+s,1,x+R+" +lon_0=13.55626666666667 +k=1.0000058 +x_0=1500044.695 +y_0=-667.13"+g+v+A+s,1,x+R+" +lon_0=15.80628452944445 +k=1.00000561024 +x_0=1500064.274 +y_0=-667.711"+g+v+A+s,1,x+R+" +lon_0=18.0563 +k=1.0000054 +x_0=1500083.521 +y_0=-668.8440000000001"+g+v+A+s,1,x+R+" +lon_0=20.30631666666667 +k=1.0000052 +x_0=1500102.765 +y_0=-670.706"+g+v+A+s,1,x+R+" +lon_0=22.55633333333333 +k=1.0000049 +x_0=1500121.846 +y_0=-672.557"+g+v+A+s,1,L+" +lat_1=-37.5 +lat_2=-44.5 +lat_0=-41 +lon_0=173"+kN+" +y_0=7000000"+g+v+A+s,1,L+qa+$a+de+" +lon_0=157"+tt+y+g+v+A+s,2,x+R+" +lon_0=18.05787 +k=0.99999506 +x_0=100182.7406 +y_0=-6500620.1207"+g+v+A+s,3,Ku+" +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0"+y+" +k=1.0"+A+" +nadgrids=@null +wktext "+s,16,x+R+ZC+" +k=1"+Gu+y+g+v+A+s,1,x+R+sv+" +k=1"+Gh+y+g+v+A+s,1,x+R+rr+" +k=1"+Hu+y+g+v+A+s,1,x+R+FS+" +k=1"+Oh+y+g+v+A+s,1,x+R+Iw+" +k=1"+zu+y+g+v+A+s,1,x+R+bo+" +k=1"+lC+y+g+v+A+s,1,x+R+KC+" +k=1"+Wu+y+g+v+A+s,1,x+R+rv+" +k=1"+Ju+y+g+v+A+s,1,x+R+Ur+" +k=1"+Yu+y+g+v+A+s,1,x+R+eE+" +k=1"+Zu+y+g+v+A+s,1,x+R+" +lon_0=29 +k=1"+Vc+y+g+v+A+s,1,x+R+xa+" +k=1"+tf+y+g+v+A+s,1,x+R+rm+" +k=1"+$A+y+g+v+A+s,4,rt+g+v+s,1,U+ta+g+v+A+s,1,U+co+g+v+A+s,1,U+jr+g+v+A+s,1,x+lJ+" +lon_0=46.5 +k=0.9994"+Ns+y+ft+bs+A+s,13,rt+te+Lc+s,6,x+R+ir+yt+tt+ka+te+Lc+A+s,8,U+cs+Ke+xQ+A+s,22,L+" +lat_1=41.25 +lat_2=42.75"+Y0+ih+b0+fL+g+v+A+s,1,L+" +lat_1=42.25 +lat_2=43.75"+id+ih+b0+" +y_0=2200000"+g+v+A+s,1,L+" +lat_1=43.25 +lat_2=44.75"+ya+ih+b0+" +y_0=3200000"+g+v+A+s,1,L+" +lat_1=44.25 +lat_2=45.75"+Ko+ih+b0+" +y_0=4200000"+g+v+A+s,1,L+" +lat_1=45.25 +lat_2=46.75 +lat_0=46"+ih+b0+" +y_0=5200000"+g+v+A+s,1,L+LN+" +lat_2=47.75"+Ca+ih+b0+" +y_0=6200000"+g+v+A+s,1,L+" +lat_1=47.25 +lat_2=48.75 +lat_0=48"+ih+b0+" +y_0=7200000"+g+v+A+s,1,L+" +lat_1=48.25 +lat_2=49.75 +lat_0=49"+ih+b0+" +y_0=8200000"+g+v+A+s,1,L+" +lat_1=49.25 +lat_2=50.75"+kS+ih+b0+" +y_0=9200000"+g+v+A+s,18,L+" +lat_1=37"+qL+Os+Hl+It+y+g+v+A+s,1,L+" +lat_1=37"+qL+Os+Hl+It+y+g+v+A+s,1,L+" +lat_1=37"+qL+Os+Hl+It+y+g+v+A+s,6,Ji+de+" +lat_ts=-70"+ws+" +k=1"+It+y+bt+A+s,2,L+ic+Mo+" +lat_0=49 +lon_0=-95"+It+y+g+v+A+s,1,L+ic+Mo+" +lat_0=49 +lon_0=-95"+It+y+g+v+A+s,7,x+GS+xa+" +k=1"+ye+Yn+Ke+sB+A+s,1,x+GS+eE+" +k=1"+ye+Yn+Ke+sB+A+s,1,x+GS+rv+" +k=1"+ye+Yn+Ke+sB+A+s,1,x+GS+bo+" +k=1"+ye+Yn+Ke+sB+A+s,2,L+jI+qI+$I+KI+Zn+y+Ke+xQ+Y+s,1,L+jI+qI+$I+KI+Zn+nN+Ke+xQ+Y+s,2,Ku+" +lon_0=100 +lat_ts=-41"+It+y+bt+A+s,1,Ji+Ao+" +lat_ts=71"+ws+" +k=1"+It+y+bt+A+s,1,Ji+Ao+" +lat_ts=75"+ws+" +k=1"+It+y+bt+A+s,1,x+R+" +lon_0=55.33333333333334 +k=1"+tt+y+bt+A+s,4,rt+gw+s,1,rt+tS+s,1,rt+$n+s,1,rt+te+s,1,rt+qd+Kd+s,1,rt+Xd+s,1,rt+E0+I0+s,1,rt+Ke+s,2,rt+xB+CB+s,1,rt+Xn+ei+s,1,rt+_e+s,1,rt+hr+sl+s,1,rt+Xn+" +b=6356514.996941779"+s,1,rt+ro+so+s,1,rt+iw+s,2,rt+Gc+Nc+s,1,rt+g+s,1,rt+Fh+s,1,rt+Jl+Vl+s,1,rt+ft+s,1,rt+g+v+s,0,rt+g+v+s,1,rt+$+s,1,rt+PN+s,1,x+R+" +lon_0=28.4 +k=0.9999400000000001"+ye+ka+g+v+A+s,1,rt+" +a=6376523"+aN+s,1,rt+_N+rN+s,1,rt+yw+ew+s,1,rt+Oe+s,1,rt+Oe+s,1,rt+" +a=6378136.2 +b=6356751.516927429"+s,1,rt+" +a=6378136.3 +b=6356751.616592146"+s,1,rt+lN+AN+s,2,rt+FN+s,1,U+Ia+bt+A+s,1,U+Kl+bt+A+s,3,rt+VC+jx+s,1,rt+iC+nC+s,1,rt+Lt+s,1,rt+sw+nw+s,1,rt+Uh+Lh+s,1,rt+g+v+s,1,rt+" +a=6371007 +b=6371007"+s,1,x+R+vo+yt+tt+ki+g+v+A+s,1,x+R+" +lon_0=14"+yt+tt+ki+g+v+A+s,1,x+R+" +lon_0=16"+yt+tt+ki+g+v+A+s,1,x+R+om+yt+tt+ki+g+v+A+s,1,rt+" +a=6370997 +b=6370997"+s,1,rt+_5+B5+s,1,rt+v5+Ok+s,2,x+R+sv+yt+tt+ki+g+v+A+s,1,x+R+FS+yt+tt+ki+g+v+A+s,1,x+R+bo+yt+tt+ki+g+v+A+s,1,x+R+rv+yt+tt+ki+g+v+A+s,1,x+R+eE+yt+tt+ki+g+v+A+s,1,U+$o+dt+g+v+A+s,1,U+QA+dt+g+v+A+s,1,U+Ia+dt+g+v+A+s,8,U+ml+dt+ft+iz+A+s,4,rt+g+v+s,6,rt+g+v+s,1,U+fm+g+v+A+s,1,U+ho+g+v+A+s,4,"+proj=eqc +lat_ts=0"+R+ws+It+y+bt+A+s,1,"+proj=eqc +lat_ts=0"+R+ws+It+y+" +a=6371007 +b=6371007"+A+s,5,x+R+qo+nc+ye+ka+g+v+A+s,1,x+R+th+nc+sn+ka+g+v+A+s,1,x+R+" +lon_0=11.75"+nc+$t+ka+g+v+A+s,1,x+R+ir+" +k=1"+Ns+ka+g+v+A+s,24,rt+te+s,1,rt+g+MH+s,1,rt+VC+jx+s,1,rt+ft+zI+s,1,rt+te+WI+s,3,rt+Ke+fU+s,1,rt+Ke+s,1,rt+Ke+s,1,rt+Oe+_Q+s,1,rt+ro+so+pQ+s,1,rt+_e+wH+s,1,rt+g+aH+s,1,rt+_e+dU+s,1,rt+Ke+oB+s,1,rt+Ke+s,1,rt+Ke+s,1,rt+Ke+s,1,rt+Ke+xQ+s,2,rt+g+_z+s,1,rt+_e+fQ+s,1,rt+_e+hQ+s,1,rt+ro+so+gQ+s,1,rt+sw+nw+AB+s,1,rt+Uh+Lh+Mu+s,1,rt+$+oQ+s,1,rt+Oe+v+s,1,rt+te+MM+s,1,rt+te+xH+s,1,rt+g+v+s,1,rt+g+v+s,1,rt+ft+CH+s,1,rt+ft+SM+s,1,rt+Xn+ei+DU+s,1,rt+te+dB+s,1,rt+E0+I0+s,1,rt+ft+EH+s,1,rt+ft+YA+s,1,rt+ft+s,1,rt+ft+GH+s,1,rt+te+s,1,rt+Oe+v+s,1,rt+$+BU+s,1,rt+ft+cz+s,1,rt+Oe+v+s,1,rt+g+v+s,1,rt+yw+ew+wU+s,1,rt+Ke+tz+s,1,rt+g+v+s,1,rt+g+v+s,2,rt+g+v+s,1,rt+yw+ew+s,1,rt+_e+LU+s,1,rt+g+v+s,2,rt+$+KA+s,1,rt+$+kr+s,1,rt+g+v+s,1,rt+ft+KV+s,1,rt+ft+ZH+s,1,rt+ft+KH+s,1,rt+ft+hz+s,4,rt+gw+iB+s,1,rt+g+v+s,1,rt+g+v+s,1,rt+$+s,1,rt+ft+DH+s,1,rt+Xn+ei+LH+s,1,rt+ft+EU+s,1,rt+ft+" +towgs84=105,326,-102.5,0,0,0.814,-0.6"+s,1,rt+ft+" +towgs84=-45,417,-3.5,0,0,0.814,-0.6"+s,1,rt+_e+s,1,rt+_e+s,1,rt+ft+s,1,rt+$+jt+s,1,rt+_e+RM+s,1,rt+$n+Mh+s,1,rt+$n+ig+s,1,rt+ft+Jy+s,1,rt+$+vU+s,1,rt+Xn+ei+s,1,rt+ft+_M+s,1,rt+ft+BM+s,1,rt+hr+sl+uQ+s,1,rt+_e+YI+s,1,rt+te+Wy+s,1,rt+_e+xU+s,1,rt+Xn+ei+XH+s,1,rt+$+Tn+s,1,rt+ft+s,1,rt+Ke+fz+s,1,x+R+td+Ve+gi+y+g+v+Y+s,0,x+R+td+Ve+gi+y+g+v+Y+s,1,rt+ft+ZI+s,1,rt+te+" +towgs84=-384,664,-48,0,0,0,0"+s,1,rt+_e+bM+s,1,rt+ft+l0+s,1,rt+hr+sl+Sh+s,1,rt+Xn+ei+fB+s,1,rt+ft+iz+s,1,rt+ft+cB+s,2,rt+Xn+ei+lQ+s,2,rt+Fh+QM+s,1,rt+ft+bs+s,1,rt+ft+" +towgs84=-83.11,-97.38,-117.22,0.00569291,-0.0446976,0.0442851,0.1218"+s,1,rt+_e+bU+s,4,rt+ft+UH+s,1,rt+FN+PH+s,1,rt+Jl+Vl+EA+s,1,rt+ro+so+mQ+s,1,rt+ro+so+MU+s,1,rt+lN+AN+s,1,rt+Ke+sz+s,1,rt+iC+nC+s,1,rt+ro+so+Ez+s,1,rt+Gc+Nc+Th+s,1,rt+_e+kH+s,1,rt+ft+cQ+s,1,rt+ft+CA+s,1,rt+ft+s,1,rt+_e+pz+s,1,rt+_e+" +towgs84=-90,40,88,0,0,0,0"+s,1,rt+Xn+ei+s,1,rt+Ke+aB+s,1,rt+ft+kU+s,1,rt+ft+" +towgs84=-333,-222,114,0,0,0,0"+s,1,rt+_e+" +towgs84=41,-220,-134,0,0,0,0"+s,1,rt+te+AQ+s,1,rt+g+v+s,1,rt+ft+TH+s,2,rt+Xn+ei+LM+s,1,rt+te+Iz+s,1,rt+_e+hB+s,2,rt+ft+IM+s,1,rt+Xn+ei+SU+s,1,rt+Jt+s,2,rt+g+v+s,1,rt+_e+rB+s,1,rt+ft+gz+s,1,rt+ft+ls+s,1,rt+qd+Kd+r0+s,1,rt+ft+mU+s,1,rt+Xn+ei+a0+s,1,rt+PN+s,1,rt+gw+lH+s,1,rt+gw+s,1,rt+gw+s,1,rt+te+s,1,rt+xB+CB+rQ+s,1,rt+Xn+ei+rz+s,1,rt+g+v+s,1,rt+$+Yt+s,1,rt+ft+vH+s,1,rt+Fh+s,2,rt+ft+s,1,rt+te+hU+s,3,rt+ft+RU+s,1,rt+Xd+A0+s,2,rt+te+s,2,rt+ft+TM+s,1,rt+iw+lB+s,1,rt+tS+iB+s,1,rt+tS+iB+s,1,rt+te+Lr+s,1,rt+E0+I0+gU+s,1,rt+Fh+s,1,rt+Xn+ei+dQ+s,2,rt+te+s,1,rt+_e+HI+s,1,rt+te+s,1,rt+ft+" +towgs84=-155,171,37,0,0,0,0"+s,1,rt+Xn+ei+s,1,rt+ft+DM+s,1,rt+te+Gd+s,1,rt+ft+uU+s,1,rt+te+bu+s,1,rt+Xn+ei+QU+s,1,rt+ft+bH+s,2,rt+Oe+CU+s,1,rt+g+NH+s,3,rt+Lt+xe+s,2,rt+Lt+Ce+s,2,rt+bt+s,64,er+" +lat_0=2.042583333333333 +lon_0=103.5627583333333"+It+y+Gc+Nc+Th+A+s,1,er+" +lat_0=2.712283333333334 +lon_0=101.9411666666667 +x_0=-242.005 +y_0=-948.547"+Gc+Nc+Th+A+s,1,er+" +lat_0=3.710972222222222 +lon_0=102.4361777777778"+It+y+Gc+Nc+Th+A+s,1,er+" +lat_0=3.680344444444444 +lon_0=101.5082444444444 +x_0=-21759.438 +y_0=55960.906"+Gc+Nc+Th+A+s,1,er+" +lat_0=4.946141666666667 +lon_0=102.8952083333333"+It+y+Gc+Nc+Th+A+s,1,er+" +lat_0=5.421325 +lon_0=100.3458694444444"+It+y+Gc+Nc+Th+A+s,1,er+" +lat_0=5.965147222222223 +lon_0=100.6375944444444"+It+y+Gc+Nc+Th+A+s,1,er+" +lat_0=4.859380555555555 +lon_0=100.8167666666667"+It+" +y_0=133453.669"+Gc+Nc+Th+A+s,1,er+" +lat_0=5.893922222222222 +lon_0=102.1772916666667"+It+y+Gc+Nc+Th+A+s,1,x+R+td+Ve+gi+y+Jt+Y+s,1,x+R+Kh+Ve+gi+y+Jt+Y+s,1,x+R+af+Ve+gi+y+Jt+Y+s,1,x+R+M0+Ve+gi+y+Jt+Y+s,1,x+R+yS+Ve+gi+y+Jt+Y+s,1,x+R+" +lon_0=-159"+Ve+gi+y+Jt+Y+s,0,x+R+" +lon_0=-159"+Ve+gi+y+Jt+Y+s,1,x+R+HL+Ve+gi+y+Jt+Y+s,1,x+R+FB+Ve+gi+y+Jt+Y+s,1,x+R+" +lon_0=-141"+Ve+gi+y+Jt+Y+s,1,x+R+zL+Ve+gi+y+Jt+Y+s,1,x+R+$L+Ve+gi+y+Jt+Y+s,1,x+R+" +lon_0=-123"+Ve+gi+y+Jt+Y+s,1,x+R+T0+Ve+gi+y+Jt+Y+s,1,x+R+cf+Ve+gi+y+Jt+Y+s,1,x+R+" +lon_0=-105"+Ve+gi+y+Jt+Y+s,1,x+" +lat_0=13.5 +lon_0=144.75 +k=1"+Li+ec+g+v+A+s,1,L+" +lat_1=-6.5 +lat_2=-11.5"+GS+rv+tt+Yn+Ke+sB+A+s,2,x+R+rr+" +k=1"+Hh+y+$+KA+A+s,1,x+R+TS+Ve+gi+y+Jt+Y+s,1,x+R+hf+Ve+gi+y+Jt+Y+s,1,x+R+Kh+Ve+gi+y+g+v+Y+s,1,x+R+af+Ve+gi+y+g+v+Y+s,1,x+R+M0+Ve+gi+y+g+v+Y+s,1,x+R+yS+Ve+gi+y+g+v+Y+s,1,x+R+" +lon_0=-159"+Ve+gi+y+g+v+Y+s,1,x+R+HL+Ve+gi+y+g+v+Y+s,1,x+R+FB+Ve+gi+y+g+v+Y+s,1,x+R+" +lon_0=-141"+Ve+gi+y+g+v+Y+s,1,x+R+zL+Ve+gi+y+g+v+Y+s,1,x+R+$L+Ve+gi+y+g+v+Y+s,1,x+R+" +lon_0=-123"+Ve+gi+y+g+v+Y+s,1,x+R+T0+Ve+gi+y+g+v+Y+s,1,x+R+cf+Ve+gi+y+g+v+Y+s,1,x+R+" +lon_0=-105"+Ve+gi+y+g+v+Y+s,1,x+R+bo+" +k=1"+cC+y+$+KA+A+s,3,L+jI+qI+$I+KI+ye+ec+g+v+A+s,1,x+R+TS+Ve+gi+y+g+v+Y+s,1,x+R+hf+Ve+gi+y+g+v+Y+s,16,L+Kg+Xg+cr+al+Bn+y+Jt+Y+s,1,L+Wg+Jg+Is+tm+Bn+nN+Jt+Y+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+Y+s,5,L+" +lat_1=-18"+C5+" +lat_0=-27"+SA+It+y+bt+A+s,1,rt+g+v+s,4,U+Hs+g+v+A+s,3,rt+g+v+s,1,U+co+dt+g+v+A+s,4,rt+ft+dH+s,8,rt+g+v+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,rt+g+s,1,x+R+Nr+" +k=1"+Nh+y+g+A+s,1,x+R+Gr+" +k=1"+Oc+y+g+A+s,1,x+R+Xr+" +k=1"+Ou+y+g+A+s,1,x+R+Or+" +k=1"+Vu+y+g+A+s,1,x+R+Vr+" +k=1"+w0+y+g+A+s,1,x+R+Gs+" +k=1"+Nu+y+g+A+s,1,x+R+Fr+" +k=1"+Gu+y+g+A+s,1,x+R+gr+" +k=1"+Gh+y+g+A+s,1,x+R+Sr+" +k=1"+Hu+y+g+A+s,1,x+R+nr+" +k=1"+Oh+y+g+A+s,1,x+R+mr+" +k=1"+zu+y+g+A+s,1,x+R+Nr+" +k=1"+tt+y+g+A+s,1,x+R+Gr+" +k=1"+tt+y+g+A+s,1,x+R+Xr+" +k=1"+tt+y+g+A+s,1,x+R+Or+" +k=1"+tt+y+g+A+s,1,x+R+Vr+" +k=1"+tt+y+g+A+s,1,x+R+Gs+" +k=1"+tt+y+g+A+s,1,x+R+Fr+" +k=1"+tt+y+g+A+s,1,x+R+gr+" +k=1"+tt+y+g+A+s,1,x+R+Sr+" +k=1"+tt+y+g+A+s,1,x+R+nr+" +k=1"+tt+y+g+A+s,1,x+R+mr+" +k=1"+tt+y+g+A+s,1,x+R+Nr+" +k=1"+Wu+y+g+A+s,1,x+R+$c+" +k=1"+Ju+y+g+A+s,1,x+R+Gr+" +k=1"+Yu+y+g+A+s,1,x+R+nd+" +k=1"+Zu+y+g+A+s,1,x+R+Xr+" +k=1"+Vc+y+g+A+s,1,x+R+lo+" +k=1"+tf+y+g+A+s,1,x+R+Or+" +k=1"+$A+y+g+A+s,1,x+R+Xh+" +k=1"+ef+y+g+A+s,1,x+R+Vr+" +k=1"+_0+y+g+A+s,1,x+R+Zc+" +k=1"+rw+y+g+A+s,1,x+R+Gs+" +k=1"+ow+y+g+A+s,1,x+R+$u+" +k=1"+aw+y+g+A+s,1,x+R+Fr+" +k=1"+lw+y+g+A+s,1,x+R+TA+" +k=1"+Aw+y+g+A+s,1,x+R+gr+" +k=1"+cw+y+g+A+s,1,x+R+Zh+" +k=1"+hw+y+g+A+s,1,x+R+Sr+" +k=1"+uw+y+g+A+s,1,x+R+Kc+" +k=1"+EB+y+g+A+s,1,x+R+nr+" +k=1"+dw+y+g+A+s,1,x+R+SA+" +k=1"+IB+y+g+A+s,1,x+R+mr+" +k=1"+fw+y+g+A+s,1,x+R+Nr+" +k=1"+tt+y+g+A+s,1,x+R+$c+" +k=1"+tt+y+g+A+s,1,x+R+Gr+" +k=1"+tt+y+g+A+s,1,x+R+nd+" +k=1"+tt+y+g+A+s,1,x+R+Xr+" +k=1"+tt+y+g+A+s,1,x+R+lo+" +k=1"+tt+y+g+A+s,1,x+R+Or+" +k=1"+tt+y+g+A+s,1,x+R+Xh+" +k=1"+tt+y+g+A+s,1,x+R+Vr+" +k=1"+tt+y+g+A+s,1,x+R+Zc+" +k=1"+tt+y+g+A+s,1,x+R+Gs+" +k=1"+tt+y+g+A+s,1,x+R+$u+" +k=1"+tt+y+g+A+s,1,x+R+Fr+" +k=1"+tt+y+g+A+s,1,x+R+TA+" +k=1"+tt+y+g+A+s,1,x+R+gr+" +k=1"+tt+y+g+A+s,1,x+R+Zh+" +k=1"+tt+y+g+A+s,1,x+R+Sr+" +k=1"+tt+y+g+A+s,1,x+R+Kc+" +k=1"+tt+y+g+A+s,1,x+R+nr+" +k=1"+tt+y+g+A+s,1,x+R+SA+" +k=1"+tt+y+g+A+s,1,x+R+mr+" +k=1"+tt+y+g+A+s,1,rt+$+s,3,rt+g+v+s,1,U+cs+g+v+A+s,9,x+R+Nr+" +k=1"+Nh+y+$+A+s,1,x+R+Gr+" +k=1"+Oc+y+$+A+s,1,x+R+Xr+" +k=1"+Ou+y+$+A+s,1,x+R+Or+" +k=1"+Vu+y+$+A+s,1,x+R+Vr+" +k=1"+w0+y+$+A+s,1,x+R+Gs+" +k=1"+Nu+y+$+A+s,1,x+R+Fr+" +k=1"+Gu+y+$+A+s,1,x+R+gr+" +k=1"+Gh+y+$+A+s,1,x+R+Sr+" +k=1"+Hu+y+$+A+s,1,x+R+nr+" +k=1"+Oh+y+$+A+s,1,x+R+mr+" +k=1"+zu+y+$+A+s,1,x+R+Nr+" +k=1"+tt+y+$+A+s,1,x+R+Gr+" +k=1"+tt+y+$+A+s,1,x+R+Xr+" +k=1"+tt+y+$+A+s,1,x+R+Or+" +k=1"+tt+y+$+A+s,1,x+R+Vr+" +k=1"+tt+y+$+A+s,1,x+R+Gs+" +k=1"+tt+y+$+A+s,1,x+R+Fr+" +k=1"+tt+y+$+A+s,1,x+R+gr+" +k=1"+tt+y+$+A+s,1,x+R+Sr+" +k=1"+tt+y+$+A+s,1,x+R+nr+" +k=1"+tt+y+$+A+s,1,x+R+mr+" +k=1"+tt+y+$+A+s,11,rt+_e+s,1,rt+_e+oz+s,1,rt+_e+az+s,1,rt+_e+lz+s,1,rt+_e+Az+s,1,rt+_e+wz+s,1,rt+_e+YH+s,1,rt+_e+mH+s,1,rt+Ke+s,1,rt+Ke+s,1,rt+Rn+Dn+s,1,rt+ft+ZV+s,1,rt+g+v+s,1,rt+te+kM+s,1,rt+ft+XV+s,1,rt+ft+OH+s,1,rt+ft+jH+s,1,rt+g+v+s,1,rt+$n+Pl+s,1,rt+g+v+s,1,rt+_e+" +towgs84=-106,-129,165,0,0,0,0"+s,1,rt+ft+qH+s,1,rt+ft+VH+s,1,rt+ft+IU+s,1,rt+g+v+s,1,rt+ft+uz+s,1,rt+ft+JH+s,1,rt+g+v+s,1,rt+ft+dz+s,1,rt+ft+oH+s,1,rt+ft+Bz+s,2,rt+ft+HH+s,1,rt+ft+_H+s,3,rt+ft+" +towgs84=365,194,166,0,0,0,0"+s,1,rt+ft+" +towgs84=325,154,172,0,0,0,0"+s,1,rt+Ke+xz+s,1,rt+ft+zH+s,2,rt+ft+yU+s,1,rt+ft+$H+s,1,rt+ft+tH+s,1,rt+ft+aQ+s,2,rt+ft+WH+s,1,x+R+qo+Ve+ef+y+g+v+A+s,5,x+R+Nr+" +k=1"+Wu+y+$+A+s,1,x+R+$c+" +k=1"+Ju+y+$+A+s,1,x+R+Gr+" +k=1"+Yu+y+$+A+s,1,x+R+nd+" +k=1"+Zu+y+$+A+s,1,x+R+Xr+" +k=1"+Vc+y+$+A+s,1,rt+" +a=6377019.27 +b=6355762.5391 +towgs84=-28,199,5,0,0,0,0"+s,1,rt+ft+yQ+s,1,rt+g+v+s,1,rt+ft+jV+s,1,rt+g+v+s,1,rt+ft+SH+s,1,rt+ft+uH+s,1,rt+ft+yH+s,1,rt+ft+pH+s,1,rt+te+gH+s,1,rt+Oe+v+s,1,rt+ft+" +towgs84=-86,-98,-119,0,0,0,0"+s,1,rt+g+v+s,1,rt+Oe+v+s,1,rt+Xn+ei+s,1,rt+ft+mz+s,1,rt+ft+hH+s,1,rt+g+v+s,1,rt+Ke+" +towgs84=-100,-248,259,0,0,0,0"+s,1,rt+$+s,1,rt+$+s,1,rt+$+" +towgs84=44.585,-131.212,-39.544,0,0,0,0"+s,1,rt+_e+" +towgs84=-80.01,253.26,291.19,0,0,0,0"+s,1,rt+_e+" +towgs84=124.5,-63.5,-281,0,0,0,0"+s,2,rt+ro+so+FH+s,1,rt+Ke+nB+s,1,rt+ft+" +towgs84=-133,-321,50,0,0,0,0"+s,2,rt+g+v+s,1,rt+g+EM+s,1,rt+ft+qV+s,1,rt+ft+rH+s,1,rt+ft+nH+s,1,rt+ft+iH+s,1,rt+ft+BH+s,1,rt+Oe+ez+s,1,rt+Oe+v+s,1,rt+Ke+sB+s,1,rt+_e+s,1,rt+_e+s,1,rt+ft+nz+s,1,rt+_e+RH+s,1,rt+_e+s,1,rt+_e+vM+s,1,rt+g+v+s,1,rt+_e+s,1,rt+ft+s,1,rt+ft+s,1,rt+Fh+QH+s,1,rt+ft+" +towgs84=114,-116,-333,0,0,0,0"+s,1,rt+$n+" +towgs84=-491,-22,435,0,0,0,0"+s,1,rt+ft+" +towgs84=145,75,-272,0,0,0,0"+s,1,rt+ft+" +towgs84=-320,550,-494,0,0,0,0"+s,1,rt+ft+" +towgs84=124,-234,-25,0,0,0,0"+s,1,rt+ft+" +towgs84=-205,107,53,0,0,0,0"+s,1,rt+_e+" +towgs84=-79,-129,145,0,0,0,0"+s,1,rt+ft+" +towgs84=-127,-769,472,0,0,0,0"+s,1,rt+ft+" +towgs84=-104,-129,239,0,0,0,0"+s,1,rt+ft+" +towgs84=298,-304,-375,0,0,0,0"+s,1,rt+Ke+" +towgs84=-2,151,181,0,0,0,0"+s,1,rt+ft+" +towgs84=230,-199,-752,0,0,0,0"+s,1,rt+ft+" +towgs84=211,147,111,0,0,0,0"+s,1,rt+Lt+xe+s,1,rt+ft+pU+s,1,rt+ft+" +towgs84=-794,119,-298,0,0,0,0"+s,1,rt+Ke+sH+s,1,rt+ft+" +towgs84=208,-435,-229,0,0,0,0"+s,1,rt+ft+" +towgs84=189,-79,-202,0,0,0,0"+s,1,rt+Ke+AH+s,1,rt+ft+" +towgs84=403,-81,277,0,0,0,0"+s,1,rt+ft+" +towgs84=-307,-92,127,0,0,0,0"+s,1,rt+ft+Cz+s,1,rt+ft+" +towgs84=170,42,84,0,0,0,0"+s,2,rt+" +a=6378270 +b=6356794.343434343 +towgs84=102,52,-38,0,0,0,0"+s,1,rt+ft+" +towgs84=276,-57,149,0,0,0,0"+s,1,rt+ft+" +towgs84=-632,438,-609,0,0,0,0"+s,1,rt+ft+" +towgs84=647,1777,-1124,0,0,0,0"+s,1,rt+_e+" +towgs84=260,12,-147,0,0,0,0"+s,1,rt+g+v+s,1,rt+E0+I0+s,1,rt+ft+" +towgs84=-156,-271,-189,0,0,0,0"+s,1,rt+" +a=6378136 +b=6356751.361745712 +towgs84=0,0,1.5,-0,-0,0.076,0"+s,1,rt+ft+s,1,rt+g+s,1,rt+_e+wM+s,1,rt+_e+s,1,rt+te+s,1,rt+te+s,1,rt+g+v+s,1,rt+fN+gN+TU+s,1,rt+g+v+s,1,rt+Oe+IH+s,1,rt+mN+oN+s,1,rt+fN+gN+TU+s,1,rt+ft+s,1,rt+ft+ZA+s,1,rt+Oe+v+s,1,rt+Oe+cU+s,1,rt+Oe+s,1,rt+Oe+v+s,1,rt+g+v+s,1,rt+PN+s,1,rt+g+v+s,1,rt+Oe+v+s,1,rt+Oe+v+s,1,rt+g+v+s,1,rt+g+v+s,1,x+R+lo+" +k=1"+tf+y+$+A+s,1,x+R+Or+" +k=1"+$A+y+$+A+s,1,x+R+Xh+" +k=1"+ef+y+$+A+s,1,x+R+Vr+" +k=1"+_0+y+$+A+s,1,x+R+Zc+" +k=1"+rw+y+$+A+s,1,x+R+Gs+" +k=1"+ow+y+$+A+s,1,x+R+$u+" +k=1"+aw+y+$+A+s,1,x+R+Fr+" +k=1"+lw+y+$+A+s,1,x+R+TA+" +k=1"+Aw+y+$+A+s,1,x+R+gr+" +k=1"+cw+y+$+A+s,1,x+R+Zh+" +k=1"+hw+y+$+A+s,1,x+R+Sr+" +k=1"+uw+y+$+A+s,1,x+R+Kc+" +k=1"+EB+y+$+A+s,1,x+R+nr+" +k=1"+dw+y+$+A+s,1,x+R+SA+" +k=1"+IB+y+$+A+s,1,x+R+mr+" +k=1"+fw+y+$+A+s,1,x+R+Nr+" +k=1"+tt+y+$+A+s,1,x+R+$c+" +k=1"+tt+y+$+A+s,1,x+R+Gr+" +k=1"+tt+y+$+A+s,1,x+R+nd+" +k=1"+tt+y+$+A+s,1,x+R+Xr+" +k=1"+tt+y+$+A+s,1,x+R+lo+" +k=1"+tt+y+$+A+s,1,x+R+Or+" +k=1"+tt+y+$+A+s,1,x+R+Xh+" +k=1"+tt+y+$+A+s,1,x+R+Vr+" +k=1"+tt+y+$+A+s,1,x+R+Zc+" +k=1"+tt+y+$+A+s,1,x+R+Gs+" +k=1"+tt+y+$+A+s,1,x+R+$u+" +k=1"+tt+y+$+A+s,1,x+R+Fr+" +k=1"+tt+y+$+A+s,1,x+R+TA+" +k=1"+tt+y+$+A+s,1,x+R+gr+" +k=1"+tt+y+$+A+s,1,x+R+Zh+" +k=1"+tt+y+$+A+s,1,x+R+Sr+" +k=1"+tt+y+$+A+s,1,x+R+Kc+" +k=1"+tt+y+$+A+s,1,x+R+nr+" +k=1"+tt+y+$+A+s,1,rt+te+MM+" +pm=bern"+s,1,rt+ft+ZI+" +pm=bogota"+s,1,rt+ft+_M+M5+s,1,rt+te+AQ+mw+s,1,rt+te+Lc+qc+s,1,rt+ft+IM+" +pm=rome"+s,1,rt+Xn+ei+a0+eh+s,1,rt+te+mw+s,1,rt+ft+" +pm=brussels"+s,1,rt+ft+TM+eh+s,1,rt+Xn+ei+dQ+eh+s,1,x+R+SA+" +k=1"+tt+y+$+A+s,0,x+R+SA+" +k=1"+tt+y+$+A+s,1,rt+te+Wy+mw+s,1,rt+te+" +pm=stockholm"+s,1,rt+te+" +pm=athens"+s,1,rt+Xn+ei+fB+eh+s,1,rt+qd+Kd+r0+gm+s,1,rt+te+dB+qc+s,2,rt+te+kM+mw+s,1,rt+Xn+ei+eh+s,1,x+R+mr+" +k=1"+tt+y+$+A+s,1,rt+ft+s,1,rt+ft+s,2,L+" +lat_1=15 +lat_2=16.66666666666667 +lat_0=15.83333333333333 +lon_0=-24 +x_0=161587.83 +y_0=128511.202"+bt+A+s,13,L+AJ+cJ+ov+OL+It+y+g+v+A+s,62,rt+" +a=6376523"+aN+$Y+s,2,rt+_N+rN+" +pm=madrid"+s,1,rt+te+gH+M5+s,109,rt+g+v+s,1,U+oc+g+v+A+s,1,U+sh+g+v+A+s,1,U+ho+g+v+A+s,2,x+Uc+Mz+" +k=1"+It+y+ft+_M+A+s,23,Ji+Ao+Ew+ws+$0+ds+Yr+bt+A+s,1,Ji+de+" +lat_ts=-90"+ws+$0+ds+Yr+bt+A+s,6,U+Ia+g+v+A+s,21,Ps+ES+MA+OS+j1+It+y+Jt+A+s,1,Ps+ES+MA+OS+j1+It+y+g+v+A+s,1,Ps+ES+MA+OS+j1+It+y+g+v+A+s,1,Ps+ES+MA+OS+j1+It+y+g+v+A+s,33,x+fs+" +lon_0=5.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=6.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=7.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=8.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=9.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+OL+" +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=11.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=12.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=13.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=14.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=15.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+FL+" +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=17.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=18.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=19.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=20.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=21.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=22.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=23.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=24.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=25.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=26.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=27.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=28.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=29.5 +k=1"+Li+Fn+g+v+A+s,1,x+fs+" +lon_0=30.5 +k=1"+Li+Fn+g+v+A+s,2,rt+te+s,35,x+Pi+U0+" +k=1"+ye+Yn+te+A+s,1,x+Pi+zB+" +k=1"+ye+" +y_0=550000"+te+A+s,1,x+Pi+WB+" +k=1"+ye+Yn+te+A+s,1,x+Pi+zB+" +k=1"+ye+Yn+te+A+s,1,x+Pi+nr+" +k=1"+ye+Yn+te+A+s,1,x+Pi+U0+" +k=1"+ye+Yn+te+A+s,1,x+Pi+" +lon_0=125.0028902777778 +k=1"+ye+Yn+te+A+s,1,x+Pi+hJ+" +k=1"+ye+Yn+te+A+s,1,x+Pi+hJ+" +k=1"+ye+" +y_0=550000"+te+A+s,1,x+Pi+" +lon_0=129.0028902777778 +k=1"+ye+Yn+te+A+s,1,x+Pi+" +lon_0=131.0028902777778 +k=1"+ye+Yn+te+A+s,1,x+Pi+_B+Ve+ss+Yr+te+A+s,1,x+Pi+_B+Ve+ss+Yr+g+v+A+s,1,x+Pi+WB+" +k=1"+ye+Yn+g+v+A+s,1,x+Pi+zB+" +k=1"+ye+Yn+g+v+A+s,1,x+Pi+zB+" +k=1"+ye+" +y_0=550000"+g+v+A+s,1,x+Pi+nr+" +k=1"+ye+Yn+g+v+A+s,1,x+Pi+U0+" +k=1"+ye+Yn+g+v+A+s,1,x+Pi+WB+" +k=1"+ye+QB+g+v+A+s,1,x+Pi+zB+" +k=1"+ye+QB+g+v+A+s,1,x+Pi+nr+" +k=1"+ye+QB+g+v+A+s,1,x+Pi+U0+" +k=1"+ye+QB+g+v+A+s,33,Yk+dS+" +lon_0=42.5"+PQ+yt+It+y+te+dB+qc+A+s,2,x+R+vo+Ve+tt+Yn+bt+A+s,5,rt+te+cH+s,1,rt+te+cH+qc+s,4,rt+ro+so+eH+s,1,x+" +lat_0=7.000480277777778 +lon_0=80.77171111111112 +k=0.9999238418"+ye+ec+ro+so+Ez+A+s,1,x+" +lat_0=7.000471527777778 +lon_0=80.77171308333334 +k=0.9999238418"+tt+Yn+ro+so+eH+A+s,8,L+AJ+cJ+ov+OL+It+y+g+v+A+s,3,rt+g+s,1,vr+pf+NS+mZ+JC+It+y+ea+OM+g+A+s,5,rt+g+v+s,1,x+R+Ur+" +k=1"+tt+y+g+v+A+s,1,x+R+xa+" +k=1"+tt+y+g+v+A+s,1,x+R+Bo+" +k=1"+tt+y+g+v+A+s,1,x+R+H0+" +k=1"+tt+y+g+v+A+s,1,x+R+sc+" +k=1"+tt+y+g+v+A+s,1,x+R+z0+" +k=1"+tt+y+g+v+A+s,1,x+R+fl+" +k=1"+tt+y+g+v+A+s,5,rt+g+v+s,2,x+R+lo+" +k=1"+As+y+g+v+A+s,3,x+R+Ur+" +k=1"+hC+y+g+v+A+s,1,x+R+xa+" +k=1"+oC+y+g+v+A+s,1,x+R+Bo+" +k=1"+b1+y+g+v+A+s,1,x+R+H0+" +k=1"+aC+y+g+v+A+s,1,x+R+sc+" +k=1"+Nh+y+g+v+A+s,1,x+R+z0+" +k=1"+Oc+y+g+v+A+s,1,x+R+fl+" +k=1"+Ou+y+g+v+A+s,17,x+R+" +lon_0=90.73333333333333 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=89.55 +k=1"+As+ga+g+v+A+s,1,x+R+uJ+" +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.03333333333333 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.15000000000001 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=91.13333333333334 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=91.23333333333333 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=89.34999999999999 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=91.34999999999999 +k=1"+As+ga+g+v+A+s,1,x+R+uJ+" +k=1"+As+ga+g+v+A+s,1,x+R+dJ+" +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=89.06666666666666 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.26666666666667 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=89.55 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=91.75 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.5 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.16666666666667 +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.11666666666666 +k=1"+As+ga+g+v+A+s,1,x+R+dJ+" +k=1"+As+ga+g+v+A+s,1,x+R+" +lon_0=90.86666666666666 +k=1"+As+ga+g+v+A+s,5,x+R+" +lon_0=-7 +k=0.999997"+ye+" +y_0=-6000000"+g+v+A+s,4,L+VL+" +lat_2=54.5"+R+P0+ss+y+g+v+A+s,1,L+VL+" +lat_2=54.5"+R+P0+ss+y+g+v+A+s,3,rt+g+v+s,1,L+" +lat_1=64.25 +lat_2=65.75 +lat_0=65 +lon_0=-19"+b0+bA+g+v+A+s,4,Ku+KU+cv+vB+LB+te+kM+mw+A+s,1,Ku+KU+cv+vB+LB+te+Wy+mw+A+s,1,Ku+KU+cv+vB+LB+te+AQ+mw+A+s,6,U+oc+dt+ft+BM+A+s,3,rt+g+v+s,3,x+de+SS+" +k=1"+jn+y+g+v+A+s,1,x+de+hf+" +k=1"+Pr+y+g+v+A+s,1,x+de+HC+" +k=1"+ks+y+g+v+A+s,1,x+de+xw+" +k=1"+oo+y+g+v+A+s,1,x+de+DS+" +k=1"+ma+y+g+v+A+s,1,x+de+S5+" +k=1"+B0+y+g+v+A+s,1,x+de+V0+" +k=1"+Hh+y+g+v+A+s,5,rt+g+v+s,1,U+cs+dt+g+v+A+s,1,U+Fs+dt+g+v+A+s,1,U+Hs+dt+g+v+A+s,3,rt+g+v+s,1,U+Fs+dt+g+v+A+s,1,U+Vs+dt+g+v+A+s,3,rt+Oe+v+s,2,x+R+P0+yt+tt+y+Oe+v+A+s,4,rt+g+v+s,2,rt+g+v+s,8,rt+Oe+v+s,1,U+Hs+dt+Oe+v+A+s,1,U+Hr+dt+Oe+v+A+s,4,U+Vs+dt+g+v+A+s,2,U+Fs+dt+g+v+A+s,4,rt+g+v+s,3,U+sh+dt+g+v+A+s,55,rt+Ke+zy+s,5,L+" +lat_1=10.46666666666667 +lat_0=10.46666666666667 +lon_0=-84.33333333333333 +k_0=0.99995696"+tt+" +y_0=271820.522"+Ke+zy+A+s,1,L+" +lat_1=9 +lat_0=9"+Sz+" +k_0=0.99995696"+tt+" +y_0=327987.436"+Ke+zy+A+s,2,L+" +lat_1=14.9 +lat_0=14.9"+Od+" +k_0=0.99989906"+tt+" +y_0=325992.681"+Ke+zy+A+s,1,L+" +lat_1=13.78333333333333 +lat_0=13.78333333333333 +lon_0=-89 +k_0=0.99996704"+tt+" +y_0=295809.184"+Ke+zy+A+s,1,L+" +lat_1=13.86666666666667 +lat_0=13.86666666666667"+xL+" +k_0=0.99990314"+tt+" +y_0=359891.816"+Ke+zy+A+s,1,L+" +lat_1=11.73333333333333 +lat_0=11.73333333333333"+xL+" +k_0=0.9999222800000001"+tt+" +y_0=288876.327"+Ke+zy+A+s,1,U+Tr+$n+Pl+A+s,1,rt+E0+I0+s,3,rt+Ke+s,2,L+" +lat_1=8.416666666666666 +lat_0=8.416666666666666 +lon_0=-80 +k_0=0.99989909"+tt+" +y_0=294865.303"+Ke+A+s,3,RL+" +lat_0=8.25"+ji+" +x_0=914391.7962 +y_0=999404.7217154861"+Ke+" +to_meter=0.9143917962"+s,7,L+qa+$a+" +lat_0=-78 +lon_0=163"+CL+v0+g+v+A+s,1,L+" +lat_1=-73.66666666666667"+Qa+" +lat_0=-74.5"+G0+G1+La+g+v+A+s,1,L+" +lat_1=-70.66666666666667 +lat_2=-72.33333333333333 +lat_0=-71.5"+w5+kN+Fn+g+v+A+s,1,Ji+de+" +lat_ts=-90"+KB+$0+G1+Fn+g+v+A+s,7,rt+g+v+s,1,U+cs+g+v+A+s,23,Yk+dS+fJ+PQ+yt+It+y+te+dB+A+s,1,Yk+dS+fJ+PQ+yt+It+y+te+dB+A+s,4,x+b5+jk+" +k=1"+kB+" +y_0=650000"+ft+mz+A+s,1,x+b5+jk+" +k=1"+kB+" +y_0=650000"+ft+hH+A+s,1,x+R+ih+" +k=1"+jn+y+te+bu+A+s,3,x+R+" +lon_0=11.5"+Ve+jn+Io+bt+A+s,1,rt+ft+s,3,rt+$n+o0+s,3,RL+R+V0+G1+ki+$n+o0+A+s,1,U+Hs+dt+$n+o0+A+s,2,U+ml+dt+$n+o0+A+s,1,U+uc+dt+$n+o0+A+s,1,U+oc+dt+$n+o0+A+s,1,U+Hs+dt+ft+A+s,1,U+Hr+dt+ft+A+s,1,U+ml+dt+ft+A+s,1,U+uc+dt+ft+A+s,7,rt+g+v+s,4,U+cc+dt+g+v+A+s,1,U+qh+dt+g+v+A+s,1,U+tp+dt+g+v+A+s,7,L+" +lat_1=16.81666666666667 +lat_0=16.81666666666667"+Od+" +k_0=0.99992226"+tt+" +y_0=292209.579"+Ke+zy+A+s,2,rt+$+ng+s,1,x+R+rr+" +k=1"+oo+y+$+ng+A+s,1,x+R+Ur+" +k=1"+ma+y+$+ng+A+s,1,x+R+Bo+" +k=1"+B0+y+$+ng+A+s,1,x+R+sc+" +k=1"+Hh+y+$+ng+A+s,1,x+R+rr+" +k=1"+tt+y+$+ng+A+s,1,x+R+Ur+" +k=1"+tt+y+$+ng+A+s,1,x+R+Bo+" +k=1"+tt+y+$+ng+A+s,1,x+R+sc+" +k=1"+tt+y+$+ng+A+s,19,qA+Wh+BN+fS+Hn+" +y_0=304800"+Jt+ve+s,1,x+" +lat_0=17.06124194444444 +lon_0=-88.6318575 +k=1 +x_0=66220.02833082761 +y_0=135779.5099885299"+E0+I0+xk+s,4,rt+g+v+s,3,x+R+" +lon_0=11.33333333333333 +k=1"+ss+y+g+v+A+s,27,x+wo+Sz+" +k=0.999942857"+Zn+y+Jt+Y+s,1,x+wo+rl+jd+Zn+y+Jt+Y+s,1,x+wo+" +lon_0=-88.75"+jd+Zn+y+Jt+Y+s,2,x+R+Av+Ve+tt+y+ft+bs+A+s,2,U+co+dt+Oe+_Q+A+s,2,x+R+qo+" +k=1"+Pr+y+$+kr+A+s,1,L+PS+dm+X0+th+F1+AS+g+v+A+s,1,BA+X0+th+cS+hS+g+v+A+s,1,L+PS+dm+X0+th+F1+AS+g+v+A+s,1,BA+X0+th+cS+hS+g+v+A+s,1,BA+X0+th+cS+hS+g+v+A+s,1,L+PS+dm+X0+th+F1+AS+g+v+A+s,1,BA+X0+th+cS+hS+g+v+A+s,1,L+PS+dm+X0+th+F1+AS+g+v+A+s,2,Ku+" +lon_0=-43 +lat_ts=-2"+G1+ki+g+v+A+s,2,L+" +lat_1=52.66666666666666 +lat_2=54.33333333333334 +lat_0=48"+th+" +x_0=815000"+y+ft+bs+A+s,1,U+jr+dt+g+v+A+s,2,x+_o+N1+_1+Rs+y+g+v+Y+s,3,x+R+ih+Ve+$A+y+g+v+A+s,1,x+R+ir+Ve+_0+y+g+v+A+s,1,x+R+ih+Ve+$A+y+g+v+A+s,1,x+R+qo+Ve+ef+y+g+v+A+s,1,x+R+ir+Ve+_0+y+g+v+A+s,1,x+_o+N1+_1+Rs+y+g+v+Y+s,1,x+_o+N1+_1+Rs+y+g+v+Y+s,4,x+R+qo+Ve+" +x_0=500053 +y_0=-3999820"+ft+IM+A+s,4,x+R+ir+" +k=1"+ks+y+$+kr+A+s,1,x+R+qo+" +k=1"+Pr+y+$+KA+A+s,1,x+R+ir+" +k=1"+ks+y+$+KA+A+s,1,x+R+qo+" +k=1"+ks+y+te+A+s,1,x+R+vo+" +k=1"+oo+y+te+A+s,1,x+R+vo+" +k=1"+oo+y+te+A+s,1,x+R+ir+" +k=1"+ma+y+te+A+s,1,x+R+qo+" +k=1"+ks+y+$+kr+A+s,1,x+R+vo+" +k=1"+oo+y+$+kr+A+s,1,x+R+ir+" +k=1"+ma+y+$+kr+A+s,1,x+R+qo+" +k=1"+ks+y+$+KA+A+s,1,x+R+vo+" +k=1"+oo+y+$+KA+A+s,1,x+R+ir+" +k=1"+ma+y+$+KA+A+s,1,x+R+Av+" +k=1"+Pr+y+te+bu+A+s,1,x+R+qo+" +k=1"+ks+y+te+bu+A+s,1,x+R+vo+" +k=1"+oo+y+te+bu+A+s,1,x+R+ir+" +k=1"+ma+y+te+bu+A+s,1,x+R+ih+" +k=1"+jn+y+te+bu+A+s,1,rt+te+s,1,x+R+Av+" +k=1"+Pr+y+te+A+s,1,x+R+qo+" +k=1"+ks+y+te+A+s,1,x+R+vo+" +k=1"+oo+y+te+A+s,1,x+R+ir+" +k=1"+ma+y+te+A+s,15,U+$h+dt+g+v+A+s,125,x+" +lat_0=-35.31773627777778 +lon_0=149.0092948305555 +k=1.000086"+ye+QB+$n+Mh+A+s,11,U+ta+Oe+v+A+s,1,U+Zl+Oe+v+A+s,2,U+Tr+dt+g+v+A+s,3,x+R+vo+Ve+tt+ki+bt+A+s,2,x+R+xa+yt+tt+ki+g+v+A+s,14,U+Hr+dt+$n+o0+A+s,17,U+Vs+dt+$n+o0+A+s,1,U+Fs+dt+$n+o0+A+s,1,U+cs+dt+$n+o0+A+s,2,U+co+dt+ft+dH+A+s,1,RL+R+V0+G1+ki+g+v+A+s,6,rt+g+s,1,x+R+af+Ve+jn+v0+g+A+s,3,Ji+Ao+" +lat_ts=70"+lo+" +k=1"+It+y+v5+Ok+A+s,31,L+VS+Mo+HM+cf+It+y+bt+A+s,1,L+VS+Mo+HM+RS+It+y+bt+A+s,1,L+VS+Mo+HM+Bo+It+y+bt+A+s,1,L+VS+Mo+HM+Gs+It+y+bt+A+s,1,L+VS+Mo+HM+Kh+It+y+bt+A+s,1,L+Ea+HS+zM+cf+It+y+bt+A+s,1,L+Ea+HS+zM+RS+It+y+bt+A+s,1,L+Ea+HS+zM+Bo+It+y+bt+A+s,1,L+Ea+HS+zM+Gs+It+y+bt+A+s,1,L+Ea+HS+zM+Kh+It+y+bt+A+s,1,L+zS+WS+WM+cf+It+y+bt+A+s,1,L+zS+WS+WM+RS+It+y+bt+A+s,1,L+zS+WS+WM+Bo+It+y+bt+A+s,1,L+zS+WS+WM+Gs+It+y+bt+A+s,1,L+zS+WS+WM+Kh+It+y+bt+A+s,1,Ji+Ao+Ew+PC+$0+ds+Yr+bt+A+s,1,Ji+Ao+Ew+Ls+$0+ds+Yr+bt+A+s,1,Ji+Ao+Ew+" +lon_0=-33"+$0+ds+Yr+bt+A+s,1,Ji+Ao+Ew+om+$0+ds+Yr+bt+A+s,1,Ji+Ao+Ew+Gs+$0+ds+Yr+bt+A+s,110,L+av+gB+mB+" +lon_0=-30"+Wu+ao+g+v+A+s,1,L+g0+m0+y0+" +lon_0=-52"+Nu+rf+g+v+A+s,1,L+g0+m0+y0+" +lon_0=-12"+Gh+rf+g+v+A+s,1,L+Rh+Mo+Qh+hf+Vc+zh+g+v+A+s,1,L+Rh+Mo+Qh+RS+$A+zh+g+v+A+s,1,L+Rh+Mo+Qh+" +lon_0=-10"+_0+zh+g+v+A+s,1,L+Ea+XA+jA+" +lon_0=-64"+Gh+zl+g+v+A+s,1,L+Ea+XA+jA+RS+Oh+zl+g+v+A+s,1,L+Ea+XA+jA+" +lon_0=-14"+lC+zl+g+v+A+s,1,L+Wo+Jo+Yo+L0+uw+Io+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=-42"+dw+Io+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=-22"+fw+Io+g+v+A+s,1,L+Yd+ff+Zd+T5+Ju+of+g+v+A+s,1,L+Yd+ff+Zd+" +lon_0=-38"+Zu+of+g+v+A+s,1,L+Yd+ff+Zd+" +lon_0=-20"+tf+of+g+v+A+s,1,L+" +lat_1=67"+pJ+gJ+" +lon_0=-51"+b1+DN+g+v+A+s,1,L+" +lat_1=67"+pJ+gJ+" +lon_0=-34"+Nh+DN+g+v+A+s,1,L+mJ+yJ+xJ+" +lon_0=-52"+Gh+" +y_0=8500000"+g+v+A+s,1,L+mJ+yJ+xJ+" +lon_0=-37"+Oh+" +y_0=8500000"+g+v+A+s,1,L+g0+m0+y0+" +lon_0=16"+Oh+rf+g+v+A+s,1,L+Rh+Mo+Qh+rr+b1+zh+g+v+A+s,1,L+Ea+XA+jA+th+Ju+zl+g+v+A+s,1,L+Ea+XA+jA+JS+Zu+zl+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=14"+b1+Io+g+v+A+s,1,L+Wo+Jo+Yo+JS+Nh+Io+g+v+A+s,1,L+g0+m0+y0+" +lon_0=53"+lC+rf+bt+A+s,1,L+g0+m0+y0+Or+Ju+rf+bt+A+s,1,L+Rh+Mo+Qh+" +lon_0=52"+Nh+zh+bt+A+s,1,L+Rh+Mo+Qh+" +lon_0=83"+Ou+zh+bt+A+s,1,L+Rh+Mo+Qh+TA+w0+zh+bt+A+s,1,L+Rh+Mo+Qh+" +lon_0=145"+Gu+zh+bt+A+s,1,L+Ea+XA+jA+" +lon_0=58"+tf+zl+bt+A+s,1,L+Ea+XA+jA+" +lon_0=82"+ef+zl+bt+A+s,1,L+Ea+XA+jA+m5+rw+zl+bt+A+s,1,L+Ea+XA+jA+" +lon_0=130"+aw+zl+bt+A+s,1,L+Ea+XA+jA+y5+Aw+zl+bt+A+s,1,L+Ea+XA+jA+" +lon_0=179"+hw+zl+bt+A+s,1,L+Wo+Jo+Yo+_w+Ou+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=74"+w0+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=95"+Gu+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=116"+Hu+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=137"+zu+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=158"+Wu+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=179"+Yu+Io+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=-163"+Vc+Io+g+v+A+s,1,L+Wo+Jo+Yo+FB+$A+Io+g+v+A+s,1,L+Yd+ff+Zd+yS+Oc+of+g+v+A+s,1,L+Yd+ff+Zd+FB+Vu+of+g+v+A+s,1,L+av+gB+mB+Fi+zu+ao+g+v+A+s,1,L+g0+m0+y0+CS+Oc+rf+g+v+A+s,1,L+g0+m0+y0+TS+Vu+rf+g+v+A+s,1,L+Rh+Mo+Qh+$L+Wu+zh+g+v+A+s,1,L+Rh+Mo+Qh+Yc+Yu+zh+g+v+A+s,1,L+Rh+Mo+Qh+hf+Vc+zh+g+v+A+s,1,L+Ea+XA+jA+$L+Oc+zl+g+v+A+s,1,L+Ea+XA+jA+" +lon_0=-104"+Vu+zl+g+v+A+s,1,L+Ea+XA+jA+F0+Nu+zl+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=-131"+_0+Io+g+v+A+s,1,L+Wo+Jo+Yo+cf+ow+Io+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=-91"+lw+Io+g+v+A+s,1,L+Wo+Jo+Yo+" +lon_0=-71"+cw+Io+g+v+A+s,1,L+Yd+ff+Zd+" +lon_0=-132"+Nu+of+g+v+A+s,1,L+Yd+ff+Zd+" +lon_0=-113"+Gh+of+g+v+A+s,1,L+Yd+ff+Zd+O0+Oh+of+g+v+A+s,1,L+Yd+ff+Zd+TS+lC+of+g+v+A+s,1,L+av+gB+mB+xa+Yu+ao+bt+A+s,1,L+av+gB+mB+lo+Vc+ao+bt+A+s,1,L+av+gB+mB+nm+$A+ao+bt+A+s,1,L+av+gB+mB+PC+Hu+ao+bt+A+s,1,L+g0+m0+y0+" +lon_0=133"+Zu+rf+bt+A+s,1,L+g0+m0+y0+w5+oC+rf+bt+A+s,1,L+g0+m0+y0+K1+aC+rf+bt+A+s,1,L+Rh+Mo+Qh+" +lon_0=176"+Hu+zh+bt+A+s,1,L+Rh+Mo+Qh+HL+zu+zh+bt+A+s,1,L+Ea+XA+jA+" +lon_0=-155"+aC+zl+bt+A+s,1,L+Wo+Jo+Yo+" +lon_0=-5"+EN+Io+g+v+A+s,3,U+Tr+Ke+sH+ve+s,1,U+Tr+Ke+AH+ve+s,6,rt+g+v+s,69,x+R+rr+yt+tt+y+te+Lc+A+s,3,rt+ro+so+" +towgs84=293.17,726.18,245.36,0,0,0,0"+s,3,U+ml+g+v+A+s,1,U+uc+g+v+A+s,96,L+jI+qI+$I+KI+ye+ec+g+A+s,4,rt+Oe+$V+s,1,x+R+Bo+Yi+ye+" +y_0=-3500000"+Oe+$V+A+s,4,x+R+rr+yt+Hh+y+te+Lc+A+s,2,rt+g+s,4,rt+g+s,3,rt+g+s,3,U+rc+g+A+s,1,U+jh+g+A+s,1,U+$h+g+A+s,1,U+ad+g+A+s,1,U+ep+g+A+s,1,U+cd+g+A+s,1,U+fc+g+A+s,1,U+oh+g+A+s,1,U+pc+g+A+s,1,U+ld+g+A+s,1,U+Ad+g+A+s,1,U+rd+g+A+s,1,U+ac+g+A+s,1,U+lc+g+A+s,1,U+Ac+g+A+s,1,U+hc+g+A+s,1,U+DA+g+A+s,1,U+RA+g+A+s,1,U+Tr+g+A+s,1,U+Vs+g+A+s,1,U+Fs+g+A+s,2,Ps+ES+MA+OS+j1+It+y+g+A+s,1,L+Wo+Jo+Yo+" +lon_0=-163"+Vc+Io+g+A+s,1,L+Wo+Jo+Yo+FB+$A+Io+g+A+s,1,L+Yd+ff+Zd+yS+Oc+of+g+A+s,1,L+Yd+ff+Zd+FB+Vu+of+g+A+s,1,x+Wc+PM+OC+ye+y+g+A+s,1,x+or+pw+Es+$t+y+g+A+s,6,L+" +lat_1=17.5 +lat_2=29.5 +lat_0=12 +lon_0=-102"+Pr+y+g+v+A+s,3,rt+g+v+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,L+" +lat_1=17.5 +lat_2=29.5 +lat_0=12 +lon_0=-102"+Pr+y+g+v+A+s,9,x+R+rr+" +k=1"+xn+y+$+JI+A+s,1,x+R+bo+" +k=1"+xn+y+$+JI+A+s,1,x+R+Ur+" +k=1"+xn+y+$+JI+A+s,1,x+R+xa+" +k=1"+xn+y+$+JI+A+s,1,x+R+Bo+" +k=1"+xn+y+$+JI+A+s,1,x+R+H0+" +k=1"+xn+y+$+JI+A+s,1,x+R+sc+" +k=1"+xn+y+$+JI+A+s,4,L+" +lat_1=19.33333333333333 +lat_2=19.7 +lat_0=19.33333333333333 +lon_0=-80.56666666666666 +x_0=899160 +y_0=579120"+g+v+ve+s,2,Ps+" +lat_1=55"+dm+kS+K1+It+y+g+A+s,1,vr+" +lat_0=57"+JQ+YQ+yt+G1+ka+ea+tw+g+A+s,1,x+Ts+YL+yt+tt+y+g+A+s,1,x+Ts+ZL+yt+tt+y+g+A+s,1,x+Ts+PC+yt+tt+y+g+A+s,1,x+Ts+K1+yt+tt+y+g+A+s,1,x+Ts+lf+yt+tt+y+g+A+s,1,x+Ts+KL+yt+tt+y+g+A+s,1,x+Ts+XL+yt+tt+y+g+A+s,1,x+Ts+mS+yt+tt+y+g+A+s,1,L+ZQ+KQ+ov+jL+ss+y+g+A+s,1,x+ni+rg+yt+Kr+y+g+A+s,1,x+ni+rg+yt+Kr+y+g+ve+s,1,x+ni+sg+yt+Kr+y+g+A+s,1,x+ni+sg+yt+Kr+y+g+ve+s,1,x+ni+x1+Es+Kr+y+g+A+s,1,x+ni+x1+Es+Kr+y+g+ve+s,1,L+i1+s1+Gl+dl+sn+y+g+A+s,1,L+i1+s1+Gl+dl+Eo+y+g+Y+s,1,L+r1+Y1+o1+dl+sn+Yh+g+A+s,1,L+r1+Y1+o1+dl+Eo+tC+g+Y+s,1,Ps+US+xS+R+X1+It+iS+g+A+s,1,L+Tg+Yl+cr+ul+ds+Yn+g+A+s,1,L+Tg+Yl+cr+ul+Jr+qs+g+Y+s,1,L+Dg+Rg+_r+ul+ds+Yn+g+A+s,1,L+Dg+Rg+_r+ul+Jr+qs+g+Y+s,1,L+tl+Qg+V1+ti+ds+Yn+g+A+s,1,L+tl+Qg+V1+ti+Jr+qs+g+Y+s,1,L+D1+am+kg+H1+ds+Yn+g+A+s,1,L+D1+am+kg+H1+Jr+qs+g+Y+s,1,L+Lg+Pg+z1+Jh+ds+Yn+g+A+s,1,L+Lg+Pg+z1+Jh+Jr+qs+g+Y+s,1,L+Fg+Ug+Ng+C1+ds+Yn+g+A+s,1,L+Fg+Ug+Ng+C1+Jr+qs+g+Y+s,1,L+R1+Q1+c0+Qs+Fu+Uu+g+A+s,1,L+R1+Q1+c0+Qs+kh+Qu+g+Y+s,1,L+Yy+Zy+cr+Qs+Fu+Uu+g+A+s,1,L+Yy+Zy+cr+Qs+kh+Qu+g+Y+s,1,L+tl+Gg+pi+Qs+Fu+Uu+g+A+s,1,L+tl+Gg+pi+Qs+kh+Qu+g+Y+s,1,L+Og+W1+Vg+M1+Dk+Rk+g+A+s,1,L+Og+W1+Vg+M1+ck+hk+g+Y+s,1,x+Pi+og+J1+ye+y+g+A+s,1,x+Pi+og+J1+$s+y+g+Y+s,1,x+el+ji+Xi+ye+y+g+A+s,1,x+el+ji+Xi+$s+y+g+Y+s,1,Ps+" +lat_1=24"+NL+" +lat_0=24"+P0+sn+y+g+A+s,1,L+k1+Hg+lm+L1+$t+y+g+A+s,1,L+k1+Hg+lm+L1+$t+y+g+Y+s,1,x+el+$1+Xi+ye+y+g+A+s,1,x+el+$1+Xi+$s+y+g+Y+s,1,x+or+ag+yt+ye+y+g+A+s,1,x+or+ag+yt+$s+y+g+Y+s,1,x+or+lg+yt+Zr+y+g+A+s,1,x+or+lg+yt+ku+y+g+Y+s,1,x+Wi+Xu+il+tt+y+g+A+s,1,x+Wi+Xu+il+tr+y+g+Y+s,1,x+Wi+Ag+il+ye+y+g+A+s,1,x+Wi+Ag+il+$s+y+g+Y+s,1,x+Wi+E1+Es+Ns+y+g+A+s,1,x+Wi+E1+Es+uk+y+g+Y+s,1,x+pi+gg+C0+xn+y+g+A+s,1,x+pi+gg+C0+xn+y+g+Y+s,1,x+pi+mg+Xi+Zr+y+g+A+s,1,x+pi+mg+Xi+Ik+y+g+Y+s,1,x+dr+yg+_i+Li+Af+g+A+s,1,x+dr+yg+_i+Ck+Zx+g+Y+s,1,x+dr+xg+_i+Wl+Af+g+A+s,1,x+dr+xg+_i+Wl+Zx+g+Y+s,1,L+a1+l1+wo+cl+jn+Fn+g+A+s,1,L+a1+l1+wo+cl+jn+Kx+g+Y+s,1,L+da+A1+Ss+cl+tt+y+g+A+s,1,L+da+A1+Ss+cl+Rs+y+g+Y+s,1,L+c1+h1+zo+pr+sn+y+g+A+s,1,L+c1+h1+zo+pr+Eo+y+g+Y+s,1,L+u1+d1+pi+br+sn+Yh+g+A+s,1,L+u1+d1+pi+br+Eo+tC+g+Y+s,1,L+Fl+Sg+dr+v1+tt+y+g+A+s,1,L+Fl+Sg+dr+v1+tr+y+g+Y+s,1,L+Jx+Yx+Br+rl+jn+Fn+g+A+s,1,L+Jx+Yx+Br+rl+jn+Lu+g+Y+s,1,L+Ky+Xy+Br+rl+tt+Yn+g+A+s,1,L+Ky+Xy+Br+rl+tr+qs+g+Y+s,1,L+Tx+Dx+Wc+Hc+ss+y+g+A+s,1,L+Tx+Dx+Wc+Hc+g1+y+g+Y+s,1,L+TC+DC+RC+Su+ss+y+g+A+s,1,L+TC+DC+RC+Su+g1+y+g+Y+s,1,x+JL+Vk+nc+tt+y+g+A+s,1,x+io+Uk+nc+Zr+y+g+A+s,1,x+Ol+Nk+nc+xn+y+g+A+s,1,x+no+tc+yt+xn+y+g+A+s,1,x+no+tc+yt+xn+y+g+Y+s,1,x+Ol+Cg+_i+Wl+y+g+A+s,1,x+Ol+Cg+_i+Wl+y+g+Y+s,1,L+uC+IC+_r+qu+sn+y+g+A+s,1,L+uC+IC+_r+qu+dk+y+g+Y+s,1,L+qy+$y+Pa+Vh+tt+y+g+A+s,1,L+qy+$y+Pa+Vh+tr+y+g+Y+s,1,L+jy+zg+Pa+ll+ye+O1+g+A+s,1,L+jy+zg+Pa+ll+$s+O1+g+Y+s,1,L+wC+ix+sx+IA+BB+y+g+A+s,1,L+wC+ix+sx+IA+pk+y+g+ve+s,1,L+tx+ex+nx+Jc+gL+y+g+A+s,1,L+tx+ex+nx+Jc+fk+y+g+ve+s,1,vr+HQ+" +lonc=-86"+Qk+Ve+kk+Tk+ea+Lk+g+A+s,1,L+Du+_C+wo+IA+F1+y+g+A+s,1,L+Du+_C+wo+IA+Mk+y+g+ve+s,1,L+yC+kx+Ko+T1+Ns+Mr+g+A+s,1,L+yC+kx+Ko+T1+fa+pa+g+Y+s,1,L+Rx+Qx+Wh+Eg+Ns+Mr+g+A+s,1,L+Rx+Qx+Wh+Eg+fa+pa+g+Y+s,1,L+Lx+Px+id+O0+Ns+Mr+g+A+s,1,L+Lx+Px+id+O0+fa+pa+g+Y+s,1,x+vA+cg+Yi+xn+y+g+A+s,1,x+vA+cg+Yi+xn+y+g+Y+s,1,x+S0+qk+yL+tt+bB+g+A+s,1,x+vA+Od+Yi+Zr+y+g+A+s,1,x+vA+Od+Yi+ku+y+g+Y+s,1,x+p0+Hc+Es+tt+y+g+A+s,1,x+p0+aS+Es+As+y+g+A+s,1,x+NM+lS+Xi+LL+y+g+A+s,1,L+ic+XC+dC+$d+$t+y+g+A+s,1,L+ic+XC+dC+$d+Pu+y+g+ve+s,1,L+pl+Yl+Fx+Ls+tt+y+g+A+s,2,x+ur+wg+yt+tt+zc+g+A+s,1,x+ur+wg+yt+Rs+zc+g+Y+s,1,x+ur+Ig+yt+ye+mL+g+A+s,1,x+ur+Ig+yt+eC+Ek+g+Y+s,1,x+ur+_g+yt+Ns+U1+g+A+s,1,x+ur+_g+yt+fa+wk+g+Y+s,1,x+_o+Bg+_i+xn+y+g+A+s,1,x+_o+Bg+_i+xn+y+g+Y+s,1,x+Ul+_A+yt+rs+y+g+A+s,1,x+Ul+_A+yt+rs+y+g+Y+s,1,x+ni+I1+yt+tt+y+g+A+s,1,x+ni+I1+yt+tr+y+g+Y+s,1,x+ni+hg+jd+BC+y+g+A+s,1,x+ni+hg+jd+BC+y+g+Y+s,1,x+ni+ug+w1+PL+y+g+A+s,1,x+ni+ug+w1+gk+y+g+Y+s,1,x+Ss+dg+di+As+y+g+A+s,1,x+Ss+dg+di+mk+y+g+Y+s,1,x+Ul+_A+yt+rs+y+g+A+s,1,x+Ul+_A+yt+rs+y+g+Y+s,1,L+Wg+Jg+Nl+tm+xn+y+g+A+s,1,L+Wg+Jg+Nl+tm+xn+y+g+Y+s,1,x+Ss+fg+di+kB+y+g+A+s,1,x+Ss+fg+di+yk+y+g+Y+s,1,L+rx+ox+P1+F0+Gk+y+g+A+s,1,L+rx+ox+P1+F0+Bn+y+g+Y+s,1,L+wA+ax+Ca+ol+$t+y+g+A+s,1,L+wA+ax+Ca+ol+Pu+y+g+ve+s,1,L+lx+Ax+Dh+ol+$t+y+g+A+s,1,L+lx+Ax+Dh+ol+Pu+y+g+ve+s,1,L+QC+Ux+Uc+Zo+$t+y+g+A+s,1,L+QC+Ux+Uc+Zo+$t+y+g+Y+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+A+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+Y+s,1,L+Yg+cx+Am+pr+$t+y+g+A+s,1,L+Yg+cx+Am+pr+$t+y+g+Y+s,1,L+hx+ux+Zg+pr+$t+y+g+A+s,1,L+hx+ux+Zg+pr+$t+y+g+Y+s,1,L+pl+MA+hl+ti+sn+y+g+A+s,1,L+pl+MA+hl+ti+qM+y+g+ve+s,1,L+W0+h0+no+ti+Pr+y+g+A+s,1,L+W0+h0+no+ti+XM+y+g+ve+s,1,L+J0+u0+Wi+ti+jn+y+g+A+s,1,L+J0+u0+Wi+ti+jM+y+g+ve+s,1,L+fC+dx+Nl+al+$t+y+g+A+s,1,L+fC+dx+Nl+al+$t+y+g+Y+s,1,L+Kg+Xg+cr+al+$t+y+g+A+s,1,L+Kg+Xg+cr+al+$t+y+g+Y+s,1,L+jI+qI+$I+KI+ye+ec+g+A+s,1,x+f1+ll+AC+Li+y+g+A+s,1,x+f1+ll+AC+JM+y+g+Y+s,1,L+fx+vC+jg+ji+bC+y+g+A+s,1,L+fx+vC+jg+ji+bC+y+g+ve+s,1,L+Ox+Vx+io+Ls+$t+y+g+A+s,1,L+Ox+Vx+io+Ls+$t+y+g+Y+s,1,L+kC+Hx+p1+Xa+$t+y+g+A+s,1,L+kC+Hx+p1+Xa+$t+y+g+Y+s,1,L+px+pC+Gl+uf+$t+y+g+A+s,1,L+px+pC+Gl+uf+$t+y+g+Y+s,1,L+xx+Cx+d0+Xa+Zr+La+g+A+s,1,L+xx+Cx+d0+Xa+ku+La+g+Y+s,1,Ps+LC+tE+df+Ls+jn+zc+g+A+s,1,L+LC+tE+df+Ls+jn+v0+g+A+s,1,L+gx+gC+cm+S1+ye+Fn+g+A+s,1,L+gx+gC+cm+S1+$s+Lu+g+Y+s,1,L+mx+yx+qg+br+$t+Yr+g+A+s,1,L+mx+yx+qg+br+$t+qx+g+Y+s,1,L+Vd+Hd+f0+br+xn+v0+g+A+s,1,L+Vd+Hd+f0+br+xn+vk+g+Y+s,1,L+Ex+Ix+$g+Yc+$t+U1+g+A+s,1,L+Ex+Ix+$g+Yc+$t+Bk+g+Y+s,1,x+_o+N1+_1+tt+y+g+A+s,1,x+_o+N1+_1+Rs+y+g+Y+s,1,L+" +lat_1=37"+qL+Os+Hl+It+y+g+A+s,1,L+MC+wx+_r+Al+ks+Yr+g+A+s,1,L+MC+wx+_r+Al+$x+qx+g+Y+s,1,L+Fl+t1+Br+Al+ks+Fn+g+A+s,1,L+Fl+t1+Br+Al+$x+Lu+g+Y+s,1,L+wA+SC+Ca+pg+tt+y+g+A+s,1,L+wA+SC+Ca+pg+tr+y+g+Y+s,1,L+_x+Bx+e1+ti+tt+y+g+A+s,1,L+_x+Bx+e1+ti+tr+y+g+Y+s,1,L+xC+$C+Z1+Hl+$t+y+g+A+s,1,L+xC+$C+Z1+Hl+$t+y+g+Y+s,1,L+zx+Wx+um+ji+$t+y+g+A+s,1,L+zx+Wx+um+ji+$t+y+g+Y+s,2,L+ju+mC+io+Fi+$t+y+g+Y+s,1,L+vx+bx+n1+Fi+$t+y+g+A+s,1,L+vx+bx+n1+Fi+$t+y+g+Y+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+A+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+Y+s,1,x+R+Fi+Ve+UL+Xk+g+A+s,1,x+Is+vg+di+ye+y+g+A+s,1,x+Is+vg+di+eC+y+g+Y+s,1,x+Is+bg+di+sn+Mr+g+A+s,1,x+Is+bg+di+Eo+pa+g+Y+s,1,x+Is+Mg+di+Ns+Mr+g+A+s,1,x+Is+Mg+di+fa+pa+g+Y+s,1,x+Is+B1+di+$t+y+g+A+s,1,x+Is+B1+di+$t+y+g+Y+s,1,L+nf+Wd+zo+is+tt+Yr+g+A+s,1,L+da+zd+Ru+is+tt+Fn+g+A+s,1,L+sf+Jd+pi+is+tt+La+g+A+s,1,L+ev+ed+ya+tc+It+y+g+v+A+s,1,Ps+ev+ed+ya+tc+It+y+g+v+A+s,1,Ps+ev+ed+ya+tc+It+y+g+v+A+s,1,L+nf+Wd+zo+is+Rs+_k+g+Y+s,1,L+da+zd+Ru+is+Rs+Kx+g+Y+s,1,L+sf+Jd+pi+is+Rs+La+g+Y+s,1,x+NQ+Zk+_i+tt+y+g+A+s,1,x+GQ+EQ+_i+tt+y+g+A+s,1,x+XI+lf+Xc+tt+y+g+A+s,1,x+OQ+Kk+Xc+tt+y+g+A+s,1,x+VQ+IQ+" +k=1"+tt+y+g+A+s,1,x+XI+lf+Xc+Rs+y+g+Y+s,1,U+cd+g+A+s,1,U+fc+g+A+s,1,U+ad+dt+g+A+s,1,x+" +lat_0=13.5 +lon_0=144.75 +k=1"+Li+ec+g+A+s,9,x+lJ+" +lon_0=46.5 +k=0.9994"+Ns+y+hr+y1+wM+A+s,22,rt+g+s,1,x+K0+vN+yt+It+y+g+A+s,1,x+K0+U0+yt+It+y+g+A+s,1,x+Os+zU+yt+It+y+g+A+s,1,x+K0+pL+yt+It+y+g+A+s,1,x+Os+WU+yt+It+y+g+A+s,1,x+Os+YB+yt+It+y+g+A+s,1,x+Os+JU+yt+It+y+g+A+s,1,x+Os+bN+yt+It+y+g+A+s,1,x+Os+YU+yt+It+y+g+A+s,1,x+Ss+ZU+yt+It+y+g+A+s,1,x+ya+yN+yt+It+y+g+A+s,1,x+ya+xN+yt+It+y+g+A+s,1,x+ya+CN+yt+It+y+g+A+s,1,x+Xo+" +lon_0=142"+yt+It+y+g+A+s,1,x+Xo+_B+yt+It+y+g+A+s,1,x+Xo+" +lon_0=124"+yt+It+y+g+A+s,1,x+Xo+U0+yt+It+y+g+A+s,1,x+" +lat_0=20"+YB+yt+It+y+g+A+s,1,x+Xo+y5+yt+It+y+g+A+s,1,U+Xl+g+A+s,1,U+LA+g+A+s,1,U+rh+g+A+s,1,U+cc+g+A+s,1,U+qh+g+A+s,11,x+R+DS+Ve+tt+ki+Oe+v+A+s,3,rt+g+v+s,1,U+qr+g+v+A+s,1,U+$o+g+v+A+s,1,U+QA+g+v+A+s,11,x+R+" +lon_0=105.625 +k=1.000024"+jc+bB+Oe+v+A+s,1,x+R+" +lon_0=105.625 +k=1.00002514"+jc+bB+g+v+A+s,1,x+R+" +lon_0=96.875 +k=1"+jc+" +y_0=1400000"+Oe+v+A+s,1,x+R+" +lon_0=96.875 +k=0.99999387"+jc+ao+g+v+A+s,13,U+od+dt+g+v+A+s,1,U+dc+dt+g+v+A+s,1,U+rc+dt+g+v+A+s,45,rt+g+s,1,x+FC+BQ+qB+im+y+g+A+s,1,x+FC+BQ+qB+yB+y+g+ve+s,1,x+FC+BQ+qB+im+y+g+A+s,1,x+FC+BQ+qB+yB+y+g+ve+s,1,x+hl+Hk+" +k=1.0002"+q1+y+g+A+s,1,x+hl+Hk+" +k=1.0002"+sC+y+g+ve+s,1,x+hl+Hk+" +k=1.0002"+q1+y+g+A+s,1,x+hl+Hk+" +k=1.0002"+sC+y+g+ve+s,1,L+XQ+jQ+zk+CC+q1+" +y_0=130000"+g+A+s,1,L+XQ+jQ+zk+CC+sC+eZ+g+ve+s,1,L+XQ+jQ+zk+CC+q1+" +y_0=130000"+g+A+s,1,L+XQ+jQ+zk+CC+sC+eZ+g+ve+s,1,L+Du+no+Wk+t5+" +x_0=120000 +y_0=60000"+g+A+s,1,L+Du+no+Wk+t5+nZ+AZ+g+ve+s,1,L+Du+no+Wk+t5+" +x_0=120000 +y_0=60000"+g+A+s,1,L+Du+no+Wk+t5+nZ+AZ+g+ve+s,1,x+_o+Tu+D5+im+y+g+A+s,1,x+_o+Tu+D5+yB+y+g+ve+s,1,x+_o+Tu+D5+im+y+g+A+s,1,x+_o+Tu+D5+yB+y+g+ve+s,1,L+qQ+Dh+ti+$k+rs+" +y_0=30000"+g+A+s,1,L+qQ+Dh+ti+$k+bk+cZ+g+ve+s,1,L+qQ+Dh+ti+$k+rs+" +y_0=30000"+g+A+s,1,L+qQ+Dh+ti+$k+bk+cZ+g+ve+s,1,vr+$Q+R5+Q5+" +k=1"+CL+IN+ea+k5+g+A+s,1,vr+$Q+R5+Q5+" +k=1"+tZ+iZ+ea+k5+g+ve+s,1,vr+$Q+R5+Q5+" +k=1"+CL+IN+ea+k5+g+A+s,1,vr+$Q+R5+Q5+" +k=1"+tZ+iZ+ea+k5+g+ve+s,1,x+Ol+Tu+e5+jc+y+g+A+s,1,x+Ol+Tu+e5+rC+y+g+ve+s,1,x+Ol+Tu+e5+jc+y+g+A+s,1,x+Ol+Tu+e5+rC+y+g+ve+s,1,x+FC+n5+L5+q1+y+g+A+s,1,x+FC+n5+L5+sC+y+g+ve+s,1,x+FC+n5+L5+q1+y+g+A+s,1,x+FC+n5+L5+sC+y+g+ve+s,1,x+EL+vQ+D0+jc+y+g+A+s,1,x+EL+vQ+D0+rC+y+g+ve+s,1,x+EL+vQ+D0+jc+y+g+A+s,1,x+EL+vQ+D0+rC+y+g+ve+s,1,x+hl+Tu+UB+jc+y+g+A+s,1,x+hl+Tu+UB+rC+y+g+ve+s,1,x+hl+Tu+UB+jc+y+g+A+s,1,x+hl+Tu+UB+rC+y+g+ve+s,1,x+Ko+bQ+P5+" +x_0=10000"+y+g+A+s,1,x+Ko+bQ+P5+yZ+y+g+ve+s,1,x+Ko+bQ+P5+" +x_0=10000"+y+g+A+s,1,x+Ko+bQ+P5+yZ+y+g+ve+s,1,x+Ko+Jh+F5+im+y+g+A+s,1,x+Ko+Jh+F5+yB+y+g+ve+s,1,x+Ko+Jh+F5+im+y+g+A+s,1,x+Ko+Jh+F5+yB+y+g+ve+s,1,x+IL+T0+" +k=1.0001"+q1+y+g+A+s,1,x+IL+T0+" +k=1.0001"+sC+y+g+ve+s,1,x+IL+T0+" +k=1.0001"+q1+y+g+A+s,1,x+IL+T0+" +k=1.0001"+sC+y+g+ve+s,1,vr+MB+tL+" +alpha=5 +k=1 +x_0=-300000 +y_0=-4600000"+ea+" +gamma=5"+g+A+s,1,vr+MB+tL+" +alpha=5 +k=1"+sZ+KY+ea+" +gamma=5"+g+ve+s,1,vr+MB+tL+" +alpha=5 +k=1 +x_0=-300000 +y_0=-4600000"+ea+" +gamma=5"+g+A+s,1,vr+MB+tL+" +alpha=5 +k=1"+sZ+KY+ea+" +gamma=5"+g+ve+s,1,x+wL+MQ+IS+" +x_0=60000"+y+g+A+s,1,x+wL+MQ+IS+hZ+y+g+ve+s,1,x+wL+MQ+IS+" +x_0=60000"+y+g+A+s,1,x+wL+MQ+IS+hZ+y+g+ve+s,1,x+tk+FM+i5+U5+y+g+A+s,1,x+tk+FM+i5+uZ+y+g+ve+s,1,x+tk+FM+i5+U5+y+g+A+s,1,x+tk+FM+i5+uZ+y+g+ve+s,1,L+ju+s5+Jk+eL+Li+XB+g+A+s,1,L+ju+s5+Jk+eL+YM+uN+g+ve+s,1,L+ju+s5+Jk+eL+Li+XB+g+A+s,1,L+ju+s5+Jk+eL+YM+uN+g+ve+s,1,x+ek+SQ+N5+jc+y+g+A+s,1,x+ek+SQ+N5+rC+y+g+ve+s,1,x+ek+SQ+N5+jc+y+g+A+s,1,x+ek+SQ+N5+rC+y+g+ve+s,1,x+nk+nL+r5+It+y+g+A+s,1,x+nk+nL+r5+It+y+g+ve+s,1,x+nk+nL+r5+It+y+g+A+s,1,x+nk+nL+r5+It+y+g+ve+s,4,L+pl+MA+hl+ti+sn+y+g+A+s,1,L+pl+MA+hl+ti+qM+y+g+ve+s,2,x+R+sv+" +k=1"+tt+y+g+v+A+s,5,x+R+vo+" +k=0.9985000000000001"+CL+y+g+v+A+s,1,x+R+vo+" +k=1"+kN+y+g+v+A+s,3,L+ju+mC+io+Fi+$t+y+g+A+s,1,L+pl+Yl+Fx+Ls+Rs+y+g+Y+s,1,rt+hr+y1+" +towgs84=-24,-203,268,0,0,0,0"+s,1,rt+hr+y1+" +towgs84=-183,-15,273,0,0,0,0"+s,1,rt+ft+" +towgs84=-235,-110,393,0,0,0,0"+s,1,L+W0+h0+no+ti+Pr+y+g+A+s,1,L+W0+h0+no+ti+XM+y+g+ve+s,1,L+J0+u0+Wi+ti+jn+y+g+A+s,1,L+J0+u0+Wi+ti+jM+y+g+ve+s,5,rt+hr+y1+fH+s,2,rt+hr+y1+" +towgs84=-63,176,185,0,0,0,0"+s,21,U+Zl+hr+y1+fH+A+s,7,L+wS+o5+Os+iL+sn+y+g+v+A+s,1,L+wS+o5+Os+iL+Eo+y+g+v+Y+s,1,L+wS+o5+Os+iL+sn+y+g+A+s,1,L+wS+o5+Os+iL+Eo+y+g+Y+s,6,BA+Ao+ws+It+y+Oe+v+A+s,1,BA+de+ws+It+y+Oe+v+A+s,1,"+proj=cea"+ws+" +lat_ts=30"+It+y+Oe+v+A+s,29,L+" +lat_1=39 +lat_2=43"+Pa+sv+It+y+g+v+A+s,21,rt+g+s,1,x+OU+VU+wN+dN+pN+g+A+s,6,rt+g+s,1,x+OU+VU+wN+dN+pN+g+A+s,14,U+ta+hr+y1+rB+A+s,1,U+co+hr+y1+rB+A+s,1,U+jr+hr+y1+rB+A+s,28,rt+g+s,2,rt+g+s,2,rt+g+s,2,rt+g+s,16,L+" +lat_1=43.2 +lat_0=43.2 +lon_0=-95.25 +k_0=1.000052 +x_0=3505207.010414021 +y_0=2926085.852171705"+g+Y+s,1,L+" +lat_1=43.16666666666666 +lat_0=43.16666666666666 +lon_0=-92.75 +k_0=1.000043 +x_0=3810007.62001524 +y_0=2987045.974091948"+g+Y+s,1,x+EC+" +lon_0=-91.2 +k=1.000035 +x_0=4114808.229616459 +y_0=2529845.05969012"+g+Y+s,1,L+" +lat_1=42.53333333333333 +lat_0=42.53333333333333 +lon_0=-94.83333333333333 +k_0=1.000045 +x_0=4419608.839217679 +y_0=2621285.242570485"+g+Y+s,1,L+" +lat_1=42.65 +lat_0=42.65 +lon_0=-92.25 +k_0=1.000032 +x_0=4724409.448818898 +y_0=2712725.425450851"+g+Y+s,1,x+EC+" +lon_0=-95.73333333333333 +k=1.000039 +x_0=5029210.058420117 +y_0=2011684.023368047"+g+Y+s,1,x+EC+" +lon_0=-94.63333333333334"+IS+" +x_0=5334010.668021336 +y_0=2072644.145288291"+g+Y+s,1,x+EC+" +lon_0=-93.71666666666667 +k=1.000033 +x_0=5638811.277622555 +y_0=2133604.267208535"+g+Y+s,1,x+EC+" +lon_0=-92.81666666666666"+UC+" +x_0=5943611.887223775 +y_0=2194564.389128779"+g+Y+s,1,L+" +lat_1=41.83333333333334 +lat_0=41.83333333333334 +lon_0=-91.66666666666667 +k_0=1.00002 +x_0=6248412.496824994 +y_0=2438404.876809754"+g+Y+s,1,x+EC+" +lon_0=-90.53333333333333"+UC+" +x_0=6553213.106426213 +y_0=2316484.632969266"+g+Y+s,1,L+" +lat_1=40.91666666666666 +lat_0=40.91666666666666 +lon_0=-93.75 +k_0=1.000037 +x_0=6858013.716027432"+XY+g+Y+s,1,x+EC+NU+sm+" +x_0=7162814.325628651 +y_0=1950723.901447803"+g+Y+s,1,x+EC+" +lon_0=-91.25 +k=1.000018 +x_0=7467614.93522987"+XY+g+Y+s,3,rt+g+s,1,U+ta+dt+g+A+s,1,U+co+dt+g+A+s,1,U+jr+dt+g+A+s,1,U+Zl+dt+g+A+s,1,U+j0+dt+g+A+s,1,U+q0+dt+g+A+s,1,U+mm+dt+g+A+s,1,U+nE+dt+g+A+s,3,rt+g+s,2,rt+g+s,23,x+NB+sL+qB+rs+y+g+A+s,1,x+" +lat_0=48"+sL+" +k=1.00019"+Li+y+g+A+s,1,L+a5+NB+cf+" +k_0=1.000145"+rs+ec+g+A+s,1,L+a5+NB+" +lon_0=-108.5"+CC+ye+" +y_0=150000"+g+A+s,1,L+ik+sk+Qs+CC+ye+Mr+g+A+s,1,L+ik+sk+Qs+" +k_0=1.00009"+Li+XB+g+A+s,1,x+MB+" +lon_0=-107.75 +k=1.000148"+ye+y+g+A+s,1,L+LN+" +lat_0=46.25 +lon_0=-111.25 +k_0=1.000185"+Li+Mr+g+A+s,1,L+CJ+EJ+Tz+" +k_0=1.0001515"+ye+XB+g+A+s,1,x+IJ+Dz+" +k=1.00024"+Li+y+g+A+s,1,x+NB+sL+qB+bk+y+g+ve+s,1,x+" +lat_0=48"+sL+" +k=1.00019"+YM+y+g+ve+s,1,L+a5+NB+cf+" +k_0=1.000145"+bk+" +y_0=199999.9999992"+g+ve+s,1,L+a5+NB+" +lon_0=-108.5"+CC+Sk+" +y_0=150000.00001464"+g+ve+s,1,L+ik+sk+Qs+CC+Sk+jY+g+ve+s,1,L+ik+sk+Qs+" +k_0=1.00009"+YM+" +y_0=49999.99971024"+g+ve+s,1,x+MB+" +lon_0=-107.75 +k=1.000148"+Sk+y+g+ve+s,1,L+LN+" +lat_0=46.25 +lon_0=-111.25 +k_0=1.000185"+YM+jY+g+ve+s,1,L+CJ+EJ+Tz+" +k_0=1.0001515"+Sk+uN+g+ve+s,1,x+IJ+Dz+" +k=1.00024"+JM+y+g+Y+s,3,x+SB+" +lon_0=-122.45 +k=1.000007 +x_0=48000 +y_0=24000"+g+A+s,1,x+SB+" +lon_0=-122.45 +k=1.000007 +x_0=48000 +y_0=24000"+g+Y+s,1,rt+g+s,3,rt+Oe+s,3,rt+Oe+s,3,x+rk+ok+" +k=1"+Fk+" +y_0=126867.909"+xB+CB+" +towgs84=-275.7224,94.7824,340.8944,-8.001,-4.42,-11.821,1"+A+s,115,x+TB+rL+R0+De+Re+g+A+s,1,x+TB+rL+R0+De+Re+g+Y+s,1,x+GB+wB+Q0+De+Re+g+A+s,1,x+GB+wB+Q0+De+Re+g+Y+s,1,x+" +lat_0=39"+TQ+k0+De+Re+g+A+s,1,x+" +lat_0=39"+TQ+k0+De+Re+g+Y+s,1,x+" +lat_0=40.45"+DB+l5+De+Re+g+A+s,1,x+" +lat_0=40.45"+DB+l5+De+Re+g+Y+s,1,x+" +lat_0=40.05"+Rz+NC+De+Re+g+A+s,1,x+" +lat_0=40.05"+Rz+NC+De+Re+g+Y+s,1,x+A5+RB+GC+De+Re+g+A+s,1,x+A5+RB+GC+De+Re+g+Y+s,1,x+" +lat_0=39"+_L+G5+De+Re+g+A+s,1,x+" +lat_0=39"+_L+G5+De+Re+g+Y+s,1,x+" +lat_0=40.4"+Qz+k0+De+Re+g+A+s,1,x+" +lat_0=40.4"+Qz+k0+De+Re+g+Y+s,1,x+TB+kz+OB+De+Re+g+A+s,1,x+TB+kz+OB+De+Re+g+Y+s,1,x+BL+Lz+" +k=1.000021"+De+Re+g+A+s,1,x+BL+Lz+" +k=1.000021"+De+Re+g+Y+s,1,x+vL+Pz+" +k=1.000024"+De+Re+g+A+s,1,x+vL+Pz+" +k=1.000024"+De+Re+g+Y+s,1,x+" +lat_0=40.15"+Fz+" +k=1.000032"+De+Re+g+A+s,1,x+" +lat_0=40.15"+Fz+" +k=1.000032"+De+Re+g+Y+s,1,x+" +lat_0=38.1"+RB+VB+De+Re+g+A+s,1,x+" +lat_0=38.1"+RB+VB+De+Re+g+Y+s,1,x+" +lat_0=38.45"+DQ+" +k=1.000018"+De+Re+g+A+s,1,x+" +lat_0=38.45"+DQ+" +k=1.000018"+De+Re+g+Y+s,1,x+" +lat_0=38.65"+Uz+l5+De+Re+g+A+s,1,x+" +lat_0=38.65"+Uz+l5+De+Re+g+Y+s,1,x+" +lat_0=39.1"+Nz+GC+De+Re+g+A+s,1,x+" +lat_0=39.1"+Nz+GC+De+Re+g+Y+s,1,x+bL+rL+GC+De+Re+g+A+s,1,x+bL+rL+GC+De+Re+g+Y+s,1,x+" +lat_0=38.2"+oL+sm+De+Re+g+A+s,1,x+" +lat_0=38.2"+oL+sm+De+Re+g+Y+s,1,x+ML+TQ+" +k=1.000033"+De+Re+g+A+s,1,x+ML+TQ+" +k=1.000033"+De+Re+g+Y+s,1,x+SL+wB+NC+De+Re+g+A+s,1,x+SL+wB+NC+De+Re+g+Y+s,1,x+" +lat_0=39.95"+DB+VB+De+Re+g+A+s,1,x+" +lat_0=39.95"+DB+VB+De+Re+g+Y+s,1,x+GB+_L+Q0+De+Re+g+A+s,1,x+GB+_L+Q0+De+Re+g+Y+s,1,x+BL+Gz+c5+De+Re+g+A+s,1,x+BL+Gz+c5+De+Re+g+Y+s,1,x+TL+" +lon_0=-85.7"+R0+De+Re+g+A+s,1,x+TL+" +lon_0=-85.7"+R0+De+Re+g+Y+s,1,x+" +lat_0=39.9"+uf+R0+De+Re+g+A+s,1,x+" +lat_0=39.9"+uf+R0+De+Re+g+Y+s,1,x+" +lat_0=39.65"+DL+GC+De+Re+g+A+s,1,x+" +lat_0=39.65"+DL+GC+De+Re+g+Y+s,1,x+" +lat_0=37.95"+pB+UC+De+Re+g+A+s,1,x+" +lat_0=37.95"+pB+UC+De+Re+g+Y+s,1,x+" +lat_0=39.75"+aL+UB+De+Re+g+A+s,1,x+" +lat_0=39.75"+aL+UB+De+Re+g+Y+s,1,x+TL+pB+Q0+De+Re+g+A+s,1,x+TL+pB+Q0+De+Re+g+Y+s,1,x+ML+xL+R0+De+Re+g+A+s,1,x+ML+xL+R0+De+Re+g+Y+s,1,x+" +lat_0=38.7 +lon_0=-85.95"+h5+De+Re+g+A+s,1,x+" +lat_0=38.7 +lon_0=-85.95"+h5+De+Re+g+Y+s,1,x+u5+DQ+UC+De+Re+g+A+s,1,x+u5+DQ+UC+De+Re+g+Y+s,1,x+" +lat_0=40.3"+jB+NC+De+Re+g+A+s,1,x+" +lat_0=40.3"+jB+NC+De+Re+g+Y+s,1,x+" +lat_0=38.55"+Oz+OB+De+Re+g+A+s,1,x+" +lat_0=38.55"+Oz+OB+De+Re+g+Y+s,1,x+" +lat_0=38.8"+DL+VB+De+Re+g+A+s,1,x+" +lat_0=38.8"+DL+VB+De+Re+g+Y+s,1,x+d5+pB+Q0+De+Re+g+A+s,1,x+d5+pB+Q0+De+Re+g+Y+s,1,x+" +lat_0=38.4"+lL+D0+De+Re+g+A+s,1,x+" +lat_0=38.4"+lL+D0+De+Re+g+Y+s,1,x+bL+aL+" +k=1.000037"+De+Re+g+A+s,1,x+bL+aL+" +k=1.000037"+De+Re+g+Y+s,1,x+u5+Vz+k0+De+Re+g+A+s,1,x+u5+Vz+k0+De+Re+g+Y+s,1,x+GB+" +lon_0=-86.75"+UC+De+Re+g+A+s,1,x+GB+" +lon_0=-86.75"+UC+De+Re+g+Y+s,1,x+" +lat_0=38.95"+RB+OB+De+Re+g+A+s,1,x+" +lat_0=38.95"+RB+OB+De+Re+g+Y+s,1,x+" +lat_0=39.45"+oL+Q0+De+Re+g+A+s,1,x+" +lat_0=39.45"+oL+Q0+De+Re+g+Y+s,1,x+vL+RQ+k0+De+Re+g+A+s,1,x+vL+RQ+k0+De+Re+g+Y+s,1,x+A5+Hz+h5+De+Re+g+A+s,1,x+A5+Hz+h5+De+Re+g+Y+s,1,x+f5+" +lon_0=-86.7"+sm+De+Re+g+A+s,1,x+f5+" +lon_0=-86.7"+sm+De+Re+g+Y+s,1,x+" +lat_0=37.85"+DB+D0+De+Re+g+A+s,1,x+" +lat_0=37.85"+DB+D0+De+Re+g+Y+s,1,x+SB+" +lon_0=-87.95"+c5+De+Re+g+A+s,1,x+SB+" +lon_0=-87.95"+c5+De+Re+g+Y+s,1,x+" +lat_0=39.7"+wB+" +k=1.000044"+De+Re+g+A+s,1,x+" +lat_0=39.7"+wB+" +k=1.000044"+De+Re+g+Y+s,1,x+p5+" +lon_0=-85.3"+NC+De+Re+g+A+s,1,x+p5+" +lon_0=-85.3"+NC+De+Re+g+Y+s,1,x+d5+zz+G5+De+Re+g+A+s,1,x+d5+zz+G5+De+Re+g+Y+s,1,x+SB+" +lon_0=-87.05 +k=1.000014"+De+Re+g+A+s,1,x+SB+" +lon_0=-87.05 +k=1.000014"+De+Re+g+Y+s,1,x+wo+jB+" +k=1.000041"+De+Re+g+A+s,1,x+wo+jB+" +k=1.000041"+De+Re+g+Y+s,1,x+p5+pw+" +k=1.000017"+De+Re+g+A+s,1,x+p5+pw+" +k=1.000017"+De+Re+g+Y+s,1,x+" +lat_0=40.2"+RQ+k0+De+Re+g+A+s,1,x+" +lat_0=40.2"+RQ+k0+De+Re+g+Y+s,1,x+f5+AL+D0+De+Re+g+A+s,1,x+f5+AL+D0+De+Re+g+Y+s,1,x+SL+lL+sm+De+Re+g+A+s,1,x+SL+lL+sm+De+Re+g+Y+s,1,x+TB+" +lon_0=-85.25"+R0+De+Re+g+A+s,1,x+TB+" +lon_0=-85.25"+R0+De+Re+g+Y+s,3,rt+g+v+s,1,U+jr+g+v+A+s,1,U+Zl+g+v+A+s,1,U+j0+g+v+A+s,152,x+wJ+Fi+" +k=1.0000365285 +x_0=147218.6942 +y_0=0.0037"+g+A+s,1,x+_J+Wz+" +k=1.0000495683 +x_0=172821.9461 +y_0=0.0017"+g+A+s,1,x+BJ+Jz+" +k=1.0000486665 +x_0=93150 +y_0=0.0029"+g+A+s,1,L+vJ+bJ+Yz+" +k_0=1.0000331195 +x_0=228600.4575 +y_0=148551.4837"+g+A+s,1,x+id+" +lon_0=-88"+sm+" +x_0=31600 +y_0=4600"+g+A+s,1,x+MJ+Zz+" +k=1.0000382778 +x_0=175260.3502 +y_0=0.0048"+g+A+s,1,L+SJ+TJ+Kz+" +k_0=1.0000383841 +x_0=64008.1276 +y_0=59445.9043"+g+A+s,1,x+DJ+" +lon_0=-88.5 +k=1.0000286569 +x_0=244754.8893 +y_0=0.0049"+g+A+s,1,L+RJ+QJ+Xz+" +k_0=1.0000391127 +x_0=60045.72 +y_0=44091.4346"+g+A+s,1,x+" +lat_0=43.6"+jz+" +k=1.0000463003 +x_0=199949.1989 +y_0=0.0086"+g+A+s,1,L+kJ+LJ+qz+" +k_0=1.00003498 +x_0=169164.3381 +y_0=111569.6134"+g+A+s,1,L+dZ+fZ+PJ+" +k_0=1.0000349151 +x_0=113690.6274 +y_0=53703.1201"+g+A+s,1,L+rZ+oZ+$z+" +k_0=1.0000384786 +x_0=247193.2944 +y_0=146591.9896"+g+A+s,1,x+FJ+tW+" +k=1.0000346418 +x_0=263347.7263 +y_0=0.0076"+g+A+s,1,x+" +lat_0=44.4"+eW+" +k=1.0000187521 +x_0=158801.1176 +y_0=0.0023"+g+A+s,1,x+UJ+NU+" +k=1.0000385418 +x_0=59131.3183 +y_0=0.0041"+g+A+s,1,x+NJ+nW+" +k=1.0000410324 +x_0=51816.104 +y_0=0.003"+g+A+s,1,L+GJ+OJ+iW+" +k_0=1.000035079 +x_0=120091.4402 +y_0=91687.92389999999"+g+A+s,1,x+VJ+sW+" +k=1.0000552095 +x_0=133502.6683 +y_0=0.0063"+g+A+s,1,x+HJ+rW+" +k=1.0000673004 +x_0=275844.5533 +y_0=0.0157"+g+A+s,1,x+zJ+" +lon_0=-90.8 +k=1.0000349452 +x_0=242316.4841 +y_0=0.01"+g+A+s,1,L+WJ+JJ+oW+" +k_0=1.0000390487 +x_0=170078.7403 +y_0=45830.2947"+g+A+s,1,L+YJ+ZJ+QQ+" +k_0=1.0000344057 +x_0=150876.3018 +y_0=79170.7795"+g+A+s,1,x+KJ+aW+" +k=1.0000394961 +x_0=113081.0261 +y_0=0.0045"+g+A+s,1,x+XJ+lW+" +k=1.0000677153 +x_0=220980.4419 +y_0=0.008500000000000001"+g+A+s,1,x+jJ+AW+" +k=1.0000353 +x_0=27000 +y_0=25000"+g+A+s,1,x+qJ+cW+" +k=1.0000260649 +x_0=185928.3728 +y_0=0.0009"+g+A+s,1,x+$J+AL+" +k=1.0000233704 +x_0=79857.7614 +y_0=0.0012"+g+A+s,1,x+tY+hW+" +k=1.0000319985 +x_0=130454.6598 +y_0=0.0033"+g+A+s,1,L+eY+nY+uW+" +k_0=1.0000627024 +x_0=198425.197 +y_0=105279.7829"+g+A+s,1,x+iY+dW+" +k=1.0000599003 +x_0=116129.0323 +y_0=0.0058"+g+A+s,1,L+sY+rY+" +lon_0=-89.77 +k_0=1.000053289 +x_0=74676.1493 +y_0=55049.2669"+g+A+s,1,x+oY+fW+" +k=1.0000234982 +x_0=238658.8794 +y_0=0.0032"+g+A+s,1,x+aY+pW+" +k=1.0000362499 +x_0=105461.0121 +y_0=0.0029"+g+A+s,1,L+lY+AY+gW+" +k_0=1.0000434122 +x_0=204521.209 +y_0=121923.9861"+g+A+s,1,x+cY+mW+" +k=1.0000236869 +x_0=182880.3676 +y_0=0.0033"+g+A+s,1,L+hY+uY+yW+" +k_0=1.0000686968 +x_0=70104.1401 +y_0=57588.0346"+g+A+s,1,L+dY+fY+xW+" +k_0=1.0000362977 +x_0=167640.3354 +y_0=86033.0876"+g+A+s,1,x+pY+kQ+" +k=1.0000433849 +x_0=141732.2823 +y_0=0.0059"+g+A+s,1,L+gY+mY+" +lon_0=-89.5 +k_0=1.000039936 +x_0=56388.1128 +y_0=50022.1874"+g+A+s,1,x+yY+CW+" +k=1.0000649554 +x_0=227990.8546 +y_0=0.0109"+g+A+s,1,L+aZ+lZ+EW+" +k_0=1.0000375653 +x_0=202387.6048 +y_0=134255.4253"+g+A+s,1,x+xY+IW+" +k=1.0000337311 +x_0=146304.2926 +y_0=0.0068"+g+A+s,1,x+CY+wW+" +k=1.0000495976 +x_0=250546.1013 +y_0=0.0234"+g+A+s,1,x+EY+_W+" +k=1.0000373868 +x_0=185623.5716 +y_0=0.0051"+g+A+s,1,L+IY+wY+BW+" +k_0=1.0000573461 +x_0=216713.2336 +y_0=120734.1631"+g+A+s,1,x+ak+vW+" +k=1.000032144 +x_0=262433.3253 +y_0=0.009599999999999999"+g+A+s,1,x+ak+kQ+" +k=1.0000381803 +x_0=165506.7302 +y_0=0.0103"+g+A+s,1,L+_Y+BY+bW+" +k_0=1.0000597566 +x_0=187147.5744 +y_0=107746.7522"+g+A+s,1,x+vY+MW+" +k=1.0000361538 +x_0=256946.9138 +y_0=0.0041"+g+A+s,1,L+bY+MY+SW+" +k_0=1.0000408158 +x_0=222504.4451 +y_0=47532.0602"+g+A+s,1,L+SY+TY+TW+" +k_0=1.0000730142 +x_0=134417.0689 +y_0=50337.1092"+g+A+s,1,L+DY+RY+DW+" +k_0=1.0000367192 +x_0=232562.8651 +y_0=111088.2224"+g+A+s,1,L+QY+kY+RW+" +k_0=1.0000475376 +x_0=234086.8682 +y_0=188358.6058"+g+A+s,1,x+LY+QW+" +k=1.00003738 +x_0=120091.4415 +y_0=0.003"+g+A+s,1,x+PY+kW+" +k=1.0000346179 +x_0=208788.418 +y_0=0.0034"+g+A+s,1,x+FY+LW+" +k=1.0000333645 +x_0=185013.9709 +y_0=0.007"+g+A+s,1,L+UY+NY+QQ+" +k_0=1.0000392096 +x_0=120091.4402 +y_0=45069.7587"+g+A+s,1,L+GY+OY+Fi+" +k_0=1.0000421209 +x_0=208483.6173 +y_0=134589.754"+g+A+s,1,x+wJ+Fi+" +k=1.0000365285 +x_0=147218.6941325883 +y_0=0.00365760731521463"+g+Y+s,1,x+_J+Wz+" +k=1.0000495683 +x_0=172821.945948692 +y_0=0.001828803657607315"+g+Y+s,1,x+BJ+Jz+" +k=1.0000486665 +x_0=93150"+UM+g+Y+s,1,L+vJ+bJ+Yz+" +k_0=1.0000331195 +x_0=228600.4575057151 +y_0=148551.4835661671"+g+Y+s,1,x+id+" +lon_0=-88"+sm+" +x_0=31599.99989839979 +y_0=4599.999898399797"+g+Y+s,1,x+MJ+Zz+" +k=1.0000382778 +x_0=175260.3502159004"+PW+g+Y+s,1,L+SJ+TJ+Kz+" +k_0=1.0000383841 +x_0=64008.12771145543 +y_0=59445.90419100838"+g+Y+s,1,x+DJ+" +lon_0=-88.5 +k=1.0000286569 +x_0=244754.8892049784"+PW+g+Y+s,1,L+RJ+QJ+Xz+" +k_0=1.0000391127 +x_0=60045.72009144018 +y_0=44091.43449326898"+g+Y+s,1,x+" +lat_0=43.6"+jz+" +k=1.0000463003 +x_0=199949.198983998"+FW+g+Y+s,1,L+kJ+LJ+qz+" +k_0=1.00003498 +x_0=169164.338023876 +y_0=111569.613512827"+g+Y+s,1,L+dZ+fZ+PJ+" +k_0=1.0000349151 +x_0=113690.6273812548 +y_0=53703.12024384048"+g+Y+s,1,L+rZ+oZ+$z+" +k_0=1.0000384786 +x_0=247193.2943865888 +y_0=146591.9896367793"+g+Y+s,1,x+FJ+tW+" +k=1.0000346418 +x_0=263347.7263906528 +y_0=0.00762001524003048"+g+Y+s,1,x+" +lat_0=44.4"+eW+" +k=1.0000187521 +x_0=158801.1176022352 +y_0=0.002438404876809754"+g+Y+s,1,x+UJ+NU+" +k=1.0000385418 +x_0=59131.31826263652"+UW+g+Y+s,1,x+NJ+nW+" +k=1.0000410324 +x_0=51816.10393700787"+UM+g+Y+s,1,L+GJ+OJ+iW+" +k_0=1.000035079"+qY+" +y_0=91687.92390144781"+g+Y+s,1,x+VJ+sW+" +k=1.0000552095 +x_0=133502.6682245364 +y_0=0.006400812801625603"+g+Y+s,1,x+HJ+rW+" +k=1.0000673004 +x_0=275844.5532131065 +y_0=0.0158496316992634"+g+Y+s,1,x+zJ+" +lon_0=-90.8 +k=1.0000349452 +x_0=242316.484023368 +y_0=0.01005842011684023"+g+Y+s,1,L+WJ+JJ+oW+" +k_0=1.0000390487 +x_0=170078.7401574803 +y_0=45830.29484378968"+g+Y+s,1,L+YJ+ZJ+QQ+" +k_0=1.0000344057 +x_0=150876.3017526035 +y_0=79170.77937515875"+g+Y+s,1,x+KJ+aW+" +k=1.0000394961 +x_0=113081.0261620523 +y_0=0.004572009144018288"+g+Y+s,1,x+XJ+lW+" +k=1.0000677153 +x_0=220980.4419608839"+FW+g+Y+s,1,x+jJ+AW+" +k=1.0000353 +x_0=27000 +y_0=24999.99989839979"+g+Y+s,1,x+qJ+cW+" +k=1.0000260649 +x_0=185928.3727711455 +y_0=0.0009144018288036576"+g+Y+s,1,x+$J+AL+" +k=1.0000233704 +x_0=79857.76154432308 +y_0=0.001219202438404877"+g+Y+s,1,x+tY+hW+" +k=1.0000319985 +x_0=130454.6596901194"+GU+g+Y+s,1,L+eY+nY+uW+" +k_0=1.0000627024 +x_0=198425.1968503937 +y_0=105279.7828803657"+g+Y+s,1,x+iY+dW+" +k=1.0000599003 +x_0=116129.0322580645"+NW+g+Y+s,1,L+sY+rY+" +lon_0=-89.77 +k_0=1.000053289 +x_0=74676.1493522987 +y_0=55049.26695453391"+g+Y+s,1,x+oY+fW+" +k=1.0000234982 +x_0=238658.8794513589"+UM+g+Y+s,1,x+aY+pW+" +k=1.0000362499 +x_0=105461.0121412243"+UM+g+Y+s,1,L+lY+AY+gW+" +k_0=1.0000434122 +x_0=204521.2090424181 +y_0=121923.9861823724"+g+Y+s,1,x+cY+mW+" +k=1.0000236869 +x_0=182880.3675895352"+GU+g+Y+s,1,L+hY+uY+yW+" +k_0=1.0000686968 +x_0=70104.14020828041 +y_0=57588.03474726949"+g+Y+s,1,L+dY+fY+xW+" +k_0=1.0000362977 +x_0=167640.3352806706 +y_0=86033.08773177546"+g+Y+s,1,x+pY+kQ+" +k=1.0000433849 +x_0=141732.2822453645"+NW+g+Y+s,1,L+gY+mY+" +lon_0=-89.5 +k_0=1.000039936 +x_0=56388.11277622555 +y_0=50022.1874523749"+g+Y+s,1,x+yY+CW+" +k=1.0000649554 +x_0=227990.8544577089 +y_0=0.01097282194564389"+g+Y+s,1,L+aZ+lZ+EW+" +k_0=1.0000375653 +x_0=202387.6047752095 +y_0=134255.4254508509"+g+Y+s,1,x+xY+IW+" +k=1.0000337311 +x_0=146304.2926085852 +y_0=0.006705613411226822"+g+Y+s,1,x+CY+wW+" +k=1.0000495976 +x_0=250546.1013970028 +y_0=0.02346964693929388"+g+Y+s,1,x+EY+_W+" +k=1.0000373868 +x_0=185623.5715519431 +y_0=0.005181610363220727"+g+Y+s,1,L+IY+wY+BW+" +k_0=1.0000573461 +x_0=216713.2337312675 +y_0=120734.1631699263"+g+Y+s,1,x+ak+vW+" +k=1.000032144 +x_0=262433.3251714504 +y_0=0.009448818897637795"+g+Y+s,1,x+ak+kQ+" +k=1.0000381803 +x_0=165506.7300990602 +y_0=0.01036322072644145"+g+Y+s,1,L+_Y+BY+bW+" +k_0=1.0000597566 +x_0=187147.5742951486 +y_0=107746.7521463043"+g+Y+s,1,x+vY+MW+" +k=1.0000361538 +x_0=256946.9138938278"+UW+g+Y+s,1,L+bY+MY+SW+" +k_0=1.0000408158 +x_0=222504.44500889 +y_0=47532.0603505207"+g+Y+s,1,L+SY+TY+TW+" +k_0=1.0000730142 +x_0=134417.0688341377 +y_0=50337.10927101854"+g+Y+s,1,L+DY+RY+DW+" +k_0=1.0000367192 +x_0=232562.8651257302 +y_0=111088.2224028448"+g+Y+s,1,L+QY+kY+RW+" +k_0=1.0000475376 +x_0=234086.8681737363 +y_0=188358.6059436119"+g+Y+s,1,x+LY+QW+" +k=1.00003738 +x_0=120091.4414020828"+UM+g+Y+s,1,x+PY+kW+" +k=1.0000346179 +x_0=208788.4178816358"+GU+g+Y+s,1,x+FY+LW+" +k=1.0000333645 +x_0=185013.9709423419 +y_0=0.007010414020828041"+g+Y+s,1,L+UY+NY+QQ+" +k_0=1.0000392096"+qY+" +y_0=45069.7588011176"+g+Y+s,1,L+GY+OY+Fi+" +k_0=1.0000421209 +x_0=208483.6172720346 +y_0=134589.7539243078"+g+Y+s,41,rt+g+s,6,x+R+" +lon_0=68.51666666666667 +k=1 +x_0=1300000"+uS+g+A+s,1,x+R+" +lon_0=71.51666666666667 +k=1"+MN+uS+g+A+s,1,x+R+" +lon_0=74.51666666666667 +k=1"+SN+uS+g+A+s,1,x+R+" +lon_0=77.51666666666667 +k=1"+TN+uS+g+A+s,1,x+R+" +lon_0=80.51666666666667 +k=1 +x_0=5300000"+uS+g+A+s,12308,x+R+rr+" +k=1"+oo+y+$+jt+A+s,1,x+R+Ur+" +k=1"+ma+y+$+jt+A+s,1,x+R+Bo+" +k=1"+B0+y+$+jt+A+s,1,x+R+sc+" +k=1"+Hh+y+$+jt+A+s,1,x+R+fl+" +k=1"+cC+y+$+jt+A+s,1,x+R+Z0+" +k=1"+hC+y+$+jt+A+s,1,x+R+jC+" +k=1"+oC+y+$+jt+A+s,1,x+R+hm+" +k=1"+b1+y+$+jt+A+s,1,x+R+qC+" +k=1"+aC+y+$+jt+A+s,1,x+R+Nr+" +k=1"+Nh+y+$+jt+A+s,1,x+R+Gr+" +k=1"+Oc+y+$+jt+A+s,1,x+R+Xr+" +k=1"+Ou+y+$+jt+A+s,1,x+R+Or+" +k=1"+Vu+y+$+jt+A+s,1,x+R+Vr+" +k=1"+w0+y+$+jt+A+s,1,x+R+Gs+" +k=1"+Nu+y+$+jt+A+s,1,x+R+Fr+" +k=1"+Gu+y+$+jt+A+s,1,x+R+gr+" +k=1"+Gh+y+$+jt+A+s,1,x+R+Sr+" +k=1"+Hu+y+$+jt+A+s,1,x+R+nr+" +k=1"+Oh+y+$+jt+A+s,1,x+R+mr+" +k=1"+zu+y+$+jt+A+s,1,x+R+zC+" +k=1"+lC+y+$+jt+A+s,1,x+R+em+" +k=1"+Wu+y+$+jt+A+s,1,x+R+N0+" +k=1"+Ju+y+$+jt+A+s,1,x+R+WC+" +k=1"+Yu+y+$+jt+A+s,1,x+R+G0+" +k=1"+Zu+y+$+jt+A+s,1,x+R+td+" +k=1"+Vc+y+$+jt+A+s,1,x+R+Kh+" +k=1"+tf+y+$+jt+A+s,1,x+R+af+" +k=1"+$A+y+$+jt+A+s,1,x+R+M0+" +k=1"+ef+y+$+jt+A+s,103,U+Ia+_e+RM+A+s,1,U+Kl+_e+RM+A+s,1,U+ta+_e+RM+A+s,1,U+co+_e+RM+A+s,111,U+ql+dt+$n+Mh+A+s,1,U+kA+dt+$n+Mh+A+s,1,U+Xl+dt+$n+Mh+A+s,1,U+LA+dt+$n+Mh+A+s,1,U+rh+dt+$n+Mh+A+s,1,U+cc+dt+$n+Mh+A+s,1,U+qh+dt+$n+Mh+A+s,1,U+tp+dt+$n+Mh+A+s,1,U+pm+dt+$n+Mh+A+s,1,U+gl+dt+$n+Mh+A+s,91,U+ql+dt+$n+ig+A+s,1,U+kA+dt+$n+ig+A+s,1,U+Xl+dt+$n+ig+A+s,1,U+LA+dt+$n+ig+A+s,1,U+rh+dt+$n+ig+A+s,1,U+cc+dt+$n+ig+A+s,1,U+qh+dt+$n+ig+A+s,1,U+tp+dt+$n+ig+A+s,80,U+Kl+ft+Jy+A+s,1,U+ta+ft+Jy+A+s,1,U+co+ft+Jy+A+s,1,U+jr+ft+Jy+A+s,1,U+Zl+ft+Jy+A+s,59,U+jr+ft+Jy+A+s,39,U+co+$+vU+A+s,1,U+jr+$+vU+A+s,251,x+Uc+" +lon_0=1 +k=1"+ye+bA+ft+_M+M5+A+s,1,x+Uc+" +lon_0=1 +k=1"+It+y+ft+_M+M5+A+s,31,U+Hr+dt+ft+BM+A+s,1,U+ml+dt+ft+BM+A+s,1,U+uc+dt+ft+BM+A+s,110,U+QA+dt+hr+sl+uQ+A+s,1,U+Ia+dt+hr+sl+uQ+A+s,1,U+Kl+dt+hr+sl+uQ+A+s,99,U+Ia+dt+_e+YI+A+s,1,U+Kl+dt+_e+YI+A+s,1,U+ta+dt+_e+YI+A+s,58,U+Ia+_e+YI+A+s,1,U+Kl+_e+YI+A+s,1,U+ta+_e+YI+A+s,51,U+jl+dt+te+Wy+A+s,1,U+ql+dt+te+Wy+A+s,1,U+kA+dt+te+Wy+A+s,141,x+R+L0+x0+sn+y+_e+xU+A+s,1,x+" +lat_0=13.17638888888889 +lon_0=-59.55972222222222 +k=0.9999986"+U5+" +y_0=75000"+_e+xU+A+s,121,x+R+Nr+" +k=1"+Nh+y+$+Tn+A+s,1,x+R+Gr+" +k=1"+Oc+y+$+Tn+A+s,1,x+R+Xr+" +k=1"+Ou+y+$+Tn+A+s,1,x+R+Or+" +k=1"+Vu+y+$+Tn+A+s,1,x+R+Vr+" +k=1"+w0+y+$+Tn+A+s,1,x+R+Gs+" +k=1"+Nu+y+$+Tn+A+s,1,x+R+Fr+" +k=1"+Gu+y+$+Tn+A+s,1,x+R+gr+" +k=1"+Gh+y+$+Tn+A+s,1,x+R+Sr+" +k=1"+Hu+y+$+Tn+A+s,1,x+R+nr+" +k=1"+Oh+y+$+Tn+A+s,1,x+R+mr+" +k=1"+zu+y+$+Tn+A+s,30,x+R+Nr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Gr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Xr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Or+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Vr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Gs+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Fr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+gr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+Sr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+nr+" +k=1"+tt+y+$+Tn+A+s,1,x+R+mr+" +k=1"+tt+y+$+Tn+A+s,37,L+zQ+WQ+Ao+ws+rs+" +y_0=5400000"+ft+" +pm=brussels"+A+s,280,nS+LQ+ws+" +k_0=1"+It+y+te+MM+" +pm=bern"+A+s,1,nS+LQ+HU+" +k_0=1"+$t+ec+te+MM+A+s,1,nS+LQ+HU+" +k_0=1"+It+y+te+MM+A+s,36,U+Vs+ft+ZI+A+s,78,x+lk+" +lon_0=-77.08091666666667 +k=1"+ss+Fn+ft+ZI+A+s,1,x+lk+" +lon_0=-74.08091666666667 +k=1"+ss+Fn+ft+ZI+A+s,1,x+lk+" +lon_0=-71.08091666666667 +k=1"+ss+Fn+ft+ZI+A+s,1,x+lk+" +lon_0=-68.08091666666667 +k=1"+ss+Fn+ft+ZI+A+s,133,U+qr+dt+_e+bM+A+s,1,U+$o+dt+_e+bM+A+s,58,x+R+" +lon_0=11.5"+Ve+tt+ki+_e+bM+A+s,1,x+R+vo+Ve+tt+ki+_e+bM+A+s,79,x+de+SS+" +k=1"+jn+y+g+v+A+s,1,x+de+hf+" +k=1"+Pr+y+g+v+A+s,1,x+de+HC+" +k=1"+ks+y+g+v+A+s,1,x+de+xw+" +k=1"+oo+y+g+v+A+s,1,x+de+DS+" +k=1"+ma+y+g+v+A+s,1,x+de+S5+" +k=1"+B0+y+g+v+A+s,1,x+de+V0+" +k=1"+Hh+y+g+v+A+s,4,x+de+SS+" +k=1"+jn+y+Oe+v+A+s,1,x+de+hf+" +k=1"+Pr+y+Oe+v+A+s,1,x+de+HC+" +k=1"+ks+y+Oe+v+A+s,1,x+de+xw+" +k=1"+oo+y+Oe+v+A+s,1,x+de+DS+" +k=1"+ma+y+Oe+v+A+s,1,x+de+S5+" +k=1"+B0+y+Oe+v+A+s,1,x+de+V0+" +k=1"+Hh+y+Oe+v+A+s,4,x+de+SS+" +k=1"+jn+y+ft+l0+A+s,1,x+de+hf+" +k=1"+Pr+y+ft+l0+A+s,1,x+de+HC+" +k=1"+ks+y+ft+l0+A+s,1,x+de+xw+" +k=1"+oo+y+ft+l0+A+s,1,x+de+DS+" +k=1"+ma+y+ft+l0+A+s,1,x+de+S5+" +k=1"+B0+y+ft+l0+A+s,1,x+de+V0+" +k=1"+Hh+y+ft+l0+A+s,37,U+QA+dt+hr+sl+Sh+A+s,1,U+Ia+dt+hr+sl+Sh+A+s,40,x+R+ir+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+tv+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+ZC+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+rr+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+Iw+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+KC+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+Ur+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+" +lon_0=29 +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+rm+" +k=1"+It+y+sr+hr+sl+Sh+A+s,2,x+R+Bo+" +k=1"+It+y+sr+hr+sl+Sh+A+s,39,U+qr+Xn+ei+fB+A+s,59,L+" +lat_1=36"+Os+" +lon_0=9.9"+Pk+tt+bA+Xn+ei+fB+A+s,1,L+_S+BS+" +lon_0=9.9"+$M+tt+bA+Xn+ei+fB+A+s,129,U+Hs+dt+ft+cB+A+s,1,U+Hr+dt+ft+cB+A+s,1,U+ml+dt+ft+cB+A+s,1,U+uc+dt+ft+cB+A+s,1,U+oc+dt+ft+cB+A+s,175,L+UN+" +lat_0=34.65 +lon_0=37.35 +k_0=0.9996256"+xn+bA+Xn+ei+lQ+A+s,70,L+UN+" +lat_0=34.65 +lon_0=37.35 +k_0=0.9996256"+xn+bA+Xn+ei+lQ+A+s,10,qA+" +lat_0=34.2 +lon_0=39.15 +k=0.9995341"+It+y+Xn+ei+lQ+A+s,211,x+or+" +lon_0=35 +k=1"+xn+" +y_0=1100000"+Fh+QM+A+s,1,x+or+rm+" +k=1 +x_0=615000 +y_0=810000"+Fh+QM+A+s,1,x+or+Ur+" +k=1"+Zr+ec+Fh+QM+A+s,1,x+or+Ur+" +k=1"+Zr+fL+Fh+QM+A+s,34,U+ho+ft+bs+A+s,1,U+jo+ft+bs+A+s,1,U+nh+ft+bs+A+s,1,U+sd+ft+bs+A+s,1,U+qr+ft+bs+A+s,1,U+$o+ft+bs+A+s,1,U+QA+ft+bs+A+s,1,U+Ia+ft+bs+A+s,1,U+Kl+ft+bs+A+s,1,U+ta+ft+bs+A+s,1,U+co+ft+bs+A+s,52,x+R+ws+Ve+tt+y+ft+bs+A+s,5,x+R+" +lon_0=5"+Ve+tt+y+ft+bs+A+s,144,U+jr+_e+bU+A+s,1,U+Zl+_e+bU+A+s,460,nS+" +lat_0=47.14439372222222 +lon_0=19.04857177777778 +k_0=0.99993 +x_0=650000"+ec+FN+PH+A+s,130,x+R+" +lon_0=94.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=97.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=100.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=103.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=106.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=109.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=112.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=115.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=118.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=121.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=124.5"+yt+ye+ao+Oe+v+A+s,1,x+R+_B+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=130.5"+yt+ye+ao+Oe+v+A+s,1,x+R+pL+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=136.5"+yt+ye+ao+Oe+v+A+s,1,x+R+" +lon_0=139.5"+yt+ye+ao+Oe+v+A+s,1,U+od+Jl+Vl+EA+A+s,1,U+dc+Jl+Vl+EA+A+s,1,U+jl+Jl+Vl+EA+A+s,1,U+ql+Jl+Vl+EA+A+s,1,U+kA+Jl+Vl+EA+A+s,1,U+Xl+Jl+Vl+EA+A+s,1,U+LA+Jl+Vl+EA+A+s,14,U+od+Oe+v+A+s,1,U+dc+Oe+v+A+s,1,U+jl+Oe+v+A+s,1,U+ql+Oe+v+A+s,1,U+kA+Oe+v+A+s,1,U+Xl+Oe+v+A+s,1,U+LA+Oe+v+A+s,5,U+dc+dt+Oe+v+A+s,1,U+jl+dt+Oe+v+A+s,1,U+ql+dt+Oe+v+A+s,1,U+kA+dt+Oe+v+A+s,1,U+Xl+dt+Oe+v+A+s,1,U+LA+dt+Oe+v+A+s,1,U+rh+dt+Oe+v+A+s,1,U+cc+dt+Oe+v+A+s,3,U+dc+dt+Jl+Vl+EA+A+s,1,U+jl+dt+Jl+Vl+EA+A+s,1,U+ql+dt+Jl+Vl+EA+A+s,1,U+kA+dt+Jl+Vl+EA+A+s,1,U+Xl+dt+Jl+Vl+EA+A+s,1,U+LA+dt+Jl+Vl+EA+A+s,1,U+rh+dt+Jl+Vl+EA+A+s,1,U+cc+dt+Jl+Vl+EA+A+s,52,U+od+ro+so+mQ+A+s,1,U+dc+ro+so+mQ+A+s,1,U+jl+ro+so+mQ+A+s,99,U+dc+ro+so+MU+A+s,1,U+jl+ro+so+MU+A+s,52,L+" +lat_1=18"+df+qu+" +k_0=1 +x_0=167638.49597 +y_0=121918.90616"+lN+AN+xk+s,100,L+" +lat_1=18"+df+qu+" +k_0=1"+As+" +y_0=150000"+Ke+sz+A+s,105,U+iE+ro+so+gQ+A+s,1,U+od+ro+so+gQ+A+s,5,U+j0+sw+nw+AB+A+s,1,U+q0+sw+nw+AB+A+s,1,U+mm+sw+nw+AB+A+s,29,U+q0+Uh+Lh+Mu+A+s,1,U+mm+Uh+Lh+Mu+A+s,1,U+nE+Uh+Lh+Mu+A+s,1,U+iE+Uh+Lh+Mu+A+s,1,U+od+Uh+Lh+Mu+A+s,1,U+dc+Uh+Lh+Mu+A+s,23,L+wS+" +lat_0=39.5 +lon_0=68 +k_0=0.99846154 +x_0=2153865.73916853 +y_0=2368292.194628102"+iC+nC+uB+s,1,L+PB+S0+" +lon_0=68"+Ph+ZM+KM+iC+nC+uB+s,1,L+lv+Xo+" +lon_0=74"+Ph+ZM+KM+iC+nC+uB+s,1,L+" +lat_1=19 +lat_0=19 +lon_0=80"+Ph+ZM+KM+iC+nC+uB+s,1,L+" +lat_1=12 +lat_0=12 +lon_0=80"+Ph+ZM+KM+iC+nC+uB+s,1,L+lv+Xo+lo+Ph+" +x_0=2743185.69 +y_0=914395.23"+ro+so+gQ+A+s,1,L+PB+S0+" +lon_0=68"+Ph+" +x_0=2743196.4 +y_0=914398.8"+sw+nw+AB+A+s,1,L+lv+Xo+" +lon_0=74"+Ph+" +x_0=2743196.4 +y_0=914398.8"+sw+nw+AB+A+s,1,L+PB+S0+" +lon_0=68"+Ph+eS+sS+Uh+Lh+Mu+A+s,1,L+lv+Xo+" +lon_0=74"+Ph+eS+sS+Uh+Lh+Mu+A+s,1,L+lv+Xo+lo+Ph+eS+sS+Uh+Lh+Mu+A+s,1,L+" +lat_1=19 +lat_0=19 +lon_0=80"+Ph+eS+sS+Uh+Lh+Mu+A+s,1,L+lv+Xo+lo+Ph+ZM+KM+iC+nC+uB+s,1,L+" +lat_1=12 +lat_0=12 +lon_0=80"+Ph+eS+sS+Uh+Lh+Mu+A+s,117,er+" +lat_0=1.287646666666667 +lon_0=103.8530022222222"+U5+" +y_0=30000"+Gc+Nc+Th+A+s,47,U+dc+Gc+Nc+Th+A+s,1,U+jl+Gc+Nc+Th+A+s,52,L+PB+S0+fl+eN+jn+QN+_e+kH+A+s,118,U+Vs+ft+cQ+A+s,1,U+Fs+ft+cQ+A+s,1,U+cs+ft+cQ+A+s,97,U+Tr+ft+CA+A+s,1,U+Vs+ft+CA+A+s,1,U+Fs+ft+CA+A+s,1,U+cs+ft+CA+A+s,1,U+Hs+ft+CA+A+s,56,U+Tr+dt+ft+CA+A+s,1,U+Vs+dt+ft+CA+A+s,1,U+Fs+dt+ft+CA+A+s,1,U+cs+dt+ft+CA+A+s,1,U+Hs+dt+ft+CA+A+s,1,U+Hr+dt+ft+CA+A+s,9,x+" +lat_0=-6 +lon_0=-80.5 +k=0.99983008 +x_0=222000 +y_0=1426834.743"+ft+CA+A+s,1,x+" +lat_0=-9.5 +lon_0=-76 +k=0.99932994 +x_0=720000 +y_0=1039979.159"+ft+CA+A+s,1,x+" +lat_0=-9.5"+Vh+" +k=0.99952992 +x_0=1324000 +y_0=1040084.558"+ft+CA+A+s,107,x+VW+" +lon_0=-1"+JB+" +x_0=274319.51"+y+_e+pz+A+s,231,U+sd+Xn+ei+A+s,160,x+R+gr+Yi+tt+y+Ke+aB+A+s,1,x+R+E5+Yi+tt+y+Ke+aB+A+s,1,x+R+I5+Yi+tt+y+Ke+aB+A+s,1,x+R+Sr+Yi+tt+y+Ke+aB+A+s,1,x+R+WB+Yi+tt+y+Ke+aB+A+s,433,U+ho+g+v+A+s,1,U+jo+g+v+A+s,1,U+nh+g+v+A+s,1,U+sd+g+v+A+s,1,U+qr+g+v+A+s,1,U+$o+g+v+A+s,1,U+QA+g+v+A+s,1,U+Ia+g+v+A+s,1,U+Kl+g+v+A+s,1,U+ta+g+v+A+s,47,x+R+bo+Ve+tt+y+g+v+A+s,48,U+qr+dt+ft+TH+A+s,259,L+_S+BS+g5+$M+tt+bA+Xn+ei+LM+A+s,1,L+" +lat_1=29.7 +lat_0=29.7"+g5+" +k_0=0.9996155960000001"+tt+bA+Xn+ei+LM+A+s,2,L+" +lat_1=26.1 +lat_0=26.1"+g5+" +k_0=0.999616304 +x_0=1200000"+Yh+Xn+ei+LM+A+s,1,L+" +lat_1=22.5 +lat_0=22.5"+g5+" +k_0=0.999616437"+jn+Yh+Xn+ei+LM+A+s,42,U+ta+te+Iz+A+s,94,U+sd+_e+hB+A+s,1,U+qr+_e+hB+A+s,59,x+pf+" +lon_0=4.5"+JB+" +x_0=230738.26"+y+_e+hB+A+s,1,x+pf+" +lon_0=8.5"+JB+" +x_0=670553.98"+y+_e+hB+A+s,1,x+pf+" +lon_0=12.5"+JB+" +x_0=1110369.7"+y+_e+hB+A+s,239,U+qr+Xn+ei+SU+A+s,60,U+qr+dt+Xn+ei+SU+A+s,9,U+$h+Jt+A+s,1,U+ad+Jt+A+s,1,U+ep+Jt+A+s,1,U+cd+Jt+A+s,1,U+fc+Jt+A+s,1,U+oh+Jt+A+s,1,U+pc+Jt+A+s,1,U+ld+Jt+A+s,1,U+Ad+Jt+A+s,1,U+rd+Jt+A+s,1,U+ac+Jt+A+s,1,U+lc+Jt+A+s,1,U+Ac+Jt+A+s,1,U+hc+Jt+A+s,1,U+DA+Jt+A+s,1,U+RA+Jt+A+s,1,U+Tr+Jt+A+s,1,U+Vs+Jt+A+s,1,U+Fs+Jt+A+s,1,U+cs+Jt+A+s,1,U+Hs+Jt+A+s,1,U+Hr+Jt+A+s,7,x+Wc+PM+OC+Zn+y+Jt+Y+s,1,x+or+pw+Es+Zn+y+Jt+Y+s,1,vr+" +lat_0=57"+JQ+YQ+yt+" +x_0=5000000.001016002 +y_0=-5000000.001016002"+ea+tw+Jt+Y+s,1,x+Ts+YL+yt+Zn+y+Jt+Y+s,1,x+Ts+ZL+yt+Zn+y+Jt+Y+s,1,x+Ts+PC+yt+Zn+y+Jt+Y+s,1,x+Ts+K1+yt+Zn+y+Jt+Y+s,1,x+Ts+lf+yt+Zn+y+Jt+Y+s,1,x+Ts+KL+yt+" +x_0=213360.4267208534"+y+Jt+Y+s,1,x+Ts+XL+yt+Zn+y+Jt+Y+s,1,x+Ts+mS+yt+sN+y+Jt+Y+s,1,L+ZQ+KQ+ov+jL+kh+y+Jt+Y+s,1,L+Tg+Yl+cr+ul+Bn+y+Jt+Y+s,1,L+Dg+Rg+_r+ul+Bn+y+Jt+Y+s,1,L+tl+Qg+V1+ti+Bn+y+Jt+Y+s,1,L+D1+am+kg+H1+Bn+y+Jt+Y+s,1,L+Lg+Pg+z1+Jh+Bn+y+Jt+Y+s,1,L+Fg+Ug+Ng+C1+Bn+y+Jt+Y+s,2,x+ni+sg+yt+Zn+y+Jt+Y+s,1,x+ni+rg+yt+Zn+y+Jt+Y+s,1,x+ni+x1+Es+Zn+y+Jt+Y+s,1,L+i1+s1+Gl+dl+Bn+y+Jt+Y+s,1,L+r1+Y1+o1+dl+Bn+y+Jt+Y+s,1,L+" +lat_1=39.71666666666667 +lat_2=40.78333333333333"+cr+Qs+Bn+y+Jt+Y+s,1,L+R1+Q1+c0+Qs+Bn+y+Jt+Y+s,1,L+tl+Gg+pi+Qs+Bn+y+Jt+Y+s,1,L+Og+W1+Vg+M1+sN+y+Jt+Y+s,1,x+Pi+og+J1+Zn+y+Jt+Y+s,1,x+el+ji+Xi+Zn+y+Jt+Y+s,1,x+el+$1+Xi+Zn+y+Jt+Y+s,1,L+k1+Hg+lm+L1+Bn+y+Jt+Y+s,6,x+or+ag+yt+Zn+y+Jt+Y+s,1,x+or+lg+yt+Zn+y+Jt+Y+s,1,x+Wi+Ag+il+Zn+y+Jt+Y+s,1,x+Wi+Xu+il+Zn+y+Jt+Y+s,1,x+Wi+E1+Es+Zn+y+Jt+Y+s,1,x+pi+gg+C0+Zn+y+Jt+Y+s,1,x+pi+mg+Xi+Zn+y+Jt+Y+s,1,x+dr+yg+_i+Zn+y+Jt+Y+s,1,x+dr+xg+_i+Zn+y+Jt+Y+s,1,L+a1+l1+wo+cl+Bn+y+Jt+Y+s,1,L+da+A1+Ss+cl+Bn+y+Jt+Y+s,1,L+c1+h1+zo+pr+Bn+y+Jt+Y+s,1,L+u1+d1+pi+br+Bn+y+Jt+Y+s,1,L+Fl+Sg+dr+v1+Bn+y+Jt+Y+s,1,L+" +lat_1=36.73333333333333 +lat_2=37.93333333333333"+Br+rl+Bn+y+Jt+Y+s,1,L+" +lat_1=31.16666666666667 +lat_2=32.66666666666666 +lat_0=30.66666666666667"+Hc+Bn+y+Jt+Y+s,1,L+" +lat_1=29.3 +lat_2=30.7 +lat_0=28.66666666666667"+Su+Bn+y+Jt+Y+s,1,x+io+tc+yt+Zn+y+Jt+Y+s,1,x+Ol+Cg+_i+Zn+y+Jt+Y+s,1,L+" +lat_1=38.3 +lat_2=39.45"+c0+qu+" +x_0=243840.4876809754"+y+Jt+Y+s,1,L+" +lat_1=41.71666666666667 +lat_2=42.68333333333333"+Pa+ll+sN+y+Jt+Y+s,1,L+" +lat_1=41.28333333333333 +lat_2=41.48333333333333"+Pa+Vh+" +x_0=60960.12192024384"+y+Jt+Y+s,4,L+" +lat_1=47.03333333333333 +lat_2=48.63333333333333"+Wh+Eg+Bn+y+Jt+Y+s,1,L+" +lat_1=45.61666666666667 +lat_2=47.05"+Ko+T1+Bn+y+Jt+Y+s,1,L+" +lat_1=43.78333333333333 +lat_2=45.21666666666667"+id+O0+Bn+y+Jt+Y+s,1,x+d0+cg+OC+Zn+y+Jt+Y+s,1,x+Wc+Od+Xi+Zn+y+Jt+Y+s,1,x+p0+aS+Es+Zn+y+Jt+Y+s,1,x+p0+Hc+Es+Zn+y+Jt+Y+s,1,x+NM+lS+Xi+Zn+y+Jt+Y+s,1,L+" +lat_1=34.41666666666666 +lat_2=33.86666666666667 +lat_0=34.13333333333333"+FM+" +x_0=1276106.450596901 +y_0=1268253.006858014"+Jt+Y+s,48,x+no+tc+yt+nl+y+g+v+Y+s,1,x+Ol+Cg+_i+Wl+y+g+v+Y+s,1,L+Rx+Qx+Wh+Eg+fa+pa+g+v+Y+s,1,L+yC+kx+Ko+T1+fa+pa+g+v+Y+s,1,L+Lx+Px+id+O0+fa+pa+g+v+Y+s,1,L+pl+Yl+Fx+Ls+Rs+y+g+v+Y+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+Y+s,1,L+zx+Wx+um+ji+$t+y+g+v+Y+s,1,x+no+tc+yt+nl+y+g+v+Y+s,1,x+Ol+Cg+_i+Wl+y+g+v+Y+s,1,L+Rx+Qx+Wh+Eg+fa+pa+g+v+Y+s,1,L+yC+kx+Ko+T1+fa+pa+g+v+Y+s,1,L+Lx+Px+id+O0+fa+pa+g+v+Y+s,1,L+pl+Yl+Fx+Ls+Rs+y+g+v+Y+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+Y+s,1,L+zx+Wx+um+ji+$t+y+g+v+Y+s,1,x+no+tc+yt+nl+y+g+v+Y+s,1,x+Ol+Cg+_i+Wl+y+g+v+Y+s,1,L+Rx+Qx+Wh+Eg+fa+pa+g+v+Y+s,1,L+yC+kx+Ko+T1+fa+pa+g+v+Y+s,1,L+Lx+Px+id+O0+fa+pa+g+v+Y+s,1,L+pl+Yl+Fx+Ls+Rs+y+g+v+Y+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+Y+s,1,L+zx+Wx+um+ji+$t+y+g+v+Y+s,21,x+R+Zo+yt+Hn+y+g+v+A+s,1,x+R+ji+yt+Hn+y+g+v+A+s,1,x+R+P0+yt+Hn+y+g+v+A+s,1,x+R+Jc+yt+Hn+y+g+v+A+s,1,x+R+Fi+yt+Hn+y+g+v+A+s,1,x+R+HB+yt+Hn+y+g+v+A+s,1,x+R+j1+yt+Hn+y+g+v+A+s,1,x+R+" +lon_0=-53"+yt+Hn+y+g+v+A+s,1,x+R+T5+yt+Hn+y+g+v+A+s,2,U+$h+g+v+A+s,1,U+ad+g+v+A+s,1,U+ep+g+v+A+s,1,U+cd+g+v+A+s,1,U+fc+g+v+A+s,1,U+oh+g+v+A+s,1,U+pc+g+v+A+s,1,U+ld+g+v+A+s,1,U+Ad+g+v+A+s,1,U+rd+g+v+A+s,1,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,U+Hs+g+v+A+s,1,U+Hr+g+v+A+s,1,U+ml+g+v+A+s,6,x+Wc+PM+OC+ye+y+g+v+A+s,1,x+or+pw+Es+$t+y+g+v+A+s,1,vr+" +lat_0=57"+JQ+YQ+yt+G1+ka+ea+tw+g+v+A+s,1,x+Ts+YL+yt+tt+y+g+v+A+s,1,x+Ts+ZL+yt+tt+y+g+v+A+s,1,x+Ts+PC+yt+tt+y+g+v+A+s,1,x+Ts+K1+yt+tt+y+g+v+A+s,1,x+Ts+lf+yt+tt+y+g+v+A+s,1,x+Ts+KL+yt+tt+y+g+v+A+s,1,x+Ts+XL+yt+tt+y+g+v+A+s,1,x+Ts+mS+yt+tt+y+g+v+A+s,1,L+ZQ+KQ+ov+jL+ss+y+g+v+A+s,1,L+Tg+Yl+cr+ul+ds+Yn+g+v+A+s,1,L+Dg+Rg+_r+ul+ds+Yn+g+v+A+s,1,L+tl+Qg+V1+ti+ds+Yn+g+v+A+s,1,L+D1+am+kg+H1+ds+Yn+g+v+A+s,1,L+Lg+Pg+z1+Jh+ds+Yn+g+v+A+s,1,L+Fg+Ug+Ng+C1+ds+Yn+g+v+A+s,2,x+ni+sg+yt+Kr+y+g+v+A+s,1,x+ni+rg+yt+Kr+y+g+v+A+s,1,x+ni+x1+Es+Kr+y+g+v+A+s,1,L+i1+s1+Gl+dl+sn+y+g+v+A+s,1,L+r1+Y1+o1+dl+sn+Yh+g+v+A+s,1,L+Yy+Zy+cr+Qs+Fu+Uu+g+v+A+s,1,L+R1+Q1+c0+Qs+Fu+Uu+g+v+A+s,1,L+tl+Gg+pi+Qs+Fu+Uu+g+v+A+s,1,L+Og+W1+Vg+M1+Dk+Rk+g+v+A+s,1,x+Pi+og+J1+ye+y+g+v+A+s,1,x+el+ji+Xi+ye+y+g+v+A+s,1,x+el+$1+Xi+ye+y+g+v+A+s,1,L+k1+Hg+lm+L1+$t+y+g+v+A+s,1,x+NQ+Zk+_i+tt+y+g+v+A+s,1,x+GQ+EQ+_i+tt+y+g+v+A+s,1,x+XI+lf+Xc+tt+y+g+v+A+s,1,x+OQ+Kk+Xc+tt+y+g+v+A+s,1,x+VQ+IQ+" +k=1"+tt+y+g+v+A+s,1,x+or+ag+yt+ye+y+g+v+A+s,1,x+or+lg+yt+Zr+y+g+v+A+s,1,x+Wi+Ag+il+ye+y+g+v+A+s,1,x+Wi+Xu+il+tt+y+g+v+A+s,1,x+Wi+E1+Es+Ns+y+g+v+A+s,1,x+pi+gg+C0+xn+y+g+v+A+s,1,x+pi+mg+Xi+Zr+y+g+v+A+s,1,x+dr+yg+_i+Li+Af+g+v+A+s,1,x+dr+xg+_i+Wl+Af+g+v+A+s,1,L+a1+l1+wo+cl+jn+Fn+g+v+A+s,1,L+da+A1+Ss+cl+tt+y+g+v+A+s,1,L+c1+h1+zo+pr+sn+y+g+v+A+s,1,L+u1+d1+pi+br+sn+Yh+g+v+A+s,2,L+Ky+Xy+Br+rl+tt+Yn+g+v+A+s,1,L+Tx+Dx+Wc+Hc+ss+y+g+v+A+s,1,L+TC+DC+RC+Su+ss+y+g+v+A+s,1,x+no+tc+yt+xn+y+g+v+A+s,1,x+Ol+Cg+_i+Wl+y+g+v+A+s,1,L+uC+IC+_r+qu+sn+y+g+v+A+s,1,L+jy+zg+Pa+ll+ye+O1+g+v+A+s,1,L+qy+$y+Pa+Vh+tt+y+g+v+A+s,1,L+tx+ex+nx+Jc+gL+y+g+v+A+s,1,L+wC+ix+sx+IA+BB+y+g+v+A+s,1,L+Du+_C+wo+IA+F1+y+g+v+A+s,1,L+Rx+Qx+Wh+Eg+Ns+Mr+g+v+A+s,1,L+yC+kx+Ko+T1+Ns+Mr+g+v+A+s,1,L+Lx+Px+id+O0+Ns+Mr+g+v+A+s,1,x+vA+cg+Yi+xn+y+g+v+A+s,1,x+vA+Od+Yi+Zr+y+g+v+A+s,1,x+p0+aS+Es+As+y+g+v+A+s,1,x+p0+Hc+Es+tt+y+g+v+A+s,1,x+NM+lS+Xi+LL+y+g+v+A+s,41,U+jr+_e+rB+A+s,1,U+Zl+_e+rB+A+s,80,U+cs+ft+gz+A+s,80,"+proj=nzmg +lat_0=-41 +lon_0=173 +x_0=2510000 +y_0=6023150"+ft+ls+A+s,5,x+" +lat_0=-36.87986527777778 +lon_0=174.7643393611111"+yt+xn+fr+ft+ls+A+s,1,x+" +lat_0=-37.76124980555556 +lon_0=176.46619725 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-38.62470277777778 +lon_0=177.8856362777778 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-39.65092930555556 +lon_0=176.6736805277778 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-39.13575830555556 +lon_0=174.22801175 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-39.51247038888889 +lon_0=175.6400368055556 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-40.24194713888889 +lon_0=175.4880996111111 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-40.92553263888889 +lon_0=175.6473496666667 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-41.30131963888888 +lon_0=174.7766231111111 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-40.71475905555556 +lon_0=172.6720465 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-41.27454472222222 +lon_0=173.2993168055555 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-41.28991152777778 +lon_0=172.1090281944444 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-41.81080286111111 +lon_0=171.5812600555556 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-42.33369427777778 +lon_0=171.5497713055556 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-42.68911658333333 +lon_0=173.0101333888889 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-41.54448666666666 +lon_0=173.8020741111111 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-42.88632236111111 +lon_0=170.9799935 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-43.11012813888889 +lon_0=170.2609258333333 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-43.97780288888889 +lon_0=168.606267 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-43.59063758333333 +lon_0=172.7271935833333 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-43.74871155555556 +lon_0=171.3607484722222 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-44.40222036111111 +lon_0=171.0572508333333 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-44.73526797222222 +lon_0=169.4677550833333 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-45.13290258333333 +lon_0=168.3986411944444 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-45.56372616666666 +lon_0=167.7388617777778 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-45.81619661111111 +lon_0=170.6285951666667 +k=1"+xn+fr+ft+ls+A+s,1,x+" +lat_0=-45.86151336111111 +lon_0=170.2825891111111"+OC+xn+fr+ft+ls+A+s,1,x+" +lat_0=-46.60000961111111 +lon_0=168.342872 +k=1 +x_0=300002.66 +y_0=699999.58"+ft+ls+A+s,26,U+gl+dt+ft+ls+A+s,1,U+rc+dt+ft+ls+A+s,1,U+jh+dt+ft+ls+A+s,31,x+" +lat_0=-39 +lon_0=175.5 +k=1 +x_0=274319.5243848086 +y_0=365759.3658464114"+ft+ls+yz+s,1,x+b5+" +lon_0=171.5 +k=1 +x_0=457199.2073080143 +y_0=457199.2073080143"+ft+ls+yz+s,99,x+fs+" +lon_0=-4.666666666666667 +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+" +lon_0=-2.333333333333333 +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+ws+" +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+" +lon_0=2.5 +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+zW+" +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+" +lon_0=10.16666666666667 +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+" +lon_0=14.16666666666667 +k=1"+It+y+qd+Kd+r0+gm+A+s,1,x+fs+" +lon_0=18.33333333333333 +k=1"+It+y+qd+Kd+r0+gm+A+s,31,U+jo+ft+mU+A+s,64,x+Uc+Mz+" +k=1 +x_0=180.598 +y_0=-86.98999999999999"+ft+mU+A+s,7,L+XU+jU+" +lon_0=5.399999999999999 +k_0=0.99950908"+tt+bA+" +a=6376523"+aN+$Y+A+s,61,L+XU+jU+ws+" +k_0=0.999877341"+$t+ec+Xn+ei+a0+eh+A+s,1,L+" +lat_1=46.8 +lat_0=46.8"+ws+" +k_0=0.99987742"+$t+ec+Xn+ei+a0+eh+A+s,1,L+VY+HY+ws+" +k_0=0.999877499"+$t+ec+Xn+ei+a0+eh+A+s,1,L+zY+WY+ws+" +k_0=0.99994471 +x_0=234.358 +y_0=185861.369"+Xn+ei+a0+eh+A+s,7,L+XU+jU+ws+" +k_0=0.999877341"+$t+fL+Xn+ei+a0+eh+A+s,1,L+" +lat_1=46.8 +lat_0=46.8"+ws+" +k_0=0.99987742"+$t+" +y_0=2200000"+Xn+ei+a0+eh+A+s,1,L+VY+HY+ws+" +k_0=0.999877499"+$t+" +y_0=3200000"+Xn+ei+a0+eh+A+s,1,L+zY+WY+ws+" +k_0=0.99994471 +x_0=234.358 +y_0=4185861.369"+Xn+ei+a0+eh+A+s,126,x+" +lat_0=49 +lon_0=-2 +k=0.9996012717"+sn+" +y_0=-100000"+gw+lH+A+s,491,er+rk+ok+Fk+" +y_0=126867.909"+xB+CB+rQ+A+s,1,x+rk+ok+" +k=1"+Fk+" +y_0=1126867.909"+xB+CB+rQ+A+s,1,er+rk+ok+Fk+" +y_0=1126867.909"+xB+CB+rQ+A+s,39,U+qr+dt+Xn+ei+rz+A+s,116,U+jl+dt+g+v+A+s,1,U+ql+dt+g+v+A+s,1,U+kA+dt+g+v+A+s,1,U+Xl+dt+g+v+A+s,1,U+LA+dt+g+v+A+s,1,U+rh+dt+g+v+A+s,1,U+cc+dt+g+v+A+s,1,U+qh+dt+g+v+A+s,1,U+tp+dt+g+v+A+s,1,U+pm+dt+g+v+A+s,1,U+gl+dt+g+v+A+s,46,x+R+rr+" +k=1"+oo+y+$+Yt+A+s,1,x+R+Ur+" +k=1"+ma+y+$+Yt+A+s,1,x+R+Bo+" +k=1"+B0+y+$+Yt+A+s,1,x+R+sc+" +k=1"+Hh+y+$+Yt+A+s,1,x+R+fl+" +k=1"+cC+y+$+Yt+A+s,1,x+R+Z0+" +k=1"+hC+y+$+Yt+A+s,1,x+R+jC+" +k=1"+oC+y+$+Yt+A+s,1,x+R+hm+" +k=1"+b1+y+$+Yt+A+s,1,x+R+qC+" +k=1"+aC+y+$+Yt+A+s,1,x+R+Nr+" +k=1"+Nh+y+$+Yt+A+s,1,x+R+Gr+" +k=1"+Oc+y+$+Yt+A+s,1,x+R+Xr+" +k=1"+Ou+y+$+Yt+A+s,1,x+R+Or+" +k=1"+Vu+y+$+Yt+A+s,1,x+R+Vr+" +k=1"+w0+y+$+Yt+A+s,1,x+R+Gs+" +k=1"+Nu+y+$+Yt+A+s,1,x+R+Fr+" +k=1"+Gu+y+$+Yt+A+s,1,x+R+gr+" +k=1"+Gh+y+$+Yt+A+s,1,x+R+Sr+" +k=1"+Hu+y+$+Yt+A+s,1,x+R+nr+" +k=1"+Oh+y+$+Yt+A+s,1,x+R+mr+" +k=1"+zu+y+$+Yt+A+s,1,x+R+zC+" +k=1"+lC+y+$+Yt+A+s,1,x+R+em+" +k=1"+Wu+y+$+Yt+A+s,1,x+R+N0+" +k=1"+Ju+y+$+Yt+A+s,1,x+R+WC+" +k=1"+Yu+y+$+Yt+A+s,1,x+R+G0+" +k=1"+Zu+y+$+Yt+A+s,1,x+R+td+" +k=1"+Vc+y+$+Yt+A+s,1,x+R+Kh+" +k=1"+tf+y+$+Yt+A+s,1,x+R+af+" +k=1"+$A+y+$+Yt+A+s,1,x+R+M0+" +k=1"+ef+y+$+Yt+A+s,168,x+" +lat_0=24.45"+ZW+Xc+ye+bA+ft+vH+A+s,391,qA+JY+ZY+" +k=0.9999079"+It+y+te+hU+A+s,1,qA+JY+ZY+" +k=0.9999079 +x_0=155000 +y_0=463000"+te+hU+A+s,109,RL+R+V0+G1+ki+$n+Pl+A+s,67,U+Vs+$n+Pl+A+s,1,U+Fs+$n+Pl+A+s,1,U+cs+$n+Pl+A+s,1,U+Hs+$n+Pl+A+s,1,U+Hr+$n+Pl+A+s,15,U+Tr+dt+$n+Pl+A+s,1,U+Vs+dt+$n+Pl+A+s,1,U+Fs+dt+$n+Pl+A+s,1,U+cs+dt+$n+Pl+A+s,1,U+Hs+dt+$n+Pl+A+s,1,U+Hr+dt+$n+Pl+A+s,1,U+ml+dt+$n+Pl+A+s,1,U+uc+dt+$n+Pl+A+s,1,U+oc+dt+$n+Pl+A+s,25,U+cs+dt+ft+RU+A+s,1,U+Hs+dt+ft+RU+A+s,112,U+$o+dt+Xd+A0+A+s,38,x+YC+" +lon_0=11 +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+" +lon_0=13 +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+ir+" +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+tv+" +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+ZC+" +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+rr+" +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+Iw+" +k=1"+It+y+sr+Xd+A0+Xx+s,2,x+YC+KC+" +k=1"+It+y+sr+Xd+A0+Xx+s,317,vr+" +lat_0=-18.9 +lonc=44.10000000000001 +alpha=18.9"+x0+sn+Ms+" +gamma=18.9"+ft+TM+eh+A+s,36,U+co+dt+ft+TM+A+s,1,U+jr+dt+ft+TM+A+s,110,U+ql+iw+lB+A+s,1,U+kA+iw+lB+A+s,21,vr+pf+NS+qU+JC+" +x_0=590476.8714630401 +y_0=442857.653094361"+OM+iw+lB+" +to_meter=20.11676512155263"+s,1,vr+pf+NS+qU+JC+" +x_0=590476.8727431979 +y_0=442857.6545573985"+OM+iw+lB+" +to_meter=0.3047994715386762"+s,1,vr+pf+NS+qU+JC+" +x_0=590476.87 +y_0=442857.65"+OM+iw+lB+A+s,28,x+QL+" +lon_0=-8 +k=1"+ye+Af+gw+iB+A+s,1,x+QL+" +lon_0=-8 +k=1.000035"+ye+Af+tS+iB+A+s,1,x+QL+" +lon_0=-8 +k=1.000035"+ye+Af+tS+iB+A+s,258,x+K0+vN+yt+It+y+te+Lr+A+s,1,x+K0+U0+yt+It+y+te+Lr+A+s,1,x+Os+zU+yt+It+y+te+Lr+A+s,1,x+K0+pL+yt+It+y+te+Lr+A+s,1,x+Os+WU+yt+It+y+te+Lr+A+s,1,x+Os+YB+yt+It+y+te+Lr+A+s,1,x+Os+JU+yt+It+y+te+Lr+A+s,1,x+Os+bN+yt+It+y+te+Lr+A+s,1,x+Os+YU+yt+It+y+te+Lr+A+s,1,x+Ss+ZU+yt+It+y+te+Lr+A+s,1,x+ya+yN+yt+It+y+te+Lr+A+s,1,x+ya+xN+yt+It+y+te+Lr+A+s,1,x+ya+CN+yt+It+y+te+Lr+A+s,1,x+Xo+" +lon_0=142"+yt+It+y+te+Lr+A+s,1,x+Xo+_B+yt+It+y+te+Lr+A+s,1,x+Xo+" +lon_0=124"+yt+It+y+te+Lr+A+s,1,x+Xo+U0+yt+It+y+te+Lr+A+s,1,x+" +lat_0=20"+YB+yt+It+y+te+Lr+A+s,1,x+Xo+y5+yt+It+y+te+Lr+A+s,21,er+WW+vz+" +x_0=86501.46392051999"+pZ+E0+I0+gU+OW+s,139,U+jr+Fh+A+s,1,U+Zl+Fh+A+s,151,L+" +lat_1=36"+Os+$B+Pk+tt+bA+Xn+ei+dQ+A+s,1,L+_S+BS+$B+$M+tt+bA+Xn+ei+dQ+A+s,1,L+" +lat_1=36"+Os+$B+Pk+tt+bA+Xn+ei+A+s,1,L+_S+BS+$B+$M+tt+bA+Xn+ei+A+s,235,U+jo+_e+HI+A+s,1,U+nh+_e+HI+A+s,1,U+sd+_e+HI+A+s,1,U+qr+_e+HI+A+s,59,L+" +lat_1=36"+Os+$B+Pk+" +x_0=500135 +y_0=300090"+_e+HI+A+s,1,L+_S+BS+$B+$M+" +x_0=500135 +y_0=300090"+_e+HI+A+s,236,U+ho+Xn+ei+A+s,93,U+Hs+ft+DM+A+s,33,x+R+V0+Ve+tt+y+ft+DM+A+s,16,x+R+GW+Ve+tt+y+ft+DM+A+s,1,x+R+GW+yt+tt+y+ft+DM+A+s,80,x+R+eE+" +k=1"+It+ka+te+Lc+qc+A+s,1,x+R+rm+" +k=1"+It+ka+te+Lc+qc+A+s,1,x+R+JS+" +k=1"+It+ka+te+Lc+qc+A+s,1,x+R+$U+" +k=1"+It+ka+te+Gd+A+s,1,x+R+VM+" +k=1"+It+ka+te+Gd+A+s,1,x+R+tN+" +k=1"+It+ka+te+Gd+A+s,1,x+R+$U+" +k=1"+rs+ka+te+Gd+A+s,1,x+R+VM+" +k=1 +x_0=450000"+ka+te+Gd+A+s,1,x+R+tN+" +k=1"+WL+ka+te+Gd+A+s,22,x+R+eE+" +k=1"+It+y+te+Lc+qc+A+s,1,x+R+rm+" +k=1"+It+y+te+Lc+qc+A+s,1,x+R+JS+" +k=1"+It+y+te+Lc+qc+A+s,1,x+R+$U+" +k=1"+rs+y+te+Gd+A+s,1,x+R+VM+" +k=1 +x_0=450000"+y+te+Gd+A+s,1,x+R+tN+" +k=1"+WL+y+te+Gd+A+s,1,L+ic+ed+" +lat_0=47.5"+VM+sn+Yh+te+Gd+A+s,1,x+R+eE+" +k=1"+rs+y+te+Lc+qc+A+s,1,x+R+rm+" +k=1 +x_0=450000"+y+te+Lc+qc+A+s,1,x+R+JS+" +k=1"+WL+y+te+Lc+qc+A+s,10,L+zQ+WQ+Ao+" +lon_0=4.356939722222222 +x_0=150000.01256 +y_0=5400088.4378"+ft+uU+A+s,70,L+" +lat_1=51.16666723333333 +lat_2=49.8333339"+Ao+" +lon_0=4.367486666666666 +x_0=150000.013 +y_0=5400088.438"+ft+uU+A+s,96,x+R+Av+" +k=1"+Pr+y+te+bu+A+s,1,x+R+qo+" +k=1"+ks+y+te+bu+A+s,1,x+R+vo+" +k=1"+oo+y+te+bu+A+s,1,x+R+ir+" +k=1"+ma+y+te+bu+A+s,59,U+ho+Xn+ei+QU+A+s,1,U+jo+Xn+ei+QU+A+s,71,qA+" +lat_0=45.9 +lon_0=25.39246588888889 +k=0.9996667"+tt+Yn+ft+bH+A+s,238,U+co+Oe+CU+A+s,1,U+jr+Oe+CU+A+s,62,x+R+ww+" +k=1"+tt+y+g+NH+A+s,64,U+ac+g+v+A+s,1,U+lc+g+v+A+s,1,U+Ac+g+v+A+s,1,U+hc+g+v+A+s,1,U+DA+g+v+A+s,1,U+RA+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,U+Hs+g+v+A+s,1,U+Hr+g+v+A+s,1,U+Tr+dt+g+v+A+s,1,U+Vs+dt+g+v+A+s,1,U+Fs+dt+g+v+A+s,1,U+cs+dt+g+v+A+s,1,U+Hs+dt+g+v+A+s,1,U+Hr+dt+g+v+A+s,1,U+ml+dt+g+v+A+s,1,U+uc+dt+g+v+A+s,1,U+oc+dt+g+v+A+s,1,U+Tr+g+v+A+s,1,U+Vs+g+v+A+s,1,U+Fs+g+v+A+s,1,U+cs+g+v+A+s,1,U+Hs+g+v+A+s,1,U+Hr+g+v+A+s,1,U+Tr+dt+g+v+A+s,1,U+Vs+dt+g+v+A+s,1,U+Fs+dt+g+v+A+s,1,U+cs+dt+g+v+A+s,1,U+Hs+dt+g+v+A+s,1,U+Hr+dt+g+v+A+s,1,U+ml+dt+g+v+A+s,1,U+uc+dt+g+v+A+s,1,U+oc+dt+g+v+A+s,1,L+" +lat_1=48.71666666666667 +lat_2=47.85"+Ca+$d+Bn+y+Jt+Y+s,1,L+" +lat_1=47.88333333333333 +lat_2=46.45 +lat_0=45.83333333333334"+$d+Bn+y+Jt+Y+s,1,L+" +lat_1=46.4 +lat_2=44.86666666666667"+ya+$d+Bn+y+Jt+Y+s,2,L+" +lat_1=41.85 +lat_2=42.81666666666667 +lat_0=41.33333333333334"+Ls+Bn+y+Jt+Y+s,1,L+" +lat_1=40.28333333333333"+zg+Uc+" +lon_0=-99.5"+Bn+y+Jt+Y+s,1,x+ur+Ig+yt+Zn+y+Jt+Y+s,1,x+ur+wg+yt+Zn+y+Jt+Y+s,1,x+ur+_g+yt+Zn+y+Jt+Y+s,1,x+_o+Bg+_i+Zn+y+Jt+Y+s,1,x+Ul+" +lon_0=-74.66666666666667"+C0+Bn+y+Jt+Y+s,1,x+ni+hg+jd+Zn+y+Jt+Y+s,1,x+ni+I1+yt+Zn+y+Jt+Y+s,1,x+ni+ug+w1+Zn+y+Jt+Y+s,1,x+Ss+" +lon_0=-74.33333333333333"+_i+Zn+y+Jt+Y+s,1,x+Ss+dg+di+Zn+y+Jt+Y+s,1,x+Ss+fg+di+Zn+y+Jt+Y+s,2,L+" +lat_1=34.33333333333334 +lat_2=36.16666666666666"+P1+F0+Bn+y+Jt+Y+s,1,L+" +lat_1=47.43333333333333"+YY+Ca+ol+Bn+y+Jt+Y+s,1,L+" +lat_1=46.18333333333333 +lat_2=47.48333333333333"+Dh+ol+Bn+y+Jt+Y+s,1,L+" +lat_1=40.43333333333333 +lat_2=41.7"+Uc+Zo+Bn+y+Jt+Y+s,1,L+" +lat_1=38.73333333333333 +lat_2=40.03333333333333"+Pi+Zo+Bn+y+Jt+Y+s,1,L+" +lat_1=35.56666666666667"+t1+Am+pr+Bn+y+Jt+Y+s,1,L+" +lat_1=33.93333333333333 +lat_2=35.23333333333333"+Zg+pr+Bn+y+Jt+Y+s,1,L+" +lat_1=44.33333333333334"+ed+no+ti+Bn+y+Jt+Y+s,1,L+" +lat_1=42.33333333333334 +lat_2=44"+Wi+ti+Bn+y+Jt+Y+s,1,L+" +lat_1=40.88333333333333 +lat_2=41.95"+Nl+al+Bn+y+Jt+Y+s,2,x+f1+ll+" +k=0.9999938"+Zn+y+Jt+Y+s,1,L+" +lat_1=33.76666666666667 +lat_2=34.96666666666667"+K0+ji+Bn+y+Jt+Y+s,2,L+" +lat_1=32.33333333333334 +lat_2=33.66666666666666"+jg+ji+Bn+y+Jt+Y+s,1,L+" +lat_1=44.41666666666666 +lat_2=45.68333333333333"+io+Ls+Bn+y+Jt+Y+s,1,L+" +lat_1=42.83333333333334 +lat_2=44.4"+p1+Xa+Bn+y+Jt+Y+s,2,L+UN+" +lat_2=36.18333333333333"+cm+S1+Bn+y+Jt+Y+s,1,L+" +lat_1=32.13333333333333 +lat_2=33.96666666666667"+qg+" +lon_0=-97.5"+Bn+y+Jt+Y+s,1,L+" +lat_1=30.11666666666667 +lat_2=31.88333333333333"+d0+Xa+Bn+y+Jt+Y+s,1,L+" +lat_1=28.38333333333333 +lat_2=30.28333333333333"+$g+Yc+Bn+y+Jt+Y+s,1,L+" +lat_1=26.16666666666667 +lat_2=27.83333333333333"+f0+br+Bn+y+Jt+Y+s,1,L+" +lat_1=40.71666666666667 +lat_2=41.78333333333333"+Ru+is+Bn+y+Jt+Y+s,1,L+" +lat_1=39.01666666666667 +lat_2=40.65"+zo+is+Bn+y+Jt+Y+s,1,L+" +lat_1=37.21666666666667 +lat_2=38.35"+pi+is+Bn+y+Jt+Y+s,1,x+_o+N1+_1+Zn+y+Jt+Y+s,1,L+" +lat_1=38.03333333333333 +lat_2=39.2"+_r+Al+Bn+y+Jt+Y+s,1,L+Yg+" +lat_2=37.96666666666667"+Br+Al+Bn+y+Jt+Y+s,1,L+" +lat_1=47.5"+YY+Ca+pg+Bn+y+Jt+Y+s,1,L+" +lat_1=45.83333333333334 +lat_2=47.33333333333334"+e1+ti+Bn+y+Jt+Y+s,1,L+" +lat_1=39 +lat_2=40.25"+Z1+Hl+Bn+y+Jt+Y+s,1,L+" +lat_1=37.48333333333333 +lat_2=38.88333333333333"+um+ji+Bn+y+Jt+Y+s,1,L+" +lat_1=45.56666666666667 +lat_2=46.76666666666667"+n1+Fi+Bn+y+Jt+Y+s,1,L+" +lat_1=44.25"+MA+io+Fi+Bn+y+Jt+Y+s,1,L+" +lat_1=42.73333333333333 +lat_2=44.06666666666667"+Y0+Fi+Bn+y+Jt+Y+s,1,x+Ak+vg+Xi+Zn+y+Jt+Y+s,1,x+Ak+bg+Xi+Zn+y+Jt+Y+s,1,x+Ak+B1+Xi+Zn+y+Jt+Y+s,1,x+Ak+Mg+Xi+Zn+y+Jt+Y+s,6,x+R+Yc+Ve+gi+y+Jt+Y+s,1,x+R+HB+Ve+gi+y+Jt+Y+s,1,x+R+Jc+Ve+gi+y+Jt+Y+s,1,x+R+ji+Ve+gi+y+Jt+Y+s,14,x+R+" +lon_0=-53"+yt+Hn+y+Jt+A+s,1,x+R+T5+yt+Hn+y+Jt+A+s,1,x+R+cL+yt+Hn+y+Jt+A+s,1,x+R+rS+yt+Hn+y+Jt+A+s,1,x+R+oS+yt+Hn+y+Jt+A+s,1,x+R+hL+yt+Hn+y+Jt+A+s,12,L+ev+ed+ya+tc+It+y+Jt+A+s,1,L+Vd+Hd+f0+Su+Bn+y+Jt+Y+s,1,L+ic+XC+dC+$d+$t+y+g+v+A+s,4,L+pl+Yl+Fx+Ls+tt+y+g+v+A+s,3,x+ur+Ig+yt+ye+mL+g+v+A+s,1,x+ur+wg+yt+tt+zc+g+v+A+s,1,x+ur+_g+yt+Ns+U1+g+v+A+s,1,x+_o+Bg+_i+xn+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+ni+hg+jd+BC+y+g+v+A+s,1,x+ni+I1+yt+tt+y+g+v+A+s,1,x+ni+ug+w1+PL+y+g+v+A+s,1,x+Ul+_A+yt+rs+y+g+v+A+s,1,x+Ss+dg+di+As+y+g+v+A+s,1,x+Ss+fg+di+kB+y+g+v+A+s,1,L+Wg+Jg+Nl+tm+xn+y+g+v+A+s,1,L+rx+ox+P1+F0+Gk+y+g+v+A+s,1,L+wA+ax+Ca+ol+$t+y+g+v+A+s,1,L+lx+Ax+Dh+ol+$t+y+g+v+A+s,1,L+QC+Ux+Uc+Zo+$t+y+g+v+A+s,1,L+Nx+Gx+Pi+Zo+$t+y+g+v+A+s,1,L+Yg+cx+Am+pr+$t+y+g+v+A+s,1,L+hx+ux+Zg+pr+$t+y+g+v+A+s,1,L+W0+h0+no+ti+Pr+y+g+v+A+s,1,L+J0+u0+Wi+ti+jn+y+g+v+A+s,1,L+fC+dx+Nl+al+$t+y+g+v+A+s,1,L+Kg+Xg+cr+al+$t+y+g+v+A+s,1,x+f1+ll+AC+Li+y+g+v+A+s,3,L+fx+vC+jg+ji+bC+y+g+v+A+s,1,L+Ox+Vx+io+Ls+$t+y+g+v+A+s,1,L+kC+Hx+p1+Xa+$t+y+g+v+A+s,1,L+px+pC+Gl+uf+$t+y+g+v+A+s,1,L+gx+gC+cm+S1+ye+Fn+g+v+A+s,1,L+mx+yx+qg+br+$t+Yr+g+v+A+s,1,L+xx+Cx+d0+Xa+Zr+La+g+v+A+s,1,L+Ex+Ix+$g+Yc+$t+U1+g+v+A+s,1,L+Vd+Hd+f0+br+xn+v0+g+v+A+s,1,L+da+zd+Ru+is+tt+Fn+g+v+A+s,1,L+nf+Wd+zo+is+tt+Yr+g+v+A+s,1,L+sf+Jd+pi+is+tt+La+g+v+A+s,1,x+_o+N1+_1+tt+y+g+v+A+s,1,L+MC+wx+_r+Al+ks+Yr+g+v+A+s,1,L+Fl+t1+Br+Al+ks+Fn+g+v+A+s,1,L+wA+SC+Ca+pg+tt+y+g+v+A+s,1,L+_x+Bx+e1+ti+tt+y+g+v+A+s,1,L+xC+$C+Z1+Hl+$t+y+g+v+A+s,1,L+zx+Wx+um+ji+$t+y+g+v+A+s,1,L+vx+bx+n1+Fi+$t+y+g+v+A+s,1,L+ju+mC+io+Fi+$t+y+g+v+A+s,1,L+Mx+Sx+Y0+Fi+$t+y+g+v+A+s,1,x+Is+vg+di+ye+y+g+v+A+s,1,x+Is+bg+di+sn+Mr+g+v+A+s,1,x+Is+B1+di+$t+y+g+v+A+s,1,x+Is+Mg+di+Ns+Mr+g+v+A+s,3,L+jI+qI+$I+KI+ye+ec+g+v+A+s,3,x+R+Yc+Ve+gi+y+g+v+Y+s,1,x+R+HB+Ve+gi+y+g+v+Y+s,1,x+R+Jc+Ve+gi+y+g+v+Y+s,1,x+R+ji+Ve+gi+y+g+v+Y+s,14,x+R+" +lon_0=-53"+yt+Hn+y+g+v+A+s,1,x+R+T5+yt+Hn+y+g+v+A+s,1,x+R+cL+yt+Hn+y+g+v+A+s,1,x+R+rS+yt+Hn+y+g+v+A+s,1,x+R+oS+yt+Hn+y+g+v+A+s,1,x+R+hL+yt+Hn+y+g+v+A+s,1,x+R+Vh+yt+Hn+y+g+v+A+s,1,x+R+uL+yt+Hn+y+g+v+A+s,1,x+R+dL+yt+Hn+y+g+v+A+s,1,x+R+Hl+yt+Hn+y+g+v+A+s,1,x+R+Zo+yt+Hn+y+g+v+A+s,1,x+R+ji+yt+Hn+y+g+v+A+s,1,x+R+P0+yt+Hn+y+g+v+A+s,1,x+R+Jc+yt+Hn+y+g+v+A+s,1,x+R+Fi+yt+Hn+y+g+v+A+s,1,x+R+HB+yt+Hn+y+g+v+A+s,1,x+R+j1+yt+Hn+y+g+v+A+s,1,L+ev+ed+ya+tc+It+y+g+v+A+s,1,L+Vd+Hd+" +lat_0=25.5"+Su+ss+y+g+v+A+s,2,U+$h+Lt+xe+A+s,1,U+ad+Lt+xe+A+s,1,U+ep+Lt+xe+A+s,1,U+cd+Lt+xe+A+s,1,U+fc+Lt+xe+A+s,1,U+oh+Lt+xe+A+s,1,U+pc+Lt+xe+A+s,1,U+ld+Lt+xe+A+s,1,U+Ad+Lt+xe+A+s,1,U+rd+Lt+xe+A+s,1,U+ac+Lt+xe+A+s,1,U+lc+Lt+xe+A+s,1,U+Ac+Lt+xe+A+s,1,U+hc+Lt+xe+A+s,1,U+DA+Lt+xe+A+s,1,U+RA+Lt+xe+A+s,1,U+Tr+Lt+xe+A+s,1,U+Vs+Lt+xe+A+s,1,U+Fs+Lt+xe+A+s,1,U+cs+Lt+xe+A+s,1,U+Hs+Lt+xe+A+s,1,U+Hr+Lt+xe+A+s,1,U+ml+Lt+xe+A+s,1,U+uc+Lt+xe+A+s,1,U+oc+Lt+xe+A+s,1,U+sh+Lt+xe+A+s,1,U+fm+Lt+xe+A+s,1,U+ho+Lt+xe+A+s,1,U+jo+Lt+xe+A+s,1,U+nh+Lt+xe+A+s,1,U+sd+Lt+xe+A+s,1,U+qr+Lt+xe+A+s,1,U+$o+Lt+xe+A+s,1,U+QA+Lt+xe+A+s,1,U+Ia+Lt+xe+A+s,1,U+Kl+Lt+xe+A+s,1,U+ta+Lt+xe+A+s,1,U+co+Lt+xe+A+s,1,U+jr+Lt+xe+A+s,1,U+Zl+Lt+xe+A+s,1,U+j0+Lt+xe+A+s,1,U+q0+Lt+xe+A+s,1,U+mm+Lt+xe+A+s,1,U+nE+Lt+xe+A+s,1,U+iE+Lt+xe+A+s,1,U+od+Lt+xe+A+s,1,U+dc+Lt+xe+A+s,1,U+jl+Lt+xe+A+s,1,U+ql+Lt+xe+A+s,1,U+kA+Lt+xe+A+s,1,U+Xl+Lt+xe+A+s,1,U+LA+Lt+xe+A+s,1,U+rh+Lt+xe+A+s,1,U+cc+Lt+xe+A+s,1,U+qh+Lt+xe+A+s,1,U+tp+Lt+xe+A+s,1,U+pm+Lt+xe+A+s,1,U+gl+Lt+xe+A+s,1,U+rc+Lt+xe+A+s,1,U+jh+Lt+xe+A+s,41,U+$h+dt+Lt+xe+A+s,1,U+ad+dt+Lt+xe+A+s,1,U+ep+dt+Lt+xe+A+s,1,U+cd+dt+Lt+xe+A+s,1,U+fc+dt+Lt+xe+A+s,1,U+oh+dt+Lt+xe+A+s,1,U+pc+dt+Lt+xe+A+s,1,U+ld+dt+Lt+xe+A+s,1,U+Ad+dt+Lt+xe+A+s,1,U+rd+dt+Lt+xe+A+s,1,U+ac+dt+Lt+xe+A+s,1,U+lc+dt+Lt+xe+A+s,1,U+Ac+dt+Lt+xe+A+s,1,U+hc+dt+Lt+xe+A+s,1,U+DA+dt+Lt+xe+A+s,1,U+RA+dt+Lt+xe+A+s,1,U+Tr+dt+Lt+xe+A+s,1,U+Vs+dt+Lt+xe+A+s,1,U+Fs+dt+Lt+xe+A+s,1,U+cs+dt+Lt+xe+A+s,1,U+Hs+dt+Lt+xe+A+s,1,U+Hr+dt+Lt+xe+A+s,1,U+ml+dt+Lt+xe+A+s,1,U+uc+dt+Lt+xe+A+s,1,U+oc+dt+Lt+xe+A+s,1,U+sh+dt+Lt+xe+A+s,1,U+fm+dt+Lt+xe+A+s,1,U+ho+dt+Lt+xe+A+s,1,U+jo+dt+Lt+xe+A+s,1,U+nh+dt+Lt+xe+A+s,1,U+sd+dt+Lt+xe+A+s,1,U+qr+dt+Lt+xe+A+s,1,U+$o+dt+Lt+xe+A+s,1,U+QA+dt+Lt+xe+A+s,1,U+Ia+dt+Lt+xe+A+s,1,U+Kl+dt+Lt+xe+A+s,1,U+ta+dt+Lt+xe+A+s,1,U+co+dt+Lt+xe+A+s,1,U+jr+dt+Lt+xe+A+s,1,U+Zl+dt+Lt+xe+A+s,1,U+j0+dt+Lt+xe+A+s,1,U+q0+dt+Lt+xe+A+s,1,U+mm+dt+Lt+xe+A+s,1,U+nE+dt+Lt+xe+A+s,1,U+iE+dt+Lt+xe+A+s,1,U+od+dt+Lt+xe+A+s,1,U+dc+dt+Lt+xe+A+s,1,U+jl+dt+Lt+xe+A+s,1,U+ql+dt+Lt+xe+A+s,1,U+kA+dt+Lt+xe+A+s,1,U+Xl+dt+Lt+xe+A+s,1,U+LA+dt+Lt+xe+A+s,1,U+rh+dt+Lt+xe+A+s,1,U+cc+dt+Lt+xe+A+s,1,U+qh+dt+Lt+xe+A+s,1,U+tp+dt+Lt+xe+A+s,1,U+pm+dt+Lt+xe+A+s,1,U+gl+dt+Lt+xe+A+s,1,U+rc+dt+Lt+xe+A+s,1,U+jh+dt+Lt+xe+A+s,41,U+$h+Lt+Ce+A+s,1,U+ad+Lt+Ce+A+s,1,U+ep+Lt+Ce+A+s,1,U+cd+Lt+Ce+A+s,1,U+fc+Lt+Ce+A+s,1,U+oh+Lt+Ce+A+s,1,U+pc+Lt+Ce+A+s,1,U+ld+Lt+Ce+A+s,1,U+Ad+Lt+Ce+A+s,1,U+rd+Lt+Ce+A+s,1,U+ac+Lt+Ce+A+s,1,U+lc+Lt+Ce+A+s,1,U+Ac+Lt+Ce+A+s,1,U+hc+Lt+Ce+A+s,1,U+DA+Lt+Ce+A+s,1,U+RA+Lt+Ce+A+s,1,U+Tr+Lt+Ce+A+s,1,U+Vs+Lt+Ce+A+s,1,U+Fs+Lt+Ce+A+s,1,U+cs+Lt+Ce+A+s,1,U+Hs+Lt+Ce+A+s,1,U+Hr+Lt+Ce+A+s,1,U+ml+Lt+Ce+A+s,1,U+uc+Lt+Ce+A+s,1,U+oc+Lt+Ce+A+s,1,U+sh+Lt+Ce+A+s,1,U+fm+Lt+Ce+A+s,1,U+ho+Lt+Ce+A+s,1,U+jo+Lt+Ce+A+s,1,U+nh+Lt+Ce+A+s,1,U+sd+Lt+Ce+A+s,1,U+qr+Lt+Ce+A+s,1,U+$o+Lt+Ce+A+s,1,U+QA+Lt+Ce+A+s,1,U+Ia+Lt+Ce+A+s,1,U+Kl+Lt+Ce+A+s,1,U+ta+Lt+Ce+A+s,1,U+co+Lt+Ce+A+s,1,U+jr+Lt+Ce+A+s,1,U+Zl+Lt+Ce+A+s,1,U+j0+Lt+Ce+A+s,1,U+q0+Lt+Ce+A+s,1,U+mm+Lt+Ce+A+s,1,U+nE+Lt+Ce+A+s,1,U+iE+Lt+Ce+A+s,1,U+od+Lt+Ce+A+s,1,U+dc+Lt+Ce+A+s,1,U+jl+Lt+Ce+A+s,1,U+ql+Lt+Ce+A+s,1,U+kA+Lt+Ce+A+s,1,U+Xl+Lt+Ce+A+s,1,U+LA+Lt+Ce+A+s,1,U+rh+Lt+Ce+A+s,1,U+cc+Lt+Ce+A+s,1,U+qh+Lt+Ce+A+s,1,U+tp+Lt+Ce+A+s,1,U+pm+Lt+Ce+A+s,1,U+gl+Lt+Ce+A+s,1,U+rc+Lt+Ce+A+s,1,U+jh+Lt+Ce+A+s,41,U+$h+dt+Lt+Ce+A+s,1,U+ad+dt+Lt+Ce+A+s,1,U+ep+dt+Lt+Ce+A+s,1,U+cd+dt+Lt+Ce+A+s,1,U+fc+dt+Lt+Ce+A+s,1,U+oh+dt+Lt+Ce+A+s,1,U+pc+dt+Lt+Ce+A+s,1,U+ld+dt+Lt+Ce+A+s,1,U+Ad+dt+Lt+Ce+A+s,1,U+rd+dt+Lt+Ce+A+s,1,U+ac+dt+Lt+Ce+A+s,1,U+lc+dt+Lt+Ce+A+s,1,U+Ac+dt+Lt+Ce+A+s,1,U+hc+dt+Lt+Ce+A+s,1,U+DA+dt+Lt+Ce+A+s,1,U+RA+dt+Lt+Ce+A+s,1,U+Tr+dt+Lt+Ce+A+s,1,U+Vs+dt+Lt+Ce+A+s,1,U+Fs+dt+Lt+Ce+A+s,1,U+cs+dt+Lt+Ce+A+s,1,U+Hs+dt+Lt+Ce+A+s,1,U+Hr+dt+Lt+Ce+A+s,1,U+ml+dt+Lt+Ce+A+s,1,U+uc+dt+Lt+Ce+A+s,1,U+oc+dt+Lt+Ce+A+s,1,U+sh+dt+Lt+Ce+A+s,1,U+fm+dt+Lt+Ce+A+s,1,U+ho+dt+Lt+Ce+A+s,1,U+jo+dt+Lt+Ce+A+s,1,U+nh+dt+Lt+Ce+A+s,1,U+sd+dt+Lt+Ce+A+s,1,U+qr+dt+Lt+Ce+A+s,1,U+$o+dt+Lt+Ce+A+s,1,U+QA+dt+Lt+Ce+A+s,1,U+Ia+dt+Lt+Ce+A+s,1,U+Kl+dt+Lt+Ce+A+s,1,U+ta+dt+Lt+Ce+A+s,1,U+co+dt+Lt+Ce+A+s,1,U+jr+dt+Lt+Ce+A+s,1,U+Zl+dt+Lt+Ce+A+s,1,U+j0+dt+Lt+Ce+A+s,1,U+q0+dt+Lt+Ce+A+s,1,U+mm+dt+Lt+Ce+A+s,1,U+nE+dt+Lt+Ce+A+s,1,U+iE+dt+Lt+Ce+A+s,1,U+od+dt+Lt+Ce+A+s,1,U+dc+dt+Lt+Ce+A+s,1,U+jl+dt+Lt+Ce+A+s,1,U+ql+dt+Lt+Ce+A+s,1,U+kA+dt+Lt+Ce+A+s,1,U+Xl+dt+Lt+Ce+A+s,1,U+LA+dt+Lt+Ce+A+s,1,U+rh+dt+Lt+Ce+A+s,1,U+cc+dt+Lt+Ce+A+s,1,U+qh+dt+Lt+Ce+A+s,1,U+tp+dt+Lt+Ce+A+s,1,U+pm+dt+Lt+Ce+A+s,1,U+gl+dt+Lt+Ce+A+s,1,U+rc+dt+Lt+Ce+A+s,1,U+jh+dt+Lt+Ce+A+s,41,U+$h+bt+A+s,1,U+ad+bt+A+s,1,U+ep+bt+A+s,1,U+cd+bt+A+s,1,U+fc+bt+A+s,1,U+oh+bt+A+s,1,U+pc+bt+A+s,1,U+ld+bt+A+s,1,U+Ad+bt+A+s,1,U+rd+bt+A+s,1,U+ac+bt+A+s,1,U+lc+bt+A+s,1,U+Ac+bt+A+s,1,U+hc+bt+A+s,1,U+DA+bt+A+s,1,U+RA+bt+A+s,1,U+Tr+bt+A+s,1,U+Vs+bt+A+s,1,U+Fs+bt+A+s,1,U+cs+bt+A+s,1,U+Hs+bt+A+s,1,U+Hr+bt+A+s,1,U+ml+bt+A+s,1,U+uc+bt+A+s,1,U+oc+bt+A+s,1,U+sh+bt+A+s,1,U+fm+bt+A+s,1,U+ho+bt+A+s,1,U+jo+bt+A+s,1,U+nh+bt+A+s,1,U+sd+bt+A+s,1,U+qr+bt+A+s,1,U+$o+bt+A+s,1,U+QA+bt+A+s,1,U+Ia+bt+A+s,1,U+Kl+bt+A+s,1,U+ta+bt+A+s,1,U+co+bt+A+s,1,U+jr+bt+A+s,1,U+Zl+bt+A+s,1,U+j0+bt+A+s,1,U+q0+bt+A+s,1,U+mm+bt+A+s,1,U+nE+bt+A+s,1,U+iE+bt+A+s,1,U+od+bt+A+s,1,U+dc+bt+A+s,1,U+jl+bt+A+s,1,U+ql+bt+A+s,1,U+kA+bt+A+s,1,U+Xl+bt+A+s,1,U+LA+bt+A+s,1,U+rh+bt+A+s,1,U+cc+bt+A+s,1,U+qh+bt+A+s,1,U+tp+bt+A+s,1,U+pm+bt+A+s,1,U+gl+bt+A+s,1,U+rc+bt+A+s,1,U+jh+bt+A+s,1,Ji+Ao+Ew+ws+$0+ds+Yr+bt+A+s,3,x+R+Yc+Ve+gi+y+bt+Y+s,1,x+R+HB+Ve+gi+y+bt+Y+s,1,x+R+Jc+Ve+gi+y+bt+Y+s,1,x+R+ji+Ve+gi+y+bt+Y+s,34,U+$h+dt+bt+A+s,1,U+ad+dt+bt+A+s,1,U+ep+dt+bt+A+s,1,U+cd+dt+bt+A+s,1,U+fc+dt+bt+A+s,1,U+oh+dt+bt+A+s,1,U+pc+dt+bt+A+s,1,U+ld+dt+bt+A+s,1,U+Ad+dt+bt+A+s,1,U+rd+dt+bt+A+s,1,U+ac+dt+bt+A+s,1,U+lc+dt+bt+A+s,1,U+Ac+dt+bt+A+s,1,U+hc+dt+bt+A+s,1,U+DA+dt+bt+A+s,1,U+RA+dt+bt+A+s,1,U+Tr+dt+bt+A+s,1,U+Vs+dt+bt+A+s,1,U+Fs+dt+bt+A+s,1,U+cs+dt+bt+A+s,1,U+Hs+dt+bt+A+s,1,U+Hr+dt+bt+A+s,1,U+ml+dt+bt+A+s,1,U+uc+dt+bt+A+s,1,U+oc+dt+bt+A+s,1,U+sh+dt+bt+A+s,1,U+fm+dt+bt+A+s,1,U+ho+dt+bt+A+s,1,U+jo+dt+bt+A+s,1,U+nh+dt+bt+A+s,1,U+sd+dt+bt+A+s,1,U+qr+dt+bt+A+s,1,U+$o+dt+bt+A+s,1,U+QA+dt+bt+A+s,1,U+Ia+dt+bt+A+s,1,U+Kl+dt+bt+A+s,1,U+ta+dt+bt+A+s,1,U+co+dt+bt+A+s,1,U+jr+dt+bt+A+s,1,U+Zl+dt+bt+A+s,1,U+j0+dt+bt+A+s,1,U+q0+dt+bt+A+s,1,U+mm+dt+bt+A+s,1,U+nE+dt+bt+A+s,1,U+iE+dt+bt+A+s,1,U+od+dt+bt+A+s,1,U+dc+dt+bt+A+s,1,U+jl+dt+bt+A+s,1,U+ql+dt+bt+A+s,1,U+kA+dt+bt+A+s,1,U+Xl+dt+bt+A+s,1,U+LA+dt+bt+A+s,1,U+rh+dt+bt+A+s,1,U+cc+dt+bt+A+s,1,U+qh+dt+bt+A+s,1,U+tp+dt+bt+A+s,1,U+pm+dt+bt+A+s,1,U+gl+dt+bt+A+s,1,U+rc+dt+bt+A+s,1,U+jh+dt+bt+A+s,1,Ji+de+" +lat_ts=-90"+ws+$0+ds+Yr+bt+A+s,5,x+R+H0+Ve+tt+ki+bt+A+s].reduce((e,t,n)=>{if(n%2==0){const r=e.prev+t,o="EPSG:"+r;e.defs.push([o]),e.prev=r}else e.defs[e.defs.length-1].push(t);return e},{defs:[],prev:0}).defs;(function(e){let t=JV;const n=qq;typeof t!="object"&&typeof t!="function"||typeof t.defs=="function"||typeof t.default!="function"||typeof t.default.defs!="function"||(t=t.default),t.defs(n),e.exports=t,e.exports.default=t})(YV);var NN=YV.exports;const xZ=Va(NN);(function(e){const t=AV,n=JV,r=NN;function o(l){return l||(l=[]),n&&l.push(n),r&&l.push(r),typeof zv=="object"&&zv.proj4&&l.push(zv.proj4),typeof globalThis=="object"&&globalThis.proj4&&l.push(globalThis.proj4),typeof self=="object"&&self.proj4&&l.push(self.proj4),typeof window=="object"&&window.proj4&&l.push(window.proj4),l=l.filter(c=>![void 0,null].includes(c)&&(typeof c!="object"||Object.keys(c).length>0)),t(l)}e.exports=o,e.exports.default=o,typeof window=="object"&&(window.proj4collect=o),typeof self=="object"&&(self.proj4collect=o)})(aV);const $q=Va(aV.exports);function CZ([e,t,n,r],o){const[l,c]=o||[0,0];return[Math.floor(e)-l,Math.floor(t)-c,Math.ceil(n)+l,Math.ceil(r)+c]}var EZ={exports:{}},IZ={exports:{}};(function(e){function t(n,r){if(n.fileDirectory&&(n=n.fileDirectory),n.GDAL_NODATA&&(n=n.GDAL_NODATA),typeof n=="string")return r&&r.raw?n:(n=n.replace("\0","").trim(),["-inf","-infinity"].includes(n)?"-Infinity":["+inf","inf","+infinity","infinity"].includes(n)?"Infinity":n=n.replace(/^\+/,""))}e.exports=t,e.exports.default=t,e.exports.getPreciseNoDataValue=t})(IZ);var t$=IZ.exports;(function(e){const t=t$;function n(r){const o=t(r);if(typeof o===void 0)return;const l=Number(o);return isNaN(l)?void 0:l}e.exports=n,e.exports.default=n,typeof window=="object"&&(window.getNoDataNumber=n),typeof self=="object"&&(self.getNoDataNumber=n)})(EZ);const e$=Va(EZ.exports);var wZ={exports:{}};(function(e){const t=AV,n=NN,r=Rc,o=D8,l=GR;typeof t!="function"&&console.warn("[reproject-bbox] failed to import proj4-merge");const c="[reproject-bbox] You passed in a value of 32767 for {{%s}}, which means a custom non-standard projection.  Please pass in a Well-Known Text or PROJ4JS String instead.";function h({bbox:f,debug_level:p=0,density:m,from:I,nan_strategy:w="throw",proj4:_,split:b=!0,to:T}){if(I===32767)throw new Error(c.replace("{{%s}}","from"));if(T===32767)throw new Error(c.replace("{{%s}}","to"));typeof I=="number"&&(I="EPSG:"+I),typeof T=="number"&&(T="EPSG:"+T);const S=[_,n];typeof window=="object"&&window.proj4&&S.push(window.proj4),typeof self=="object"&&self.proj4&&S.push(self.proj4);const k=t(S)(I,T).forward,F=b?o(f,{x:[0],y:[0]}):[f];p>=2&&console.log("[reproject-bbox] bboxes:",F);const N=F.map(G=>l(G,k,{density:m,nan_strategy:w}));return p>=2&&console.log("[reproject-bbox] bboxes_reprojected:",N),r(N)}e.exports=h,e.exports.default=h,typeof window=="object"&&(window.reprojectBoundingBox=h),typeof self=="object"&&(self.reprojectBoundingBox=h)})(wZ);const _Z=Va(wZ.exports);async function GN({bbox:e,bbox_srs:t=4326,cutline:n,cutline_srs:r=4326,debug_level:o=0,density:l=100,geotiff:c,geotiff_no_data:h,geotiff_srs:f,expr:p,method:m,pixel_depth:I,round:w,tile_array_types:_,tile_height:b=256,tile_no_data:T,tile_srs:S=3857,tile_array_types_strategy:k="auto",tile_layout:F="[band][row,column]",tile_resolution:N=[1,1],tile_width:G=256,timed:V=!1,use_overview:W=!0,turbo:X=!1,signal:K}){let st;try{const et=V?performance.now():0;if(K&&K.aborted)throw new Error("[geotiff-tile] operation aborted");if(!e)throw new Error("[geotiff-tile] you must provide bbox");if(isNaN(b))throw new Error("[geotiff-tile] tile_height is NaN");if(isNaN(G))throw new Error("[geotiff-tile] tile_width is NaN");const it=await c.getImage(0),ot=it.getHeight(),ht=[Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])];if(o>=1&&console.log("bbox_nums:",ht),!f){const ee=V?performance.now():0;f=await sV(c),V&&console.log("[geotiff-tile] parsing epsg code took "+Math.round(performance.now()-ee)+"ms")}if(o>=1&&console.log("[geotiff-tile] geotiff_srs:",f),!f)throw new Error("[geotiff-tile] unfortunately we weren't able to parse an EPSG code from the GeoTIFF metadata. Unfortunately, this library does not currently support reading tiles from GeoTIFF files with custom projections. We hope to add this support in the future, per time and funding.");const vt=V?performance.now():0;st=(()=>{if(S===t)return e;if(t==="simple"){const ee=oV(it),pn=F7(ee),[Te,Wt,Ot,ue]=ht,Ne=v8([Te,ot-ue,Ot,ot-Wt],pn.forward,{async:!1,density:0});return o>=1&&console.log("bbox_in_geotiff_srs:",Ne),f===S?Ne:_Z({bbox:Ne,density:l,from:f,to:S})}return o>=1&&console.log(`reprojecting bbox from "${t}" to "${S}"`),_Z({bbox:ht,density:l,from:t,to:S})})(),o>=1&&console.log("bbox_in_tile_srs:",st),V&&console.log("[geotiff-tile] getting bbox_in_tile_srs took "+Math.round(performance.now()-vt)+"ms");const Ct=t==="simple"&&S===f?{bbox:ht,clamp:!0,debug_level:o,srs:"simple",geotiff:c,use_overview:W,target_height:b,target_width:G,signal:K}:{bbox:st,clamp:!0,debug_level:o,srs:S,geotiff:c,use_overview:W,target_height:b,target_width:G,signal:K};o>=2&&console.log(`[geotiff-tile] calling readBoundingBox with:
`,Ct);const wt=V?performance.now():0,mt=await async function({bbox:ee,clamp:pn=!1,debug_level:Te=0,density:Wt=100,fill_value:Ot,geotiff:ue,geotiff_srs:Ne,padding:si,proj4:Ti,srs:hi,use_overview:Ci=!1,target_height:Zi,target_width:Je,signal:be}){if(Te>=1&&console.log("[geotiff-read-bbox] starting"),be&&be.aborted)throw new Error("[geotiff-read-bbox] operation aborted");if(ue===null)throw new Error("[geotiff-read-bbox] geotiff is null");if(ue===void 0)throw new Error("[geotiff-read-bbox] geotiff is undefined");const me=performance.now(),se=await ue.getImage(),we=performance.now()-me;Te>=2&&console.log(`[geotiff-read-bbox] getting first image took ${Math.round(we)} ms`);const Me=se.getHeight(),Ee=se.getWidth();if(Te>=2&&console.log("[geotiff-read-bbox] image_height:",Me),Te>=2&&console.log("[geotiff-read-bbox] image_width:",Ee),Ne||(Ne=await sV(ue)),Te>=2&&console.log("[geotiff-read-bbox] geotiff_srs:",Ne),[void 0,null,32767].includes(Ne)&&hi!=="simple")throw new Error("[geotiff-read-bbox] unable to parse SRS of geotiff");typeof Ne=="number"&&(Ne="EPSG:"+Ne),typeof hi=="number"&&(hi="EPSG:"+hi);const ke=se.fileDirectory;if(!(ke.ModelTransformation||ke.ModelTiepoint&&ke.ModelPixelScale))throw new Error("GeoTIFF doesn't have ModelTransformation nor ModelTiepoint+ModelPixelScale");const zn=oV(se);Te>=1&&console.log("[geotiff-read-bbox] geotransform:",zn);const On=F7(zn);Te>=1&&console.log("[geotiff-read-bbox] affine:",On);const rn=$q([Ti]);let Wn;if(Te>=1&&console.log("[geotiff-read-bbox] proj4:",typeof rn),hi==="simple"){const[tA,Fa,ud,na]=ee;Wn=[tA,se.getHeight()-na,ud,se.getHeight()-Fa]}else{let tA,Fa,ud;if(Ne===hi)Te>=2&&console.log("[geotiff-read-bbox] srs of geotiff and bbox are the same!"),Fa=na=>na,ud=na=>na,tA=na=>On.inverse(na);else{if(!Ne.includes("[")&&!Ne.includes("+")&&!rn.defs[Ne])throw new Error("[geotiff-read-bbox] unrecognized srs: "+Ne);if(!hi.includes("[")&&!hi.includes("+")&&!rn.defs[hi])throw new Error("[geotiff-read-bbox] unrecognized srs: "+hi);({forward:Fa,inverse:ud}=rn(Ne,hi)),tA=na=>On.inverse(ud(na))}Wn=v8(ee,tA,{density:Wt,nan_strategy:"skip"})}Te>=2&&console.log("[geotiff-read-bbox] bbox_in_base_image_coords:",Wn);let ri=CZ(Wn,si);Te>=2&&console.log("[geotiff-read-bbox] read_window:",ri);let[oi,Di]=Ai(ri);Te>=2&&console.log("[geotiff-read-bbox] base read size:",[oi,Di]);const Pt={image:se,image_height:Me,image_width:Ee,index:0,ratio:[1,1],read_window:ri,read_height:Di,read_width:oi};if(Ci&&Zi&&Je){Te>=2&&console.log("[geotiff-read-bbox] getting image count");const tA=performance.now(),Fa=await ue.getImageCount();Te>=2&&console.log("[geotiff-read-bbox] image_count: "+Fa);const ud=performance.now()-tA;Te>=2&&console.log(`[geotiff-read-bbox] getting image count (${Fa}) took ${ud} ms`);for(let na=1;na<Fa;na++){const ap=await ue.getImage(na);if(Te>=3&&console.log("[geotiff-read-bbox] subimage:",typeof ap),ap.fileDirectory.PhotometricInterpretation===4){Te>=3&&console.log(`[geotiff-read-bbox] ignoring image ${na} because it is a transparency mask`);continue}const yv=ap.getHeight()/Me;Te>=3&&console.log("[geotiff-read-bbox] ratioX:",yv);const wm=ap.getWidth()/Ee;Te>=3&&console.log("[geotiff-read-bbox] ratioY:",wm);const lp=t7(Wn,[yv,wm]);Te>=3&&console.log("[geotiff-read-bbox] bbox_in_subimage_coords:",lp);const mf=CZ(lp,si);if(Te>=2&&console.log("[geotiff-read-bbox] subimage_read_window:",mf),[oi,Di]=Ai(mf),Te>=3&&console.log("[geotiff-read-bbox] read_width:",oi),Te>=3&&console.log("[geotiff-read-bbox] read_height:",Di),!(Di>=Zi&&oi>=Je))break;Pt.image=ap,Pt.image_height=ap.getHeight(),Pt.image_width=ap.getWidth(),Pt.index=na,Pt.ratio=[yv,wm],Pt.read_height=Di,Pt.read_width=oi,Pt.read_window=mf,Te>=2&&console.log("[geotiff-read-bbox] selected:",Pt)}}const En=performance.now();let Qn;Te>=3&&console.log("[geotiff-read-bbox] selected:",Pt);const[zi,ps,_s,tu]=Pt.read_window;if(_s<=0||tu<=0||zi>=Pt.image_width||ps>=Pt.image_height){const tA=se.getSamplesPerPixel(),Fa=Pt.read_width*Pt.read_height;Qn=[];for(let ud=0;ud<tA;ud++)Qn.push(new Array(Fa).fill(Ot))}else pn&&(Te>=2&&console.log("[geotiff-read-bbox] clamping"),Pt.read_window=yn(Pt.read_window,[0,0,Pt.image_width,Pt.image_height]),[oi,Di]=Ai(Pt.read_window),Pt.read_height=Di,Pt.read_width=oi),Te>=2&&console.log("[geotiff-read-bbox] reading ",Pt.read_window),Qn=await Pt.image.readRasters({fillValue:Ot,window:Pt.read_window,signal:be});const op=performance.now()-En;Te>=2&&console.log("[geotiff-read-bbox] reading rasters took "+op.toFixed()+"ms"),Te>=3&&console.log("[geotiff-read-bbox] data:",Qn);const So=t7(Pt.read_window,Pt.ratio.map(tA=>1/tA)),tT=v8(So,On.forward,{density:Wt}),[sP,eT,wG,Em]=So,gf=[sP,eT];Te>=3&&console.log("[geotiff-read-bbox] upper_left:",gf);const[_G,nT]=On.forward(gf),rP=[_G,zn[1]/Pt.ratio[0],zn[2]/Pt.ratio[1],nT,zn[4]/Pt.ratio[0],zn[5]/Pt.ratio[1]],oP=[So[0],Me-So[3],So[2],Me-So[1]],Im={base_window:So,bbox:tT,data:Qn,geotransform:rP,height:Pt.read_height,index:Pt.index,image:Pt.image,simple_bbox:oP,srs:Ne,width:Pt.read_width,window:Pt.read_window};return[["read_bbox","bbox"],["selected_image_index","index"],["selected_image","image"]].forEach(([tA,Fa])=>{Object.defineProperty(Im,tA,{get:()=>(Te>=1&&console.log(`[geotiff-read-bbox] ${tA} is deprected, please use ${Fa} instead`),Im[Fa])})}),Object.defineProperty(Im,"read_window",{get(){return Te>=1&&console.log("[geotiff-read-bbox] read_window [left, bottom, top, right] is deprected, please use window [left, top, right, bottom] instead"),[this.window[0],this.window[3],this.window[2],this.window[1]]}}),Object.defineProperty(Im,"srs_of_geotiff",{get(){return Te>=1&&console.log("[geotiff-read-bbox] srs_of_geotiff is deprected, please use srs instead"),this.srs.startsWith("EPSG:")?Number(this.srs.replace("EPSG:","")):this.srs}}),Im}(Ct);o>=2&&console.log(`[geotiff-tile] geotiff-read-bbox result is:
`,mt),V&&console.log("[geotiff-tile] reading bounding box took "+Math.round(performance.now()-wt)+"ms");const Rt=mt.data[0].constructor.name;o>=2&&console.log(`[geotiff-tile] sourceArrayType:
`,Rt);const[Mt,Bt]=(()=>{switch(Rt){case"Uint8Array":return[0,255];case"Int8Array":return[-128,127];case"Uint16Array":return[0,65535];case"Int16Array":return[-32768,32767];case"Uint32Array":return[0,4294967295];case"Int32Array":return[-2147483648,2147483647];case"Float32Array":return[-34e37,34e37];case"Float64Array":return[-1*Number.MAX_VALUE,Number.MAX_VALUE];case"BigInt64Array":return[Math.pow(-2,63),Math.pow(2,63)-1];case"BigUint64Array":return[0,Math.pow(2,64)-1];default:return[void 0,void 0]}})();let at,kt;n&&!r&&(r=4326),f!==S&&({forward:at,inverse:kt}=xZ(typeof f=="number"?"EPSG:"+f:f,typeof S=="number"?"EPSG:"+S:S)),V&&console.log("[geotiff-tile] time elapsed before warping "+Math.round(performance.now()-et)+"ms");const _t=V?performance.now():0,zt=F.match(/\[/g).length;_=_||(k==="auto"?p?new Array(zt).fill("Array"):new Array(zt-1).fill("Array").concat([Rt]):k==="geotiff"?new Array(zt-1).fill("Array").concat([Rt]):new Array(zt-1).fill("Array")),o>=2&&console.log(`[geotiff-tile] tile_array_types:
`,_);const Ft=st.map(ee=>Number(ee)),qt=S;h===void 0&&(h=e$(it));const Gt={cutline:n,cutline_srs:r,cutline_forward:n?xZ("EPSG:"+r,"EPSG:"+S).forward:void 0,debug_level:o>1?o-1:0,forward:at,inverse:kt,in_data:mt.data,in_bbox:qt==="simple"?mt.simple_bbox:mt.bbox,in_geotransform:qt==="simple"?null:mt.geotransform,in_layout:"[band][row,column]",in_no_data:h,in_srs:f,in_width:mt.width,in_height:mt.height,method:m,out_array_types:_,out_bbox:Ft,out_height:b,out_layout:F,out_no_data:T!==void 0?T:typeof h=="number"?h:NaN,out_pixel_depth:I,out_resolution:typeof N=="number"?[N,N]:N,out_srs:qt,out_width:G,round:w,theoretical_max:Bt,theoretical_min:Mt,expr:p,turbo:X};o>=2&&console.log(`[geotiff-tile] geowarp_options:
`,Gt);const{data:ge,...Fe}=await Nj(Gt);return V&&console.log("[geotiff-tile] geowarp took "+Math.round(performance.now()-_t)+"ms"),V&&console.log("[geotiff-tile] took "+Math.round(performance.now()-et)+"ms"),o>=1&&(Fe.readResult=mt),{height:b,tile:ge,width:G,extra:Fe}}catch(et){throw console.log("[geotiff-tile] failed to create tile"),console.log("[geotiff-tile] bbox_in_tile_srs: ",st),console.log("[geotiff-tile] tile_height:",b),console.log("[geotiff-tile] tile_width;",G),console.log("[geotiff-tile] tile_srs:",S),console.log("[geotiff-tile] use_overview:",W),console.error("[geotiff-tile] error:",et),et}}typeof window=="object"&&(window.geotiff_tile={createTile:GN}),typeof self=="object"&&(self.geotiff_tile={createTile:GN});var n$=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};const ON=6378137;function $l(e){return(t,...n)=>i$(e,t,n)}function hv(e,t){return $l(BZ(e,t).get)}M.registerGeometryLoader(new class{constructor(){this.dataType="tif",this.name="tif loader",this.info={version:"1.0.0",author:"chaoxl"},this.lon0=0,this.mapWidth=2*Math.PI*ON,this.mapHeight=this.mapWidth,this.mapDepth=1}load(e){return n$(this,void 0,void 0,function*(){const{source:t,x:n,y:r,z:o}=e,l=this.getLonLatBoundsFromXYZ(n,r,o),c={geotiff:t.tiffData.tiff,bbox:l,method:"bilinear",tile_height:20,tile_width:20},{tile:h}=yield GN(c),f=new Z;return f.setData(new Float32Array(h[0].map(p=>p||null))),f})}getProjBoundsFromXYZ(e,t,n){const r=this.getTileXYZproj(e,t,n),o=this.getTileXYZproj(e+1,t+1,n);return[Math.min(r.x,o.x),Math.min(r.y,o.y),Math.max(r.x,o.x),Math.max(r.y,o.y)]}getLonLatBoundsFromXYZ(e,t,n){const r=this.getProjBoundsFromXYZ(e,t,n),o=this.unProject(r[0],r[1]),l=this.unProject(r[2],r[3]);return[o.lon,o.lat,l.lon,l.lat]}unProject(e,t){let n=e/ON*(180/Math.PI)+this.lon0;return n>180&&(n-=360),{lat:(2*Math.atan(Math.exp(t/ON))-Math.PI/2)*(180/Math.PI),lon:n}}getTileXYZproj(e,t,n){const r=this.mapWidth,o=this.mapHeight/2;return{x:e/Math.pow(2,n)*r-r/2,y:o-t/Math.pow(2,n)*o*2}}});const{apply:i$,getOwnPropertyDescriptor:BZ,getPrototypeOf:VN,ownKeys:s$}=Reflect,{iterator:YS,toStringTag:r$}=Symbol,o$=Object,{create:HN,defineProperty:a$}=o$,vZ=Array.prototype[YS],l$=$l(vZ),bZ=ArrayBuffer;hv(bZ.prototype,"byteLength");const MZ=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;MZ&&hv(MZ.prototype,"byteLength");const SZ=VN(Uint8Array);SZ.from;const gc=SZ.prototype;gc[YS],$l(gc.keys),$l(gc.values),$l(gc.entries),$l(gc.set),$l(gc.reverse),$l(gc.fill),$l(gc.copyWithin),$l(gc.sort),$l(gc.slice),$l(gc.subarray),hv(gc,"buffer"),hv(gc,"byteOffset"),hv(gc,"length"),hv(gc,r$);const A$=Uint8Array,TZ=Uint16Array,zN=Uint32Array,c$=Float32Array,ZS=VN([][YS]()),DZ=$l(ZS.next),h$=$l(function*(){}().next),u$=VN(ZS),d$=$l(DataView.prototype.getUint16),WN=WeakMap,RZ=WN.prototype,QZ=$l(RZ.get),f$=$l(RZ.set),kZ=new WN,p$=HN(null,{next:{value:function(){const e=QZ(kZ,this);return DZ(e)}},[YS]:{value:function(){return this}}}),g$=new WN,m$=HN(u$,{next:{value:function(){const e=QZ(g$,this);return h$(e)},writable:!0,configurable:!0}});for(const e of s$(ZS))e!=="next"&&a$(m$,e,BZ(ZS,e));const LZ=new bZ(4),y$=new c$(LZ),x$=new zN(LZ),np=new TZ(512),ip=new A$(512);for(let e=0;e<256;++e){const t=e-127;t<-24?(np[e]=0,np[256|e]=32768,ip[e]=24,ip[256|e]=24):t<-14?(np[e]=1024>>-t-14,np[256|e]=1024>>-t-14|32768,ip[e]=-t-1,ip[256|e]=-t-1):t<=15?(np[e]=t+15<<10,np[256|e]=t+15<<10|32768,ip[e]=13,ip[256|e]=13):t<128?(np[e]=31744,np[256|e]=64512,ip[e]=24,ip[256|e]=24):(np[e]=31744,np[256|e]=64512,ip[e]=13,ip[256|e]=13)}const JN=new zN(2048);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;!(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,JN[e]=t|n}for(let e=1024;e<2048;++e)JN[e]=939524096+(e-1024<<13);const uv=new zN(64);for(let e=1;e<31;++e)uv[e]=e<<23;uv[31]=1199570944,uv[32]=2147483648;for(let e=33;e<63;++e)uv[e]=2147483648+(e-32<<23);uv[63]=3347054592;const PZ=new TZ(64);for(let e=1;e<64;++e)e!==32&&(PZ[e]=1024);function FZ(e,t,...n){return function(r){const o=r>>10;return x$[0]=JN[PZ[o]+(1023&r)]+uv[o],y$[0]}(d$(e,t,...function(r){if(r[YS]===vZ&&ZS.next===DZ)return r;const o=HN(p$);return f$(kZ,o,l$(r)),o}(n)))}var YN={exports:{}};function UZ(e,t,n){const r=n&&n.debug||!1;r&&console.log("[xml-utils] getting "+t+" in "+e);const o=typeof e=="object"?e.outer:e,l=o.slice(0,o.indexOf(">")+1),c=['"',"'"];for(let h=0;h<c.length;h++){const f=c[h],p=t+"\\="+f+"([^"+f+"]*)"+f;r&&console.log("[xml-utils] pattern:",p);const m=new RegExp(p).exec(l);if(r&&console.log("[xml-utils] match:",m),m)return m[1]}}YN.exports=UZ,YN.exports.default=UZ;const ZN=Va(YN.exports);var KN={exports:{}},XN={exports:{}},jN={exports:{}};function NZ(e,t,n){const r=new RegExp(t).exec(e.slice(n));return r?n+r.index:-1}jN.exports=NZ,jN.exports.default=NZ;var C$=jN.exports,qN={exports:{}};function GZ(e,t,n){const r=new RegExp(t).exec(e.slice(n));return r?n+r.index+r[0].length-1:-1}qN.exports=GZ,qN.exports.default=GZ;var E$=qN.exports,$N={exports:{}};function OZ(e,t){const n=new RegExp(t,"g"),r=e.match(n);return r?r.length:0}$N.exports=OZ,$N.exports.default=OZ;var I$=$N.exports;const w$=C$,tG=E$,VZ=I$;function HZ(e,t,n){const r=n&&n.debug||!1,o=!(n&&typeof n.nested===!1),l=n&&n.startIndex||0;r&&console.log("[xml-utils] starting findTagByName with",t," and ",n);const c=w$(e,`<${t}[ 
>/]`,l);if(r&&console.log("[xml-utils] start:",c),c===-1)return;const h=e.slice(c+t.length);let f=tG(h,"^[^<]*[ /]>",0);const p=f!==-1&&h[f-1]==="/";if(r&&console.log("[xml-utils] selfClosing:",p),p===!1)if(o){let _=0,b=1,T=0;for(;(f=tG(h,"[ /]"+t+">",_))!==-1;){const S=h.substring(_,f+1);if(b+=VZ(S,"<"+t+`[ 
	>]`),T+=VZ(S,"</"+t+">"),T>=b)break;_=f}}else f=tG(h,"[ /]"+t+">",0);const m=c+t.length+f+1;if(r&&console.log("[xml-utils] end:",m),m===-1)return;const I=e.slice(c,m);let w;return w=p?null:I.slice(I.indexOf(">")+1,I.lastIndexOf("<")),{inner:w,outer:I,start:c,end:m}}XN.exports=HZ,XN.exports.default=HZ;const _$=XN.exports;function zZ(e,t,n){const r=[],o=n&&n.debug||!1,l=!n||typeof n.nested!="boolean"||n.nested;let c,h=n&&n.startIndex||0;for(;c=_$(e,t,{debug:o,startIndex:h});)h=l?c.start+1+t.length:c.end,r.push(c);return o&&console.log("findTagsByName found",r.length,"tags"),r}KN.exports=zZ,KN.exports.default=zZ;const B$=Va(KN.exports),KS={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},sp={};for(const e in KS)KS.hasOwnProperty(e)&&(sp[KS[e]]=parseInt(e,10));const v$=[sp.BitsPerSample,sp.ExtraSamples,sp.SampleFormat,sp.StripByteCounts,sp.StripOffsets,sp.StripRowCounts,sp.TileByteCounts,sp.TileOffsets,sp.SubIFDs],eG={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},Ni={};for(const e in eG)eG.hasOwnProperty(e)&&(Ni[eG[e]]=parseInt(e,10));const WZ=0,JZ=1,b$=2,YZ=3,ZZ=5,KZ=6,XZ=8,M$=0,S$=1,T$=0,D$=1,R$=2,Q$={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},jZ=new Map;function sE(e,t){Array.isArray(e)||(e=[e]),e.forEach(n=>jZ.set(n,t))}function O5(e,t,n,r=1){return new(Object.getPrototypeOf(e)).constructor(t*n*r)}function dv(e,t,n){return(1-n)*e+n*t}function k$(e,t,n,r,o,l="nearest"){switch(l.toLowerCase()){case"nearest":return function(c,h,f,p,m){const I=h/p,w=f/m;return c.map(_=>{const b=O5(_,p,m);for(let T=0;T<m;++T){const S=Math.min(Math.round(w*T),f-1);for(let k=0;k<p;++k){const F=Math.min(Math.round(I*k),h-1),N=_[S*h+F];b[T*p+k]=N}}return b})}(e,t,n,r,o);case"bilinear":case"linear":return function(c,h,f,p,m){const I=h/p,w=f/m;return c.map(_=>{const b=O5(_,p,m);for(let T=0;T<m;++T){const S=w*T,k=Math.floor(S),F=Math.min(Math.ceil(S),f-1);for(let N=0;N<p;++N){const G=I*N,V=G%1,W=Math.floor(G),X=Math.min(Math.ceil(G),h-1),K=_[k*h+W],st=_[k*h+X],et=_[F*h+W],it=_[F*h+X],ot=dv(dv(K,st,V),dv(et,it,V),S%1);b[T*p+N]=ot}}return b})}(e,t,n,r,o);default:throw new Error(`Unsupported resampling method: '${l}'`)}}function L$(e,t,n,r,o,l,c="nearest"){switch(c.toLowerCase()){case"nearest":return function(h,f,p,m,I,w){const _=f/m,b=p/I,T=O5(h,m,I,w);for(let S=0;S<I;++S){const k=Math.min(Math.round(b*S),p-1);for(let F=0;F<m;++F){const N=Math.min(Math.round(_*F),f-1);for(let G=0;G<w;++G){const V=h[k*f*w+N*w+G];T[S*m*w+F*w+G]=V}}}return T}(e,t,n,r,o,l);case"bilinear":case"linear":return function(h,f,p,m,I,w){const _=f/m,b=p/I,T=O5(h,m,I,w);for(let S=0;S<I;++S){const k=b*S,F=Math.floor(k),N=Math.min(Math.ceil(k),p-1);for(let G=0;G<m;++G){const V=_*G,W=V%1,X=Math.floor(V),K=Math.min(Math.ceil(V),f-1);for(let st=0;st<w;++st){const et=h[F*f*w+X*w+st],it=h[F*f*w+K*w+st],ot=h[N*f*w+X*w+st],ht=h[N*f*w+K*w+st],vt=dv(dv(et,it,W),dv(ot,ht,W),k%1);T[S*m*w+G*w+st]=vt}}}return T}(e,t,n,r,o,l);default:throw new Error(`Unsupported resampling method: '${c}'`)}}function P$(e,t,n){let r=0;for(let o=t;o<n;++o)r+=e[o];return r}function nG(e,t,n){switch(e){case 1:if(t<=8)return new Uint8Array(n);if(t<=16)return new Uint16Array(n);if(t<=32)return new Uint32Array(n);break;case 2:if(t===8)return new Int8Array(n);if(t===16)return new Int16Array(n);if(t===32)return new Int32Array(n);break;case 3:switch(t){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n)}}throw Error("Unsupported data format/bitsPerSample")}sE([void 0,1],()=>Promise.resolve().then(()=>stt).then(e=>e.default)),sE(5,()=>Promise.resolve().then(()=>ott).then(e=>e.default)),sE(6,()=>{throw new Error("old style JPEG compression is not supported.")}),sE(7,()=>Promise.resolve().then(()=>ctt).then(e=>e.default)),sE([8,32946],()=>Promise.resolve().then(()=>Utt).then(e=>e.default)),sE(32773,()=>Promise.resolve().then(()=>Ntt).then(e=>e.default)),sE(34887,()=>Promise.resolve().then(()=>Ott).then(async e=>(await e.zstd.init(),e)).then(e=>e.default)),sE(50001,()=>Promise.resolve().then(()=>Vtt).then(e=>e.default));class F${constructor(t,n,r,o,l,c){this.fileDirectory=t,this.geoKeys=n,this.dataView=r,this.littleEndian=o,this.tiles=l?{}:null,this.isTiled=!t.StripOffsets;const h=t.PlanarConfiguration;if(this.planarConfiguration=h===void 0?1:h,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=c}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return this.fileDirectory.SamplesPerPixel!==void 0?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:this.fileDirectory.RowsPerStrip!==void 0?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(t){return this.isTiled||(t+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-t*this.getTileHeight()}getBytesPerPixel(){let t=0;for(let n=0;n<this.fileDirectory.BitsPerSample.length;++n)t+=this.getSampleByteSize(n);return t}getSampleByteSize(t){if(t>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${t} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[t]/8)}getReaderForSample(t){const n=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1,r=this.fileDirectory.BitsPerSample[t];switch(n){case 1:if(r<=8)return DataView.prototype.getUint8;if(r<=16)return DataView.prototype.getUint16;if(r<=32)return DataView.prototype.getUint32;break;case 2:if(r<=8)return DataView.prototype.getInt8;if(r<=16)return DataView.prototype.getInt16;if(r<=32)return DataView.prototype.getInt32;break;case 3:switch(r){case 16:return function(o,l){return FZ(this,o,l)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(t=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[t]:1}getBitsPerSample(t=0){return this.fileDirectory.BitsPerSample[t]}getArrayForSample(t,n){return nG(this.getSampleFormat(t),this.getBitsPerSample(t),n)}async getTileOrStrip(t,n,r,o,l){const c=Math.ceil(this.getWidth()/this.getTileWidth()),h=Math.ceil(this.getHeight()/this.getTileHeight());let f;const{tiles:p}=this;let m,I;this.planarConfiguration===1?f=n*c+t:this.planarConfiguration===2&&(f=r*c*h+n*c+t),this.isTiled?(m=this.fileDirectory.TileOffsets[f],I=this.fileDirectory.TileByteCounts[f]):(m=this.fileDirectory.StripOffsets[f],I=this.fileDirectory.StripByteCounts[f]);const w=(await this.source.fetch([{offset:m,length:I}],l))[0];let _;return p!==null&&p[f]?_=p[f]:(_=(async()=>{let b=await o.decode(this.fileDirectory,w);const T=this.getSampleFormat(),S=this.getBitsPerSample();return function(k,F){return(k!==1&&k!==2||!(F<=32)||F%8!=0)&&(k!==3||F!==16&&F!==32&&F!==64)}(T,S)&&(b=function(k,F,N,G,V,W,X){const K=new DataView(k),st=N===2?1:G,et=nG(F,V,N===2?X*W:X*W*G),it=parseInt("1".repeat(V),2);if(F===1){let ot;ot=N===1?G*V:V;let ht=W*ot;7&ht&&(ht=ht+7&-8);for(let vt=0;vt<X;++vt){const Ct=vt*ht;for(let wt=0;wt<W;++wt){const mt=Ct+wt*st*V;for(let Rt=0;Rt<st;++Rt){const Mt=mt+Rt*V,Bt=(vt*W+wt)*st+Rt,at=Math.floor(Mt/8),kt=Mt%8;if(kt+V<=8)et[Bt]=K.getUint8(at)>>8-V-kt&it;else if(kt+V<=16)et[Bt]=K.getUint16(at)>>16-V-kt&it;else if(kt+V<=24){const _t=K.getUint16(at)<<8|K.getUint8(at+2);et[Bt]=_t>>24-V-kt&it}else et[Bt]=K.getUint32(at)>>32-V-kt&it}}}}return et.buffer}(b,T,this.planarConfiguration,this.getSamplesPerPixel(),S,this.getTileWidth(),this.getBlockHeight(n))),b})(),p!==null&&(p[f]=_)),{x:t,y:n,sample:r,data:await _}}async _readRaster(t,n,r,o,l,c,h,f,p){const m=this.getTileWidth(),I=this.getTileHeight(),w=this.getWidth(),_=this.getHeight(),b=Math.max(Math.floor(t[0]/m),0),T=Math.min(Math.ceil(t[2]/m),Math.ceil(w/m)),S=Math.max(Math.floor(t[1]/I),0),k=Math.min(Math.ceil(t[3]/I),Math.ceil(_/I)),F=t[2]-t[0];let N=this.getBytesPerPixel();const G=[],V=[];for(let K=0;K<n.length;++K)this.planarConfiguration===1?G.push(P$(this.fileDirectory.BitsPerSample,0,n[K])/8):G.push(0),V.push(this.getReaderForSample(n[K]));const W=[],{littleEndian:X}=this;for(let K=S;K<k;++K)for(let st=b;st<T;++st){let et;this.planarConfiguration===1&&(et=this.getTileOrStrip(st,K,0,l,p));for(let it=0;it<n.length;++it){const ot=it,ht=n[it];this.planarConfiguration===2&&(N=this.getSampleByteSize(ht),et=this.getTileOrStrip(st,K,ht,l,p));const vt=et.then(Ct=>{const wt=Ct.data,mt=new DataView(wt),Rt=this.getBlockHeight(Ct.y),Mt=Ct.y*I,Bt=Ct.x*m,at=Mt+Rt,kt=(Ct.x+1)*m,_t=V[ot],zt=Math.min(Rt,Rt-(at-t[3]),_-Mt),Ft=Math.min(m,m-(kt-t[2]),w-Bt);for(let qt=Math.max(0,t[1]-Mt);qt<zt;++qt)for(let Gt=Math.max(0,t[0]-Bt);Gt<Ft;++Gt){const ge=(qt*m+Gt)*N,Fe=_t.call(mt,ge+G[ot],X);let ee;o?(ee=(qt+Mt-t[1])*F*n.length+(Gt+Bt-t[0])*n.length+ot,r[ee]=Fe):(ee=(qt+Mt-t[1])*F+Gt+Bt-t[0],r[ot][ee]=Fe)}});W.push(vt)}}if(await Promise.all(W),c&&t[2]-t[0]!==c||h&&t[3]-t[1]!==h){let K;return K=o?L$(r,t[2]-t[0],t[3]-t[1],c,h,n.length,f):k$(r,t[2]-t[0],t[3]-t[1],c,h,f),K.width=c,K.height=h,K}return r.width=c||t[2]-t[0],r.height=h||t[3]-t[1],r}async readRasters({window:t,samples:n=[],interleave:r,pool:o=null,width:l,height:c,resampleMethod:h,fillValue:f,signal:p}={}){const m=t||[0,0,this.getWidth(),this.getHeight()];if(m[0]>m[2]||m[1]>m[3])throw new Error("Invalid subsets");const I=(m[2]-m[0])*(m[3]-m[1]),w=this.getSamplesPerPixel();if(n&&n.length){for(let T=0;T<n.length;++T)if(n[T]>=w)return Promise.reject(new RangeError(`Invalid sample index '${n[T]}'.`))}else for(let T=0;T<w;++T)n.push(T);let _;if(r)_=nG(this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,Math.max.apply(null,this.fileDirectory.BitsPerSample),I*n.length),f&&_.fill(f);else{_=[];for(let T=0;T<n.length;++T){const S=this.getArrayForSample(n[T],I);Array.isArray(f)&&T<f.length?S.fill(f[T]):f&&!Array.isArray(f)&&S.fill(f),_.push(S)}}const b=o||await async function(T){const S=jZ.get(T.Compression);if(!S)throw new Error(`Unknown compression method identifier: ${T.Compression}`);return new(await S())(T)}(this.fileDirectory);return await this._readRaster(m,n,_,r,b,l,c,h,p)}async readRGB({window:t,interleave:n=!0,pool:r=null,width:o,height:l,resampleMethod:c,enableAlpha:h=!1,signal:f}={}){const p=t||[0,0,this.getWidth(),this.getHeight()];if(p[0]>p[2]||p[1]>p[3])throw new Error("Invalid subsets");const m=this.fileDirectory.PhotometricInterpretation;if(m===b$){let k=[0,1,2];if(this.fileDirectory.ExtraSamples!==M$&&h){k=[];for(let F=0;F<this.fileDirectory.BitsPerSample.length;F+=1)k.push(F)}return this.readRasters({window:t,interleave:n,samples:k,pool:r,width:o,height:l,resampleMethod:c,signal:f})}let I;switch(m){case WZ:case JZ:case YZ:I=[0];break;case ZZ:I=[0,1,2,3];break;case KZ:case XZ:I=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const w={window:p,interleave:!0,samples:I,pool:r,width:o,height:l,resampleMethod:c,signal:f},{fileDirectory:_}=this,b=await this.readRasters(w),T=2**this.fileDirectory.BitsPerSample[0];let S;switch(m){case WZ:S=function(k,F){const{width:N,height:G}=k,V=new Uint8Array(N*G*3);let W;for(let X=0,K=0;X<k.length;++X,K+=3)W=256-k[X]/F*256,V[K]=W,V[K+1]=W,V[K+2]=W;return V}(b,T);break;case JZ:S=function(k,F){const{width:N,height:G}=k,V=new Uint8Array(N*G*3);let W;for(let X=0,K=0;X<k.length;++X,K+=3)W=k[X]/F*256,V[K]=W,V[K+1]=W,V[K+2]=W;return V}(b,T);break;case YZ:S=function(k,F){const{width:N,height:G}=k,V=new Uint8Array(N*G*3),W=F.length/3,X=F.length/3*2;for(let K=0,st=0;K<k.length;++K,st+=3){const et=k[K];V[st]=F[et]/65536*256,V[st+1]=F[et+W]/65536*256,V[st+2]=F[et+X]/65536*256}return V}(b,_.ColorMap);break;case ZZ:S=function(k){const{width:F,height:N}=k,G=new Uint8Array(F*N*3);for(let V=0,W=0;V<k.length;V+=4,W+=3){const X=k[V],K=k[V+1],st=k[V+2],et=k[V+3];G[W]=(255-X)/256*255*((255-et)/256),G[W+1]=(255-K)/256*255*((255-et)/256),G[W+2]=(255-st)/256*255*((255-et)/256)}return G}(b);break;case KZ:S=function(k){const{width:F,height:N}=k,G=new Uint8ClampedArray(F*N*3);for(let V=0,W=0;V<k.length;V+=3,W+=3){const X=k[V],K=k[V+1],st=k[V+2];G[W]=X+1.402*(st-128),G[W+1]=X-.34414*(K-128)-.71414*(st-128),G[W+2]=X+1.772*(K-128)}return G}(b);break;case XZ:S=function(k){const{width:F,height:N}=k,G=new Uint8Array(F*N*3);for(let V=0,W=0;V<k.length;V+=3,W+=3){let X,K,st,et=(k[V+0]+16)/116,it=(k[V+1]<<24>>24)/500+et,ot=et-(k[V+2]<<24>>24)/200;it=.95047*(it*it*it>.008856?it*it*it:(it-16/116)/7.787),et=1*(et*et*et>.008856?et*et*et:(et-16/116)/7.787),ot=1.08883*(ot*ot*ot>.008856?ot*ot*ot:(ot-16/116)/7.787),X=3.2406*it+-1.5372*et+-.4986*ot,K=-.9689*it+1.8758*et+.0415*ot,st=.0557*it+-.204*et+1.057*ot,X=X>.0031308?1.055*X**(1/2.4)-.055:12.92*X,K=K>.0031308?1.055*K**(1/2.4)-.055:12.92*K,st=st>.0031308?1.055*st**(1/2.4)-.055:12.92*st,G[W]=255*Math.max(0,Math.min(1,X)),G[W+1]=255*Math.max(0,Math.min(1,K)),G[W+2]=255*Math.max(0,Math.min(1,st))}return G}(b);break;default:throw new Error("Unsupported photometric interpretation.")}if(!n){const k=new Uint8Array(S.length/3),F=new Uint8Array(S.length/3),N=new Uint8Array(S.length/3);for(let G=0,V=0;G<S.length;G+=3,++V)k[V]=S[G],F[V]=S[G+1],N[V]=S[G+2];S=[k,F,N]}return S.width=b.width,S.height=b.height,S}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const t=[];for(let n=0;n<this.fileDirectory.ModelTiepoint.length;n+=6)t.push({i:this.fileDirectory.ModelTiepoint[n],j:this.fileDirectory.ModelTiepoint[n+1],k:this.fileDirectory.ModelTiepoint[n+2],x:this.fileDirectory.ModelTiepoint[n+3],y:this.fileDirectory.ModelTiepoint[n+4],z:this.fileDirectory.ModelTiepoint[n+5]});return t}getGDALMetadata(t=null){const n={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA;let o=B$(r,"Item");o=t===null?o.filter(l=>ZN(l,"sample")===void 0):o.filter(l=>Number(ZN(l,"sample"))===t);for(let l=0;l<o.length;++l){const c=o[l];n[ZN(c,"name")]=c.inner}return n}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const t=this.fileDirectory.GDAL_NODATA;return Number(t.substring(0,t.length-1))}getOrigin(){const t=this.fileDirectory.ModelTiepoint,n=this.fileDirectory.ModelTransformation;if(t&&t.length===6)return[t[3],t[4],t[5]];if(n)return[n[3],n[7],n[11]];throw new Error("The image does not have an affine transformation.")}getResolution(t=null){const n=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(n)return[n[0],-n[1],n[2]];if(r)return r[1]===0&&r[4]===0?[r[0],-r[5],r[10]]:[Math.sqrt(r[0]*r[0]+r[4]*r[4]),-Math.sqrt(r[1]*r[1]+r[5]*r[5]),r[10]];if(t){const[o,l,c]=t.getResolution();return[o*t.getWidth()/this.getWidth(),l*t.getHeight()/this.getHeight(),c*t.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(t=!1){const n=this.getHeight(),r=this.getWidth();if(this.fileDirectory.ModelTransformation&&!t){const[o,l,c,h,f,p,m,I]=this.fileDirectory.ModelTransformation,w=[[0,0],[0,n],[r,0],[r,n]].map(([T,S])=>[h+o*T+l*S,I+f*T+p*S]),_=w.map(T=>T[0]),b=w.map(T=>T[1]);return[Math.min(..._),Math.min(...b),Math.max(..._),Math.max(...b)]}{const o=this.getOrigin(),l=this.getResolution(),c=o[0],h=o[1],f=c+l[0]*r,p=h+l[1]*n;return[Math.min(c,f),Math.min(h,p),Math.max(c,f),Math.max(h,p)]}}}class U${constructor(t){this._dataView=new DataView(t)}get buffer(){return this._dataView.buffer}getUint64(t,n){const r=this.getUint32(t,n),o=this.getUint32(t+4,n);let l;if(n){if(l=r+2**32*o,!Number.isSafeInteger(l))throw new Error(`${l} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return l}if(l=2**32*r+o,!Number.isSafeInteger(l))throw new Error(`${l} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return l}getInt64(t,n){let r=0;const o=(128&this._dataView.getUint8(t+(n?7:0)))>0;let l=!0;for(let c=0;c<8;c++){let h=this._dataView.getUint8(t+(n?c:7-c));o&&(l?h!==0&&(h=255&~(h-1),l=!1):h=255&~h),r+=h*256**c}return o&&(r=-r),r}getUint8(t,n){return this._dataView.getUint8(t,n)}getInt8(t,n){return this._dataView.getInt8(t,n)}getUint16(t,n){return this._dataView.getUint16(t,n)}getInt16(t,n){return this._dataView.getInt16(t,n)}getUint32(t,n){return this._dataView.getUint32(t,n)}getInt32(t,n){return this._dataView.getInt32(t,n)}getFloat16(t,n){return FZ(this._dataView,t,n)}getFloat32(t,n){return this._dataView.getFloat32(t,n)}getFloat64(t,n){return this._dataView.getFloat64(t,n)}}class N${constructor(t,n,r,o){this._dataView=new DataView(t),this._sliceOffset=n,this._littleEndian=r,this._bigTiff=o}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(t,n){return this.sliceOffset<=t&&this.sliceTop>=t+n}readUint8(t){return this._dataView.getUint8(t-this._sliceOffset,this._littleEndian)}readInt8(t){return this._dataView.getInt8(t-this._sliceOffset,this._littleEndian)}readUint16(t){return this._dataView.getUint16(t-this._sliceOffset,this._littleEndian)}readInt16(t){return this._dataView.getInt16(t-this._sliceOffset,this._littleEndian)}readUint32(t){return this._dataView.getUint32(t-this._sliceOffset,this._littleEndian)}readInt32(t){return this._dataView.getInt32(t-this._sliceOffset,this._littleEndian)}readFloat32(t){return this._dataView.getFloat32(t-this._sliceOffset,this._littleEndian)}readFloat64(t){return this._dataView.getFloat64(t-this._sliceOffset,this._littleEndian)}readUint64(t){const n=this.readUint32(t),r=this.readUint32(t+4);let o;if(this._littleEndian){if(o=n+2**32*r,!Number.isSafeInteger(o))throw new Error(`${o} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return o}if(o=2**32*n+r,!Number.isSafeInteger(o))throw new Error(`${o} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return o}readInt64(t){let n=0;const r=(128&this._dataView.getUint8(t+(this._littleEndian?7:0)))>0;let o=!0;for(let l=0;l<8;l++){let c=this._dataView.getUint8(t+(this._littleEndian?l:7-l));r&&(o?c!==0&&(c=255&~(c-1),o=!1):c=255&~c),n+=c*256**l}return r&&(n=-n),n}readOffset(t){return this._bigTiff?this.readUint64(t):this.readUint32(t)}}const G$=`\r
\r
`;function qZ(e){if(Object.fromEntries!==void 0)return Object.fromEntries(e);const t={};for(const[n,r]of e)t[n.toLowerCase()]=r;return t}function O$(e){return qZ(e.split(`\r
`).map(t=>{const n=t.split(":").map(r=>r.trim());return n[0]=n[0].toLowerCase(),n}))}function iG(e){let t,n,r;return e&&([,t,n,r]=e.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),n=parseInt(n,10),r=parseInt(r,10)),{start:t,end:n,total:r}}class $Z{async fetch(t,n=void 0){return Promise.all(t.map(r=>this.fetchSlice(r,n)))}async fetchSlice(t){throw new Error(`fetching of slice ${t} not possible, not implemented`)}get fileSize(){return null}async close(){}}class V$ extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof t.maxAge=="number"&&t.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if(typeof this.onEviction=="function")for(const[n,r]of t)this.onEviction(n,r.value)}_deleteIfExpired(t,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()&&(typeof this.onEviction=="function"&&this.onEviction(t,n.value),this.delete(t))}_getOrDeleteIfExpired(t,n){if(this._deleteIfExpired(t,n)===!1)return n.value}_getItemValue(t,n){return n.expiry?this._getOrDeleteIfExpired(t,n):n.value}_peek(t,n){const r=n.get(t);return this._getItemValue(t,r)}_set(t,n){this.cache.set(t,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,n){this.oldCache.delete(t),this._set(t,n)}*_entriesAscending(){for(const t of this.oldCache){const[n,r]=t;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield t)}for(const t of this.cache){const[n,r]=t;this._deleteIfExpired(n,r)===!1&&(yield t)}}get(t){if(this.cache.has(t)){const n=this.cache.get(t);return this._getItemValue(t,n)}if(this.oldCache.has(t)){const n=this.oldCache.get(t);if(this._deleteIfExpired(t,n)===!1)return this._moveToRecent(t,n),n.value}}set(t,n,{maxAge:r=this.maxAge}={}){const o=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(t)?this.cache.set(t,{value:n,expiry:o}):this._set(t,{value:n,expiry:o}),this}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):!!this.oldCache.has(t)&&!this._deleteIfExpired(t,this.oldCache.get(t))}peek(t){return this.cache.has(t)?this._peek(t,this.cache):this.oldCache.has(t)?this._peek(t,this.oldCache):void 0}delete(t){const n=this.cache.delete(t);return n&&this._size--,this.oldCache.delete(t)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-t;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[n,r]=t;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const t of this.oldCache){const[n,r]=t;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let t=[...this.cache];for(let n=t.length-1;n>=0;--n){const r=t[n],[o,l]=r;this._deleteIfExpired(o,l)===!1&&(yield[o,l.value])}t=[...this.oldCache];for(let n=t.length-1;n>=0;--n){const r=t[n],[o,l]=r;this.cache.has(o)||this._deleteIfExpired(o,l)===!1&&(yield[o,l.value])}}*entriesAscending(){for(const[t,n]of this._entriesAscending())yield[t,n.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const n of this.oldCache.keys())this.cache.has(n)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,n=this){for(const[r,o]of this.entriesAscending())t.call(n,o,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}class fv extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,fv),this.name="AbortError"}}class H$ extends Error{constructor(t,n){super(n),this.errors=t,this.message=n,this.name="AggregateError"}}const z$=H$;class W${constructor(t,n,r=null){this.offset=t,this.length=n,this.data=r}get top(){return this.offset+this.length}}class tK{constructor(t,n,r){this.offset=t,this.length=n,this.blockIds=r}}class J$ extends $Z{constructor(t,{blockSize:n=65536,cacheSize:r=100}={}){super(),this.source=t,this.blockSize=n,this.blockCache=new V$({maxSize:r,onEviction:(o,l)=>{this.evictedBlocks.set(o,l)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(t,n){const r=[],o=[],l=[];this.evictedBlocks.clear();for(const{offset:w,length:_}of t){let b=w+_;const{fileSize:T}=this;T!==null&&(b=Math.min(b,T));for(let S=Math.floor(w/this.blockSize)*this.blockSize;S<b;S+=this.blockSize){const k=Math.floor(S/this.blockSize);this.blockCache.has(k)||this.blockRequests.has(k)||(this.blockIdsToFetch.add(k),o.push(k)),this.blockRequests.has(k)&&r.push(this.blockRequests.get(k)),l.push(k)}}await async function(w){return new Promise(_=>setTimeout(_,w))}(),this.fetchBlocks(n);const c=[];for(const w of o)this.blockRequests.has(w)&&c.push(this.blockRequests.get(w));await Promise.allSettled(r),await Promise.allSettled(c);const h=[],f=l.filter(w=>this.abortedBlockIds.has(w)||!this.blockCache.has(w));if(f.forEach(w=>this.blockIdsToFetch.add(w)),f.length>0&&n&&!n.aborted){this.fetchBlocks(null);for(const w of f){const _=this.blockRequests.get(w);if(!_)throw new Error(`Block ${w} is not in the block requests`);h.push(_)}await Promise.allSettled(h)}if(n&&n.aborted)throw new fv("Request was aborted");const p=l.map(w=>this.blockCache.get(w)||this.evictedBlocks.get(w)),m=p.filter(w=>!w);if(m.length)throw new z$(m,"Request failed");const I=new Map(function(w,_){const b=Array.isArray(w)?w:Array.from(w),T=Array.isArray(_)?_:Array.from(_);return b.map((S,k)=>[S,T[k]])}(l,p));return this.readSliceData(t,I)}fetchBlocks(t){if(this.blockIdsToFetch.size>0){const n=this.groupBlocks(this.blockIdsToFetch),r=this.source.fetch(n,t);for(let o=0;o<n.length;++o){const l=n[o];for(const c of l.blockIds)this.blockRequests.set(c,(async()=>{try{const h=(await r)[o],f=c*this.blockSize,p=f-h.offset,m=Math.min(p+this.blockSize,h.data.byteLength),I=h.data.slice(p,m),w=new W$(f,I.byteLength,I,c);this.blockCache.set(c,w),this.abortedBlockIds.delete(c)}catch(h){if(h.name!=="AbortError")throw h;h.signal=t,this.blockCache.delete(c),this.abortedBlockIds.add(c)}finally{this.blockRequests.delete(c)}})())}this.blockIdsToFetch.clear()}}groupBlocks(t){const n=Array.from(t).sort((c,h)=>c-h);if(n.length===0)return[];let r=[],o=null;const l=[];for(const c of n)o===null||o+1===c?(r.push(c),o=c):(l.push(new tK(r[0]*this.blockSize,r.length*this.blockSize,r)),r=[c],o=c);return l.push(new tK(r[0]*this.blockSize,r.length*this.blockSize,r)),l}readSliceData(t,n){return t.map(r=>{let o=r.offset+r.length;this.fileSize!==null&&(o=Math.min(this.fileSize,o));const l=Math.floor(r.offset/this.blockSize),c=Math.floor(o/this.blockSize),h=new ArrayBuffer(r.length),f=new Uint8Array(h);for(let p=l;p<=c;++p){const m=n.get(p),I=m.offset-r.offset;let w,_=0,b=0;I<0?_=-I:I>0&&(b=I),w=m.top-o<0?m.length-_:o-m.offset-_;const T=new Uint8Array(m.data,_,w);f.set(T,b)}return h})}}class sG{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(t){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class rG{constructor(t){this.url=t}async request({headers:t,signal:n}={}){throw new Error("request is not implemented")}}class Y$ extends sG{constructor(t){super(),this.response=t}get status(){return this.response.status}getHeader(t){return this.response.headers.get(t)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class Z$ extends rG{constructor(t,n){super(t),this.credentials=n}async request({headers:t,signal:n}={}){const r=await fetch(this.url,{headers:t,credentials:this.credentials,signal:n});return new Y$(r)}}class K$ extends sG{constructor(t,n){super(),this.xhr=t,this.data=n}get status(){return this.xhr.status}getHeader(t){return this.xhr.getResponseHeader(t)}async getData(){return this.data}}class X$ extends rG{constructRequest(t,n){return new Promise((r,o)=>{const l=new XMLHttpRequest;l.open("GET",this.url),l.responseType="arraybuffer";for(const[c,h]of Object.entries(t))l.setRequestHeader(c,h);l.onload=()=>{const c=l.response;r(new K$(l,c))},l.onerror=o,l.onabort=()=>o(new fv("Request aborted")),l.send(),n&&(n.aborted&&l.abort(),n.addEventListener("abort",()=>l.abort()))})}async request({headers:t,signal:n}={}){return await this.constructRequest(t,n)}}const eK={};class j$ extends sG{constructor(t,n){super(),this.response=t,this.dataPromise=n}get status(){return this.response.statusCode}getHeader(t){return this.response.headers[t]}async getData(){return await this.dataPromise}}class q$ extends rG{constructor(t){super(t),this.parsedUrl=eK.parse(this.url),this.httpApi=(this.parsedUrl.protocol,eK)}constructRequest(t,n){return new Promise((r,o)=>{const l=this.httpApi.get({...this.parsedUrl,headers:t},c=>{const h=new Promise(f=>{const p=[];c.on("data",m=>{p.push(m)}),c.on("end",()=>{const m=Buffer.concat(p).buffer;f(m)}),c.on("error",o)});r(new j$(c,h))});l.on("error",o),n&&(n.aborted&&l.destroy(new fv("Request aborted")),n.addEventListener("abort",()=>l.destroy(new fv("Request aborted"))))})}async request({headers:t,signal:n}={}){return await this.constructRequest(t,n)}}class oG extends $Z{constructor(t,n,r,o){super(),this.client=t,this.headers=n,this.maxRanges=r,this.allowFullFile=o,this._fileSize=null}async fetch(t,n){return this.maxRanges>=t.length?this.fetchSlices(t,n):(this.maxRanges>0&&t.length,Promise.all(t.map(r=>this.fetchSlice(r,n))))}async fetchSlices(t,n){const r=await this.client.request({headers:{...this.headers,Range:`bytes=${t.map(({offset:o,length:l})=>`${o}-${o+l}`).join(",")}`},signal:n});if(r.ok){if(r.status===206){const{type:o,params:l}=function(I){const[w,..._]=I.split(";").map(b=>b.trim());return{type:w,params:qZ(_.map(b=>b.split("=")))}}(r.getHeader("content-type"));if(o==="multipart/byteranges"){const I=function(w,_){let b=null;const T=new TextDecoder("ascii"),S=[],k=`--${_}`,F=`${k}--`;for(let N=0;N<10;++N)T.decode(new Uint8Array(w,N,k.length))===k&&(b=N);if(b===null)throw new Error("Could not find initial boundary");for(;b<w.byteLength;){const N=T.decode(new Uint8Array(w,b,Math.min(k.length+1024,w.byteLength-b)));if(N.length===0||N.startsWith(F))break;if(!N.startsWith(k))throw new Error("Part does not start with boundary");const G=N.substr(k.length+2);if(G.length===0)break;const V=G.indexOf(G$),W=O$(G.substr(0,V)),{start:X,end:K,total:st}=iG(W["content-range"]),et=b+k.length+V+4,it=parseInt(K,10)+1-parseInt(X,10);S.push({headers:W,data:w.slice(et,et+it),offset:X,length:it,fileSize:st}),b=et+it+4}return S}(await r.getData(),l.boundary);return this._fileSize=I[0].fileSize||null,I}const c=await r.getData(),{start:h,end:f,total:p}=iG(r.getHeader("content-range"));this._fileSize=p||null;const m=[{data:c,offset:h,length:f-h}];if(t.length>1){const I=await Promise.all(t.slice(1).map(w=>this.fetchSlice(w,n)));return m.concat(I)}return m}{if(!this.allowFullFile)throw new Error("Server responded with full file");const o=await r.getData();return this._fileSize=o.byteLength,[{data:o,offset:0,length:o.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(t,n){const{offset:r,length:o}=t,l=await this.client.request({headers:{...this.headers,Range:`bytes=${r}-${r+o}`},signal:n});if(l.ok){if(l.status===206){const c=await l.getData(),{total:h}=iG(l.getHeader("content-range"));return this._fileSize=h||null,{data:c,offset:r,length:o}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const c=await l.getData();return this._fileSize=c.byteLength,{data:c,offset:0,length:c.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function aG(e,{blockSize:t,cacheSize:n}){return t===null?e:new J$(e,{blockSize:t,cacheSize:n})}function $$(e,{forceXHR:t=!1,...n}={}){return typeof fetch!="function"||t?typeof XMLHttpRequest<"u"?function(r,{headers:o={},maxRanges:l=0,allowFullFile:c=!1,...h}={}){const f=new X$(r);return aG(new oG(f,o,l,c),h)}(e,n):function(r,{headers:o={},maxRanges:l=0,allowFullFile:c=!1,...h}={}){const f=new q$(r);return aG(new oG(f,o,l,c),h)}(e,n):function(r,{headers:o={},credentials:l,maxRanges:c=0,allowFullFile:h=!1,...f}={}){const p=new Z$(r,l);return aG(new oG(p,o,c,h),f)}(e,n)}function ttt(e,t){let n=e.length-t,r=0;do{for(let o=t;o>0;o--)e[r+t]+=e[r],r++;n-=t}while(n>0)}function ett(e,t,n){let r=0,o=e.length;const l=o/n;for(;o>t;){for(let h=t;h>0;--h)e[r+t]+=e[r],++r;o-=t}const c=e.slice();for(let h=0;h<l;++h)for(let f=0;f<n;++f)e[n*h+f]=c[(n-f-1)*l+h]}class Bw{async decode(t,n){const r=await this.decodeBlock(n),o=t.Predictor||1;if(o!==1){const l=!t.StripOffsets;return function(c,h,f,p,m,I){if(h===1)return c;for(let b=0;b<m.length;++b){if(m[b]%8!=0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(m[b]!==m[0])throw new Error("When decoding with predictor, all samples must have the same size.")}const w=m[0]/8,_=I===2?1:m.length;for(let b=0;b<p&&!(b*_*f*w>=c.byteLength);++b){let T;if(h===2){switch(m[0]){case 8:T=new Uint8Array(c,b*_*f*w,_*f*w);break;case 16:T=new Uint16Array(c,b*_*f*w,_*f*w/2);break;case 32:T=new Uint32Array(c,b*_*f*w,_*f*w/4);break;default:throw new Error(`Predictor 2 not allowed with ${m[0]} bits per sample.`)}ttt(T,_)}else h===3&&(T=new Uint8Array(c,b*_*f*w,_*f*w),ett(T,_,w))}return c}(r,o,l?t.TileWidth:t.ImageWidth,l?t.TileLength:t.RowsPerStrip||t.ImageLength,t.BitsPerSample,t.PlanarConfiguration)}return r}}function lG(e){switch(e){case Ni.BYTE:case Ni.ASCII:case Ni.SBYTE:case Ni.UNDEFINED:return 1;case Ni.SHORT:case Ni.SSHORT:return 2;case Ni.LONG:case Ni.SLONG:case Ni.FLOAT:case Ni.IFD:return 4;case Ni.RATIONAL:case Ni.SRATIONAL:case Ni.DOUBLE:case Ni.LONG8:case Ni.SLONG8:case Ni.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${e}`)}}function pv(e,t,n,r){let o=null,l=null;const c=lG(t);switch(t){case Ni.BYTE:case Ni.ASCII:case Ni.UNDEFINED:o=new Uint8Array(n),l=e.readUint8;break;case Ni.SBYTE:o=new Int8Array(n),l=e.readInt8;break;case Ni.SHORT:o=new Uint16Array(n),l=e.readUint16;break;case Ni.SSHORT:o=new Int16Array(n),l=e.readInt16;break;case Ni.LONG:case Ni.IFD:o=new Uint32Array(n),l=e.readUint32;break;case Ni.SLONG:o=new Int32Array(n),l=e.readInt32;break;case Ni.LONG8:case Ni.IFD8:o=new Array(n),l=e.readUint64;break;case Ni.SLONG8:o=new Array(n),l=e.readInt64;break;case Ni.RATIONAL:o=new Uint32Array(2*n),l=e.readUint32;break;case Ni.SRATIONAL:o=new Int32Array(2*n),l=e.readInt32;break;case Ni.FLOAT:o=new Float32Array(n),l=e.readFloat32;break;case Ni.DOUBLE:o=new Float64Array(n),l=e.readFloat64;break;default:throw new RangeError(`Invalid field type: ${t}`)}if(t!==Ni.RATIONAL&&t!==Ni.SRATIONAL)for(let h=0;h<n;++h)o[h]=l.call(e,r+h*c);else for(let h=0;h<n;h+=2)o[h]=l.call(e,r+h*c),o[h+1]=l.call(e,r+(h*c+4));return t===Ni.ASCII?new TextDecoder("utf-8").decode(o):o}class ntt{constructor(t,n,r){this.fileDirectory=t,this.geoKeyDirectory=n,this.nextIFDByteOffset=r}}class V5 extends Error{constructor(t){super(`No image at index ${t}`),this.index=t}}class itt{async readRasters(t={}){const{window:n,width:r,height:o}=t;let{resX:l,resY:c,bbox:h}=t;const f=await this.getImage();let p=f;const m=await this.getImageCount(),I=f.getBoundingBox();if(n&&h)throw new Error('Both "bbox" and "window" passed.');if(r||o){if(n){const[b,T]=f.getOrigin(),[S,k]=f.getResolution();h=[b+n[0]*S,T+n[1]*k,b+n[2]*S,T+n[3]*k]}const _=h||I;if(r){if(l)throw new Error("Both width and resX passed");l=(_[2]-_[0])/r}if(o){if(c)throw new Error("Both width and resY passed");c=(_[3]-_[1])/o}}if(l||c){const _=[];for(let b=0;b<m;++b){const T=await this.getImage(b),{SubfileType:S,NewSubfileType:k}=T.fileDirectory;(b===0||S===2||1&k)&&_.push(T)}_.sort((b,T)=>b.getWidth()-T.getWidth());for(let b=0;b<_.length;++b){const T=_[b],S=(I[2]-I[0])/T.getWidth(),k=(I[3]-I[1])/T.getHeight();if(p=T,l&&l>S||c&&c>k)break}}let w=n;if(h){const[_,b]=f.getOrigin(),[T,S]=p.getResolution(f);w=[Math.round((h[0]-_)/T),Math.round((h[1]-b)/S),Math.round((h[2]-_)/T),Math.round((h[3]-b)/S)],w=[Math.min(w[0],w[2]),Math.min(w[1],w[3]),Math.max(w[0],w[2]),Math.max(w[1],w[3])]}return p.readRasters({...t,window:w})}}class AG extends itt{constructor(t,n,r,o,l={}){super(),this.source=t,this.littleEndian=n,this.bigTiff=r,this.firstIFDOffset=o,this.cache=l.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(t,n){const r=this.bigTiff?4048:1024;return new N$((await this.source.fetch([{offset:t,length:n!==void 0?n:r}]))[0],t,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(t){const n=this.bigTiff?20:12,r=this.bigTiff?8:2;let o=await this.getSlice(t);const l=this.bigTiff?o.readUint64(t):o.readUint16(t),c=l*n+(this.bigTiff?16:6);o.covers(t,c)||(o=await this.getSlice(t,c));const h={};let f=t+(this.bigTiff?8:2);for(let I=0;I<l;f+=n,++I){const w=o.readUint16(f),_=o.readUint16(f+2),b=this.bigTiff?o.readUint64(f+4):o.readUint32(f+4);let T,S;const k=lG(_),F=f+(this.bigTiff?12:8);if(k*b<=(this.bigTiff?8:4))T=pv(o,_,b,F);else{const N=o.readOffset(F),G=lG(_)*b;o.covers(N,G)?T=pv(o,_,b,N):T=pv(await this.getSlice(N,G),_,b,N)}S=b===1&&v$.indexOf(w)===-1&&_!==Ni.RATIONAL&&_!==Ni.SRATIONAL?T[0]:T,h[KS[w]]=S}const p=function(I){const w=I.GeoKeyDirectory;if(!w)return null;const _={};for(let b=4;b<=4*w[3];b+=4){const T=Q$[w[b]],S=w[b+1]?KS[w[b+1]]:null,k=w[b+2],F=w[b+3];let N=null;if(S){if(N=I[S],N==null)throw new Error(`Could not get value of geoKey '${T}'.`);typeof N=="string"?N=N.substring(F,F+k-1):N.subarray&&(N=N.subarray(F,F+k),k===1&&(N=N[0]))}else N=F;_[T]=N}return _}(h),m=o.readOffset(t+r+n*l);return new ntt(h,p,m)}async requestIFD(t){if(this.ifdRequests[t])return this.ifdRequests[t];if(t===0)return this.ifdRequests[t]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[t];if(!this.ifdRequests[t-1])try{this.ifdRequests[t-1]=this.requestIFD(t-1)}catch(n){throw n instanceof V5?new V5(t):n}return this.ifdRequests[t]=(async()=>{const n=await this.ifdRequests[t-1];if(n.nextIFDByteOffset===0)throw new V5(t);return this.parseFileDirectoryAt(n.nextIFDByteOffset)})(),this.ifdRequests[t]}async getImage(t=0){const n=await this.requestIFD(t);return new F$(n.fileDirectory,n.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let t=0,n=!0;for(;n;)try{await this.requestIFD(t),++t}catch(r){if(!(r instanceof V5))throw r;n=!1}return t}async getGhostValues(){const t=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const n="GDAL_STRUCTURAL_METADATA_SIZE=";let r=await this.getSlice(t,130);if(n===pv(r,Ni.ASCII,30,t)){const o=pv(r,Ni.ASCII,130,t).split(`
`)[0],l=Number(o.split("=")[1].split(" ")[0])+o.length;l>130&&(r=await this.getSlice(t,l));const c=pv(r,Ni.ASCII,l,t);this.ghostValues={},c.split(`
`).filter(h=>h.length>0).map(h=>h.split("=")).forEach(([h,f])=>{this.ghostValues[h]=f})}return this.ghostValues}static async fromSource(t,n,r){const o=(await t.fetch([{offset:0,length:1024}],r))[0],l=new U$(o),c=l.getUint16(0,0);let h;if(c===18761)h=!0;else{if(c!==19789)throw new TypeError("Invalid byte order value.");h=!1}const f=l.getUint16(2,h);let p;if(f===42)p=!1;else{if(f!==43)throw new TypeError("Invalid magic number.");if(p=!0,l.getUint16(4,h)!==8)throw new Error("Unsupported offset byte-size.")}const m=p?l.getUint64(8,h):l.getUint32(4,h);return new AG(t,h,p,m,n)}close(){return typeof this.source.close=="function"&&this.source.close()}}var nK=function(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(p){try{f(r.next(p))}catch(m){l(m)}}function h(p){try{f(r.throw(p))}catch(m){l(m)}}function f(p){var m;p.done?o(p.value):(m=p.value,m instanceof n?m:new n(function(I){I(m)})).then(c,h)}f((r=r.apply(e,t||[])).next())})};class iK extends Ip{constructor(t){super(t),this.tiffData=null,this.map=null,this.center=[],this.opts={tiff:"",imageUrl:"",suffux:"png",extends:[0,0,0,0]},this.ready=null}init(t){this.opts=Object.assign(this.opts,t),this.center=[(this.opts.extends[0]+this.opts.extends[2])/2,(this.opts.extends[1]+this.opts.extends[3])/2],this.createMap()}createMap(){return nK(this,void 0,void 0,function*(){yield this.loadElevation(this.opts.tiff);const t=Kn.create({url:this.opts.imageUrl+"{z}/{x}/{y}."+this.opts.suffux,maxLevel:this.opts.maxZoom,minLevel:this.opts.minZoom,bounds:this.opts.extends}),n=Kn.create({dataType:"tif",tiffData:this.tiffData,maxLevel:this.opts.maxZoom,minLevel:this.opts.minZoom,bounds:this.opts.extends});this.map=In.create({imgSource:t,demSource:n}),this.map.isCObject3D=!0,this.map.rotateX(-Math.PI/2),this.core.addModelToScene(this.map),this.ready&&this.ready()})}addEventListener(t,n){this.map.addEventListener(t,n)}goCenter(t=[0,-.1,1e4]){return this.core.camera.position.copy(this.map.localToWorld(this.map.geo2map(new D.Vector3(this.center[0]-t[0],this.center[1]-t[1],t[2])))),this.core.control.target.copy(this.map.localToWorld(this.map.geo2map(new D.Vector3(...this.center,0)))),this.core.control.target}loadElevation(t){return nK(this,void 0,void 0,function*(){const n=yield async function(o,l={},c){return AG.fromSource($$(o,l),c)}(t),r=yield n.getImage();this.tiffData={tiff:n,image:r,bounds:this.opts.extends}})}geo2map(t,n,r){return this.map.localToWorld(this.map.geo2map(new D.Vector3(t,n,r)))}dispose(){this.core.removeControlChangeFunc("map"),this.core.removeObject3D(this.map.uuid)}}iK.PLUGIN_NAME="map";const stt=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{decodeBlock(e){return e}}},Symbol.toStringTag,{value:"Module"}));function cG(e,t){for(let n=t.length-1;n>=0;n--)e.push(t[n]);return e}function rtt(e){const t=new Uint16Array(4093),n=new Uint8Array(4093);for(let b=0;b<=257;b++)t[b]=4096,n[b]=b;let r=258,o=9,l=0;function c(){r=258,o=9}function h(b){const T=function(S,k,F){const N=k%8,G=Math.floor(k/8),V=8-N,W=k+F-8*(G+1);let X=8*(G+2)-(k+F);const K=8*(G+2)-k;if(X=Math.max(0,X),G>=S.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;let st=S[G]&2**(8-N)-1;st<<=F-V;let et=st;if(G+1<S.length){let it=S[G+1]>>>X;it<<=Math.max(0,F-K),et+=it}if(W>8&&G+2<S.length){const it=8*(G+3)-(k+F);et+=S[G+2]>>>it}return et}(b,l,o);return l+=o,T}function f(b,T){return n[r]=T,t[r]=b,r++,r-1}function p(b){const T=[];for(let S=b;S!==4096;S=t[S])T.push(n[S]);return T}const m=[];c();const I=new Uint8Array(e);let w,_=h(I);for(;_!==257;){if(_===256){for(c(),_=h(I);_===256;)_=h(I);if(_===257)break;if(_>256)throw new Error(`corrupted code at scanline ${_}`);cG(m,p(_)),w=_}else if(_<r){const b=p(_);cG(m,b),f(w,b[b.length-1]),w=_}else{const b=p(w);if(!b)throw new Error(`Bogus entry. Not in dictionary, ${w} / ${r}, position: ${l}`);cG(m,b),m.push(b[b.length-1]),f(w,b[b.length-1]),w=_}r+1>=2**o&&(o===12?w=void 0:o++),_=h(I)}return new Uint8Array(m)}const ott=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{decodeBlock(e){return rtt(e).buffer}}},Symbol.toStringTag,{value:"Module"})),XS=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),H5=4017,z5=799,W5=3406,J5=2276,Y5=1567,Z5=3784,gv=5793,K5=2896;function sK(e,t){let n=0;const r=[];let o=16;for(;o>0&&!e[o-1];)--o;r.push({children:[],index:0});let l,c=r[0];for(let h=0;h<o;h++){for(let f=0;f<e[h];f++){for(c=r.pop(),c.children[c.index]=t[n];c.index>0;)c=r.pop();for(c.index++,r.push(c);r.length<=h;)r.push(l={children:[],index:0}),c.children[c.index]=l.children,c=l;n++}h+1<o&&(r.push(l={children:[],index:0}),c.children[c.index]=l.children,c=l)}return r[0].children}function att(e,t,n,r,o,l,c,h,f){const{mcusPerLine:p,progressive:m}=n,I=t;let w=t,_=0,b=0;function T(){if(b>0)return b--,_>>b&1;if(_=e[w++],_===255){const Mt=e[w++];if(Mt)throw new Error(`unexpected marker: ${(_<<8|Mt).toString(16)}`)}return b=7,_>>>7}function S(Mt){let Bt,at=Mt;for(;(Bt=T())!==null;){if(at=at[Bt],typeof at=="number")return at;if(typeof at!="object")throw new Error("invalid huffman sequence")}return null}function k(Mt){let Bt=Mt,at=0;for(;Bt>0;){const kt=T();if(kt===null)return;at=at<<1|kt,--Bt}return at}function F(Mt){const Bt=k(Mt);return Bt>=1<<Mt-1?Bt:Bt+(-1<<Mt)+1}let N=0,G,V=0;function W(Mt,Bt,at,kt,_t){const zt=at%p,Ft=(at/p|0)*Mt.v+kt,qt=zt*Mt.h+_t;Bt(Mt,Mt.blocks[Ft][qt])}function X(Mt,Bt,at){const kt=at/Mt.blocksPerLine|0,_t=at%Mt.blocksPerLine;Bt(Mt,Mt.blocks[kt][_t])}const K=r.length;let st,et,it,ot,ht,vt;vt=m?l===0?h===0?function(Mt,Bt){const at=S(Mt.huffmanTableDC),kt=at===0?0:F(at)<<f;Mt.pred+=kt,Bt[0]=Mt.pred}:function(Mt,Bt){Bt[0]|=T()<<f}:h===0?function(Mt,Bt){if(N>0)return void N--;let at=l;const kt=c;for(;at<=kt;){const _t=S(Mt.huffmanTableAC),zt=15&_t,Ft=_t>>4;if(zt===0){if(Ft<15){N=k(Ft)+(1<<Ft)-1;break}at+=16}else at+=Ft,Bt[XS[at]]=F(zt)*(1<<f),at++}}:function(Mt,Bt){let at=l;const kt=c;let _t=0;for(;at<=kt;){const zt=XS[at],Ft=Bt[zt]<0?-1:1;switch(V){case 0:{const qt=S(Mt.huffmanTableAC),Gt=15&qt;if(_t=qt>>4,Gt===0)_t<15?(N=k(_t)+(1<<_t),V=4):(_t=16,V=1);else{if(Gt!==1)throw new Error("invalid ACn encoding");G=F(Gt),V=_t?2:3}continue}case 1:case 2:Bt[zt]?Bt[zt]+=(T()<<f)*Ft:(_t--,_t===0&&(V=V===2?3:0));break;case 3:Bt[zt]?Bt[zt]+=(T()<<f)*Ft:(Bt[zt]=G<<f,V=0);break;case 4:Bt[zt]&&(Bt[zt]+=(T()<<f)*Ft)}at++}V===4&&(N--,N===0&&(V=0))}:function(Mt,Bt){const at=S(Mt.huffmanTableDC),kt=at===0?0:F(at);Mt.pred+=kt,Bt[0]=Mt.pred;let _t=1;for(;_t<64;){const zt=S(Mt.huffmanTableAC),Ft=15&zt,qt=zt>>4;if(Ft===0){if(qt<15)break;_t+=16}else _t+=qt,Bt[XS[_t]]=F(Ft),_t++}};let Ct,wt,mt=0;wt=K===1?r[0].blocksPerLine*r[0].blocksPerColumn:p*n.mcusPerColumn;const Rt=o||wt;for(;mt<wt;){for(et=0;et<K;et++)r[et].pred=0;if(N=0,K===1)for(st=r[0],ht=0;ht<Rt;ht++)X(st,vt,mt),mt++;else for(ht=0;ht<Rt;ht++){for(et=0;et<K;et++){st=r[et];const{h:Mt,v:Bt}=st;for(it=0;it<Bt;it++)for(ot=0;ot<Mt;ot++)W(st,vt,mt,it,ot)}if(mt++,mt===wt)break}if(b=0,Ct=e[w]<<8|e[w+1],Ct<65280)throw new Error("marker was not found");if(!(Ct>=65488&&Ct<=65495))break;w+=2}return w-I}function ltt(e,t){const n=[],{blocksPerLine:r,blocksPerColumn:o}=t,l=r<<3,c=new Int32Array(64),h=new Uint8Array(64);function f(p,m,I){const w=t.quantizationTable;let _,b,T,S,k,F,N,G,V;const W=I;let X;for(X=0;X<64;X++)W[X]=p[X]*w[X];for(X=0;X<8;++X){const K=8*X;W[1+K]!==0||W[2+K]!==0||W[3+K]!==0||W[4+K]!==0||W[5+K]!==0||W[6+K]!==0||W[7+K]!==0?(_=gv*W[0+K]+128>>8,b=gv*W[4+K]+128>>8,T=W[2+K],S=W[6+K],k=K5*(W[1+K]-W[7+K])+128>>8,G=K5*(W[1+K]+W[7+K])+128>>8,F=W[3+K]<<4,N=W[5+K]<<4,V=_-b+1>>1,_=_+b+1>>1,b=V,V=T*Z5+S*Y5+128>>8,T=T*Y5-S*Z5+128>>8,S=V,V=k-N+1>>1,k=k+N+1>>1,N=V,V=G+F+1>>1,F=G-F+1>>1,G=V,V=_-S+1>>1,_=_+S+1>>1,S=V,V=b-T+1>>1,b=b+T+1>>1,T=V,V=k*J5+G*W5+2048>>12,k=k*W5-G*J5+2048>>12,G=V,V=F*z5+N*H5+2048>>12,F=F*H5-N*z5+2048>>12,N=V,W[0+K]=_+G,W[7+K]=_-G,W[1+K]=b+N,W[6+K]=b-N,W[2+K]=T+F,W[5+K]=T-F,W[3+K]=S+k,W[4+K]=S-k):(V=gv*W[0+K]+512>>10,W[0+K]=V,W[1+K]=V,W[2+K]=V,W[3+K]=V,W[4+K]=V,W[5+K]=V,W[6+K]=V,W[7+K]=V)}for(X=0;X<8;++X){const K=X;W[8+K]!==0||W[16+K]!==0||W[24+K]!==0||W[32+K]!==0||W[40+K]!==0||W[48+K]!==0||W[56+K]!==0?(_=gv*W[0+K]+2048>>12,b=gv*W[32+K]+2048>>12,T=W[16+K],S=W[48+K],k=K5*(W[8+K]-W[56+K])+2048>>12,G=K5*(W[8+K]+W[56+K])+2048>>12,F=W[24+K],N=W[40+K],V=_-b+1>>1,_=_+b+1>>1,b=V,V=T*Z5+S*Y5+2048>>12,T=T*Y5-S*Z5+2048>>12,S=V,V=k-N+1>>1,k=k+N+1>>1,N=V,V=G+F+1>>1,F=G-F+1>>1,G=V,V=_-S+1>>1,_=_+S+1>>1,S=V,V=b-T+1>>1,b=b+T+1>>1,T=V,V=k*J5+G*W5+2048>>12,k=k*W5-G*J5+2048>>12,G=V,V=F*z5+N*H5+2048>>12,F=F*H5-N*z5+2048>>12,N=V,W[0+K]=_+G,W[56+K]=_-G,W[8+K]=b+N,W[48+K]=b-N,W[16+K]=T+F,W[40+K]=T-F,W[24+K]=S+k,W[32+K]=S-k):(V=gv*I[X+0]+8192>>14,W[0+K]=V,W[8+K]=V,W[16+K]=V,W[24+K]=V,W[32+K]=V,W[40+K]=V,W[48+K]=V,W[56+K]=V)}for(X=0;X<64;++X){const K=128+(W[X]+8>>4);m[X]=K<0?0:K>255?255:K}}for(let p=0;p<o;p++){const m=p<<3;for(let I=0;I<8;I++)n.push(new Uint8Array(l));for(let I=0;I<r;I++){f(t.blocks[p][I],h,c);let w=0;const _=I<<3;for(let b=0;b<8;b++){const T=n[m+b];for(let S=0;S<8;S++)T[_+S]=h[w++]}}}return n}class Att{constructor(){this.jfif=null,this.adobe=null,this.quantizationTables=[],this.huffmanTablesAC=[],this.huffmanTablesDC=[],this.resetFrames()}resetFrames(){this.frames=[]}parse(t){let n=0;function r(){const h=t[n]<<8|t[n+1];return n+=2,h}function o(){const h=r(),f=t.subarray(n,n+h-2);return n+=f.length,f}function l(h){let f,p,m=0,I=0;for(p in h.components)h.components.hasOwnProperty(p)&&(f=h.components[p],m<f.h&&(m=f.h),I<f.v&&(I=f.v));const w=Math.ceil(h.samplesPerLine/8/m),_=Math.ceil(h.scanLines/8/I);for(p in h.components)if(h.components.hasOwnProperty(p)){f=h.components[p];const b=Math.ceil(Math.ceil(h.samplesPerLine/8)*f.h/m),T=Math.ceil(Math.ceil(h.scanLines/8)*f.v/I),S=w*f.h,k=_*f.v,F=[];for(let N=0;N<k;N++){const G=[];for(let V=0;V<S;V++)G.push(new Int32Array(64));F.push(G)}f.blocksPerLine=b,f.blocksPerColumn=T,f.blocks=F}h.maxH=m,h.maxV=I,h.mcusPerLine=w,h.mcusPerColumn=_}let c=r();if(c!==65496)throw new Error("SOI not found");for(c=r();c!==65497;){switch(c){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:{const h=o();c===65504&&h[0]===74&&h[1]===70&&h[2]===73&&h[3]===70&&h[4]===0&&(this.jfif={version:{major:h[5],minor:h[6]},densityUnits:h[7],xDensity:h[8]<<8|h[9],yDensity:h[10]<<8|h[11],thumbWidth:h[12],thumbHeight:h[13],thumbData:h.subarray(14,14+3*h[12]*h[13])}),c===65518&&h[0]===65&&h[1]===100&&h[2]===111&&h[3]===98&&h[4]===101&&h[5]===0&&(this.adobe={version:h[6],flags0:h[7]<<8|h[8],flags1:h[9]<<8|h[10],transformCode:h[11]});break}case 65499:{const h=r()+n-2;for(;n<h;){const f=t[n++],p=new Int32Array(64);if(f>>4){if(f>>4!=1)throw new Error("DQT: invalid table spec");for(let m=0;m<64;m++)p[XS[m]]=r()}else for(let m=0;m<64;m++)p[XS[m]]=t[n++];this.quantizationTables[15&f]=p}break}case 65472:case 65473:case 65474:{r();const h={extended:c===65473,progressive:c===65474,precision:t[n++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},f=t[n++];let p;for(let m=0;m<f;m++){p=t[n];const I=t[n+1]>>4,w=15&t[n+1],_=t[n+2];h.componentsOrder.push(p),h.components[p]={h:I,v:w,quantizationIdx:_},n+=3}l(h),this.frames.push(h);break}case 65476:{const h=r();for(let f=2;f<h;){const p=t[n++],m=new Uint8Array(16);let I=0;for(let _=0;_<16;_++,n++)m[_]=t[n],I+=m[_];const w=new Uint8Array(I);for(let _=0;_<I;_++,n++)w[_]=t[n];f+=17+I,p>>4?this.huffmanTablesAC[15&p]=sK(m,w):this.huffmanTablesDC[15&p]=sK(m,w)}break}case 65501:r(),this.resetInterval=r();break;case 65498:{r();const h=t[n++],f=[],p=this.frames[0];for(let b=0;b<h;b++){const T=p.components[t[n++]],S=t[n++];T.huffmanTableDC=this.huffmanTablesDC[S>>4],T.huffmanTableAC=this.huffmanTablesAC[15&S],f.push(T)}const m=t[n++],I=t[n++],w=t[n++],_=att(t,n,p,f,this.resetInterval,m,I,w>>4,15&w);n+=_;break}case 65535:t[n]!==255&&n--;break;default:if(t[n-3]===255&&t[n-2]>=192&&t[n-2]<=254){n-=3;break}throw new Error(`unknown JPEG marker ${c.toString(16)}`)}c=r()}}getResult(){const{frames:t}=this;if(this.frames.length===0)throw new Error("no frames were decoded");this.frames.length>1&&console.warn("more than one frame is not supported");for(let m=0;m<this.frames.length;m++){const I=this.frames[m].components;for(const w of Object.keys(I))I[w].quantizationTable=this.quantizationTables[I[w].quantizationIdx],delete I[w].quantizationIdx}const n=t[0],{components:r,componentsOrder:o}=n,l=[],c=n.samplesPerLine,h=n.scanLines;for(let m=0;m<o.length;m++){const I=r[o[m]];l.push({lines:ltt(0,I),scaleX:I.h/n.maxH,scaleY:I.v/n.maxV})}const f=new Uint8Array(c*h*l.length);let p=0;for(let m=0;m<h;++m)for(let I=0;I<c;++I)for(let w=0;w<l.length;++w){const _=l[w];f[p]=_.lines[0|m*_.scaleY][0|I*_.scaleX],++p}return f}}const ctt=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{constructor(e){super(),this.reader=new Att,e.JPEGTables&&this.reader.parse(e.JPEGTables)}decodeBlock(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}},Symbol.toStringTag,{value:"Module"}));function mv(e){let t=e.length;for(;--t>=0;)e[t]=0}mv(new Array(576)),mv(new Array(60)),mv(new Array(512)),mv(new Array(256)),mv(new Array(29)),mv(new Array(30));var hG=(e,t,n,r)=>{let o=65535&e,l=e>>>16&65535,c=0;for(;n!==0;){c=n>2e3?2e3:n,n-=c;do o=o+t[r++]|0,l=l+o|0;while(--c);o%=65521,l%=65521}return o|l<<16};const htt=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var rp=(e,t,n,r)=>{const o=htt,l=r+n;e^=-1;for(let c=r;c<l;c++)e=e>>>8^o[255&(e^t[c])];return~e},uG={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rK={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const utt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var dtt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)utt(n,r)&&(e[r]=n[r])}}return e},ftt=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,l=e.length;r<l;r++){let c=e[r];n.set(c,o),o+=c.length}return n};let oK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oK=!1}const jS=new Uint8Array(256);for(let e=0;e<256;e++)jS[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;jS[254]=jS[254]=1;var ptt=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,l,c=e.length,h=0;for(o=0;o<c;o++)n=e.charCodeAt(o),(64512&n)==55296&&o+1<c&&(r=e.charCodeAt(o+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),h+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(h),l=0,o=0;l<h;o++)n=e.charCodeAt(o),(64512&n)==55296&&o+1<c&&(r=e.charCodeAt(o+1),(64512&r)==56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[l++]=n:n<2048?(t[l++]=192|n>>>6,t[l++]=128|63&n):n<65536?(t[l++]=224|n>>>12,t[l++]=128|n>>>6&63,t[l++]=128|63&n):(t[l++]=240|n>>>18,t[l++]=128|n>>>12&63,t[l++]=128|n>>>6&63,t[l++]=128|63&n);return t},gtt=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const l=new Array(2*n);for(o=0,r=0;r<n;){let c=e[r++];if(c<128){l[o++]=c;continue}let h=jS[c];if(h>4)l[o++]=65533,r+=h-1;else{for(c&=h===2?31:h===3?15:7;h>1&&r<n;)c=c<<6|63&e[r++],h--;h>1?l[o++]=65533:c<65536?l[o++]=c:(c-=65536,l[o++]=55296|c>>10&1023,l[o++]=56320|1023&c)}}return((c,h)=>{if(h<65534&&c.subarray&&oK)return String.fromCharCode.apply(null,c.length===h?c:c.subarray(0,h));let f="";for(let p=0;p<h;p++)f+=String.fromCharCode(c[p]);return f})(l,o)},mtt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(192&e[n])==128;)n--;return n<0||n===0?t:n+jS[e[n]]>t?n:t},ytt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const X5=16209;var xtt=function(e,t){let n,r,o,l,c,h,f,p,m,I,w,_,b,T,S,k,F,N,G,V,W,X,K,st;const et=e.state;n=e.next_in,K=e.input,r=n+(e.avail_in-5),o=e.next_out,st=e.output,l=o-(t-e.avail_out),c=o+(e.avail_out-257),h=et.dmax,f=et.wsize,p=et.whave,m=et.wnext,I=et.window,w=et.hold,_=et.bits,b=et.lencode,T=et.distcode,S=(1<<et.lenbits)-1,k=(1<<et.distbits)-1;t:do{_<15&&(w+=K[n++]<<_,_+=8,w+=K[n++]<<_,_+=8),F=b[w&S];e:for(;;){if(N=F>>>24,w>>>=N,_-=N,N=F>>>16&255,N===0)st[o++]=65535&F;else{if(!(16&N)){if(64&N){if(32&N){et.mode=16191;break t}e.msg="invalid literal/length code",et.mode=X5;break t}F=b[(65535&F)+(w&(1<<N)-1)];continue e}for(G=65535&F,N&=15,N&&(_<N&&(w+=K[n++]<<_,_+=8),G+=w&(1<<N)-1,w>>>=N,_-=N),_<15&&(w+=K[n++]<<_,_+=8,w+=K[n++]<<_,_+=8),F=T[w&k];;){if(N=F>>>24,w>>>=N,_-=N,N=F>>>16&255,16&N){if(V=65535&F,N&=15,_<N&&(w+=K[n++]<<_,_+=8,_<N&&(w+=K[n++]<<_,_+=8)),V+=w&(1<<N)-1,V>h){e.msg="invalid distance too far back",et.mode=X5;break t}if(w>>>=N,_-=N,N=o-l,V>N){if(N=V-N,N>p&&et.sane){e.msg="invalid distance too far back",et.mode=X5;break t}if(W=0,X=I,m===0){if(W+=f-N,N<G){G-=N;do st[o++]=I[W++];while(--N);W=o-V,X=st}}else if(m<N){if(W+=f+m-N,N-=m,N<G){G-=N;do st[o++]=I[W++];while(--N);if(W=0,m<G){N=m,G-=N;do st[o++]=I[W++];while(--N);W=o-V,X=st}}}else if(W+=m-N,N<G){G-=N;do st[o++]=I[W++];while(--N);W=o-V,X=st}for(;G>2;)st[o++]=X[W++],st[o++]=X[W++],st[o++]=X[W++],G-=3;G&&(st[o++]=X[W++],G>1&&(st[o++]=X[W++]))}else{W=o-V;do st[o++]=st[W++],st[o++]=st[W++],st[o++]=st[W++],G-=3;while(G>2);G&&(st[o++]=st[W++],G>1&&(st[o++]=st[W++]))}break}if(64&N){e.msg="invalid distance code",et.mode=X5;break t}F=T[(65535&F)+(w&(1<<N)-1)]}}break}}while(n<r&&o<c);G=_>>3,n-=G,_-=G<<3,w&=(1<<_)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<c?c-o+257:257-(o-c),et.hold=w,et.bits=_};const j5=15,Ctt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ett=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Itt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wtt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var qS=(e,t,n,r,o,l,c,h)=>{const f=h.bits;let p,m,I,w,_,b,T=0,S=0,k=0,F=0,N=0,G=0,V=0,W=0,X=0,K=0,st=null;const et=new Uint16Array(16),it=new Uint16Array(16);let ot,ht,vt,Ct=null;for(T=0;T<=j5;T++)et[T]=0;for(S=0;S<r;S++)et[t[n+S]]++;for(N=f,F=j5;F>=1&&et[F]===0;F--);if(N>F&&(N=F),F===0)return o[l++]=20971520,o[l++]=20971520,h.bits=1,0;for(k=1;k<F&&et[k]===0;k++);for(N<k&&(N=k),W=1,T=1;T<=j5;T++)if(W<<=1,W-=et[T],W<0)return-1;if(W>0&&(e===0||F!==1))return-1;for(it[1]=0,T=1;T<j5;T++)it[T+1]=it[T]+et[T];for(S=0;S<r;S++)t[n+S]!==0&&(c[it[t[n+S]]++]=S);if(e===0?(st=Ct=c,b=20):e===1?(st=Ctt,Ct=Ett,b=257):(st=Itt,Ct=wtt,b=0),K=0,S=0,T=k,_=l,G=N,V=0,I=-1,X=1<<N,w=X-1,e===1&&X>852||e===2&&X>592)return 1;for(;;){ot=T-V,c[S]+1<b?(ht=0,vt=c[S]):c[S]>=b?(ht=Ct[c[S]-b],vt=st[c[S]-b]):(ht=96,vt=0),p=1<<T-V,m=1<<G,k=m;do m-=p,o[_+(K>>V)+m]=ot<<24|ht<<16|vt;while(m!==0);for(p=1<<T-1;K&p;)p>>=1;if(p!==0?(K&=p-1,K+=p):K=0,S++,--et[T]==0){if(T===F)break;T=t[n+c[S]]}if(T>N&&(K&w)!==I){for(V===0&&(V=N),_+=k,G=T-V,W=1<<G;G+V<F&&(W-=et[G+V],!(W<=0));)G++,W<<=1;if(X+=1<<G,e===1&&X>852||e===2&&X>592)return 1;I=K&w,o[I]=N<<24|G<<16|_-l}}return K!==0&&(o[_+K]=T-V<<24|64<<16),h.bits=N,0};const{Z_FINISH:aK,Z_BLOCK:_tt,Z_TREES:q5,Z_OK:vw,Z_STREAM_END:Btt,Z_NEED_DICT:vtt,Z_STREAM_ERROR:hd,Z_DATA_ERROR:lK,Z_MEM_ERROR:AK,Z_BUF_ERROR:btt,Z_DEFLATED:cK}=rK,$5=16180,tP=16190,ym=16191,dG=16192,fG=16194,eP=16199,nP=16200,pG=16206,$r=16209,hK=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Mtt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const bw=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<$5||t.mode>16211?1:0},uK=e=>{if(bw(e))return hd;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=$5,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,vw},dK=e=>{if(bw(e))return hd;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,uK(e)},fK=(e,t)=>{let n;if(bw(e))return hd;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?hd:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,dK(e))},pK=(e,t)=>{if(!e)return hd;const n=new Mtt;e.state=n,n.strm=e,n.window=null,n.mode=$5;const r=fK(e,t);return r!==vw&&(e.state=null),r};let gG,mG,gK=!0;const Stt=e=>{if(gK){gG=new Int32Array(512),mG=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(qS(1,e.lens,0,288,gG,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;qS(2,e.lens,0,32,mG,0,e.work,{bits:5}),gK=!1}e.lencode=gG,e.lenbits=9,e.distcode=mG,e.distbits=5},mK=(e,t,n,r)=>{let o;const l=e.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(t.subarray(n-l.wsize,n),0),l.wnext=0,l.whave=l.wsize):(o=l.wsize-l.wnext,o>r&&(o=r),l.window.set(t.subarray(n-r,n-r+o),l.wnext),(r-=o)?(l.window.set(t.subarray(n-r,n),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=o,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=o))),0};var Ttt=(e,t)=>{let n,r,o,l,c,h,f,p,m,I,w,_,b,T,S,k,F,N,G,V,W,X,K=0;const st=new Uint8Array(4);let et,it;const ot=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(bw(e)||!e.output||!e.input&&e.avail_in!==0)return hd;n=e.state,n.mode===ym&&(n.mode=dG),c=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,r=e.input,h=e.avail_in,p=n.hold,m=n.bits,I=h,w=f,X=vw;t:for(;;)switch(n.mode){case $5:if(n.wrap===0){n.mode=dG;break}for(;m<16;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(2&n.wrap&&p===35615){n.wbits===0&&(n.wbits=15),n.check=0,st[0]=255&p,st[1]=p>>>8&255,n.check=rp(n.check,st,2,0),p=0,m=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=$r;break}if((15&p)!==cK){e.msg="unknown compression method",n.mode=$r;break}if(p>>>=4,m-=4,W=8+(15&p),n.wbits===0&&(n.wbits=W),W>15||W>n.wbits){e.msg="invalid window size",n.mode=$r;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&p?16189:ym,p=0,m=0;break;case 16181:for(;m<16;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(n.flags=p,(255&n.flags)!==cK){e.msg="unknown compression method",n.mode=$r;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=$r;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&4&n.wrap&&(st[0]=255&p,st[1]=p>>>8&255,n.check=rp(n.check,st,2,0)),p=0,m=0,n.mode=16182;case 16182:for(;m<32;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.head&&(n.head.time=p),512&n.flags&&4&n.wrap&&(st[0]=255&p,st[1]=p>>>8&255,st[2]=p>>>16&255,st[3]=p>>>24&255,n.check=rp(n.check,st,4,0)),p=0,m=0,n.mode=16183;case 16183:for(;m<16;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&4&n.wrap&&(st[0]=255&p,st[1]=p>>>8&255,n.check=rp(n.check,st,2,0)),p=0,m=0,n.mode=16184;case 16184:if(1024&n.flags){for(;m<16;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&4&n.wrap&&(st[0]=255&p,st[1]=p>>>8&255,n.check=rp(n.check,st,2,0)),p=0,m=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(_=n.length,_>h&&(_=h),_&&(n.head&&(W=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(l,l+_),W)),512&n.flags&&4&n.wrap&&(n.check=rp(n.check,r,_,l)),h-=_,l+=_,n.length-=_),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(h===0)break t;_=0;do W=r[l+_++],n.head&&W&&n.length<65536&&(n.head.name+=String.fromCharCode(W));while(W&&_<h);if(512&n.flags&&4&n.wrap&&(n.check=rp(n.check,r,_,l)),h-=_,l+=_,W)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(h===0)break t;_=0;do W=r[l+_++],n.head&&W&&n.length<65536&&(n.head.comment+=String.fromCharCode(W));while(W&&_<h);if(512&n.flags&&4&n.wrap&&(n.check=rp(n.check,r,_,l)),h-=_,l+=_,W)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;m<16;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(4&n.wrap&&p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=$r;break}p=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ym;break;case 16189:for(;m<32;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}e.adler=n.check=hK(p),p=0,m=0,n.mode=tP;case tP:if(n.havedict===0)return e.next_out=c,e.avail_out=f,e.next_in=l,e.avail_in=h,n.hold=p,n.bits=m,vtt;e.adler=n.check=1,n.mode=ym;case ym:if(t===_tt||t===q5)break t;case dG:if(n.last){p>>>=7&m,m-=7&m,n.mode=pG;break}for(;m<3;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}switch(n.last=1&p,p>>>=1,m-=1,3&p){case 0:n.mode=16193;break;case 1:if(Stt(n),n.mode=eP,t===q5){p>>>=2,m-=2;break t}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=$r}p>>>=2,m-=2;break;case 16193:for(p>>>=7&m,m-=7&m;m<32;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=$r;break}if(n.length=65535&p,p=0,m=0,n.mode=fG,t===q5)break t;case fG:n.mode=16195;case 16195:if(_=n.length,_){if(_>h&&(_=h),_>f&&(_=f),_===0)break t;o.set(r.subarray(l,l+_),c),h-=_,l+=_,f-=_,c+=_,n.length-=_;break}n.mode=ym;break;case 16196:for(;m<14;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(n.nlen=257+(31&p),p>>>=5,m-=5,n.ndist=1+(31&p),p>>>=5,m-=5,n.ncode=4+(15&p),p>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=$r;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;m<3;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.lens[ot[n.have++]]=7&p,p>>>=3,m-=3}for(;n.have<19;)n.lens[ot[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,et={bits:n.lenbits},X=qS(0,n.lens,0,19,n.lencode,0,n.work,et),n.lenbits=et.bits,X){e.msg="invalid code lengths set",n.mode=$r;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;K=n.lencode[p&(1<<n.lenbits)-1],S=K>>>24,k=K>>>16&255,F=65535&K,!(S<=m);){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(F<16)p>>>=S,m-=S,n.lens[n.have++]=F;else{if(F===16){for(it=S+2;m<it;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(p>>>=S,m-=S,n.have===0){e.msg="invalid bit length repeat",n.mode=$r;break}W=n.lens[n.have-1],_=3+(3&p),p>>>=2,m-=2}else if(F===17){for(it=S+3;m<it;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}p>>>=S,m-=S,W=0,_=3+(7&p),p>>>=3,m-=3}else{for(it=S+7;m<it;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}p>>>=S,m-=S,W=0,_=11+(127&p),p>>>=7,m-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=$r;break}for(;_--;)n.lens[n.have++]=W}}if(n.mode===$r)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=$r;break}if(n.lenbits=9,et={bits:n.lenbits},X=qS(1,n.lens,0,n.nlen,n.lencode,0,n.work,et),n.lenbits=et.bits,X){e.msg="invalid literal/lengths set",n.mode=$r;break}if(n.distbits=6,n.distcode=n.distdyn,et={bits:n.distbits},X=qS(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,et),n.distbits=et.bits,X){e.msg="invalid distances set",n.mode=$r;break}if(n.mode=eP,t===q5)break t;case eP:n.mode=nP;case nP:if(h>=6&&f>=258){e.next_out=c,e.avail_out=f,e.next_in=l,e.avail_in=h,n.hold=p,n.bits=m,xtt(e,w),c=e.next_out,o=e.output,f=e.avail_out,l=e.next_in,r=e.input,h=e.avail_in,p=n.hold,m=n.bits,n.mode===ym&&(n.back=-1);break}for(n.back=0;K=n.lencode[p&(1<<n.lenbits)-1],S=K>>>24,k=K>>>16&255,F=65535&K,!(S<=m);){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(k&&!(240&k)){for(N=S,G=k,V=F;K=n.lencode[V+((p&(1<<N+G)-1)>>N)],S=K>>>24,k=K>>>16&255,F=65535&K,!(N+S<=m);){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}p>>>=N,m-=N,n.back+=N}if(p>>>=S,m-=S,n.back+=S,n.length=F,k===0){n.mode=16205;break}if(32&k){n.back=-1,n.mode=ym;break}if(64&k){e.msg="invalid literal/length code",n.mode=$r;break}n.extra=15&k,n.mode=16201;case 16201:if(n.extra){for(it=n.extra;m<it;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;K=n.distcode[p&(1<<n.distbits)-1],S=K>>>24,k=K>>>16&255,F=65535&K,!(S<=m);){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(!(240&k)){for(N=S,G=k,V=F;K=n.distcode[V+((p&(1<<N+G)-1)>>N)],S=K>>>24,k=K>>>16&255,F=65535&K,!(N+S<=m);){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}p>>>=N,m-=N,n.back+=N}if(p>>>=S,m-=S,n.back+=S,64&k){e.msg="invalid distance code",n.mode=$r;break}n.offset=F,n.extra=15&k,n.mode=16203;case 16203:if(n.extra){for(it=n.extra;m<it;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=$r;break}n.mode=16204;case 16204:if(f===0)break t;if(_=w-f,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=$r;break}_>n.wnext?(_-=n.wnext,b=n.wsize-_):b=n.wnext-_,_>n.length&&(_=n.length),T=n.window}else T=o,b=c-n.offset,_=n.length;_>f&&(_=f),f-=_,n.length-=_;do o[c++]=T[b++];while(--_);n.length===0&&(n.mode=nP);break;case 16205:if(f===0)break t;o[c++]=n.length,f--,n.mode=nP;break;case pG:if(n.wrap){for(;m<32;){if(h===0)break t;h--,p|=r[l++]<<m,m+=8}if(w-=f,e.total_out+=w,n.total+=w,4&n.wrap&&w&&(e.adler=n.check=n.flags?rp(n.check,o,w,c-w):hG(n.check,o,w,c-w)),w=f,4&n.wrap&&(n.flags?p:hK(p))!==n.check){e.msg="incorrect data check",n.mode=$r;break}p=0,m=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;m<32;){if(h===0)break t;h--,p+=r[l++]<<m,m+=8}if(4&n.wrap&&p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=$r;break}p=0,m=0}n.mode=16208;case 16208:X=Btt;break t;case $r:X=lK;break t;case 16210:return AK;default:return hd}return e.next_out=c,e.avail_out=f,e.next_in=l,e.avail_in=h,n.hold=p,n.bits=m,(n.wsize||w!==e.avail_out&&n.mode<$r&&(n.mode<pG||t!==aK))&&mK(e,e.output,e.next_out,w-e.avail_out),I-=e.avail_in,w-=e.avail_out,e.total_in+=I,e.total_out+=w,n.total+=w,4&n.wrap&&w&&(e.adler=n.check=n.flags?rp(n.check,o,w,e.next_out-w):hG(n.check,o,w,e.next_out-w)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ym?128:0)+(n.mode===eP||n.mode===fG?256:0),(I===0&&w===0||t===aK)&&X===vw&&(X=btt),X},xm={inflateReset:dK,inflateReset2:fK,inflateResetKeep:uK,inflateInit:e=>pK(e,15),inflateInit2:pK,inflate:Ttt,inflateEnd:e=>{if(bw(e))return hd;let t=e.state;return t.window&&(t.window=null),e.state=null,vw},inflateGetHeader:(e,t)=>{if(bw(e))return hd;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,vw):hd},inflateSetDictionary:(e,t)=>{const n=t.length;let r,o,l;return bw(e)?hd:(r=e.state,r.wrap!==0&&r.mode!==tP?hd:r.mode===tP&&(o=1,o=hG(o,t,n,0),o!==r.check)?lK:(l=mK(e,t,n,n),l?(r.mode=16210,AK):(r.havedict=1,vw)))},inflateInfo:"pako inflate (from Nodeca project)"},Dtt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const yK=Object.prototype.toString,{Z_NO_FLUSH:Rtt,Z_FINISH:Qtt,Z_OK:$S,Z_STREAM_END:yG,Z_NEED_DICT:xG,Z_STREAM_ERROR:ktt,Z_DATA_ERROR:xK,Z_MEM_ERROR:Ltt}=rK;function iP(e){this.options=dtt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ytt,this.strm.avail_out=0;let n=xm.inflateInit2(this.strm,t.windowBits);if(n!==$S)throw new Error(uG[n]);if(this.header=new Dtt,xm.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ptt(t.dictionary):yK.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=xm.inflateSetDictionary(this.strm,t.dictionary),n!==$S)))throw new Error(uG[n])}iP.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let l,c,h;if(this.ended)return!1;for(c=t===~~t?t:t===!0?Qtt:Rtt,yK.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),l=xm.inflate(n,c),l===xG&&o&&(l=xm.inflateSetDictionary(n,o),l===$S?l=xm.inflate(n,c):l===xK&&(l=xG));n.avail_in>0&&l===yG&&n.state.wrap>0&&e[n.next_in]!==0;)xm.inflateReset(n),l=xm.inflate(n,c);switch(l){case ktt:case xK:case xG:case Ltt:return this.onEnd(l),this.ended=!0,!1}if(h=n.avail_out,n.next_out&&(n.avail_out===0||l===yG))if(this.options.to==="string"){let f=mtt(n.output,n.next_out),p=n.next_out-f,m=gtt(n.output,f);n.next_out=p,n.avail_out=r-p,p&&n.output.set(n.output.subarray(f,f+p),0),this.onData(m)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(l!==$S||h!==0){if(l===yG)return l=xm.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},iP.prototype.onData=function(e){this.chunks.push(e)},iP.prototype.onEnd=function(e){e===$S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ftt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ptt={inflate:function(e,t){const n=new iP(t);if(n.push(e),n.err)throw n.msg||uG[n.err];return n.result}};const{inflate:Ftt}=Ptt;var CK=Ftt;const Utt=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{decodeBlock(e){return CK(new Uint8Array(e)).buffer}}},Symbol.toStringTag,{value:"Module"})),Ntt=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{decodeBlock(e){const t=new DataView(e),n=[];for(let r=0;r<e.byteLength;++r){let o=t.getInt8(r);if(o<0){const l=t.getUint8(r+1);o=-o;for(let c=0;c<=o;++c)n.push(l);r+=1}else{for(let l=0;l<=o;++l)n.push(t.getUint8(r+l+1));r+=o+1}}return new Uint8Array(n).buffer}}},Symbol.toStringTag,{value:"Module"}));var EK={exports:{}};(function(e){/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */(function(){var t=function(){var l={defaultNoDataValue:-34027999387901484e22,decode:function(I,w){var _=(w=w||{}).encodedMaskData||w.encodedMaskData===null,b=p(I,w.inputOffset||0,_),T=w.noDataValue!==null?w.noDataValue:l.defaultNoDataValue,S=c(b,w.pixelType||Float32Array,w.encodedMaskData,T,w.returnMask),k={width:b.width,height:b.height,pixelData:S.resultPixels,minValue:S.minValue,maxValue:b.pixels.maxValue,noDataValue:T};return S.resultMask&&(k.maskData=S.resultMask),w.returnEncodedMask&&b.mask&&(k.encodedMaskData=b.mask.bitset?b.mask.bitset:null),w.returnFileInfo&&(k.fileInfo=h(b),w.computeUsedBitDepths&&(k.fileInfo.bitDepths=f(b))),k}},c=function(I,w,_,b,T){var S,k,F,N=0,G=I.pixels.numBlocksX,V=I.pixels.numBlocksY,W=Math.floor(I.width/G),X=Math.floor(I.height/V),K=2*I.maxZError,st=Number.MAX_VALUE;_=_||(I.mask?I.mask.bitset:null),k=new w(I.width*I.height),T&&_&&(F=new Uint8Array(I.width*I.height));for(var et,it,ot=new Float32Array(W*X),ht=0;ht<=V;ht++){var vt=ht!==V?X:I.height%V;if(vt!==0)for(var Ct=0;Ct<=G;Ct++){var wt=Ct!==G?W:I.width%G;if(wt!==0){var mt,Rt,Mt,Bt,at=ht*I.width*X+Ct*W,kt=I.width-wt,_t=I.pixels.blocks[N];if(_t.encoding<2?(_t.encoding===0?mt=_t.rawData:(m(_t.stuffedData,_t.bitsPerPixel,_t.numValidPixels,_t.offset,K,ot,I.pixels.maxValue),mt=ot),Rt=0):Mt=_t.encoding===2?0:_t.offset,_)for(it=0;it<vt;it++){for(7&at&&(Bt=_[at>>3],Bt<<=7&at),et=0;et<wt;et++)7&at||(Bt=_[at>>3]),128&Bt?(F&&(F[at]=1),st=st>(S=_t.encoding<2?mt[Rt++]:Mt)?S:st,k[at++]=S):(F&&(F[at]=0),k[at++]=b),Bt<<=1;at+=kt}else if(_t.encoding<2)for(it=0;it<vt;it++){for(et=0;et<wt;et++)st=st>(S=mt[Rt++])?S:st,k[at++]=S;at+=kt}else for(st=st>Mt?Mt:st,it=0;it<vt;it++){for(et=0;et<wt;et++)k[at++]=Mt;at+=kt}if(_t.encoding===1&&Rt!==_t.numValidPixels)throw"Block and Mask do not match";N++}}}return{resultPixels:k,resultMask:F,minValue:st}},h=function(I){return{fileIdentifierString:I.fileIdentifierString,fileVersion:I.fileVersion,imageType:I.imageType,height:I.height,width:I.width,maxZError:I.maxZError,eofOffset:I.eofOffset,mask:I.mask?{numBlocksX:I.mask.numBlocksX,numBlocksY:I.mask.numBlocksY,numBytes:I.mask.numBytes,maxValue:I.mask.maxValue}:null,pixels:{numBlocksX:I.pixels.numBlocksX,numBlocksY:I.pixels.numBlocksY,numBytes:I.pixels.numBytes,maxValue:I.pixels.maxValue,noDataValue:I.noDataValue}}},f=function(I){for(var w=I.pixels.numBlocksX*I.pixels.numBlocksY,_={},b=0;b<w;b++){var T=I.pixels.blocks[b];T.encoding===0?_.float32=!0:T.encoding===1?_[T.bitsPerPixel]=!0:_[0]=!0}return Object.keys(_)},p=function(I,w,_){var b={},T=new Uint8Array(I,w,10);if(b.fileIdentifierString=String.fromCharCode.apply(null,T),b.fileIdentifierString.trim()!=="CntZImage")throw"Unexpected file identifier string: "+b.fileIdentifierString;w+=10;var S=new DataView(I,w,24);if(b.fileVersion=S.getInt32(0,!0),b.imageType=S.getInt32(4,!0),b.height=S.getUint32(8,!0),b.width=S.getUint32(12,!0),b.maxZError=S.getFloat64(16,!0),w+=24,!_)if(S=new DataView(I,w,16),b.mask={},b.mask.numBlocksY=S.getUint32(0,!0),b.mask.numBlocksX=S.getUint32(4,!0),b.mask.numBytes=S.getUint32(8,!0),b.mask.maxValue=S.getFloat32(12,!0),w+=16,b.mask.numBytes>0){var k=new Uint8Array(Math.ceil(b.width*b.height/8)),F=(S=new DataView(I,w,b.mask.numBytes)).getInt16(0,!0),N=2,G=0;do{if(F>0)for(;F--;)k[G++]=S.getUint8(N++);else{var V=S.getUint8(N++);for(F=-F;F--;)k[G++]=V}F=S.getInt16(N,!0),N+=2}while(N<b.mask.numBytes);if(F!==-32768||G<k.length)throw"Unexpected end of mask RLE encoding";b.mask.bitset=k,w+=b.mask.numBytes}else b.mask.numBytes|b.mask.numBlocksY|b.mask.maxValue||(b.mask.bitset=new Uint8Array(Math.ceil(b.width*b.height/8)));S=new DataView(I,w,16),b.pixels={},b.pixels.numBlocksY=S.getUint32(0,!0),b.pixels.numBlocksX=S.getUint32(4,!0),b.pixels.numBytes=S.getUint32(8,!0),b.pixels.maxValue=S.getFloat32(12,!0),w+=16;var W=b.pixels.numBlocksX,X=b.pixels.numBlocksY,K=W+(b.width%W>0?1:0),st=X+(b.height%X>0?1:0);b.pixels.blocks=new Array(K*st);for(var et=0,it=0;it<st;it++)for(var ot=0;ot<K;ot++){var ht=0,vt=I.byteLength-w;S=new DataView(I,w,Math.min(10,vt));var Ct={};b.pixels.blocks[et++]=Ct;var wt=S.getUint8(0);if(ht++,Ct.encoding=63&wt,Ct.encoding>3)throw"Invalid block encoding ("+Ct.encoding+")";if(Ct.encoding!==2){if(wt!==0&&wt!==2){if(wt>>=6,Ct.offsetType=wt,wt===2)Ct.offset=S.getInt8(1),ht++;else if(wt===1)Ct.offset=S.getInt16(1,!0),ht+=2;else{if(wt!==0)throw"Invalid block offset type";Ct.offset=S.getFloat32(1,!0),ht+=4}if(Ct.encoding===1)if(wt=S.getUint8(ht),ht++,Ct.bitsPerPixel=63&wt,wt>>=6,Ct.numValidPixelsType=wt,wt===2)Ct.numValidPixels=S.getUint8(ht),ht++;else if(wt===1)Ct.numValidPixels=S.getUint16(ht,!0),ht+=2;else{if(wt!==0)throw"Invalid valid pixel count type";Ct.numValidPixels=S.getUint32(ht,!0),ht+=4}}var mt;if(w+=ht,Ct.encoding!==3){if(Ct.encoding===0){var Rt=(b.pixels.numBytes-1)/4;if(Rt!==Math.floor(Rt))throw"uncompressed block has invalid length";mt=new ArrayBuffer(4*Rt),new Uint8Array(mt).set(new Uint8Array(I,w,4*Rt));var Mt=new Float32Array(mt);Ct.rawData=Mt,w+=4*Rt}else if(Ct.encoding===1){var Bt=Math.ceil(Ct.numValidPixels*Ct.bitsPerPixel/8),at=Math.ceil(Bt/4);mt=new ArrayBuffer(4*at),new Uint8Array(mt).set(new Uint8Array(I,w,Bt)),Ct.stuffedData=new Uint32Array(mt),w+=Bt}}}else w++}return b.eofOffset=w,b},m=function(I,w,_,b,T,S,k){var F,N,G,V=(1<<w)-1,W=0,X=0,K=Math.ceil((k-b)/T),st=4*I.length-Math.ceil(w*_/8);for(I[I.length-1]<<=8*st,F=0;F<_;F++){if(X===0&&(G=I[W++],X=32),X>=w)N=G>>>X-w&V,X-=w;else{var et=w-X;N=(G&V)<<et&V,N+=(G=I[W++])>>>(X=32-et)}S[F]=N<K?b+N*T:k}return S};return l}(),n=function(){var l=function(b,T,S,k,F,N,G,V){var W,X,K,st,et,it=(1<<S)-1,ot=0,ht=0,vt=4*b.length-Math.ceil(S*k/8);if(b[b.length-1]<<=8*vt,F)for(W=0;W<k;W++)ht===0&&(K=b[ot++],ht=32),ht>=S?(X=K>>>ht-S&it,ht-=S):(X=(K&it)<<(st=S-ht)&it,X+=(K=b[ot++])>>>(ht=32-st)),T[W]=F[X];else for(et=Math.ceil((V-N)/G),W=0;W<k;W++)ht===0&&(K=b[ot++],ht=32),ht>=S?(X=K>>>ht-S&it,ht-=S):(X=(K&it)<<(st=S-ht)&it,X+=(K=b[ot++])>>>(ht=32-st)),T[W]=X<et?N+X*G:V},c=function(b,T,S,k,F,N){var G,V=(1<<T)-1,W=0,X=0,K=0,st=0,et=0,it=[],ot=4*b.length-Math.ceil(T*S/8);b[b.length-1]<<=8*ot;var ht=Math.ceil((N-k)/F);for(X=0;X<S;X++)st===0&&(G=b[W++],st=32),st>=T?(et=G>>>st-T&V,st-=T):(et=(G&V)<<(K=T-st)&V,et+=(G=b[W++])>>>(st=32-K)),it[X]=et<ht?k+et*F:N;return it.unshift(k),it},h=function(b,T,S,k,F,N,G,V){var W,X,K,st,et=(1<<S)-1,it=0,ot=0,ht=0;if(F)for(W=0;W<k;W++)ot===0&&(K=b[it++],ot=32,ht=0),ot>=S?(X=K>>>ht&et,ot-=S,ht+=S):(X=K>>>ht&et,ot=32-(st=S-ot),X|=((K=b[it++])&(1<<st)-1)<<S-st,ht=st),T[W]=F[X];else{var vt=Math.ceil((V-N)/G);for(W=0;W<k;W++)ot===0&&(K=b[it++],ot=32,ht=0),ot>=S?(X=K>>>ht&et,ot-=S,ht+=S):(X=K>>>ht&et,ot=32-(st=S-ot),X|=((K=b[it++])&(1<<st)-1)<<S-st,ht=st),T[W]=X<vt?N+X*G:V}return T},f=function(b,T,S,k,F,N){var G,V=(1<<T)-1,W=0,X=0,K=0,st=0,et=0,it=0,ot=[],ht=Math.ceil((N-k)/F);for(X=0;X<S;X++)st===0&&(G=b[W++],st=32,it=0),st>=T?(et=G>>>it&V,st-=T,it+=T):(et=G>>>it&V,st=32-(K=T-st),et|=((G=b[W++])&(1<<K)-1)<<T-K,it=K),ot[X]=et<ht?k+et*F:N;return ot.unshift(k),ot},p=function(b,T,S,k){var F,N,G,V,W=(1<<S)-1,X=0,K=0,st=4*b.length-Math.ceil(S*k/8);for(b[b.length-1]<<=8*st,F=0;F<k;F++)K===0&&(G=b[X++],K=32),K>=S?(N=G>>>K-S&W,K-=S):(N=(G&W)<<(V=S-K)&W,N+=(G=b[X++])>>>(K=32-V)),T[F]=N;return T},m=function(b,T,S,k){var F,N,G,V,W=(1<<S)-1,X=0,K=0,st=0;for(F=0;F<k;F++)K===0&&(G=b[X++],K=32,st=0),K>=S?(N=G>>>st&W,K-=S,st+=S):(N=G>>>st&W,K=32-(V=S-K),N|=((G=b[X++])&(1<<V)-1)<<S-V,st=V),T[F]=N;return T},I={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(b){for(var T=65535,S=65535,k=b.length,F=Math.floor(k/2),N=0;F;){var G=F>=359?359:F;F-=G;do T+=b[N++]<<8,S+=T+=b[N++];while(--G);T=(65535&T)+(T>>>16),S=(65535&S)+(S>>>16)}return 1&k&&(S+=T+=b[N]<<8),((S=(65535&S)+(S>>>16))<<16|(T=(65535&T)+(T>>>16)))>>>0},readHeaderInfo:function(b,T){var S=T.ptr,k=new Uint8Array(b,S,6),F={};if(F.fileIdentifierString=String.fromCharCode.apply(null,k),F.fileIdentifierString.lastIndexOf("Lerc2",0)!==0)throw"Unexpected file identifier string (expect Lerc2 ): "+F.fileIdentifierString;S+=6;var N,G=new DataView(b,S,8),V=G.getInt32(0,!0);if(F.fileVersion=V,S+=4,V>=3&&(F.checksum=G.getUint32(4,!0),S+=4),G=new DataView(b,S,12),F.height=G.getUint32(0,!0),F.width=G.getUint32(4,!0),S+=8,V>=4?(F.numDims=G.getUint32(8,!0),S+=4):F.numDims=1,G=new DataView(b,S,40),F.numValidPixel=G.getUint32(0,!0),F.microBlockSize=G.getInt32(4,!0),F.blobSize=G.getInt32(8,!0),F.imageType=G.getInt32(12,!0),F.maxZError=G.getFloat64(16,!0),F.zMin=G.getFloat64(24,!0),F.zMax=G.getFloat64(32,!0),S+=40,T.headerInfo=F,T.ptr=S,V>=3&&(N=V>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(b,S-N,F.blobSize-14))!==F.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(b,T){var S=T.headerInfo,k=this.getDataTypeArray(S.imageType),F=S.numDims*this.getDataTypeSize(S.imageType),N=this.readSubArray(b,T.ptr,k,F),G=this.readSubArray(b,T.ptr+F,k,F);T.ptr+=2*F;var V,W=!0;for(V=0;V<S.numDims;V++)if(N[V]!==G[V]){W=!1;break}return S.minValues=N,S.maxValues=G,W},readSubArray:function(b,T,S,k){var F;if(S===Uint8Array)F=new Uint8Array(b,T,k);else{var N=new ArrayBuffer(k);new Uint8Array(N).set(new Uint8Array(b,T,k)),F=new S(N)}return F},readMask:function(b,T){var S,k,F=T.ptr,N=T.headerInfo,G=N.width*N.height,V=N.numValidPixel,W=new DataView(b,F,4),X={};if(X.numBytes=W.getUint32(0,!0),F+=4,(V===0||G===V)&&X.numBytes!==0)throw"invalid mask";if(V===0)S=new Uint8Array(Math.ceil(G/8)),X.bitset=S,k=new Uint8Array(G),T.pixels.resultMask=k,F+=X.numBytes;else if(X.numBytes>0){S=new Uint8Array(Math.ceil(G/8));var K=(W=new DataView(b,F,X.numBytes)).getInt16(0,!0),st=2,et=0,it=0;do{if(K>0)for(;K--;)S[et++]=W.getUint8(st++);else for(it=W.getUint8(st++),K=-K;K--;)S[et++]=it;K=W.getInt16(st,!0),st+=2}while(st<X.numBytes);if(K!==-32768||et<S.length)throw"Unexpected end of mask RLE encoding";k=new Uint8Array(G);var ot=0,ht=0;for(ht=0;ht<G;ht++)7&ht?(ot=S[ht>>3],ot<<=7&ht):ot=S[ht>>3],128&ot&&(k[ht]=1);T.pixels.resultMask=k,X.bitset=S,F+=X.numBytes}return T.ptr=F,T.mask=X,!0},readDataOneSweep:function(b,T,S,k){var F,N=T.ptr,G=T.headerInfo,V=G.numDims,W=G.width*G.height,X=G.imageType,K=G.numValidPixel*I.getDataTypeSize(X)*V,st=T.pixels.resultMask;if(S===Uint8Array)F=new Uint8Array(b,N,K);else{var et=new ArrayBuffer(K);new Uint8Array(et).set(new Uint8Array(b,N,K)),F=new S(et)}if(F.length===W*V)T.pixels.resultPixels=k?I.swapDimensionOrder(F,W,V,S,!0):F;else{T.pixels.resultPixels=new S(W*V);var it=0,ot=0,ht=0,vt=0;if(V>1){if(k){for(ot=0;ot<W;ot++)if(st[ot])for(vt=ot,ht=0;ht<V;ht++,vt+=W)T.pixels.resultPixels[vt]=F[it++]}else for(ot=0;ot<W;ot++)if(st[ot])for(vt=ot*V,ht=0;ht<V;ht++)T.pixels.resultPixels[vt+ht]=F[it++]}else for(ot=0;ot<W;ot++)st[ot]&&(T.pixels.resultPixels[ot]=F[it++])}return N+=K,T.ptr=N,!0},readHuffmanTree:function(b,T){var S=this.HUFFMAN_LUT_BITS_MAX,k=new DataView(b,T.ptr,16);if(T.ptr+=16,k.getInt32(0,!0)<2)throw"unsupported Huffman version";var F=k.getInt32(4,!0),N=k.getInt32(8,!0),G=k.getInt32(12,!0);if(N>=G)return!1;var V=new Uint32Array(G-N);I.decodeBits(b,T,V);var W,X,K,st,et=[];for(W=N;W<G;W++)et[X=W-(W<F?0:F)]={first:V[W-N],second:null};var it=b.byteLength-T.ptr,ot=Math.ceil(it/4),ht=new ArrayBuffer(4*ot);new Uint8Array(ht).set(new Uint8Array(b,T.ptr,it));var vt,Ct=new Uint32Array(ht),wt=0,mt=0;for(vt=Ct[0],W=N;W<G;W++)(st=et[X=W-(W<F?0:F)].first)>0&&(et[X].second=vt<<wt>>>32-st,32-wt>=st?(wt+=st)===32&&(wt=0,vt=Ct[++mt]):(wt+=st-32,vt=Ct[++mt],et[X].second|=vt>>>32-wt));var Rt=0,Mt=0,Bt=new w;for(W=0;W<et.length;W++)et[W]!==void 0&&(Rt=Math.max(Rt,et[W].first));Mt=Rt>=S?S:Rt;var at,kt,_t,zt,Ft,qt=[];for(W=N;W<G;W++)if((st=et[X=W-(W<F?0:F)].first)>0)if(at=[st,X],st<=Mt)for(kt=et[X].second<<Mt-st,_t=1<<Mt-st,K=0;K<_t;K++)qt[kt|K]=at;else for(kt=et[X].second,Ft=Bt,zt=st-1;zt>=0;zt--)kt>>>zt&1?(Ft.right||(Ft.right=new w),Ft=Ft.right):(Ft.left||(Ft.left=new w),Ft=Ft.left),zt!==0||Ft.val||(Ft.val=at[1]);return{decodeLut:qt,numBitsLUTQick:Mt,numBitsLUT:Rt,tree:Bt,stuffedData:Ct,srcPtr:mt,bitPos:wt}},readHuffman:function(b,T,S,k){var F,N,G,V,W,X,K,st,et,it=T.headerInfo.numDims,ot=T.headerInfo.height,ht=T.headerInfo.width,vt=ht*ot,Ct=this.readHuffmanTree(b,T),wt=Ct.decodeLut,mt=Ct.tree,Rt=Ct.stuffedData,Mt=Ct.srcPtr,Bt=Ct.bitPos,at=Ct.numBitsLUTQick,kt=Ct.numBitsLUT,_t=T.headerInfo.imageType===0?128:0,zt=T.pixels.resultMask,Ft=0;Bt>0&&(Mt++,Bt=0);var qt,Gt=Rt[Mt],ge=T.encodeMode===1,Fe=new S(vt*it),ee=Fe;if(it<2||ge){for(qt=0;qt<it;qt++)if(it>1&&(ee=new S(Fe.buffer,vt*qt,vt),Ft=0),T.headerInfo.numValidPixel===ht*ot)for(st=0,X=0;X<ot;X++)for(K=0;K<ht;K++,st++){if(N=0,W=V=Gt<<Bt>>>32-at,32-Bt<at&&(W=V|=Rt[Mt+1]>>>64-Bt-at),wt[W])N=wt[W][1],Bt+=wt[W][0];else for(W=V=Gt<<Bt>>>32-kt,32-Bt<kt&&(W=V|=Rt[Mt+1]>>>64-Bt-kt),F=mt,et=0;et<kt;et++)if(!(F=V>>>kt-et-1&1?F.right:F.left).left&&!F.right){N=F.val,Bt=Bt+et+1;break}Bt>=32&&(Bt-=32,Gt=Rt[++Mt]),G=N-_t,ge?(G+=K>0?Ft:X>0?ee[st-ht]:Ft,G&=255,ee[st]=G,Ft=G):ee[st]=G}else for(st=0,X=0;X<ot;X++)for(K=0;K<ht;K++,st++)if(zt[st]){if(N=0,W=V=Gt<<Bt>>>32-at,32-Bt<at&&(W=V|=Rt[Mt+1]>>>64-Bt-at),wt[W])N=wt[W][1],Bt+=wt[W][0];else for(W=V=Gt<<Bt>>>32-kt,32-Bt<kt&&(W=V|=Rt[Mt+1]>>>64-Bt-kt),F=mt,et=0;et<kt;et++)if(!(F=V>>>kt-et-1&1?F.right:F.left).left&&!F.right){N=F.val,Bt=Bt+et+1;break}Bt>=32&&(Bt-=32,Gt=Rt[++Mt]),G=N-_t,ge?(K>0&&zt[st-1]?G+=Ft:X>0&&zt[st-ht]?G+=ee[st-ht]:G+=Ft,G&=255,ee[st]=G,Ft=G):ee[st]=G}}else for(st=0,X=0;X<ot;X++)for(K=0;K<ht;K++)if(st=X*ht+K,!zt||zt[st])for(qt=0;qt<it;qt++,st+=vt){if(N=0,W=V=Gt<<Bt>>>32-at,32-Bt<at&&(W=V|=Rt[Mt+1]>>>64-Bt-at),wt[W])N=wt[W][1],Bt+=wt[W][0];else for(W=V=Gt<<Bt>>>32-kt,32-Bt<kt&&(W=V|=Rt[Mt+1]>>>64-Bt-kt),F=mt,et=0;et<kt;et++)if(!(F=V>>>kt-et-1&1?F.right:F.left).left&&!F.right){N=F.val,Bt=Bt+et+1;break}Bt>=32&&(Bt-=32,Gt=Rt[++Mt]),G=N-_t,ee[st]=G}T.ptr=T.ptr+4*(Mt+1)+(Bt>0?4:0),T.pixels.resultPixels=Fe,it>1&&!k&&(T.pixels.resultPixels=I.swapDimensionOrder(Fe,vt,it,S))},decodeBits:function(b,T,S,k,F){var N=T.headerInfo,G=N.fileVersion,V=0,W=b.byteLength-T.ptr>=5?5:b.byteLength-T.ptr,X=new DataView(b,T.ptr,W),K=X.getUint8(0);V++;var st=K>>6,et=st===0?4:3-st,it=(32&K)>0,ot=31&K,ht=0;if(et===1)ht=X.getUint8(V),V++;else if(et===2)ht=X.getUint16(V,!0),V+=2;else{if(et!==4)throw"Invalid valid pixel count type";ht=X.getUint32(V,!0),V+=4}var vt,Ct,wt,mt,Rt,Mt,Bt,at,kt,_t=2*N.maxZError,zt=N.numDims>1?N.maxValues[F]:N.zMax;if(it){for(T.counter.lut++,at=X.getUint8(V),V++,mt=Math.ceil((at-1)*ot/8),Rt=Math.ceil(mt/4),Ct=new ArrayBuffer(4*Rt),wt=new Uint8Array(Ct),T.ptr+=V,wt.set(new Uint8Array(b,T.ptr,mt)),Bt=new Uint32Array(Ct),T.ptr+=mt,kt=0;at-1>>>kt;)kt++;mt=Math.ceil(ht*kt/8),Rt=Math.ceil(mt/4),Ct=new ArrayBuffer(4*Rt),(wt=new Uint8Array(Ct)).set(new Uint8Array(b,T.ptr,mt)),vt=new Uint32Array(Ct),T.ptr+=mt,Mt=G>=3?f(Bt,ot,at-1,k,_t,zt):c(Bt,ot,at-1,k,_t,zt),G>=3?h(vt,S,kt,ht,Mt):l(vt,S,kt,ht,Mt)}else T.counter.bitstuffer++,kt=ot,T.ptr+=V,kt>0&&(mt=Math.ceil(ht*kt/8),Rt=Math.ceil(mt/4),Ct=new ArrayBuffer(4*Rt),(wt=new Uint8Array(Ct)).set(new Uint8Array(b,T.ptr,mt)),vt=new Uint32Array(Ct),T.ptr+=mt,G>=3?k==null?m(vt,S,kt,ht):h(vt,S,kt,ht,!1,k,_t,zt):k==null?p(vt,S,kt,ht):l(vt,S,kt,ht,!1,k,_t,zt))},readTiles:function(b,T,S,k){var F=T.headerInfo,N=F.width,G=F.height,V=N*G,W=F.microBlockSize,X=F.imageType,K=I.getDataTypeSize(X),st=Math.ceil(N/W),et=Math.ceil(G/W);T.pixels.numBlocksY=et,T.pixels.numBlocksX=st,T.pixels.ptr=0;var it,ot,ht,vt,Ct,wt,mt,Rt,Mt,Bt,at=0,kt=0,_t=0,zt=0,Ft=0,qt=0,Gt=0,ge=0,Fe=0,ee=0,pn=0,Te=0,Wt=0,Ot=0,ue=0,Ne=new S(W*W),si=G%W||W,Ti=N%W||W,hi=F.numDims,Ci=T.pixels.resultMask,Zi=T.pixels.resultPixels,Je=F.fileVersion>=5?14:15,be=F.zMax;for(_t=0;_t<et;_t++)for(Ft=_t!==et-1?W:si,zt=0;zt<st;zt++)for(ee=_t*N*W+zt*W,pn=N-(qt=zt!==st-1?W:Ti),Rt=0;Rt<hi;Rt++){if(hi>1?(Bt=Zi,ee=_t*N*W+zt*W,Zi=new S(T.pixels.resultPixels.buffer,V*Rt*K,V),be=F.maxValues[Rt]):Bt=null,Gt=b.byteLength-T.ptr,ot={},ue=0,ge=(it=new DataView(b,T.ptr,Math.min(10,Gt))).getUint8(0),ue++,Mt=F.fileVersion>=5?4&ge:0,Fe=ge>>6&255,(ge>>2&Je)!==(zt*W>>3&Je)||Mt&&Rt===0)throw"integrity issue";if((Ct=3&ge)>3)throw T.ptr+=ue,"Invalid block encoding ("+Ct+")";if(Ct!==2)if(Ct===0){if(Mt)throw"integrity issue";if(T.counter.uncompressed++,T.ptr+=ue,Te=(Te=Ft*qt*K)<(Wt=b.byteLength-T.ptr)?Te:Wt,ht=new ArrayBuffer(Te%K==0?Te:Te+K-Te%K),new Uint8Array(ht).set(new Uint8Array(b,T.ptr,Te)),vt=new S(ht),Ot=0,Ci)for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Ci[ee]&&(Zi[ee]=vt[Ot++]),ee++;ee+=pn}else for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Zi[ee++]=vt[Ot++];ee+=pn}T.ptr+=Ot*K}else if(wt=I.getDataTypeUsed(Mt&&X<6?4:X,Fe),mt=I.getOnePixel(ot,ue,wt,it),ue+=I.getDataTypeSize(wt),Ct===3)if(T.ptr+=ue,T.counter.constantoffset++,Ci)for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Ci[ee]&&(Zi[ee]=Mt?Math.min(be,Bt[ee]+mt):mt),ee++;ee+=pn}else for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Zi[ee]=Mt?Math.min(be,Bt[ee]+mt):mt,ee++;ee+=pn}else if(T.ptr+=ue,I.decodeBits(b,T,Ne,mt,Rt),ue=0,Mt)if(Ci)for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Ci[ee]&&(Zi[ee]=Ne[ue++]+Bt[ee]),ee++;ee+=pn}else for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Zi[ee]=Ne[ue++]+Bt[ee],ee++;ee+=pn}else if(Ci)for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Ci[ee]&&(Zi[ee]=Ne[ue++]),ee++;ee+=pn}else for(at=0;at<Ft;at++){for(kt=0;kt<qt;kt++)Zi[ee++]=Ne[ue++];ee+=pn}else{if(Mt)if(Ci)for(at=0;at<Ft;at++)for(kt=0;kt<qt;kt++)Ci[ee]&&(Zi[ee]=Bt[ee]),ee++;else for(at=0;at<Ft;at++)for(kt=0;kt<qt;kt++)Zi[ee]=Bt[ee],ee++;T.counter.constant++,T.ptr+=ue}}hi>1&&!k&&(T.pixels.resultPixels=I.swapDimensionOrder(T.pixels.resultPixels,V,hi,S))},formatFileInfo:function(b){return{fileIdentifierString:b.headerInfo.fileIdentifierString,fileVersion:b.headerInfo.fileVersion,imageType:b.headerInfo.imageType,height:b.headerInfo.height,width:b.headerInfo.width,numValidPixel:b.headerInfo.numValidPixel,microBlockSize:b.headerInfo.microBlockSize,blobSize:b.headerInfo.blobSize,maxZError:b.headerInfo.maxZError,pixelType:I.getPixelType(b.headerInfo.imageType),eofOffset:b.eofOffset,mask:b.mask?{numBytes:b.mask.numBytes}:null,pixels:{numBlocksX:b.pixels.numBlocksX,numBlocksY:b.pixels.numBlocksY,maxValue:b.headerInfo.zMax,minValue:b.headerInfo.zMin,noDataValue:b.noDataValue}}},constructConstantSurface:function(b,T){var S=b.headerInfo.zMax,k=b.headerInfo.zMin,F=b.headerInfo.maxValues,N=b.headerInfo.numDims,G=b.headerInfo.height*b.headerInfo.width,V=0,W=0,X=0,K=b.pixels.resultMask,st=b.pixels.resultPixels;if(K)if(N>1){if(T)for(V=0;V<N;V++)for(X=V*G,S=F[V],W=0;W<G;W++)K[W]&&(st[X+W]=S);else for(W=0;W<G;W++)if(K[W])for(X=W*N,V=0;V<N;V++)st[X+N]=F[V]}else for(W=0;W<G;W++)K[W]&&(st[W]=S);else if(N>1&&k!==S)if(T)for(V=0;V<N;V++)for(X=V*G,S=F[V],W=0;W<G;W++)st[X+W]=S;else for(W=0;W<G;W++)for(X=W*N,V=0;V<N;V++)st[X+V]=F[V];else for(W=0;W<G*N;W++)st[W]=S},getDataTypeArray:function(b){var T;switch(b){case 0:T=Int8Array;break;case 1:T=Uint8Array;break;case 2:T=Int16Array;break;case 3:T=Uint16Array;break;case 4:T=Int32Array;break;case 5:T=Uint32Array;break;case 6:default:T=Float32Array;break;case 7:T=Float64Array}return T},getPixelType:function(b){var T;switch(b){case 0:T="S8";break;case 1:T="U8";break;case 2:T="S16";break;case 3:T="U16";break;case 4:T="S32";break;case 5:T="U32";break;case 6:default:T="F32";break;case 7:T="F64"}return T},isValidPixelValue:function(b,T){if(T==null)return!1;var S;switch(b){case 0:S=T>=-128&&T<=127;break;case 1:S=T>=0&&T<=255;break;case 2:S=T>=-32768&&T<=32767;break;case 3:S=T>=0&&T<=65536;break;case 4:S=T>=-2147483648&&T<=2147483647;break;case 5:S=T>=0&&T<=4294967296;break;case 6:S=T>=-34027999387901484e22&&T<=34027999387901484e22;break;case 7:S=T>=-17976931348623157e292&&T<=17976931348623157e292;break;default:S=!1}return S},getDataTypeSize:function(b){var T=0;switch(b){case 0:case 1:T=1;break;case 2:case 3:T=2;break;case 4:case 5:case 6:T=4;break;case 7:T=8;break;default:T=b}return T},getDataTypeUsed:function(b,T){var S=b;switch(b){case 2:case 4:S=b-T;break;case 3:case 5:S=b-2*T;break;case 6:S=T===0?b:T===1?2:1;break;case 7:S=T===0?b:b-2*T+1;break;default:S=b}return S},getOnePixel:function(b,T,S,k){var F=0;switch(S){case 0:F=k.getInt8(T);break;case 1:F=k.getUint8(T);break;case 2:F=k.getInt16(T,!0);break;case 3:F=k.getUint16(T,!0);break;case 4:F=k.getInt32(T,!0);break;case 5:F=k.getUInt32(T,!0);break;case 6:F=k.getFloat32(T,!0);break;case 7:F=k.getFloat64(T,!0);break;default:throw"the decoder does not understand this pixel type"}return F},swapDimensionOrder:function(b,T,S,k,F){var N=0,G=0,V=0,W=0,X=b;if(S>1)if(X=new k(T*S),F)for(N=0;N<T;N++)for(W=N,V=0;V<S;V++,W+=T)X[W]=b[G++];else for(N=0;N<T;N++)for(W=N,V=0;V<S;V++,W+=T)X[G++]=b[W];return X}},w=function(b,T,S){this.val=b,this.left=T,this.right=S},_={decode:function(b,T){var S=(T=T||{}).noDataValue,k=0,F={};if(F.ptr=T.inputOffset||0,F.pixels={},I.readHeaderInfo(b,F)){var N=F.headerInfo,G=N.fileVersion,V=I.getDataTypeArray(N.imageType);if(G>5)throw"unsupported lerc version 2."+G;I.readMask(b,F),N.numValidPixel===N.width*N.height||F.pixels.resultMask||(F.pixels.resultMask=T.maskData);var W=N.width*N.height;F.pixels.resultPixels=new V(W*N.numDims),F.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var X,K=!T.returnPixelInterleavedDims;if(N.numValidPixel!==0)if(N.zMax===N.zMin)I.constructConstantSurface(F,K);else if(G>=4&&I.checkMinMaxRanges(b,F))I.constructConstantSurface(F,K);else{var st=new DataView(b,F.ptr,2),et=st.getUint8(0);if(F.ptr++,et)I.readDataOneSweep(b,F,V,K);else if(G>1&&N.imageType<=1&&Math.abs(N.maxZError-.5)<1e-5){var it=st.getUint8(1);if(F.ptr++,F.encodeMode=it,it>2||G<4&&it>1)throw"Invalid Huffman flag "+it;it?I.readHuffman(b,F,V,K):I.readTiles(b,F,V,K)}else I.readTiles(b,F,V,K)}F.eofOffset=F.ptr,T.inputOffset?(X=F.headerInfo.blobSize+T.inputOffset-F.ptr,Math.abs(X)>=1&&(F.eofOffset=T.inputOffset+F.headerInfo.blobSize)):(X=F.headerInfo.blobSize-F.ptr,Math.abs(X)>=1&&(F.eofOffset=F.headerInfo.blobSize));var ot={width:N.width,height:N.height,pixelData:F.pixels.resultPixels,minValue:N.zMin,maxValue:N.zMax,validPixelCount:N.numValidPixel,dimCount:N.numDims,dimStats:{minValues:N.minValues,maxValues:N.maxValues},maskData:F.pixels.resultMask};if(F.pixels.resultMask&&I.isValidPixelValue(N.imageType,S)){var ht=F.pixels.resultMask;for(k=0;k<W;k++)ht[k]||(ot.pixelData[k]=S);ot.noDataValue=S}return F.noDataValue=S,T.returnFileInfo&&(ot.fileInfo=I.formatFileInfo(F)),ot}},getBandCount:function(b){for(var T=0,S=0,k={ptr:0,pixels:{}};S<b.byteLength-58;)I.readHeaderInfo(b,k),S+=k.headerInfo.blobSize,T++,k.ptr=S;return T}};return _}(),r=function(){var l=new ArrayBuffer(4),c=new Uint8Array(l);return new Uint32Array(l)[0]=1,c[0]===1}(),o={decode:function(l,c){if(!r)throw"Big endian system is not supported.";var h,f,p=(c=c||{}).inputOffset||0,m=new Uint8Array(l,p,10),I=String.fromCharCode.apply(null,m);if(I.trim()==="CntZImage")h=t,f=1;else{if(I.substring(0,5)!=="Lerc2")throw"Unexpected file identifier string: "+I;h=n,f=2}for(var w,_,b,T,S,k,F=0,N=l.byteLength-10,G=[],V={width:0,height:0,pixels:[],pixelType:c.pixelType,mask:null,statistics:[]},W=0;p<N;){var X=h.decode(l,{inputOffset:p,encodedMaskData:w,maskData:b,returnMask:F===0,returnEncodedMask:F===0,returnFileInfo:!0,returnPixelInterleavedDims:c.returnPixelInterleavedDims,pixelType:c.pixelType||null,noDataValue:c.noDataValue||null});p=X.fileInfo.eofOffset,b=X.maskData,F===0&&(w=X.encodedMaskData,V.width=X.width,V.height=X.height,V.dimCount=X.dimCount||1,V.pixelType=X.pixelType||X.fileInfo.pixelType,V.mask=b),f>1&&(b&&G.push(b),X.fileInfo.mask&&X.fileInfo.mask.numBytes>0&&W++),F++,V.pixels.push(X.pixelData),V.statistics.push({minValue:X.minValue,maxValue:X.maxValue,noDataValue:X.noDataValue,dimStats:X.dimStats})}if(f>1&&W>1){for(k=V.width*V.height,V.bandMasks=G,(b=new Uint8Array(k)).set(G[0]),T=1;T<G.length;T++)for(_=G[T],S=0;S<k;S++)b[S]=b[S]&_[S];V.maskData=b}return V}};e.exports?e.exports=o:this.Lerc=o})()})(EK);const Gtt=Va(EK.exports);let CG,Cm,EG;const IG={env:{emscripten_notify_memory_growth:function(e){EG=new Uint8Array(Cm.exports.memory.buffer)}}},IK="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",wK=new class{init(){return CG||(CG=typeof fetch<"u"?fetch("data:application/wasm;base64,"+IK).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,IG)).then(this._init):WebAssembly.instantiate(Buffer.from(IK,"base64"),IG).then(this._init),CG)}_init(e){Cm=e.instance,IG.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Cm)throw new Error("ZSTDDecoder: Await .init() before decoding.");const n=e.byteLength,r=Cm.exports.malloc(n);EG.set(e,r),t=t||Number(Cm.exports.ZSTD_findDecompressedSize(r,n));const o=Cm.exports.malloc(t),l=Cm.exports.ZSTD_decompress(o,t,r,n),c=EG.slice(o,o+l);return Cm.exports.free(r),Cm.exports.free(o),c}},Ott=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{constructor(e){super(),this.planarConfiguration=e.PlanarConfiguration!==void 0?e.PlanarConfiguration:1,this.samplesPerPixel=e.SamplesPerPixel!==void 0?e.SamplesPerPixel:1,this.addCompression=e.LercParameters[S$]}decodeBlock(e){switch(this.addCompression){case T$:break;case D$:e=CK(new Uint8Array(e)).buffer;break;case R$:e=wK.decode(new Uint8Array(e)).buffer;break;default:throw new Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`)}return Gtt.decode(e,{returnPixelInterleavedDims:this.planarConfiguration===1}).pixels[0].buffer}},zstd:wK},Symbol.toStringTag,{value:"Module"})),Vtt=Object.freeze(Object.defineProperty({__proto__:null,default:class extends Bw{constructor(){if(super(),typeof createImageBitmap>"u")throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if(typeof document>"u"&&typeof OffscreenCanvas>"u")throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available")}async decode(e,t){const n=new Blob([t]),r=await createImageBitmap(n);let o;typeof document<"u"?(o=document.createElement("canvas"),o.width=r.width,o.height=r.height):o=new OffscreenCanvas(r.width,r.height);const l=o.getContext("2d");return l.drawImage(r,0,0),l.getImageData(0,0,r.width,r.height).data.buffer}}},Symbol.toStringTag,{value:"Module"}));Object.defineProperty(cn,"Fog",{enumerable:!0,get:()=>D.Fog}),Object.defineProperty(cn,"FogExp2",{enumerable:!0,get:()=>D.FogExp2}),Object.defineProperty(cn,"Raycaster",{enumerable:!0,get:()=>D.Raycaster}),Object.defineProperty(cn,"Vector2",{enumerable:!0,get:()=>D.Vector2}),Object.defineProperty(cn,"Vector3",{enumerable:!0,get:()=>D.Vector3}),cn.Animate=t6,cn.C3D=class extends SP{constructor(e,t){super(e),this.debug=t||!1,this.log=t?Cc:()=>{},this.controlChangeFunc={},this.onControlChange=this.controlUpdate.bind(this)}controlUpdate(e){for(const t in this.controlChangeFunc)Object.prototype.hasOwnProperty.call(this.controlChangeFunc,t)&&(0,this.controlChangeFunc[t])(e)}addControlChangeFunc(e,t){this.controlChangeFunc[e]=t}removeControlChangeFunc(e){delete this.controlChangeFunc[e]}addPlugin(e){this.onReady(()=>{this[e.PLUGIN_NAME]=new e(this),this.debug&&Cc("log",`${e.PLUGIN_NAME} \u63D2\u4EF6\u521D\u59CB\u5316\u6210\u529F`)})}onReady(e){this.readyCallbacks.push(e)}findObject3D(e,t){var n;if(!(t=t||this.scene))return null;if(t.name===e)return t;if(!(!((n=t.children)===null||n===void 0)&&n.length))return null;for(const r of t.children){const o=this.findObject3D(e,r);if(o)return o}return null}removeObject3D(e){let t=this.findObject3D(e);if(!t)return console.error("\u5165\u53C2\u7684\u7269\u4F53 name \u4E0D\u6B63\u786E");this.model&&this.model.removeModelFromMeshs(t),t.traverse(n=>{n.isMesh&&(n.geometry.dispose(),n.material.length?n.material.map(r=>r.dispose()):n.material.dispose(),n.clear())}),t.parent.remove(t),t=null}world2screen(e,t){t=t||this.camera;let n=new D.Vector3(...e).clone().project(t),r=this.el.offsetWidth/2,o=this.el.offsetHeight/2;return{x:Math.round(n.x*r+r),y:Math.round(-n.y*o+o)}}dispose(){super.dispose();for(const e in this)if(Object.prototype.hasOwnProperty.call(this,e)){const t=this[e];t!=null&&t.dispose&&t.dispose()}}},cn.Event=Nv,cn.Map=iK,cn.Model=cu,cn.Photog=a,cn.TWEEN=ch,cn.Utils=mP,cn.Weather=Sp,cn.author={name:"chaoxuelei",email:"chaoxuelei@qq.com"},cn.version="0.1.4",Object.defineProperty(cn,Symbol.toStringTag,{value:"Module"})})})(DG,DG.exports);var _m=DG.exports;class aet{constructor(tn){SG(this,"controlChange",null);this.c3d=new _m.C3D(tn),this.c3d.addPlugin(_m.Animate),this.c3d.addPlugin(_m.Event),this.c3d.addPlugin(_m.Model),this.c3d.addPlugin(_m.Weather),this.c3d.addPlugin(_m.Photog),this.c3d.onControlChange=this.onControlChange.bind(this),this.me=null,this.direction=new _m.Vector3(0,0,-1)}init(tn){return this.c3d.init(tn),this.c3d}removeMe(){this.me&&(this.c3d.scene.remove(this.me),this.me=null)}async setMe(tn,cn){let D=0;debugger;const yi=new _m.Vector3(2,5,1e4),Cr=new _m.Raycaster(yi,this.direction).intersectObject(this.c3d.photog.model);if(Cr.length)D=Cr[0].point.z;else return this.removeMe();this.me?this.me.position.set(2,5,D):this.me=await this.c3d.model.loadModel({type:"html",shape:{css3d:!1,el:"<span style='padding: 2px 5px; background: #00f; color: #fff; font-size: 14px'>  I'm Here </span>"},style:{color:1044480}})}destroy(){this.c3d&&this.c3d.dispose()}onControlChange(){if(this.controlChange){const{x:tn,y:cn,z:D}=this.c3d.camera.position,{x:yi,y:vn,z:Cr}=this.c3d.control.target;this.controlChange({camera:[tn,cn,D],control:[yi,vn,Cr]})}}load(tn){this.c3d.photog.init({src:tn,position:[0,5,0],decoder:{},native:{preloadTilesCount:5e3}})}}const wv=class wv{constructor(){this.transform=null,this.boundingBox=null,this.modelOrigin=null,this.rotationMatrix=null,this.invRotationMatrix=null}async initialize(tn){try{const cn=await fetch(tn);if(!cn.ok)throw new Error(`HTTP error! status: ${cn.status}`);const D=await cn.json();return this.transform=D.root.transform,this.boundingBox=this.extractBoundingBox(D.root.boundingVolume.box),this.modelOrigin=[this.transform[12],this.transform[13],this.transform[14]],this.rotationMatrix=this.extractRotationMatrix(this.transform),this.invRotationMatrix=this.transposeMatrix(this.rotationMatrix),!0}catch(cn){return console.error("\u52A0\u8F7Dtileset.json\u5931\u8D25:",cn),!1}}extractBoundingBox(tn){return{center:[tn[0],tn[1],tn[2]],halfExtents:[tn[3],tn[7],tn[11]]}}extractRotationMatrix(tn){return[[tn[0],tn[1],tn[2]],[tn[4],tn[5],tn[6]],[tn[8],tn[9],tn[10]]]}transposeMatrix(tn){return tn[0].map((cn,D)=>tn.map(yi=>yi[D]))}multiplyMatrixVector(tn,cn){return tn.map(D=>D.reduce((yi,vn,Cr)=>yi+vn*cn[Cr],0))}latLonHeightToECEF(tn,cn,D){const yi=tn*Math.PI/180,vn=cn*Math.PI/180,Cr=wv.WGS84.a/Math.sqrt(1-wv.WGS84.e2*Math.sin(yi)*Math.sin(yi)),xl=(Cr+D)*Math.cos(yi)*Math.cos(vn),pd=(Cr+D)*Math.cos(yi)*Math.sin(vn),mc=(Cr*(1-wv.WGS84.e2)+D)*Math.sin(yi);return[xl,pd,mc]}calculateRelativePosition(tn,cn,D){if(!this.transform)throw new Error("\u8BF7\u5148\u8C03\u7528initialize\u65B9\u6CD5\u521D\u59CB\u5316tileset\u6570\u636E");const yi=this.latLonHeightToECEF(tn,cn,D),vn=yi[0]-this.modelOrigin[0],Cr=yi[1]-this.modelOrigin[1],xl=yi[2]-this.modelOrigin[2];return this.multiplyMatrixVector(this.invRotationMatrix,[vn,Cr,xl])}isPointInBoundingBox(tn){if(!this.boundingBox)throw new Error("\u8BF7\u5148\u8C03\u7528initialize\u65B9\u6CD5\u521D\u59CB\u5316tileset\u6570\u636E");return tn.every((cn,D)=>Math.abs(cn-this.boundingBox.center[D])<=this.boundingBox.halfExtents[D])}checkPosition(tn,cn,D){if(!this.transform||!this.boundingBox)throw new Error("\u8BF7\u5148\u8C03\u7528initialize\u65B9\u6CD5\u521D\u59CB\u5316tileset\u6570\u636E");const yi=this.calculateRelativePosition(tn,cn,D),vn=this.isPointInBoundingBox(yi);return{relativePosition:yi,isInBoundingBox:vn}}};SG(wv,"WGS84",{a:6378137,f:1/298.257223563,get b(){return this.a*(1-this.f)},get e2(){return 2*this.f-this.f*this.f}});let PG=wv;class Aet{constructor(){this.modelChecker=null}async initialize(tn){return this.modelChecker=new PG,await this.modelChecker.initialize(tn)}async getCurrentPosition(){return new Promise((tn,cn)=>{if(!navigator.geolocation){cn(new Error("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5730\u7406\u4F4D\u7F6E\u670D\u52A1"));return}navigator.geolocation.getCurrentPosition(D=>{tn({latitude:D.coords.latitude,longitude:D.coords.longitude,altitude:D.coords.altitude||0,accuracy:D.coords.accuracy,altitudeAccuracy:D.coords.altitudeAccuracy,timestamp:D.timestamp})},D=>{let yi="\u83B7\u53D6\u4F4D\u7F6E\u5931\u8D25: ";switch(D.code){case D.PERMISSION_DENIED:yi+="\u7528\u6237\u62D2\u7EDD\u4E86\u4F4D\u7F6E\u8BF7\u6C42";break;case D.POSITION_UNAVAILABLE:yi+="\u4F4D\u7F6E\u4FE1\u606F\u4E0D\u53EF\u7528";break;case D.TIMEOUT:yi+="\u8BF7\u6C42\u8D85\u65F6";break;default:yi+="\u672A\u77E5\u9519\u8BEF"}cn(yi)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})})}async checkUserPosition(){try{const tn=await this.getCurrentPosition();if(!this.modelChecker)throw new Error("\u8BF7\u5148\u8C03\u7528initialize\u65B9\u6CD5\u521D\u59CB\u5316\u6A21\u578B\u6570\u636E");const cn=this.modelChecker.checkPosition(tn.latitude,tn.longitude,tn.altitude);return{position:tn,relativePosition:cn.relativePosition,isInBoundingBox:cn.isInBoundingBox}}catch(tn){throw tn}}watchPosition(tn,cn){return navigator.geolocation?navigator.geolocation.watchPosition(async D=>{try{const yi=this.modelChecker.checkPosition(D.coords.latitude,D.coords.longitude,D.coords.altitude||0);tn({position:{latitude:D.coords.latitude,longitude:D.coords.longitude,altitude:D.coords.altitude||0,accuracy:D.coords.accuracy,altitudeAccuracy:D.coords.altitudeAccuracy,timestamp:D.timestamp},relativePosition:yi.relativePosition,isInBoundingBox:yi.isInBoundingBox})}catch(yi){cn(yi)}},D=>{cn(D)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):(cn(new Error("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5730\u7406\u4F4D\u7F6E\u670D\u52A1")),null)}stopWatching(tn){tn!==null&&navigator.geolocation.clearWatch(tn)}}const cet=""+new URL("sunny-9da5a7f9.hdr",import.meta.url).href,het=(Do,tn)=>{var cn;if(tn){let D,yi={"Y+":tn.getFullYear().toString(),"m+":(tn.getMonth()+1).toString(),"d+":tn.getDate().toString(),"H+":tn.getHours().toString(),"M+":tn.getMinutes().toString(),"S+":tn.getSeconds().toString(),"s+":(tn.getTime()/1e3).toString().split(".")[1]};for(let vn in yi)D=new RegExp("("+vn+")").exec(Do),D&&(Do=Do.replace(D[1],D[1].length==1?yi[vn]:(cn=yi[vn])==null?void 0:cn.padStart(D[1].length,"0")));return Do}else return"-"};function uet(Do,tn=300){let cn=null;return function(...D){cn&&clearTimeout(cn),cn=setTimeout(()=>{Do.apply(this,D)},tn)}}const det={class:"right_btns"},fet={key:0,class:"fooof icon-juliceliang"},pet={key:1,class:"fooof icon-mti-qingchu"},get={class:"scene_info"},met={style:{width:"300px",background:"#fff","text-align":"center",position:"absolute",bottom:"0",left:"0"}},yet={key:0},xet={key:1},wet={__name:"scene",setup(Do){const tn=qtt(null);let cn=null,D=null,yi=null;const vn=$tt({info:{},uuid:null,measure:!1,show:!1,geolocation:{},loadingGeo:!1}),Cr=tet(),xl=eet(),pd=()=>{cn.c3d.photog.openMeasure("dis"),vn.measure=!0},mc=()=>{cn.c3d.photog.closeMeasure(),vn.measure=!1},Cl=async gs=>{gs.uuid&&(vn.uuid=gs.uuid);let qn=await ret.get(gs);qn.success&&(vn.info=Array.isArray(qn.data)?qn.data[0]:qn.data,vn.info.info=JSON.parse(vn.info.info),vn.info.info.date=het("YYYY-mm-dd",new Date(vn.info.info.date)),vn.uuid=vn.info.uuid,document.title=vn.info.info.title+"-FoooF-Look China",Cr.replace({query:{uuid:vn.info.uuid}}),Ro())};UK(()=>xl.query,gs=>{gs.uuid&&gs.uuid==vn.uuid||(gs.uuid?Cl({uuid:gs.uuid}):Cl({pageSize:1,page:1}))},{immediate:!0});const PA=async()=>{if(vn.loadingGeo=!0,vn.geolocation.position)return yi&&D.stopWatching(yi),D=null,yi=null,vn.geolocation={},vn.loadingGeo=!1,!1;D=new Aet;try{await D.initialize(vn.info.url),vn.geolocation=await D.checkUserPosition()}catch(gs){return $message.error(gs),vn.loadingGeo=!1,!1}yi=D.watchPosition(gs=>{vn.geolocation=gs},gs=>{$message.error(gs)}),vn.loadingGeo=!1};UK(()=>vn.geolocation.position,gs=>{if(gs){const{relativePosition:qn}=vn.geolocation;cn.setMe(qn[0],qn[1])}else cn.removeMe()});const Ro=async()=>{const{camera:gs,control:qn}=xl.query;cn&&(cn.destroy(),tn.value.innerHTML="",cn=null);const{camera:El,control:Cf}=vn.info.info;cn=new aet(tn.value),cn.init({sky:cet,camera:{position:gs?gs.split(","):El.length?El:[0,150,150],near:.1,far:1e6},control:{target:qn?qn.split(","):Cf.length?Cf:[0,0,0],maxDistance:15e4,minDistance:.1,maxPolarAngle:80}}),cn.load(vn.info.url),cn.controlChange=uet(Il=>{if(!xl.query.uuid)return;const Ef={...xl.query,camera:Il.camera.join(","),control:Il.control.join(",")};Cr.replace({query:Ef})},2e3)};return(gs,qn)=>{const El=NK("n-button"),Cf=NK("n-modal");return Ev(),gT(set,null,[yl("div",{class:"scene",ref_key:"sceneRef",ref:tn},null,512),yl("div",det,[hP(El,{onClick:pd,type:"primary"},{default:mT(()=>[vn.measure?(Ev(),gT("i",pet)):(Ev(),gT("i",fet))]),_:1}),vn.measure?(Ev(),net(El,{key:0,onClick:mc,type:"error"},{default:mT(()=>qn[3]||(qn[3]=[yl("i",{class:"fooof icon-guanbi"},null,-1)])),_:1})):iet("",!0),hP(El,{type:"success",onClick:qn[0]||(qn[0]=Il=>vn.show=!0)},{default:mT(()=>qn[4]||(qn[4]=[yl("i",{class:"fooof icon-tushu"},null,-1)])),_:1}),hP(El,{type:"info",disabled:vn.loadingGeo,onClick:qn[1]||(qn[1]=Il=>PA())},{default:mT(()=>qn[5]||(qn[5]=[yl("i",{class:"fooof icon-dingwei"},null,-1)])),_:1},8,["disabled"])]),hP(Cf,{show:vn.show,"onUpdate:show":qn[2]||(qn[2]=Il=>vn.show=Il),style:{width:"100%","max-width":"400px"},preset:"card",title:"Scene Info",size:"small",bordered:!1},{default:mT(()=>{var Il,Ef,oE,ch,uo;return[yl("div",get,[yl("p",null,xf((Il=vn.info)==null?void 0:Il.info.description),1),yl("p",null,[qn[6]||(qn[6]=yl("span",null,"Date\uFF1A",-1)),yT(xf((Ef=vn.info)==null?void 0:Ef.info.date),1)]),yl("p",null,[qn[7]||(qn[7]=yl("span",null,"Author\uFF1A",-1)),yT(xf((oE=vn.info)==null?void 0:oE.info.author),1)]),yl("p",null,[qn[8]||(qn[8]=yl("span",null,"City\uFF1A",-1)),yT(xf((ch=vn.info)==null?void 0:ch.location),1)]),yl("p",null,[qn[9]||(qn[9]=yl("span",null,"Title\uFF1A",-1)),yT(xf((uo=vn.info)==null?void 0:uo.info.title),1)])]),qn[10]||(qn[10]=yl("div",{class:"center",style:{"margin-top":"20px"}},[yT(" FOOOF.TOP "),yl("a",{href:"https://wangyesheji.cn/about"}," Link Me")],-1))]}),_:1},8,["show"]),yl("div",met,[vn.geolocation.position?(Ev(),gT("span",yet,xf(vn.geolocation.position.latitude)+", "+xf(vn.geolocation.position.longitude)+", "+xf(vn.geolocation.position.altitude)+" "+xf(vn.geolocation.relativePosition.map(Il=>Il.toFixed(2)).join())+" "+xf(vn.geolocation.isInBoundingBox),1)):(Ev(),gT("span",xet,xf(vn.loadingGeo?"\u5B9A\u4F4D\u4E2D...":"\u672A\u5F00\u542F\u5B9A\u4F4D"),1))])],64)}}};export{wet as default};
